/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={171:(t,e,i)=>{"use strict";const n=i(7259),r=i(6441),o=i(3343),s=i(5181);function a(t,e){return t.hash<e.hash?-1:t.hash>e.hash?1:0}t.exports=class{constructor({createMessageDigest:t=()=>new r("sha256"),canonicalIdMap:e=new Map,maxDeepIterations:i=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new n("_:c14n",e),this.createMessageDigest=t,this.maxDeepIterations=i,this.quads=null,this.deepIterations=null}async main(t){this.deepIterations=new Map,this.quads=t;for(const e of t)this._addBlankNodeQuadInfo({quad:e,component:e.subject}),this._addBlankNodeQuadInfo({quad:e,component:e.object}),this._addBlankNodeQuadInfo({quad:e,component:e.graph});const e=new Map,i=[...this.blankNodeInfo.keys()];let r=0;for(const t of i)++r%100==0&&await this._yield(),await this._hashAndTrackBlankNode({id:t,hashToBlankNodes:e});const o=[...e.keys()].sort(),g=[];for(const t of o){const i=e.get(t);if(i.length>1){g.push(i);continue}const n=i[0];this.canonicalIssuer.getId(n)}for(const t of g){const e=[];for(const i of t){if(this.canonicalIssuer.hasId(i))continue;const t=new n("_:b");t.getId(i);const r=await this.hashNDegreeQuads(i,t);e.push(r)}e.sort(a);for(const t of e){const e=t.issuer.getOldIds();for(const t of e)this.canonicalIssuer.getId(t)}}const l=[];for(const t of this.quads){const e=s.serializeQuadComponents(this._componentWithCanonicalId(t.subject),t.predicate,this._componentWithCanonicalId(t.object),this._componentWithCanonicalId(t.graph));l.push(e)}return l.sort(),l.join("")}async hashFirstDegreeQuads(t){const e=[],i=this.blankNodeInfo.get(t),n=i.quads;for(const i of n){const n={subject:null,predicate:i.predicate,object:null,graph:null};n.subject=this.modifyFirstDegreeComponent(t,i.subject,"subject"),n.object=this.modifyFirstDegreeComponent(t,i.object,"object"),n.graph=this.modifyFirstDegreeComponent(t,i.graph,"graph"),e.push(s.serializeQuad(n))}e.sort();const r=this.createMessageDigest();for(const t of e)r.update(t);return i.hash=await r.digest(),i.hash}async hashRelatedBlankNode(t,e,i,n){let r;r=this.canonicalIssuer.hasId(t)?this.canonicalIssuer.getId(t):i.hasId(t)?i.getId(t):this.blankNodeInfo.get(t).hash;const o=this.createMessageDigest();return o.update(n),"g"!==n&&o.update(this.getRelatedPredicate(e)),o.update(r),o.digest()}async hashNDegreeQuads(t,e){const i=this.deepIterations.get(t)||0;if(i>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,i+1);const n=this.createMessageDigest(),r=await this.createHashToRelated(t,e),s=[...r.keys()].sort();for(const t of s){n.update(t);let i,s="";const a=new o(r.get(t));let g=0;for(;a.hasNext();){const t=a.next();++g%3==0&&await this._yield();let n=e.clone(),r="";const o=[];let l=!1;for(const e of t)if(this.canonicalIssuer.hasId(e)?r+=this.canonicalIssuer.getId(e):(n.hasId(e)||o.push(e),r+=n.getId(e)),0!==s.length&&r>s){l=!0;break}if(!l){for(const t of o){const e=await this.hashNDegreeQuads(t,n);if(r+=n.getId(t),r+=`<${e.hash}>`,n=e.issuer,0!==s.length&&r>s){l=!0;break}}l||(0===s.length||r<s)&&(s=r,i=n)}}n.update(s),e=i}return{hash:await n.digest(),issuer:e}}modifyFirstDegreeComponent(t,e){return"BlankNode"!==e.termType?e:{termType:"BlankNode",value:e.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}async createHashToRelated(t,e){const i=new Map,n=this.blankNodeInfo.get(t).quads;let r=0;for(const o of n)++r%100==0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:o,component:o.subject,position:"s",id:t,issuer:e,hashToRelated:i}),this._addRelatedBlankNodeHash({quad:o,component:o.object,position:"o",id:t,issuer:e,hashToRelated:i}),this._addRelatedBlankNodeHash({quad:o,component:o.graph,position:"g",id:t,issuer:e,hashToRelated:i})]);return i}async _hashAndTrackBlankNode({id:t,hashToBlankNodes:e}){const i=await this.hashFirstDegreeQuads(t),n=e.get(i);n?n.push(t):e.set(i,[t])}_addBlankNodeQuadInfo({quad:t,component:e}){if("BlankNode"!==e.termType)return;const i=e.value,n=this.blankNodeInfo.get(i);n?n.quads.add(t):this.blankNodeInfo.set(i,{quads:new Set([t]),hash:null})}async _addRelatedBlankNodeHash({quad:t,component:e,position:i,id:n,issuer:r,hashToRelated:o}){if("BlankNode"!==e.termType||e.value===n)return;const s=e.value,a=await this.hashRelatedBlankNode(s,t,r,i),g=o.get(a);g?g.push(s):o.set(a,[s])}_componentWithCanonicalId(t){return"BlankNode"!==t.termType||t.value.startsWith(this.canonicalIssuer.prefix)?t:{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}}async _yield(){return new Promise((t=>setImmediate(t)))}}},202:(t,e,i)=>{"use strict";const n=i(2985),r=i(7920),o=i(9925),s=i(1227);function a(t,e){return t.hash<e.hash?-1:t.hash>e.hash?1:0}t.exports=class{constructor({createMessageDigest:t=null,messageDigestAlgorithm:e="sha256",canonicalIdMap:i=new Map,maxWorkFactor:o=1,maxDeepIterations:s=-1,timeout:a=0}={}){this.name="RDFC-1.0",this.blankNodeInfo=new Map,this.canonicalIssuer=new n("c14n",i),this.createMessageDigest=t||(()=>new r(e)),this.maxWorkFactor=o,this.maxDeepIterations=s,this.remainingDeepIterations=0,this.timeout=a,a>0&&(this.startTime=Date.now()),this.quads=null}main(t){this.quads=t;for(const e of t)this._addBlankNodeQuadInfo({quad:e,component:e.subject}),this._addBlankNodeQuadInfo({quad:e,component:e.object}),this._addBlankNodeQuadInfo({quad:e,component:e.graph});const e=new Map,i=[...this.blankNodeInfo.keys()];for(const t of i)this._hashAndTrackBlankNode({id:t,hashToBlankNodes:e});const r=[...e.keys()].sort(),o=[];for(const t of r){const i=e.get(t);if(i.length>1){o.push(i);continue}const n=i[0];this.canonicalIssuer.getId(n)}if(this.maxDeepIterations<0)if(0===this.maxWorkFactor)this.maxDeepIterations=0;else if(this.maxWorkFactor===1/0)this.maxDeepIterations=1/0;else{const t=o.reduce(((t,e)=>t+e.length),0);this.maxDeepIterations=t**this.maxWorkFactor}this.maxDeepIterations>Number.MAX_SAFE_INTEGER&&(this.maxDeepIterations=1/0),this.remainingDeepIterations=this.maxDeepIterations;for(const t of o){const e=[];for(const i of t){if(this.canonicalIssuer.hasId(i))continue;const t=new n("b");t.getId(i);const r=this.hashNDegreeQuads(i,t);e.push(r)}e.sort(a);for(const t of e){const e=t.issuer.getOldIds();for(const t of e)this.canonicalIssuer.getId(t)}}const g=[];for(const t of this.quads){const e=s.serializeQuadComponents(this._componentWithCanonicalId(t.subject),t.predicate,this._componentWithCanonicalId(t.object),this._componentWithCanonicalId(t.graph));g.push(e)}return g.sort(),g.join("")}hashFirstDegreeQuads(t){const e=[],i=this.blankNodeInfo.get(t),n=i.quads;for(const i of n)e.push(s.serializeQuadComponents(this.modifyFirstDegreeComponent(t,i.subject,"subject"),i.predicate,this.modifyFirstDegreeComponent(t,i.object,"object"),this.modifyFirstDegreeComponent(t,i.graph,"graph")));e.sort();const r=this.createMessageDigest();for(const t of e)r.update(t);return i.hash=r.digest(),i.hash}hashRelatedBlankNode(t,e,i,n){const r=this.createMessageDigest();let o;return r.update(n),"g"!==n&&r.update(this.getRelatedPredicate(e)),o=this.canonicalIssuer.hasId(t)?"_:"+this.canonicalIssuer.getId(t):i.hasId(t)?"_:"+i.getId(t):this.blankNodeInfo.get(t).hash,r.update(o),r.digest()}hashNDegreeQuads(t,e){if(0===this.remainingDeepIterations)throw new Error(`Maximum deep iterations exceeded (${this.maxDeepIterations}).`);this.remainingDeepIterations--;const i=this.createMessageDigest(),n=this.createHashToRelated(t,e),r=[...n.keys()].sort();for(const t of r){i.update(t);let r,s="";const a=new o(n.get(t));let g=0;for(;a.hasNext();){const t=a.next();if(++g%3==0&&this.timeout>0&&Date.now()-this.startTime>this.timeout)throw new Error("Canonize timeout.");let i=e.clone(),n="";const o=[];let l=!1;for(const e of t)if(this.canonicalIssuer.hasId(e)?n+="_:"+this.canonicalIssuer.getId(e):(i.hasId(e)||o.push(e),n+="_:"+i.getId(e)),0!==s.length&&n>s){l=!0;break}if(!l){for(const t of o){const e=this.hashNDegreeQuads(t,i);if(n+="_:"+i.getId(t),n+=`<${e.hash}>`,i=e.issuer,0!==s.length&&n>s){l=!0;break}}l||(0===s.length||n<s)&&(s=n,r=i)}}i.update(s),e=r}return{hash:i.digest(),issuer:e}}modifyFirstDegreeComponent(t,e){return"BlankNode"!==e.termType?e:{termType:"BlankNode",value:e.value===t?"a":"z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,e){const i=new Map,n=this.blankNodeInfo.get(t).quads;for(const r of n)this._addRelatedBlankNodeHash({quad:r,component:r.subject,position:"s",id:t,issuer:e,hashToRelated:i}),this._addRelatedBlankNodeHash({quad:r,component:r.object,position:"o",id:t,issuer:e,hashToRelated:i}),this._addRelatedBlankNodeHash({quad:r,component:r.graph,position:"g",id:t,issuer:e,hashToRelated:i});return i}_hashAndTrackBlankNode({id:t,hashToBlankNodes:e}){const i=this.hashFirstDegreeQuads(t),n=e.get(i);n?n.push(t):e.set(i,[t])}_addBlankNodeQuadInfo({quad:t,component:e}){if("BlankNode"!==e.termType)return;const i=e.value,n=this.blankNodeInfo.get(i);n?n.quads.add(t):this.blankNodeInfo.set(i,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash({quad:t,component:e,position:i,id:n,issuer:r,hashToRelated:o}){if("BlankNode"!==e.termType||e.value===n)return;const s=e.value,a=this.hashRelatedBlankNode(s,t,r,i),g=o.get(a);g?g.push(s):o.set(a,[s])}_componentWithCanonicalId(t){return"BlankNode"!==t.termType||t.value.startsWith(this.canonicalIssuer.prefix)?t:{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}}}},251:(t,e)=>{e.read=function(t,e,i,n,r){var o,s,a=8*r-n-1,g=(1<<a)-1,l=g>>1,A=-7,C=i?r-1:0,I=i?-1:1,h=t[e+C];for(C+=I,o=h&(1<<-A)-1,h>>=-A,A+=a;A>0;o=256*o+t[e+C],C+=I,A-=8);for(s=o&(1<<-A)-1,o>>=-A,A+=n;A>0;s=256*s+t[e+C],C+=I,A-=8);if(0===o)o=1-l;else{if(o===g)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),o-=l}return(h?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,i,n,r,o){var s,a,g,l=8*o-r-1,A=(1<<l)-1,C=A>>1,I=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,c=n?1:-1,d=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=A):(s=Math.floor(Math.log(e)/Math.LN2),e*(g=Math.pow(2,-s))<1&&(s--,g*=2),(e+=s+C>=1?I/g:I*Math.pow(2,1-C))*g>=2&&(s++,g/=2),s+C>=A?(a=0,s=A):s+C>=1?(a=(e*g-1)*Math.pow(2,r),s+=C):(a=e*Math.pow(2,C-1)*Math.pow(2,r),s=0));r>=8;t[i+h]=255&a,h+=c,a/=256,r-=8);for(s=s<<r|a,l+=r;l>0;t[i+h]=255&s,h+=c,s/=256,l-=8);t[i+h-c]|=128*d}},259:t=>{"use strict";t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}},277:(t,e,i)=>{"use strict";const{ArrayIsArray:n,ArrayPrototypeIncludes:r,ArrayPrototypeJoin:o,ArrayPrototypeMap:s,NumberIsInteger:a,NumberIsNaN:g,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:A,NumberParseInt:C,ObjectPrototypeHasOwnProperty:I,RegExpPrototypeExec:h,String:c,StringPrototypeToUpperCase:d,StringPrototypeTrim:u}=i(4134),{hideStackFrames:f,codes:{ERR_SOCKET_BAD_PORT:p,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:m,ERR_OUT_OF_RANGE:y,ERR_UNKNOWN_SIGNAL:b}}=i(6371),{normalizeEncoding:w}=i(7760),{isAsyncFunction:x,isArrayBufferView:k}=i(7760).types,E={},S=/^[0-7]+$/,T=f(((t,e,i=A,n=l)=>{if("number"!=typeof t)throw new v(e,"number",t);if(!a(t))throw new y(e,"an integer",t);if(t<i||t>n)throw new y(e,`>= ${i} && <= ${n}`,t)})),O=f(((t,e,i=-2147483648,n=2147483647)=>{if("number"!=typeof t)throw new v(e,"number",t);if(!a(t))throw new y(e,"an integer",t);if(t<i||t>n)throw new y(e,`>= ${i} && <= ${n}`,t)})),_=f(((t,e,i=!1)=>{if("number"!=typeof t)throw new v(e,"number",t);if(!a(t))throw new y(e,"an integer",t);const n=i?1:0,r=4294967295;if(t<n||t>r)throw new y(e,`>= ${n} && <= ${r}`,t)}));function R(t,e){if("string"!=typeof t)throw new v(e,"string",t)}const N=f(((t,e,i)=>{if(!r(i,t)){const n=o(s(i,(t=>"string"==typeof t?`'${t}'`:c(t))),", ");throw new m(e,t,"must be one of: "+n)}}));function D(t,e){if("boolean"!=typeof t)throw new v(e,"boolean",t)}function P(t,e,i){return null!=t&&I(t,e)?t[e]:i}const M=f(((t,e,i=null)=>{const r=P(i,"allowArray",!1),o=P(i,"allowFunction",!1);if(!P(i,"nullable",!1)&&null===t||!r&&n(t)||"object"!=typeof t&&(!o||"function"!=typeof t))throw new v(e,"Object",t)})),j=f(((t,e)=>{if(null!=t&&"object"!=typeof t&&"function"!=typeof t)throw new v(e,"a dictionary",t)})),L=f(((t,e,i=0)=>{if(!n(t))throw new v(e,"Array",t);if(t.length<i)throw new m(e,t,`must be longer than ${i}`)})),B=f(((t,e="buffer")=>{if(!k(t))throw new v(e,["Buffer","TypedArray","DataView"],t)})),F=f(((t,e)=>{if(void 0!==t&&(null===t||"object"!=typeof t||!("aborted"in t)))throw new v(e,"AbortSignal",t)})),z=f(((t,e)=>{if("function"!=typeof t)throw new v(e,"Function",t)})),V=f(((t,e)=>{if("function"!=typeof t||x(t))throw new v(e,"Function",t)})),G=f(((t,e)=>{if(void 0!==t)throw new v(e,"undefined",t)})),W=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function U(t,e){if(void 0===t||!h(W,t))throw new m(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:function(t){return t===(0|t)},isUint32:function(t){return t===t>>>0},parseFileMode:function(t,e,i){if(void 0===t&&(t=i),"string"==typeof t){if(null===h(S,t))throw new m(e,t,"must be a 32-bit unsigned integer or an octal string");t=C(t,8)}return _(t,e),t},validateArray:L,validateStringArray:function(t,e){L(t,e);for(let i=0;i<t.length;i++)R(t[i],`${e}[${i}]`)},validateBooleanArray:function(t,e){L(t,e);for(let i=0;i<t.length;i++)D(t[i],`${e}[${i}]`)},validateAbortSignalArray:function(t,e){L(t,e);for(let i=0;i<t.length;i++){const n=t[i],r=`${e}[${i}]`;if(null==n)throw new v(r,"AbortSignal",n);F(n,r)}},validateBoolean:D,validateBuffer:B,validateDictionary:j,validateEncoding:function(t,e){const i=w(e),n=t.length;if("hex"===i&&n%2!=0)throw new m("encoding",e,`is invalid for data of length ${n}`)},validateFunction:z,validateInt32:O,validateInteger:T,validateNumber:function(t,e,i=void 0,n){if("number"!=typeof t)throw new v(e,"number",t);if(null!=i&&t<i||null!=n&&t>n||(null!=i||null!=n)&&g(t))throw new y(e,`${null!=i?`>= ${i}`:""}${null!=i&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,t)},validateObject:M,validateOneOf:N,validatePlainFunction:V,validatePort:function(t,e="Port",i=!0){if("number"!=typeof t&&"string"!=typeof t||"string"==typeof t&&0===u(t).length||+t!=+t>>>0||t>65535||0===t&&!i)throw new p(e,t,i);return 0|t},validateSignalName:function(t,e="signal"){if(R(t,e),void 0===E[t]){if(void 0!==E[d(t)])throw new b(t+" (signals must use all capital letters)");throw new b(t)}},validateString:R,validateUint32:_,validateUndefined:G,validateUnion:function(t,e,i){if(!r(i,t))throw new v(e,`('${o(i,"|")}')`,t)},validateAbortSignal:F,validateLinkHeaderValue:function(t){if("string"==typeof t)return U(t,"hints"),t;if(n(t)){const e=t.length;let i="";if(0===e)return i;for(let n=0;n<e;n++){const r=t[n];U(r,"hints"),i+=r,n!==e-1&&(i+=", ")}return i}throw new m("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},345:(t,e,i)=>{"use strict";const{StringPrototypeSlice:n,SymbolIterator:r,TypedArrayPrototypeSet:o,Uint8Array:s}=i(4134),{Buffer:a}=i(8287),{inspect:g}=i(7760);t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}unshift(t){const e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}shift(){if(0===this.length)return;const t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(0===this.length)return"";let e=this.head,i=""+e.data;for(;null!==(e=e.next);)i+=t+e.data;return i}concat(t){if(0===this.length)return a.alloc(0);const e=a.allocUnsafe(t>>>0);let i=this.head,n=0;for(;i;)o(e,i.data,n),n+=i.data.length,i=i.next;return e}consume(t,e){const i=this.head.data;if(t<i.length){const e=i.slice(0,t);return this.head.data=i.slice(t),e}return t===i.length?this.shift():e?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[r](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let e="",i=this.head,r=0;do{const o=i.data;if(!(t>o.length)){t===o.length?(e+=o,++r,i.next?this.head=i.next:this.head=this.tail=null):(e+=n(o,0,t),this.head=i,i.data=n(o,t));break}e+=o,t-=o.length,++r}while(null!==(i=i.next));return this.length-=r,e}_getBuffer(t){const e=a.allocUnsafe(t),i=t;let n=this.head,r=0;do{const a=n.data;if(!(t>a.length)){t===a.length?(o(e,a,i-t),++r,n.next?this.head=n.next:this.head=this.tail=null):(o(e,new s(a.buffer,a.byteOffset,t),i-t),this.head=n,n.data=a.slice(t));break}o(e,a,i-t),t-=a.length,++r}while(null!==(n=n.next));return this.length-=r,e}[Symbol.for("nodejs.util.inspect.custom")](t,e){return g(this,{...e,depth:0,customInspect:!1})}}},346:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},446:(t,e)=>{"use strict";function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}Object.defineProperty(e,"__esModule",{value:!0}),e.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",e.NC_NAME_CHAR="-"+e.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",e.NC_NAME_START_CHAR_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]$","u"),e.NC_NAME_CHAR_RE=new RegExp("^["+e.NC_NAME_CHAR+"]$","u"),e.NC_NAME_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]["+e.NC_NAME_CHAR+"]*$","u"),e.isNCNameStartChar=i,e.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}},470:(t,e,i)=>{"use strict";const n=i(5001),r={};t.exports=r,r.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},r.parse=(t,e)=>{const i={},n=r.parsers[e||"full"],o=n.regex.exec(t);let s=n.keys.length;for(;s--;)i[n.keys[s]]=void 0===o[s]?null:o[s];return("https"===i.scheme&&"443"===i.port||"http"===i.scheme&&"80"===i.port)&&(i.href=i.href.replace(":"+i.port,""),i.authority=i.authority.replace(":"+i.port,""),i.port=null),i.normalizedPath=r.removeDotSegments(i.path),i},r.prependBase=(t,e)=>{if(null===t)return e;if(r.isAbsolute(e))return e;t&&!n.isString(t)||(t=r.parse(t||""));const i=r.parse(e),o={protocol:t.protocol||""};if(null!==i.authority)o.authority=i.authority,o.path=i.path,o.query=i.query;else if(o.authority=t.authority,""===i.path)o.path=t.path,null!==i.query?o.query=i.query:o.query=t.query;else{if(0===i.path.indexOf("/"))o.path=i.path;else{let e=t.path;e=e.substr(0,e.lastIndexOf("/")+1),(e.length>0||t.authority)&&"/"!==e.substr(-1)&&(e+="/"),e+=i.path,o.path=e}o.query=i.query}""!==i.path&&(o.path=r.removeDotSegments(o.path));let s=o.protocol;return null!==o.authority&&(s+="//"+o.authority),s+=o.path,null!==o.query&&(s+="?"+o.query),null!==i.fragment&&(s+="#"+i.fragment),""===s&&(s="./"),s},r.removeBase=(t,e)=>{if(null===t)return e;t&&!n.isString(t)||(t=r.parse(t||""));let i="";if(""!==t.href?i+=(t.protocol||"")+"//"+(t.authority||""):e.indexOf("//")&&(i+="//"),0!==e.indexOf(i))return e;const o=r.parse(e.substr(i.length)),s=t.normalizedPath.split("/"),a=o.normalizedPath.split("/"),g=o.fragment||o.query?0:1;for(;s.length>0&&a.length>g&&s[0]===a[0];)s.shift(),a.shift();let l="";if(s.length>0){s.pop();for(let t=0;t<s.length;++t)l+="../"}return l+=a.join("/"),null!==o.query&&(l+="?"+o.query),null!==o.fragment&&(l+="#"+o.fragment),""===l&&(l="./"),l},r.removeDotSegments=t=>{if(0===t.length)return"";const e=t.split("/"),i=[];for(;e.length>0;){const t=e.shift(),n=0===e.length;"."!==t?".."!==t?i.push(t):(i.pop(),n&&i.push("")):n&&i.push("")}return"/"===t[0]&&i.length>0&&""!==i[0]&&i.unshift(""),1===i.length&&""===i[0]?"/":i.join("/")};const o=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;r.isAbsolute=t=>n.isString(t)&&o.test(t),r.isRelative=t=>n.isString(t)},540:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},585:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FetchDocumentLoader=void 0;const n=i(5094),r=i(2384),o=i(742);e.FetchDocumentLoader=class{constructor(t){this.fetcher=t}async load(t){const e=await(this.fetcher||fetch)(t,{headers:new Headers({accept:"application/ld+json"})});if(e.ok&&e.headers){let i=e.headers.get("Content-Type");if(i){const t=i.indexOf(";");t>0&&(i=i.substr(0,t))}if("application/ld+json"===i)return await e.json();if(e.headers.has("Link")){let i;if(e.headers.forEach(((e,n)=>{if("link"===n){const n=(0,r.parse)(e);for(const e of n.get("type","application/ld+json"))if("alternate"===e.rel){if(i)throw new Error("Multiple JSON-LD alternate links were found on "+t);i=(0,o.resolve)(e.uri,t)}}})),i)return this.load(i)}throw new n.ErrorCoded(`Unsupported JSON-LD media type ${i}`,n.ERROR_CODES.LOADING_DOCUMENT_FAILED)}throw new Error(e.statusText||`Status code: ${e.status}`)}}},608:(t,e,i)=>{var{Buffer:n}=i(8287),r={},o=r.LEFT_BRACE=1,s=r.RIGHT_BRACE=2,a=r.LEFT_BRACKET=3,g=r.RIGHT_BRACKET=4,l=r.COLON=5,A=r.COMMA=6,C=r.TRUE=7,I=r.FALSE=8,h=r.NULL=9,c=r.STRING=10,d=r.NUMBER=11,u=r.START=17,f=r.STOP=18,p=r.TRUE1=33,v=r.TRUE2=34,m=r.TRUE3=35,y=r.FALSE1=49,b=r.FALSE2=50,w=r.FALSE3=51,x=r.FALSE4=52,k=r.NULL1=65,E=r.NULL2=66,S=r.NULL3=67,T=r.NUMBER1=81,O=r.NUMBER3=83,_=r.STRING1=97,R=r.STRING2=98,N=r.STRING3=99,D=r.STRING4=100,P=r.STRING5=101,M=r.STRING6=102,j=r.VALUE=113,L=r.KEY=114,B=r.OBJECT=129,F=r.ARRAY=130,z="\\".charCodeAt(0),V="/".charCodeAt(0),G="\b".charCodeAt(0),W="\f".charCodeAt(0),U="\n".charCodeAt(0),Z="\r".charCodeAt(0),H="\t".charCodeAt(0),Y=65536;function K(t){return n.alloc?n.alloc(t):new n(t)}function X(){this.tState=u,this.value=void 0,this.string=void 0,this.stringBuffer=K(Y),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=j,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:K(2),3:K(3),4:K(4)},this.offset=-1}X.toknam=function(t){for(var e=Object.keys(r),i=0,n=e.length;i<n;i++){var o=e[i];if(r[o]===t)return o}return t&&"0x"+t.toString(16)};var Q=X.prototype;Q.onError=function(t){throw t},Q.charError=function(t,e){this.tState=f,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(t[e]))+" at position "+e+" in state "+X.toknam(this.tState)))},Q.appendStringChar=function(t){this.stringBufferOffset>=Y&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=t},Q.appendStringBuf=function(t,e,i){var n=t.length;"number"==typeof e&&(n="number"==typeof i?i<0?t.length-e+i:i-e:t.length-e),n<0&&(n=0),this.stringBufferOffset+n>Y&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),t.copy(this.stringBuffer,this.stringBufferOffset,e,i),this.stringBufferOffset+=n},Q.write=function(t){var e;"string"==typeof t&&(t=new n(t));for(var i=0,r=t.length;i<r;i++)if(this.tState===u){if(e=t[i],this.offset++,123===e)this.onToken(o,"{");else if(125===e)this.onToken(s,"}");else if(91===e)this.onToken(a,"[");else if(93===e)this.onToken(g,"]");else if(58===e)this.onToken(l,":");else if(44===e)this.onToken(A,",");else if(116===e)this.tState=p;else if(102===e)this.tState=y;else if(110===e)this.tState=k;else if(34===e)this.string="",this.stringBufferOffset=0,this.tState=_;else if(45===e)this.string="-",this.tState=T;else if(e>=48&&e<64)this.string=String.fromCharCode(e),this.tState=O;else if(32!==e&&9!==e&&10!==e&&13!==e)return this.charError(t,i)}else if(this.tState===_)if(e=t[i],this.bytes_remaining>0){for(var d=0;d<this.bytes_remaining;d++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+d]=t[d];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,i=i+d-1}else if(0===this.bytes_remaining&&e>=128){if(e<=193||e>244)return this.onError(new Error("Invalid UTF-8 character at position "+i+" in state "+X.toknam(this.tState)));if(e>=194&&e<=223&&(this.bytes_in_sequence=2),e>=224&&e<=239&&(this.bytes_in_sequence=3),e>=240&&e<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+i>t.length){for(var f=0;f<=t.length-1-i;f++)this.temp_buffs[this.bytes_in_sequence][f]=t[i+f];this.bytes_remaining=i+this.bytes_in_sequence-t.length,i=t.length-1}else this.appendStringBuf(t,i,i+this.bytes_in_sequence),i=i+this.bytes_in_sequence-1}else if(34===e)this.tState=u,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(c,this.string),this.offset+=n.byteLength(this.string,"utf8")+1,this.string=void 0;else if(92===e)this.tState=R;else{if(!(e>=32))return this.charError(t,i);this.appendStringChar(e)}else if(this.tState===R)if(34===(e=t[i]))this.appendStringChar(e),this.tState=_;else if(92===e)this.appendStringChar(z),this.tState=_;else if(47===e)this.appendStringChar(V),this.tState=_;else if(98===e)this.appendStringChar(G),this.tState=_;else if(102===e)this.appendStringChar(W),this.tState=_;else if(110===e)this.appendStringChar(U),this.tState=_;else if(114===e)this.appendStringChar(Z),this.tState=_;else if(116===e)this.appendStringChar(H),this.tState=_;else{if(117!==e)return this.charError(t,i);this.unicode="",this.tState=N}else if(this.tState===N||this.tState===D||this.tState===P||this.tState===M){if(!((e=t[i])>=48&&e<64||e>64&&e<=70||e>96&&e<=102))return this.charError(t,i);if(this.unicode+=String.fromCharCode(e),this.tState++===M){var j=parseInt(this.unicode,16);this.unicode=void 0,void 0!==this.highSurrogate&&j>=56320&&j<57344?(this.appendStringBuf(new n(String.fromCharCode(this.highSurrogate,j))),this.highSurrogate=void 0):void 0===this.highSurrogate&&j>=55296&&j<56320?this.highSurrogate=j:(void 0!==this.highSurrogate&&(this.appendStringBuf(new n(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new n(String.fromCharCode(j)))),this.tState=_}}else if(this.tState===T||this.tState===O)switch(e=t[i]){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(e),this.tState=O;break;default:this.tState=u;var L=this.numberReviver(this.string,t,i);if(L)return L;this.offset+=this.string.length-1,this.string=void 0,i--}else if(this.tState===p){if(114!==t[i])return this.charError(t,i);this.tState=v}else if(this.tState===v){if(117!==t[i])return this.charError(t,i);this.tState=m}else if(this.tState===m){if(101!==t[i])return this.charError(t,i);this.tState=u,this.onToken(C,!0),this.offset+=3}else if(this.tState===y){if(97!==t[i])return this.charError(t,i);this.tState=b}else if(this.tState===b){if(108!==t[i])return this.charError(t,i);this.tState=w}else if(this.tState===w){if(115!==t[i])return this.charError(t,i);this.tState=x}else if(this.tState===x){if(101!==t[i])return this.charError(t,i);this.tState=u,this.onToken(I,!1),this.offset+=4}else if(this.tState===k){if(117!==t[i])return this.charError(t,i);this.tState=E}else if(this.tState===E){if(108!==t[i])return this.charError(t,i);this.tState=S}else if(this.tState===S){if(108!==t[i])return this.charError(t,i);this.tState=u,this.onToken(h,null),this.offset+=3}},Q.onToken=function(t,e){},Q.parseError=function(t,e){this.tState=f,this.onError(new Error("Unexpected "+X.toknam(t)+(e?"("+JSON.stringify(e)+")":"")+" in state "+X.toknam(this.state)))},Q.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},Q.pop=function(){var t=this.value,e=this.stack.pop();this.value=e.value,this.key=e.key,this.mode=e.mode,this.emit(t),this.mode||(this.state=j)},Q.emit=function(t){this.mode&&(this.state=A),this.onValue(t)},Q.onValue=function(t){},Q.onToken=function(t,e){if(this.state===j)if(t===c||t===d||t===C||t===I||t===h)this.value&&(this.value[this.key]=e),this.emit(e);else if(t===o)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=L,this.mode=B;else if(t===a)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=F,this.state=j;else if(t===s){if(this.mode!==B)return this.parseError(t,e);this.pop()}else{if(t!==g)return this.parseError(t,e);if(this.mode!==F)return this.parseError(t,e);this.pop()}else if(this.state===L)if(t===c)this.key=e,this.state=l;else{if(t!==s)return this.parseError(t,e);this.pop()}else if(this.state===l){if(t!==l)return this.parseError(t,e);this.state=j}else{if(this.state!==A)return this.parseError(t,e);if(t===A)this.mode===F?(this.key++,this.state=j):this.mode===B&&(this.state=L);else{if(!(t===g&&this.mode===F||t===s&&this.mode===B))return this.parseError(t,e);this.pop()}}},Q.numberReviver=function(t,e,i){var n=Number(t);if(isNaN(n))return this.charError(e,i);t.match(/[0-9]+/)==t&&n.toString()!=t?this.onToken(c,t):this.onToken(d,n)},X.C=r,t.exports=X},659:(t,e,i)=>{var n=i(1873),r=Object.prototype,o=r.hasOwnProperty,s=r.toString,a=n?n.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),i=t[a];try{t[a]=void 0;var n=!0}catch(t){}var r=s.call(t);return n&&(e?t[a]=i:delete t[a]),r}},701:(t,e,i)=>{"use strict";const n=i(6957),r={};t.exports=r,r.setupDocumentLoaders=function(t){"undefined"!=typeof XMLHttpRequest&&(t.documentLoaders.xhr=n,t.useDocumentLoader("xhr"))},r.setupGlobals=function(t){void 0===globalThis.JsonLdProcessor&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:t.JsonLdProcessor})}},736:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordIncluded=void 0;const n=i(2395),r=i(1548);class o extends r.EntryHandlerKeyword{constructor(){super("@included")}async handle(t,e,i,r,o,s){"object"!=typeof o&&t.emitError(new n.ErrorCoded(`Found illegal @included '${o}'`,n.ERROR_CODES.INVALID_INCLUDED_VALUE));const a=await e.unaliasKeywords(o,r,s,await t.getContext(r));"@value"in a&&t.emitError(new n.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(o)}'`,n.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in a&&t.emitError(new n.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(o)}'`,n.ERROR_CODES.INVALID_INCLUDED_VALUE)),t.emittedStack[s]=!1}}e.EntryHandlerKeywordIncluded=o},742:function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(i(4806),e)},823:(t,e,i)=>{"use strict";const n=globalThis.AbortController||i(5568).AbortController,{codes:{ERR_INVALID_ARG_VALUE:r,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:a},AbortError:g}=i(6371),{validateAbortSignal:l,validateInteger:A,validateObject:C}=i(277),I=i(4134).Symbol("kWeak"),h=i(4134).Symbol("kResistStopPropagation"),{finished:c}=i(6238),d=i(7830),{addAbortSignalNoValidate:u}=i(4147),{isWritable:f,isNodeStream:p}=i(6115),{deprecate:v}=i(7760),{ArrayPrototypePush:m,Boolean:y,MathFloor:b,Number:w,NumberIsNaN:x,Promise:k,PromiseReject:E,PromiseResolve:S,PromisePrototypeThen:T,Symbol:O}=i(4134),_=O("kEmpty"),R=O("kEof");function N(t,e){if("function"!=typeof t)throw new o("fn",["Function","AsyncFunction"],t);null!=e&&C(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal");let n=1;null!=(null==e?void 0:e.concurrency)&&(n=b(e.concurrency));let r=n-1;return null!=(null==e?void 0:e.highWaterMark)&&(r=b(e.highWaterMark)),A(n,"options.concurrency",1),A(r,"options.highWaterMark",0),r+=n,async function*(){const o=i(7760).AbortSignalAny([null==e?void 0:e.signal].filter(y)),s=this,a=[],l={signal:o};let A,C,I=!1,h=0;function c(){I=!0,d()}function d(){h-=1,u()}function u(){C&&!I&&h<n&&a.length<r&&(C(),C=null)}!async function(){try{for await(let e of s){if(I)return;if(o.aborted)throw new g;try{if(e=t(e,l),e===_)continue;e=S(e)}catch(t){e=E(t)}h+=1,T(e,d,c),a.push(e),A&&(A(),A=null),!I&&(a.length>=r||h>=n)&&await new k((t=>{C=t}))}a.push(R)}catch(t){const e=E(t);T(e,d,c),a.push(e)}finally{I=!0,A&&(A(),A=null)}}();try{for(;;){for(;a.length>0;){const t=await a[0];if(t===R)return;if(o.aborted)throw new g;t!==_&&(yield t),a.shift(),u()}await new k((t=>{A=t}))}}finally{I=!0,C&&(C(),C=null)}}.call(this)}async function D(t,e=void 0){for await(const i of P.call(this,t,e))return!0;return!1}function P(t,e){if("function"!=typeof t)throw new o("fn",["Function","AsyncFunction"],t);return N.call(this,(async function(e,i){return await t(e,i)?e:_}),e)}class M extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function j(t){if(t=w(t),x(t))return 0;if(t<0)throw new a("number",">= 0",t);return t}t.exports.streamReturningOperators={asIndexedPairs:v((function(t=void 0){return null!=t&&C(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal"),async function*(){let e=0;for await(const n of this){var i;if(null!=t&&null!==(i=t.signal)&&void 0!==i&&i.aborted)throw new g({cause:t.signal.reason});yield[e++,n]}}.call(this)}),"readable.asIndexedPairs will be removed in a future version."),drop:function(t,e=void 0){return null!=e&&C(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal"),t=j(t),async function*(){var i;if(null!=e&&null!==(i=e.signal)&&void 0!==i&&i.aborted)throw new g;for await(const i of this){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new g;t--<=0&&(yield i)}}.call(this)},filter:P,flatMap:function(t,e){const i=N.call(this,t,e);return async function*(){for await(const t of i)yield*t}.call(this)},map:N,take:function(t,e=void 0){return null!=e&&C(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal"),t=j(t),async function*(){var i;if(null!=e&&null!==(i=e.signal)&&void 0!==i&&i.aborted)throw new g;for await(const i of this){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new g;if(t-- >0&&(yield i),t<=0)return}}.call(this)},compose:function(t,e){if(null!=e&&C(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal"),p(t)&&!f(t))throw new r("stream",t,"must be writable");const i=d(this,t);return null!=e&&e.signal&&u(e.signal,i),i}},t.exports.promiseReturningOperators={every:async function(t,e=void 0){if("function"!=typeof t)throw new o("fn",["Function","AsyncFunction"],t);return!await D.call(this,(async(...e)=>!await t(...e)),e)},forEach:async function(t,e){if("function"!=typeof t)throw new o("fn",["Function","AsyncFunction"],t);for await(const i of N.call(this,(async function(e,i){return await t(e,i),_}),e));},reduce:async function(t,e,i){var r;if("function"!=typeof t)throw new o("reducer",["Function","AsyncFunction"],t);null!=i&&C(i,"options"),null!=(null==i?void 0:i.signal)&&l(i.signal,"options.signal");let s=arguments.length>1;if(null!=i&&null!==(r=i.signal)&&void 0!==r&&r.aborted){const t=new g(void 0,{cause:i.signal.reason});throw this.once("error",(()=>{})),await c(this.destroy(t)),t}const a=new n,A=a.signal;if(null!=i&&i.signal){const t={once:!0,[I]:this,[h]:!0};i.signal.addEventListener("abort",(()=>a.abort()),t)}let d=!1;try{for await(const n of this){var u;if(d=!0,null!=i&&null!==(u=i.signal)&&void 0!==u&&u.aborted)throw new g;s?e=await t(e,n,{signal:A}):(e=n,s=!0)}if(!d&&!s)throw new M}finally{a.abort()}return e},toArray:async function(t){null!=t&&C(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal");const e=[];for await(const n of this){var i;if(null!=t&&null!==(i=t.signal)&&void 0!==i&&i.aborted)throw new g(void 0,{cause:t.signal.reason});m(e,n)}return e},some:D,find:async function(t,e){for await(const i of P.call(this,t,e))return i}}},888:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;const n=i(2395),r=i(7793),o=i(4860),s=i(2341);class a{constructor(t){this.parsingContext=t.parsingContext,this.dataFactory=t.dataFactory||new r.DataFactory,this.rdfFirst=this.dataFactory.namedNode(a.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(a.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(a.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(a.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(a.RDF+"JSON")}static getContextValue(t,e,i,n){const r=t.getContextRaw()[i];if(!r)return n;const o=r[e];return void 0===o?n:o}static getContextValueContainer(t,e){return a.getContextValue(t,"@container",e,{"@set":!0})}static getContextValueType(t,e){const i=a.getContextValue(t,"@type",e,null);return"@none"===i?null:i}static getContextValueLanguage(t,e){return a.getContextValue(t,"@language",e,t.getContextRaw()["@language"]||null)}static getContextValueDirection(t,e){return a.getContextValue(t,"@direction",e,t.getContextRaw()["@direction"]||null)}static isContextValueReverse(t,e){return!!a.getContextValue(t,"@reverse",e,null)}static getContextValueIndex(t,e){return a.getContextValue(t,"@index",e,t.getContextRaw()["@index"]||null)}static isPropertyReverse(t,e,i){return"@reverse"===i!==a.isContextValueReverse(t,e)}static isPropertyInEmbeddedNode(t){return"@id"===t}static isPropertyInAnnotationObject(t){return"@annotation"===t}static isValidIri(t){return null!==t&&n.Util.isValidIri(t)}static isPrefixArray(t,e){if(t.length>e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}async validateValueIndexes(t){if(this.parsingContext.validateValueIndexes){const e={};for(const i of t)if(i&&"object"==typeof i){const t=i["@id"],r=i["@index"];if(t&&r){const i=e[t];if(i&&i!==r)throw new n.ErrorCoded(`Conflicting @index value for ${t}`,n.ERROR_CODES.CONFLICTING_INDEXES);e[t]=r}}}}async valueToTerm(t,e,i,r,o){if("@json"===a.getContextValueType(t,e))return[this.dataFactory.literal(this.valueToJsonString(i),this.rdfJson)];const s=typeof i;switch(s){case"object":if(null==i)return[];if(Array.isArray(i))return"@list"in a.getContextValueContainer(t,e)?0===i.length?[this.rdfNil]:this.parsingContext.idStack[r+1]||[]:(await this.validateValueIndexes(i),[]);if(t=await this.getContextSelfOrPropertyScoped(t,e),"@context"in i&&(t=await this.parsingContext.parseContext(i["@context"],(await this.parsingContext.getContext(o,0)).getContextRaw())),"@value"in(i=await this.unaliasKeywords(i,o,r,t))){let s,a,g,l,A;for(e in i){const t=i[e];switch(e){case"@value":s=t;break;case"@language":a=t;break;case"@direction":g=t;break;case"@type":l=t;break;case"@index":A=t;break;case"@annotation":break;default:throw new n.ErrorCoded(`Unknown value entry '${e}' in @value: ${JSON.stringify(i)}`,n.ERROR_CODES.INVALID_VALUE_OBJECT)}}if("@json"===await this.unaliasKeyword(l,o,r,!0,t))return[this.dataFactory.literal(this.valueToJsonString(s),this.rdfJson)];if(null===s)return[];if("object"==typeof s)throw new n.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(s)}'`,n.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&A&&"string"!=typeof A)throw new n.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(A)}'`,n.ERROR_CODES.INVALID_INDEX_VALUE);if(a){if("string"!=typeof s)throw new n.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(s)}'`,n.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!n.ContextParser.validateLanguage(a,this.parsingContext.strictValues,n.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||1===this.parsingContext.activeProcessingMode)&&(a=a.toLowerCase())}if(g){if("string"!=typeof s)throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(s)}'`);if(!n.ContextParser.validateDirection(g,this.parsingContext.strictValues))return[]}if(a&&g){if(l)throw new n.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(r,s,a,g))}if(a){if(l)throw new n.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(s,a)]}if(g){if(l)throw new n.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(r,s,a,g))}if(l){if("string"!=typeof l)throw new n.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(l)}'`,n.ERROR_CODES.INVALID_TYPED_VALUE);const e=this.createVocabOrBaseTerm(t,l);if(!e)throw new n.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(l)}'`,n.ERROR_CODES.INVALID_TYPED_VALUE);if("NamedNode"!==e.termType)throw new n.ErrorCoded(`Illegal value type (${e.termType}): ${l}`,n.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(s,e)]}return await this.valueToTerm(new n.JsonLdContextNormalized({}),e,s,r,o)}if("@set"in i){if(Object.keys(i).length>1)throw new n.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${e}'`,n.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}if("@list"in i){if(Object.keys(i).length>1)throw new n.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${e}'`,n.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const t=i["@list"];return Array.isArray(t)?0===t.length?[this.rdfNil]:this.parsingContext.idStack[r+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(o),e,t,r-1,o.slice(0,-1))}if("@reverse"in i&&"boolean"==typeof i["@reverse"])return[];if("@graph"in a.getContextValueContainer(await this.parsingContext.getContext(o),e)){const t=this.parsingContext.graphContainerTermStack[r+1];return t?Object.values(t):[this.dataFactory.blankNode()]}if("@id"in i){if(Object.keys(i).length>1&&(t=await this.parsingContext.getContext(o,0)),"@context"in i&&(t=await this.parsingContext.parseContext(i["@context"],t.getContextRaw())),"@vocab"===i["@type"])return this.nullableTermToArray(this.createVocabOrBaseTerm(t,i["@id"]));{const e=i["@id"];let o;if("object"==typeof e){if(!this.parsingContext.rdfstar)throw new n.ErrorCoded(`Found illegal @id '${i}'`,n.ERROR_CODES.INVALID_ID_VALUE);o=this.parsingContext.idStack[r+1][0]}else o=this.resourceToTerm(t,e);return this.nullableTermToArray(o)}}return this.parsingContext.emittedStack[r+1]||i&&"object"==typeof i&&0===Object.keys(i).length?this.parsingContext.idStack[r+1]||(this.parsingContext.idStack[r+1]=[this.dataFactory.blankNode()]):[];case"string":return this.nullableTermToArray(this.stringValueToTerm(r,await this.getContextSelfOrPropertyScoped(t,e),e,i,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(r,await this.getContextSelfOrPropertyScoped(t,e),e,Boolean(i).toString(),this.dataFactory.namedNode(a.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(r,await this.getContextSelfOrPropertyScoped(t,e),e,i,this.dataFactory.namedNode(i%1==0&&i<1e21?a.XSD_INTEGER:a.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${s}`)),[]}}async getContextSelfOrPropertyScoped(t,e){const i=t.getContextRaw()[e];return i&&"object"==typeof i&&"@context"in i&&(t=await this.parsingContext.parseContext(i,t.getContextRaw(),!0)),t}nullableTermToArray(t){return t?[t]:[]}predicateToTerm(t,e){const i=t.expandTerm(e,!0,this.parsingContext.getExpandOptions());return i?"_"===i[0]&&":"===i[1]?this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(i.substr(2)):null:a.isValidIri(i)?this.dataFactory.namedNode(i):i&&this.parsingContext.strictValues?(this.parsingContext.emitError(new n.ErrorCoded(`Invalid predicate IRI: ${i}`,n.ERROR_CODES.INVALID_IRI_MAPPING)),null):null:null}resourceToTerm(t,e){if(e.startsWith("_:"))return this.dataFactory.blankNode(e.substr(2));const i=t.expandTerm(e,!1,this.parsingContext.getExpandOptions());if(!a.isValidIri(i)){if(!i||!this.parsingContext.strictValues)return null;this.parsingContext.emitError(new Error(`Invalid resource IRI: ${i}`))}return this.dataFactory.namedNode(i)}createVocabOrBaseTerm(t,e){if(e.startsWith("_:"))return this.dataFactory.blankNode(e.substr(2));const i=this.parsingContext.getExpandOptions();let n=t.expandTerm(e,!0,i);if(n===e&&(n=t.expandTerm(e,!1,i)),!a.isValidIri(n)){if(!n||!this.parsingContext.strictValues||n.startsWith("@"))return null;this.parsingContext.emitError(new Error(`Invalid term IRI: ${n}`))}return this.dataFactory.namedNode(n)}intToString(t,e){return"number"==typeof t?Number.isFinite(t)?t%1!=0||e&&e.value===a.XSD_DOUBLE?t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):Number(t).toString():t>0?"INF":"-INF":t}stringValueToTerm(t,e,i,n,r){const o=a.getContextValueType(e,i);if(o)if("@id"===o){if(!r)return this.resourceToTerm(e,this.intToString(n,r))}else if("@vocab"===o){if(!r)return this.createVocabOrBaseTerm(e,this.intToString(n,r))}else r=this.dataFactory.namedNode(o);if(!r){const o=a.getContextValueLanguage(e,i),s=a.getContextValueDirection(e,i);return s?this.createLanguageDirectionLiteral(t,this.intToString(n,r),o,s):this.dataFactory.literal(this.intToString(n,r),o)}return this.dataFactory.literal(this.intToString(n,r),r)}createLanguageDirectionLiteral(t,e,i,n){if("i18n-datatype"===this.parsingContext.rdfDirection)return i||(i=""),this.dataFactory.literal(e,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${i}_${n}`));if("compound-literal"===this.parsingContext.rdfDirection){const r=this.dataFactory.blankNode(),o=this.getDefaultGraph();return this.parsingContext.emitQuad(t,this.dataFactory.quad(r,this.dataFactory.namedNode(a.RDF+"value"),this.dataFactory.literal(e),o)),i&&this.parsingContext.emitQuad(t,this.dataFactory.quad(r,this.dataFactory.namedNode(a.RDF+"language"),this.dataFactory.literal(i),o)),this.parsingContext.emitQuad(t,this.dataFactory.quad(r,this.dataFactory.namedNode(a.RDF+"direction"),this.dataFactory.literal(n),o)),r}return this.dataFactory.literal(e,{language:i||"",direction:n})}valueToJsonString(t){return s(t)}async unaliasKeyword(t,e,i,r,o){if(Number.isInteger(t))return t;if(!r){const t=this.parsingContext.unaliasedKeywordCacheStack[i];if(t)return t}if(!n.Util.isPotentialKeyword(t)){let i=(o=o||await this.parsingContext.getContext(e)).getContextRaw()[t];i&&"object"==typeof i&&(i=i["@id"]),n.Util.isValidKeyword(i)&&(t=i)}return r?t:this.parsingContext.unaliasedKeywordCacheStack[i]=t}async unaliasKeywordParent(t,e){return await this.unaliasKeyword(e>0&&t[e-1],t,e-1)}async unaliasKeywords(t,e,i,n){const r={};for(const o in t)r[await this.unaliasKeyword(o,e,i+1,!0,n)]=t[o];return r}async isLiteral(t,e){for(let i=e;i>=0;i--){if("@annotation"===await this.unaliasKeyword(t[i],t,i))return!1;if(this.parsingContext.literalStack[i]||this.parsingContext.jsonLiteralStack[i])return!0}return!1}async getDepthOffsetGraph(t,e){for(let i=t-1;i>0;i--)if("@graph"===await this.unaliasKeyword(e[i],e,i)){const n=(await o.EntryHandlerContainer.getContainerHandler(this.parsingContext,e,i)).containers;return o.EntryHandlerContainer.isComplexGraphContainer(n)?-1:t-i-1}return-1}validateReverseSubject(t){if("Literal"===t.termType)throw new n.ErrorCoded(`Found illegal literal in subject position: ${t.value}`,n.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(t,e){let i=this.getDefaultGraph();const{containers:n,depth:r}=await o.EntryHandlerContainer.getContainerHandler(this.parsingContext,t,e);if("@graph"in n){const e=o.EntryHandlerContainer.getContainerGraphIndex(n,r,t),s=this.parsingContext.graphContainerTermStack[r];if(i=s?s[e]:null,!i){let o=null;if("@id"in n){const e=await this.getContainerKey(t[r],t,r);null!==e&&(o=await this.resourceToTerm(await this.parsingContext.getContext(t),e))}o||(o=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[r]||(this.parsingContext.graphContainerTermStack[r]={}),i=this.parsingContext.graphContainerTermStack[r][e]=o}}return i}async getPropertiesDepth(t,e){let i=e;for(let n=e-1;n>0;n--)if("number"!=typeof t[n]){const e=await this.unaliasKeyword(t[n],t,n);if("@reverse"===e)return n;if("@nest"!==e)return i;i=n}return i}async getContainerKey(t,e,i){const n=await this.unaliasKeyword(t,e,i);return"@none"===n?null:n}validateReverseInEmbeddedNode(t,e,i){if(i&&e&&!this.parsingContext.rdfstarReverseInEmbedded)throw new n.ErrorCoded(`Illegal reverse property in embedded node in ${t}`,n.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(t,e,i,r,o,s,a){let g;if(s?(this.validateReverseSubject(r),g=this.dataFactory.quad(r,i,e,o)):g=this.dataFactory.quad(e,i,r,o),a){if("DefaultGraph"!==g.graph.termType&&(g=this.dataFactory.quad(g.subject,g.predicate,g.object)),this.parsingContext.idStack[t-1])throw new n.ErrorCoded("Illegal multiple properties in an embedded node",n.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[t-1]=[g]}else this.parsingContext.emitQuad(t,g);const l=this.parsingContext.annotationsBuffer[t];if(l){for(const e of l)this.emitAnnotation(t,g,e);delete this.parsingContext.annotationsBuffer[t]}}emitAnnotation(t,e,i){let n;i.reverse?(this.validateReverseSubject(i.object),n=this.dataFactory.quad(i.object,i.predicate,e)):n=this.dataFactory.quad(e,i.predicate,i.object),this.parsingContext.emitQuad(t,n);for(const e of i.nestedAnnotations)this.emitAnnotation(t,n,e)}}e.Util=a,a.XSD="http://www.w3.org/2001/XMLSchema#",a.XSD_BOOLEAN=a.XSD+"boolean",a.XSD_INTEGER=a.XSD+"integer",a.XSD_DOUBLE=a.XSD+"double",a.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#"},1058:(t,e,i)=>{"use strict";const n=i(2207),{isArray:r,isObject:o,isString:s,isUndefined:a}=i(5001),{isList:g,isValue:l,isGraph:A,isSimpleGraph:C,isSubjectReference:I}=i(3978),{expandIri:h,getContextValue:c,isKeyword:d,process:u,processingMode:f}=i(1972),{removeBase:p,prependBase:v}=i(470),{REGEX_KEYWORD:m,addValue:y,asArray:b,compareShortestLeast:w}=i(9263),x={};function k(t,e,i){if("@nest"!==h(t,e,{vocab:!0},i))throw new n("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}t.exports=x,x.compact=async({activeCtx:t,activeProperty:e=null,element:i,options:h={}})=>{if(r(i)){let n=[];for(let r=0;r<i.length;++r){const o=await x.compact({activeCtx:t,activeProperty:e,element:i[r],options:h});null!==o&&n.push(o)}return h.compactArrays&&1===n.length&&0===(c(t,e,"@container")||[]).length&&(n=n[0]),n}const p=c(t,e,"@context");if(a(p)||(t=await u({activeCtx:t,localCtx:p,propagate:!0,overrideProtected:!0,options:h})),o(i)){if(h.link&&"@id"in i&&h.link.hasOwnProperty(i["@id"])){const t=h.link[i["@id"]];for(let e=0;e<t.length;++e)if(t[e].expanded===i)return t[e].compacted}if(l(i)||I(i)){const n=x.compactValue({activeCtx:t,activeProperty:e,value:i,options:h});return h.link&&I(i)&&(h.link.hasOwnProperty(i["@id"])||(h.link[i["@id"]]=[]),h.link[i["@id"]].push({expanded:i,compacted:n})),n}if(g(i)&&(c(t,e,"@container")||[]).includes("@list"))return x.compact({activeCtx:t,activeProperty:e,element:i["@list"],options:h});const p="@reverse"===e,v={},m=t;l(i)||I(i)||(t=t.revertToPreviousContext());const w=c(m,e,"@context");a(w)||(t=await u({activeCtx:t,localCtx:w,propagate:!0,overrideProtected:!0,options:h})),h.link&&"@id"in i&&(h.link.hasOwnProperty(i["@id"])||(h.link[i["@id"]]=[]),h.link[i["@id"]].push({expanded:i,compacted:v}));let E=i["@type"]||[];E.length>1&&(E=Array.from(E).sort());const S=t;for(const e of E){const i=x.compactIri({activeCtx:S,iri:e,relativeTo:{vocab:!0}}),n=c(m,i,"@context");a(n)||(t=await u({activeCtx:t,localCtx:n,options:h,propagate:!1}))}const T=Object.keys(i).sort();for(const a of T){const I=i[a];if("@id"!==a)if("@type"!==a)if("@reverse"!==a)if("@preserve"!==a)if("@index"!==a)if("@graph"!==a&&"@list"!==a&&"@included"!==a&&d(a)){const e=x.compactIri({activeCtx:t,iri:a,relativeTo:{vocab:!0}});y(v,e,I)}else{if(!r(I))throw new n("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===I.length){const e=x.compactIri({activeCtx:t,iri:a,value:I,relativeTo:{vocab:!0},reverse:p}),i=t.mappings.has(e)?t.mappings.get(e)["@nest"]:null;let n=v;i&&(k(t,i,h),o(v[i])||(v[i]={}),n=v[i]),y(n,e,I,{propertyIsArray:!0})}for(const e of I){const i=x.compactIri({activeCtx:t,iri:a,value:e,relativeTo:{vocab:!0},reverse:p}),n=t.mappings.has(i)?t.mappings.get(i)["@nest"]:null;let I=v;n&&(k(t,n,h),o(v[n])||(v[n]={}),I=v[n]);const d=c(t,i,"@container")||[],u=A(e),f=g(e);let m;f?m=e["@list"]:u&&(m=e["@graph"]);let w=await x.compact({activeCtx:t,activeProperty:i,element:f||u?m:e,options:h});if(f){if(r(w)||(w=[w]),d.includes("@list")){y(I,i,w,{valueIsArray:!0,allowDuplicate:!0});continue}w={[x.compactIri({activeCtx:t,iri:"@list",relativeTo:{vocab:!0}})]:w},"@index"in e&&(w[x.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=e["@index"])}if(u)if(d.includes("@graph")&&(d.includes("@id")||d.includes("@index")&&C(e))){let n;I.hasOwnProperty(i)?n=I[i]:I[i]=n={};const r=(d.includes("@id")?e["@id"]:e["@index"])||x.compactIri({activeCtx:t,iri:"@none",relativeTo:{vocab:!0}});y(n,r,w,{propertyIsArray:!h.compactArrays||d.includes("@set")})}else d.includes("@graph")&&C(e)?(r(w)&&w.length>1&&(w={"@included":w}),y(I,i,w,{propertyIsArray:!h.compactArrays||d.includes("@set")})):(r(w)&&1===w.length&&h.compactArrays&&(w=w[0]),w={[x.compactIri({activeCtx:t,iri:"@graph",relativeTo:{vocab:!0}})]:w},"@id"in e&&(w[x.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}})]=e["@id"]),"@index"in e&&(w[x.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=e["@index"]),y(I,i,w,{propertyIsArray:!h.compactArrays||d.includes("@set")}));else if(d.includes("@language")||d.includes("@index")||d.includes("@id")||d.includes("@type")){let n,r;if(I.hasOwnProperty(i)?n=I[i]:I[i]=n={},d.includes("@language"))l(w)&&(w=w["@value"]),r=e["@language"];else if(d.includes("@index")){const n=c(t,i,"@index")||"@index",o=x.compactIri({activeCtx:t,iri:n,relativeTo:{vocab:!0}});if("@index"===n)r=e["@index"],delete w[o];else{let t;if([r,...t]=b(w[n]||[]),s(r))switch(t.length){case 0:delete w[n];break;case 1:w[n]=t[0];break;default:w[n]=t}else r=null}}else if(d.includes("@id")){const e=x.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}});r=w[e],delete w[e]}else if(d.includes("@type")){const n=x.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}});let o;switch([r,...o]=b(w[n]||[]),o.length){case 0:delete w[n];break;case 1:w[n]=o[0];break;default:w[n]=o}1===Object.keys(w).length&&"@id"in e&&(w=await x.compact({activeCtx:t,activeProperty:i,element:{"@id":e["@id"]},options:h}))}r||(r=x.compactIri({activeCtx:t,iri:"@none",relativeTo:{vocab:!0}})),y(n,r,w,{propertyIsArray:d.includes("@set")})}else{const t=!h.compactArrays||d.includes("@set")||d.includes("@list")||r(w)&&0===w.length||"@list"===a||"@graph"===a;y(I,i,w,{propertyIsArray:t})}}}else{if((c(t,e,"@container")||[]).includes("@index"))continue;const i=x.compactIri({activeCtx:t,iri:a,relativeTo:{vocab:!0}});y(v,i,I)}else{const i=await x.compact({activeCtx:t,activeProperty:e,element:I,options:h});r(i)&&0===i.length||y(v,a,i)}else{const e=await x.compact({activeCtx:t,activeProperty:"@reverse",element:I,options:h});for(const i in e)if(t.mappings.has(i)&&t.mappings.get(i).reverse){const n=e[i],r=(c(t,i,"@container")||[]).includes("@set")||!h.compactArrays;y(v,i,n,{propertyIsArray:r}),delete e[i]}if(Object.keys(e).length>0){const i=x.compactIri({activeCtx:t,iri:a,relativeTo:{vocab:!0}});y(v,i,e)}}else{let e=b(I).map((t=>x.compactIri({activeCtx:m,iri:t,relativeTo:{vocab:!0}})));1===e.length&&(e=e[0]);const i=x.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}}),n=(c(t,i,"@container")||[]).includes("@set")&&f(t,1.1)||r(e)&&0===I.length;y(v,i,e,{propertyIsArray:n})}else{let e=b(I).map((e=>x.compactIri({activeCtx:t,iri:e,relativeTo:{vocab:!1},base:h.base})));1===e.length&&(e=e[0]),v[x.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}})]=e}}return v}return i},x.compactIri=({activeCtx:t,iri:e,value:i=null,relativeTo:r={vocab:!1},reverse:s=!1,base:a=null})=>{if(null===e)return e;t.isPropertyTermScoped&&t.previousContext&&(t=t.previousContext);const C=t.getInverse();if(d(e)&&e in C&&"@none"in C[e]&&"@type"in C[e]["@none"]&&"@none"in C[e]["@none"]["@type"])return C[e]["@none"]["@type"]["@none"];if(r.vocab&&e in C){const n=t["@language"]||"@none",r=[];o(i)&&"@index"in i&&!("@graph"in i)&&r.push("@index","@index@set"),o(i)&&"@preserve"in i&&(i=i["@preserve"][0]),A(i)?("@index"in i&&r.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in i&&r.push("@graph@id","@graph@id@set"),r.push("@graph","@graph@set","@set"),"@index"in i||r.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in i||r.push("@graph@id","@graph@id@set")):o(i)&&!l(i)&&r.push("@id","@id@set","@type","@set@type");let a="@language",C="@null";if(s)a="@type",C="@reverse",r.push("@set");else if(g(i)){"@index"in i||r.push("@list");const t=i["@list"];if(0===t.length)a="@any",C="@none";else{let e=0===t.length?n:null,i=null;for(let n=0;n<t.length;++n){const r=t[n];let o="@none",s="@none";if(l(r)?"@direction"in r?o=`${(r["@language"]||"").toLowerCase()}_${r["@direction"]}`:"@language"in r?o=r["@language"].toLowerCase():"@type"in r?s=r["@type"]:o="@null":s="@id",null===e?e=o:o!==e&&l(r)&&(e="@none"),null===i?i=s:s!==i&&(i="@none"),"@none"===e&&"@none"===i)break}e=e||"@none",i=i||"@none","@none"!==i?(a="@type",C=i):C=e}}else{if(l(i))if("@language"in i&&!("@index"in i)){r.push("@language","@language@set"),C=i["@language"];const t=i["@direction"];t&&(C=`${C}_${t}`)}else"@direction"in i&&!("@index"in i)?C=`_${i["@direction"]}`:"@type"in i&&(a="@type",C=i["@type"]);else a="@type",C="@id";r.push("@set")}r.push("@none"),o(i)&&!("@index"in i)&&r.push("@index","@index@set"),l(i)&&1===Object.keys(i).length&&r.push("@language","@language@set");const I=function(t,e,i,n,r,s){null===s&&(s="@null");const a=[];if(("@id"===s||"@reverse"===s)&&o(i)&&"@id"in i){"@reverse"===s&&a.push("@reverse");const e=x.compactIri({activeCtx:t,iri:i["@id"],relativeTo:{vocab:!0}});t.mappings.has(e)&&t.mappings.get(e)&&t.mappings.get(e)["@id"]===i["@id"]?a.push.apply(a,["@vocab","@id"]):a.push.apply(a,["@id","@vocab"])}else{a.push(s);const t=a.find((t=>t.includes("_")));t&&a.push(t.replace(/^[^_]+_/,"_"))}a.push("@none");const g=t.inverse[e];for(const t of n){if(!(t in g))continue;const e=g[t][r];for(const t of a)if(t in e)return e[t]}return null}(t,e,i,r,a,C);if(null!==I)return I}if(r.vocab&&"@vocab"in t){const i=t["@vocab"];if(0===e.indexOf(i)&&e!==i){const n=e.substr(i.length);if(!t.mappings.has(n))return n}}let I=null;const h=[];let c=t.fastCurieMap;const u=e.length-1;for(let t=0;t<u&&e[t]in c;++t)c=c[e[t]],""in c&&h.push(c[""][0]);for(let n=h.length-1;n>=0;--n){const r=h[n],o=r.terms;for(const n of o){const o=n+":"+e.substr(r.iri.length);t.mappings.get(n)._prefix&&(!t.mappings.has(o)||null===i&&t.mappings.get(o)["@id"]===e)&&(null===I||w(o,I)<0)&&(I=o)}}if(null!==I)return I;for(const[i,r]of t.mappings)if(r&&r._prefix&&e.startsWith(i+":"))throw new n(`Absolute IRI "${e}" confused with prefix "${i}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:t});if(!r.vocab){if("@base"in t){if(t["@base"]){const i=p(v(a,t["@base"]),e);return m.test(i)?`./${i}`:i}return e}return p(a,e)}return e},x.compactValue=({activeCtx:t,activeProperty:e,value:i,options:n})=>{if(l(i)){const n=c(t,e,"@type"),r=c(t,e,"@language"),o=c(t,e,"@direction"),a=c(t,e,"@container")||[],g="@index"in i&&!a.includes("@index");if(!g&&"@none"!==n){if(i["@type"]===n)return i["@value"];if("@language"in i&&i["@language"]===r&&"@direction"in i&&i["@direction"]===o)return i["@value"];if("@language"in i&&i["@language"]===r)return i["@value"];if("@direction"in i&&i["@direction"]===o)return i["@value"]}const l=Object.keys(i).length,A=1===l||2===l&&"@index"in i&&!g,C="@language"in t,I=s(i["@value"]),h=t.mappings.has(e)&&null===t.mappings.get(e)["@language"];if(A&&"@none"!==n&&(!C||!I||h))return i["@value"];const d={};return g&&(d[x.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=i["@index"]),"@type"in i?d[x.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}})]=x.compactIri({activeCtx:t,iri:i["@type"],relativeTo:{vocab:!0}}):"@language"in i&&(d[x.compactIri({activeCtx:t,iri:"@language",relativeTo:{vocab:!0}})]=i["@language"]),"@direction"in i&&(d[x.compactIri({activeCtx:t,iri:"@direction",relativeTo:{vocab:!0}})]=i["@direction"]),d[x.compactIri({activeCtx:t,iri:"@value",relativeTo:{vocab:!0}})]=i["@value"],d}const r=h(t,e,{vocab:!0},n),o=c(t,e,"@type"),a=x.compactIri({activeCtx:t,iri:i["@id"],relativeTo:{vocab:"@vocab"===o},base:n.base});return"@id"===o||"@vocab"===o||"@graph"===r?a:{[x.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}})]:a}}},1113:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},1227:t=>{"use strict";const e="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",i="http://www.w3.org/2001/XMLSchema#string",n="NamedNode",r="BlankNode",o="Literal",s={};(()=>{const t="A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_",e=t+"0-9-·̀-ͯ‿-⁀",i="_:((?:["+t+"0-9])(?:(?:["+e+".])*(?:["+e+"]))?)",n='(?:<((?:[^\0- <>"{}|^`\\\\]|\\\\u[0-9A-Fa-f]{4}|\\\\U[0-9A-Fa-f]{8})*)>)',r="[ \\t]+",o="[ \\t]*",a="(?:"+n+"|"+i+")"+r,g=n+r,l="(?:"+n+"|"+i+'|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^'+n+")|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))"+o,A="(?:\\.|(?:(?:"+n+"|"+i+")"+o+"\\.))";s.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,s.empty=new RegExp("^"+o+"$"),s.quad=new RegExp("^"+o+a+g+l+A+o+"$")})(),t.exports=class t{static parse(t){const a=[],g={},A=t.split(s.eoln);let C=0;for(const t of A){if(C++,s.empty.test(t))continue;const A=t.match(s.quad);if(null===A)throw new Error("N-Quads parse error on line "+C+".");const u={subject:null,predicate:null,object:null,graph:null};if(void 0!==A[1]?u.subject={termType:n,value:c(A[1])}:u.subject={termType:r,value:A[2]},u.predicate={termType:n,value:c(A[3])},void 0!==A[4]?u.object={termType:n,value:c(A[4])}:void 0!==A[5]?u.object={termType:r,value:A[5]}:(u.object={termType:o,value:void 0,datatype:{termType:n}},void 0!==A[7]?u.object.datatype.value=c(A[7]):void 0!==A[8]?(u.object.datatype.value=e,u.object.language=A[8]):u.object.datatype.value=i,u.object.value=(d=A[6],l.test(d)?d.replace(l,(function(t,e,i,n){if(e)switch(e){case"b":return"\b";case"t":return"\t";case"n":return"\n";case"f":return"\f";case"r":return"\r";case'"':return'"';case"'":return"'";case"\\":return"\\"}return i?String.fromCharCode(parseInt(i,16)):n?String.fromCodePoint(parseInt(n,16)):void 0})):d)),void 0!==A[9]?u.graph={termType:n,value:c(A[9])}:void 0!==A[10]?u.graph={termType:r,value:A[10]}:u.graph={termType:"DefaultGraph",value:""},u.graph.value in g){let t=!0;const e=g[u.graph.value];for(const i of e)if(h=u,(I=i).subject.termType===h.subject.termType&&I.object.termType===h.object.termType&&I.subject.value===h.subject.value&&I.predicate.value===h.predicate.value&&I.object.value===h.object.value&&(I.object.termType!==o||I.object.datatype.termType===h.object.datatype.termType&&I.object.language===h.object.language&&I.object.datatype.value===h.object.datatype.value)){t=!1;break}t&&(e.push(u),a.push(u))}else g[u.graph.value]=[u],a.push(u)}var I,h,d;return a}static serialize(e){const i=[];for(const n of e)i.push(t.serializeQuad(n));return i.sort().join("")}static serializeQuadComponents(t,o,s,l){let A="";return t.termType===n?A+=`<${I(t.value)}>`:A+=`_:${t.value}`,o.termType===n?A+=` <${I(o.value)}> `:A+=` _:${o.value} `,s.termType===n?A+=`<${I(s.value)}>`:s.termType===r?A+=`_:${s.value}`:(A+=`"${function(t){return a.test(t)?t.replace(a,(function(t){return g[t.codePointAt(0)]})):t}(s.value)}"`,s.datatype.value===e?s.language&&(A+=`@${s.language}`):s.datatype.value!==i&&(A+=`^^<${I(s.datatype.value)}>`)),l.termType===n?A+=` <${I(l.value)}>`:l.termType===r&&(A+=` _:${l.value}`),A+=" .\n",A}static serializeQuad(e){return t.serializeQuadComponents(e.subject,e.predicate,e.object,e.graph)}};const a=/[\u0000-\u001F\u007F"\\]/g,g=[];for(let t=0;t<=127;++t)a.test(String.fromCharCode(t))&&(g[t]="\\u"+t.toString(16).toUpperCase().padStart(4,"0"),a.lastIndex=0);g["\b".codePointAt(0)]="\\b",g["\t".codePointAt(0)]="\\t",g["\n".codePointAt(0)]="\\n",g["\f".codePointAt(0)]="\\f",g["\r".codePointAt(0)]="\\r",g['"'.codePointAt(0)]='\\"',g["\\".codePointAt(0)]="\\\\";const l=/(?:\\([btnfr"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;const A=/[\u0000-\u0020<>"{}|^`\\]/g,C=[];for(let t=0;t<=127;++t)A.test(String.fromCharCode(t))&&(C[t]="\\u"+t.toString(16).toUpperCase().padStart(4,"0"),A.lastIndex=0);function I(t){return A.test(t)?t.replace(A,(function(t){return C[t.codePointAt(0)]})):t}const h=/(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function c(t){return h.test(t)?t.replace(h,(function(t,e,i){return e?String.fromCharCode(parseInt(e,16)):i?String.fromCodePoint(parseInt(i,16)):void 0})):t}},1235:(t,e,i)=>{"use strict";const n=i(8799),r=Symbol("max"),o=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),g=Symbol("maxAge"),l=Symbol("dispose"),A=Symbol("noDisposeOnSet"),C=Symbol("lruList"),I=Symbol("cache"),h=Symbol("updateAgeOnGet"),c=()=>1,d=(t,e,i)=>{const n=t[I].get(e);if(n){const e=n.value;if(u(t,e)){if(p(t,n),!t[a])return}else i&&(t[h]&&(n.value.now=Date.now()),t[C].unshiftNode(n));return e.value}},u=(t,e)=>{if(!e||!e.maxAge&&!t[g])return!1;const i=Date.now()-e.now;return e.maxAge?i>e.maxAge:t[g]&&i>t[g]},f=t=>{if(t[o]>t[r])for(let e=t[C].tail;t[o]>t[r]&&null!==e;){const i=e.prev;p(t,e),e=i}},p=(t,e)=>{if(e){const i=e.value;t[l]&&t[l](i.key,i.value),t[o]-=i.length,t[I].delete(i.key),t[C].removeNode(e)}};class v{constructor(t,e,i,n,r){this.key=t,this.value=e,this.length=i,this.now=n,this.maxAge=r||0}}const m=(t,e,i,n)=>{let r=i.value;u(t,r)&&(p(t,i),t[a]||(r=void 0)),r&&e.call(n,r.value,r.key,t)};t.exports=class{constructor(t){if("number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[r]=t.max||1/0;const e=t.length||c;if(this[s]="function"!=typeof e?c:e,this[a]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[g]=t.maxAge||0,this[l]=t.dispose,this[A]=t.noDisposeOnSet||!1,this[h]=t.updateAgeOnGet||!1,this.reset()}set max(t){if("number"!=typeof t||t<0)throw new TypeError("max must be a non-negative number");this[r]=t||1/0,f(this)}get max(){return this[r]}set allowStale(t){this[a]=!!t}get allowStale(){return this[a]}set maxAge(t){if("number"!=typeof t)throw new TypeError("maxAge must be a non-negative number");this[g]=t,f(this)}get maxAge(){return this[g]}set lengthCalculator(t){"function"!=typeof t&&(t=c),t!==this[s]&&(this[s]=t,this[o]=0,this[C].forEach((t=>{t.length=this[s](t.value,t.key),this[o]+=t.length}))),f(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[C].length}rforEach(t,e){e=e||this;for(let i=this[C].tail;null!==i;){const n=i.prev;m(this,t,i,e),i=n}}forEach(t,e){e=e||this;for(let i=this[C].head;null!==i;){const n=i.next;m(this,t,i,e),i=n}}keys(){return this[C].toArray().map((t=>t.key))}values(){return this[C].toArray().map((t=>t.value))}reset(){this[l]&&this[C]&&this[C].length&&this[C].forEach((t=>this[l](t.key,t.value))),this[I]=new Map,this[C]=new n,this[o]=0}dump(){return this[C].map((t=>!u(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)})).toArray().filter((t=>t))}dumpLru(){return this[C]}set(t,e,i){if((i=i||this[g])&&"number"!=typeof i)throw new TypeError("maxAge must be a number");const n=i?Date.now():0,a=this[s](e,t);if(this[I].has(t)){if(a>this[r])return p(this,this[I].get(t)),!1;const s=this[I].get(t).value;return this[l]&&(this[A]||this[l](t,s.value)),s.now=n,s.maxAge=i,s.value=e,this[o]+=a-s.length,s.length=a,this.get(t),f(this),!0}const h=new v(t,e,a,n,i);return h.length>this[r]?(this[l]&&this[l](t,e),!1):(this[o]+=h.length,this[C].unshift(h),this[I].set(t,this[C].head),f(this),!0)}has(t){if(!this[I].has(t))return!1;const e=this[I].get(t).value;return!u(this,e)}get(t){return d(this,t,!0)}peek(t){return d(this,t,!1)}pop(){const t=this[C].tail;return t?(p(this,t),t.value):null}del(t){p(this,this[I].get(t))}load(t){this.reset();const e=Date.now();for(let i=t.length-1;i>=0;i--){const n=t[i],r=n.e||0;if(0===r)this.set(n.k,n.v);else{const t=r-e;t>0&&this.set(n.k,n.v,t)}}}prune(){this[I].forEach(((t,e)=>d(this,e,!1)))}}},1487:(t,e)=>{"use strict";function i(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR="\t\n\r -퟿-�𐀀-􏿿",e.S=" \t\r\n",e.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u"),e.S_LIST=[32,10,13,9],e.isChar=function(t){return t>=32&&t<=55295||10===t||13===t||9===t||t>=57344&&t<=65533||t>=65536&&t<=1114111},e.isS=function(t){return 32===t||10===t||13===t||9===t},e.isNameStartChar=i,e.isNameChar=function(t){return i(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}},1489:(t,e,i)=>{var n=i(7400);t.exports=function(t){var e=n(t),i=e%1;return e==e?i?e-i:e:0}},1548:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeyword=void 0,e.EntryHandlerKeyword=class{constructor(t){this.keyword=t}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,i,n,r){return!1}async test(t,e,i,n,r){return i===this.keyword}}},1601:t=>{"use strict";t.exports=function(t){return t[1]}},1800:t=>{var e=/\s/;t.exports=function(t){for(var i=t.length;i--&&e.test(t.charAt(i)););return i}},1820:(t,e,i)=>{"use strict";const n=i(7259),r=i(6441),o=i(3343),s=i(5181);function a(t,e){return t.hash<e.hash?-1:t.hash>e.hash?1:0}t.exports=class{constructor({createMessageDigest:t=()=>new r("sha256"),canonicalIdMap:e=new Map,maxDeepIterations:i=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new n("_:c14n",e),this.createMessageDigest=t,this.maxDeepIterations=i,this.quads=null,this.deepIterations=null}main(t){this.deepIterations=new Map,this.quads=t;for(const e of t)this._addBlankNodeQuadInfo({quad:e,component:e.subject}),this._addBlankNodeQuadInfo({quad:e,component:e.object}),this._addBlankNodeQuadInfo({quad:e,component:e.graph});const e=new Map,i=[...this.blankNodeInfo.keys()];for(const t of i)this._hashAndTrackBlankNode({id:t,hashToBlankNodes:e});const r=[...e.keys()].sort(),o=[];for(const t of r){const i=e.get(t);if(i.length>1){o.push(i);continue}const n=i[0];this.canonicalIssuer.getId(n)}for(const t of o){const e=[];for(const i of t){if(this.canonicalIssuer.hasId(i))continue;const t=new n("_:b");t.getId(i);const r=this.hashNDegreeQuads(i,t);e.push(r)}e.sort(a);for(const t of e){const e=t.issuer.getOldIds();for(const t of e)this.canonicalIssuer.getId(t)}}const g=[];for(const t of this.quads){const e=s.serializeQuadComponents(this._componentWithCanonicalId({component:t.subject}),t.predicate,this._componentWithCanonicalId({component:t.object}),this._componentWithCanonicalId({component:t.graph}));g.push(e)}return g.sort(),g.join("")}hashFirstDegreeQuads(t){const e=[],i=this.blankNodeInfo.get(t),n=i.quads;for(const i of n){const n={subject:null,predicate:i.predicate,object:null,graph:null};n.subject=this.modifyFirstDegreeComponent(t,i.subject,"subject"),n.object=this.modifyFirstDegreeComponent(t,i.object,"object"),n.graph=this.modifyFirstDegreeComponent(t,i.graph,"graph"),e.push(s.serializeQuad(n))}e.sort();const r=this.createMessageDigest();for(const t of e)r.update(t);return i.hash=r.digest(),i.hash}hashRelatedBlankNode(t,e,i,n){let r;r=this.canonicalIssuer.hasId(t)?this.canonicalIssuer.getId(t):i.hasId(t)?i.getId(t):this.blankNodeInfo.get(t).hash;const o=this.createMessageDigest();return o.update(n),"g"!==n&&o.update(this.getRelatedPredicate(e)),o.update(r),o.digest()}hashNDegreeQuads(t,e){const i=this.deepIterations.get(t)||0;if(i>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,i+1);const n=this.createMessageDigest(),r=this.createHashToRelated(t,e),s=[...r.keys()].sort();for(const t of s){n.update(t);let i,s="";const a=new o(r.get(t));for(;a.hasNext();){const t=a.next();let n=e.clone(),r="";const o=[];let g=!1;for(const e of t)if(this.canonicalIssuer.hasId(e)?r+=this.canonicalIssuer.getId(e):(n.hasId(e)||o.push(e),r+=n.getId(e)),0!==s.length&&r>s){g=!0;break}if(!g){for(const t of o){const e=this.hashNDegreeQuads(t,n);if(r+=n.getId(t),r+=`<${e.hash}>`,n=e.issuer,0!==s.length&&r>s){g=!0;break}}g||(0===s.length||r<s)&&(s=r,i=n)}}n.update(s),e=i}return{hash:n.digest(),issuer:e}}modifyFirstDegreeComponent(t,e){return"BlankNode"!==e.termType?e:{termType:"BlankNode",value:e.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,e){const i=new Map,n=this.blankNodeInfo.get(t).quads;for(const r of n)this._addRelatedBlankNodeHash({quad:r,component:r.subject,position:"s",id:t,issuer:e,hashToRelated:i}),this._addRelatedBlankNodeHash({quad:r,component:r.object,position:"o",id:t,issuer:e,hashToRelated:i}),this._addRelatedBlankNodeHash({quad:r,component:r.graph,position:"g",id:t,issuer:e,hashToRelated:i});return i}_hashAndTrackBlankNode({id:t,hashToBlankNodes:e}){const i=this.hashFirstDegreeQuads(t),n=e.get(i);n?n.push(t):e.set(i,[t])}_addBlankNodeQuadInfo({quad:t,component:e}){if("BlankNode"!==e.termType)return;const i=e.value,n=this.blankNodeInfo.get(i);n?n.quads.add(t):this.blankNodeInfo.set(i,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash({quad:t,component:e,position:i,id:n,issuer:r,hashToRelated:o}){if("BlankNode"!==e.termType||e.value===n)return;const s=e.value,a=this.hashRelatedBlankNode(s,t,r,i),g=o.get(a);g?g.push(s):o.set(a,[s])}_componentWithCanonicalId({component:t}){return"BlankNode"!==t.termType||t.value.startsWith(this.canonicalIssuer.prefix)?t:{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}}}},1873:(t,e,i)=>{var n=i(9325).Symbol;t.exports=n},1895:()=>{},1972:(t,e,i)=>{"use strict";const n=i(9263),r=i(2207),{isArray:o,isObject:s,isString:a,isUndefined:g}=i(5001),{isAbsolute:l,isRelative:A,prependBase:C}=i(470),{handleEvent:I}=i(2246),{REGEX_BCP47:h,REGEX_KEYWORD:c,asArray:d,compareShortestLeast:u}=i(9263),f=new Map,p={};function v(t,e,i,n,r,o){if(null===e||!a(e)||p.isKeyword(e))return e;if(e.match(c))return null;if(n&&n.hasOwnProperty(e)&&!0!==r.get(e)&&p.createTermDefinition({activeCtx:t,localCtx:n,term:e,defined:r,options:o}),(i=i||{}).vocab){const i=t.mappings.get(e);if(null===i)return null;if(s(i)&&"@id"in i)return i["@id"]}const g=e.indexOf(":");if(g>0){const i=e.substr(0,g),s=e.substr(g+1);if("_"===i||0===s.indexOf("//"))return e;n&&n.hasOwnProperty(i)&&p.createTermDefinition({activeCtx:t,localCtx:n,term:i,defined:r,options:o});const a=t.mappings.get(i);if(a&&a._prefix)return a["@id"]+s;if(l(e))return e}if(i.vocab&&"@vocab"in t)e=t["@vocab"]+e;else if(i.base){let i,n;"@base"in t?t["@base"]?(n=C(o.base,t["@base"]),i=C(n,e)):(n=t["@base"],i=e):(n=o.base,i=C(o.base,e)),e=i}return e}function m(t,e){if(!t||"object"!=typeof t||!e||"object"!=typeof e)return t===e;const i=Array.isArray(t);if(i!==Array.isArray(e))return!1;if(i){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!m(t[i],e[i]))return!1;return!0}const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i in t){let n=t[i],r=e[i];if("@container"===i&&Array.isArray(n)&&Array.isArray(r)&&(n=n.slice().sort(),r=r.slice().sort()),!m(n,r))return!1}return!0}t.exports=p,p.process=async({activeCtx:t,localCtx:e,options:i,propagate:n=!0,overrideProtected:g=!1,cycles:c=new Set})=>{if(s(e)&&"@context"in e&&o(e["@context"])&&(e=e["@context"]),0===d(e).length)return t;const u=[],f=[({event:t,next:e})=>{u.push(t),e()}];i.eventHandler&&f.push(i.eventHandler);const m=i;i={...i,eventHandler:f};const y=await i.contextResolver.resolve({activeCtx:t,context:e,documentLoader:i.documentLoader,base:i.base});s(y[0].document)&&"boolean"==typeof y[0].document["@propagate"]&&(n=y[0].document["@propagate"]);let b=t;n||b.previousContext||(b=b.clone(),b.previousContext=t);for(const n of y){let{document:o}=n;if(t=b,null===o){if(!g&&0!==Object.keys(t.protected).length)throw new r("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});b=t=p.getInitialContext(i).clone();continue}const d=n.getProcessed(t);if(d){if(m.eventHandler)for(const t of d.events)I({event:t,options:m});b=t=d.context;continue}if(s(o)&&"@context"in o&&(o=o["@context"]),!s(o))throw new r("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:o});b=b.clone();const f=new Map;if("@version"in o){if(1.1!==o["@version"])throw new r("Unsupported JSON-LD version: "+o["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:o});if(t.processingMode&&"json-ld-1.0"===t.processingMode)throw new r("@version: "+o["@version"]+" not compatible with "+t.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:o});b.processingMode="json-ld-1.1",b["@version"]=o["@version"],f.set("@version",!0)}if(b.processingMode=b.processingMode||t.processingMode,"@base"in o){let t=o["@base"];if(null===t||l(t));else{if(!A(t))throw new r('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:o});t=C(b["@base"],t)}b["@base"]=t,f.set("@base",!0)}if("@vocab"in o){const t=o["@vocab"];if(null===t)delete b["@vocab"];else{if(!a(t))throw new r('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:o});if(!l(t)&&p.processingMode(b,1))throw new r('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:o});{const e=v(b,t,{vocab:!0,base:!0},void 0,void 0,i);l(e)||i.eventHandler&&I({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:e}},options:i}),b["@vocab"]=e}}f.set("@vocab",!0)}if("@language"in o){const t=o["@language"];if(null===t)delete b["@language"];else{if(!a(t))throw new r('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:o});t.match(h)||i.eventHandler&&I({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:t}},options:i}),b["@language"]=t.toLowerCase()}f.set("@language",!0)}if("@direction"in o){const e=o["@direction"];if("json-ld-1.0"===t.processingMode)throw new r("Invalid JSON-LD syntax; @direction not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:o});if(null===e)delete b["@direction"];else{if("ltr"!==e&&"rtl"!==e)throw new r('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:o});b["@direction"]=e}f.set("@direction",!0)}if("@propagate"in o){const i=o["@propagate"];if("json-ld-1.0"===t.processingMode)throw new r("Invalid JSON-LD syntax; @propagate not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:o});if("boolean"!=typeof i)throw new r("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:e});f.set("@propagate",!0)}if("@import"in o){const n=o["@import"];if("json-ld-1.0"===t.processingMode)throw new r("Invalid JSON-LD syntax; @import not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:o});if(!a(n))throw new r("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:e});const s=await i.contextResolver.resolve({activeCtx:t,context:n,documentLoader:i.documentLoader,base:i.base});if(1!==s.length)throw new r("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:e});const g=s[0].getProcessed(t);if(g)o=g;else{const i=s[0].document;if("@import"in i)throw new r("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:e});for(const t in i)o.hasOwnProperty(t)||(o[t]=i[t]);s[0].setProcessed(t,o)}f.set("@import",!0)}f.set("@protected",o["@protected"]||!1);for(const t in o)if(p.createTermDefinition({activeCtx:b,localCtx:o,term:t,defined:f,options:i,overrideProtected:g}),s(o[t])&&"@context"in o[t]){const e=o[t]["@context"];let n=!0;if(a(e)){const t=C(i.base,e);c.has(t)?n=!1:c.add(t)}if(n)try{await p.process({activeCtx:b.clone(),localCtx:o[t]["@context"],overrideProtected:!0,options:i,cycles:c})}catch(e){throw new r("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:o[t]["@context"],term:t})}}n.setProcessed(t,{context:b,events:u})}return b},p.createTermDefinition=({activeCtx:t,localCtx:e,term:i,defined:n,options:g,overrideProtected:A=!1})=>{if(n.has(i)){if(n.get(i))return;throw new r("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:e,term:i})}let C;if(n.set(i,!1),e.hasOwnProperty(i)&&(C=e[i]),"@type"===i&&s(C)&&"@set"===(C["@container"]||"@set")&&p.processingMode(t,1.1)){const t=["@container","@id","@protected"],n=Object.keys(C);if(0===n.length||n.some((e=>!t.includes(e))))throw new r("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:e,term:i})}else{if(p.isKeyword(i))throw new r("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:e,term:i});if(i.match(c))return void(g.eventHandler&&I({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:i}},options:g}));if(""===i)throw new r("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:e})}const h=t.mappings.get(i);t.mappings.has(i)&&t.mappings.delete(i);let d=!1;if((a(C)||null===C)&&(d=!0,C={"@id":C}),!s(C))throw new r("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:e});const u={};t.mappings.set(i,u),u.reverse=!1;const f=["@container","@id","@language","@reverse","@type"];p.processingMode(t,1.1)&&f.push("@context","@direction","@index","@nest","@prefix","@protected");for(const t in C)if(!f.includes(t))throw new r("Invalid JSON-LD syntax; a term definition must not contain "+t,"jsonld.SyntaxError",{code:"invalid term definition",context:e});const y=i.indexOf(":");if(u._termHasColon=y>0,"@reverse"in C){if("@id"in C)throw new r("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:e});if("@nest"in C)throw new r("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:e});const o=C["@reverse"];if(!a(o))throw new r("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e});if(o.match(c))return g.eventHandler&&I({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:o}},options:g}),void(h?t.mappings.set(i,h):t.mappings.delete(i));const s=v(t,o,{vocab:!0,base:!1},e,n,g);if(!l(s))throw new r("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e});u["@id"]=s,u.reverse=!0}else if("@id"in C){let o=C["@id"];if(o&&!a(o))throw new r("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e});if(null===o)u["@id"]=null;else{if(!p.isKeyword(o)&&o.match(c))return g.eventHandler&&I({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:o}},options:g}),void(h?t.mappings.set(i,h):t.mappings.delete(i));if(o!==i){if(o=v(t,o,{vocab:!0,base:!1},e,n,g),!l(o)&&!p.isKeyword(o))throw new r("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e});if(i.match(/(?::[^:])|\//)&&v(t,i,{vocab:!0,base:!1},e,new Map(n).set(i,!0),g)!==o)throw new r("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e});u["@id"]=o,u._prefix=d&&!u._termHasColon&&null!==o.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in u))if(u._termHasColon){const r=i.substr(0,y);if(e.hasOwnProperty(r)&&p.createTermDefinition({activeCtx:t,localCtx:e,term:r,defined:n,options:g}),t.mappings.has(r)){const e=i.substr(y+1);u["@id"]=t.mappings.get(r)["@id"]+e}else u["@id"]=i}else if("@type"===i)u["@id"]=i;else{if(!("@vocab"in t))throw new r("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e,term:i});u["@id"]=t["@vocab"]+i}if((!0===C["@protected"]||!0===n.get("@protected")&&!1!==C["@protected"])&&(t.protected[i]=!0,u.protected=!0),n.set(i,!0),"@type"in C){let i=C["@type"];if(!a(i))throw new r("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:e});if("@json"===i||"@none"===i){if(p.processingMode(t,1))throw new r(`Invalid JSON-LD syntax; an @context @type value must not be "${i}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:e})}else if("@id"!==i&&"@vocab"!==i){if(i=v(t,i,{vocab:!0,base:!1},e,n,g),!l(i))throw new r("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:e});if(0===i.indexOf("_:"))throw new r("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:e})}u["@type"]=i}if("@container"in C){const i=a(C["@container"])?[C["@container"]]:C["@container"]||[],n=["@list","@set","@index","@language"];let s=!0;const g=i.includes("@set");if(p.processingMode(t,1.1)){if(n.push("@graph","@id","@type"),i.includes("@list")){if(1!==i.length)throw new r("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:e})}else if(i.includes("@graph")){if(i.some((t=>"@graph"!==t&&"@id"!==t&&"@index"!==t&&"@set"!==t)))throw new r("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:e})}else s&=i.length<=(g?2:1);if(i.includes("@type")&&(u["@type"]=u["@type"]||"@id",!["@id","@vocab"].includes(u["@type"])))throw new r("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:e})}else s&=!o(C["@container"]),s&=i.length<=1;if(s&=i.every((t=>n.includes(t))),s&=!(g&&i.includes("@list")),!s)throw new r("Invalid JSON-LD syntax; @context @container value must be one of the following: "+n.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:e});if(u.reverse&&!i.every((t=>["@index","@set"].includes(t))))throw new r("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:e});u["@container"]=i}if("@index"in C){if(!("@container"in C)||!u["@container"].includes("@index"))throw new r(`Invalid JSON-LD syntax; @index without @index in @container: "${C["@index"]}" on term "${i}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:e});if(!a(C["@index"])||0===C["@index"].indexOf("@"))throw new r(`Invalid JSON-LD syntax; @index must expand to an IRI: "${C["@index"]}" on term "${i}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:e});u["@index"]=C["@index"]}if("@context"in C&&(u["@context"]=C["@context"]),"@language"in C&&!("@type"in C)){let t=C["@language"];if(null!==t&&!a(t))throw new r("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:e});null!==t&&(t=t.toLowerCase()),u["@language"]=t}if("@prefix"in C){if(i.match(/:|\//))throw new r("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:e});if(p.isKeyword(u["@id"]))throw new r("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:e});if("boolean"!=typeof C["@prefix"])throw new r("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:e});u._prefix=!0===C["@prefix"]}if("@direction"in C){const t=C["@direction"];if(null!==t&&"ltr"!==t&&"rtl"!==t)throw new r('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:e});u["@direction"]=t}if("@nest"in C){const t=C["@nest"];if(!a(t)||"@nest"!==t&&0===t.indexOf("@"))throw new r("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:e});u["@nest"]=t}const b=u["@id"];if("@context"===b||"@preserve"===b)throw new r("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:e});if(h&&h.protected&&!A&&(t.protected[i]=!0,u.protected=!0,!m(h,u)))throw new r("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:e,term:i})},p.expandIri=(t,e,i,n)=>v(t,e,i,void 0,void 0,n),p.getInitialContext=t=>{const e=JSON.stringify({processingMode:t.processingMode}),i=f.get(e);if(i)return i;const r={processingMode:t.processingMode,mappings:new Map,inverse:null,getInverse:function(){const t=this;if(t.inverse)return t.inverse;const e=t.inverse={},i=t.fastCurieMap={},n={},r=(t["@language"]||"@none").toLowerCase(),a=t["@direction"],g=t.mappings,l=[...g.keys()].sort(u);for(const t of l){const o=g.get(t);if(null===o)continue;let l=o["@container"]||"@none";if(l=[].concat(l).sort().join(""),null===o["@id"])continue;const A=d(o["@id"]);for(const g of A){let A=e[g];const C=p.isKeyword(g);if(A)C||o._termHasColon||n[g].push(t);else if(e[g]=A={},!C&&!o._termHasColon){n[g]=[t];const e={iri:g,terms:n[g]};g[0]in i?i[g[0]].push(e):i[g[0]]=[e]}if(A[l]||(A[l]={"@language":{},"@type":{},"@any":{}}),A=A[l],s(t,A["@any"],"@none"),o.reverse)s(t,A["@type"],"@reverse");else if("@none"===o["@type"])s(t,A["@any"],"@none"),s(t,A["@language"],"@none"),s(t,A["@type"],"@none");else if("@type"in o)s(t,A["@type"],o["@type"]);else if("@language"in o&&"@direction"in o){const e=o["@language"],i=o["@direction"];s(t,A["@language"],e&&i?`${e}_${i}`.toLowerCase():e?e.toLowerCase():i?`_${i}`:"@null")}else"@language"in o?s(t,A["@language"],(o["@language"]||"@null").toLowerCase()):"@direction"in o?o["@direction"]?s(t,A["@language"],`_${o["@direction"]}`):s(t,A["@language"],"@none"):a?(s(t,A["@language"],`_${a}`),s(t,A["@language"],"@none"),s(t,A["@type"],"@none")):(s(t,A["@language"],r),s(t,A["@language"],"@none"),s(t,A["@type"],"@none"))}}for(const t in i)o(i,t,1);return e},clone:function(){const t={};return t.mappings=n.clone(this.mappings),t.clone=this.clone,t.inverse=null,t.getInverse=this.getInverse,t.protected=n.clone(this.protected),this.previousContext&&(t.previousContext=this.previousContext.clone()),t.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(t["@base"]=this["@base"]),"@language"in this&&(t["@language"]=this["@language"]),"@vocab"in this&&(t["@vocab"]=this["@vocab"]),t},revertToPreviousContext:function(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===f.size&&f.clear(),f.set(e,r),r;function o(t,e,i){const n=t[e],r=t[e]={};let s,a;for(const t of n)s=t.iri,a=i>=s.length?"":s[i],a in r?r[a].push(t):r[a]=[t];for(const t in r)""!==t&&o(r,t,i+1)}function s(t,e,i){e.hasOwnProperty(i)||(e[i]=t)}},p.getContextValue=(t,e,i)=>{if(null===e){if("@context"===i)return;return null}if(t.mappings.has(e)){const n=t.mappings.get(e);if(g(i))return n;if(n.hasOwnProperty(i))return n[i]}return"@language"===i&&i in t||"@direction"===i&&i in t?t[i]:"@context"!==i?null:void 0},p.processingMode=(t,e)=>e.toString()>="1.1"?!t.processingMode||t.processingMode>="json-ld-"+e.toString():"json-ld-1.0"===t.processingMode,p.isKeyword=t=>{if(!a(t)||"@"!==t[0])return!1;switch(t){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},1977:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerIndex=void 0;const n=i(2395),r=i(6970),o=i(888);e.ContainerHandlerIndex=class{canCombineWithGraph(){return!0}async handle(t,e,i,s,a,g){if(!Array.isArray(a)){const l="@graph"in t,A=await e.getContext(s),C=s[g-1],I=o.Util.getContextValueIndex(A,C);if(I){if(n.Util.isPotentialKeyword(I))throw new n.ErrorCoded(`Keywords can not be used as @index value, got: ${I}`,n.ERROR_CODES.INVALID_TERM_DEFINITION);if("string"!=typeof I)throw new n.ErrorCoded(`@index values must be strings, got: ${I}`,n.ERROR_CODES.INVALID_TERM_DEFINITION);if("object"!=typeof a){if("@id"!==o.Util.getContextValueType(A,C))throw new n.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${a}`,n.ERROR_CODES.INVALID_VALUE_OBJECT);const t=i.resourceToTerm(A,a);t&&(e.idStack[g+1]=[t])}const t=i.createVocabOrBaseTerm(A,I);if(t){const n=await i.valueToTerm(A,I,await i.getContainerKey(s[g],s,g),g,s);if(l){const r=await i.getGraphContainerValue(s,g+1);for(const o of n)e.emitQuad(g,i.dataFactory.quad(r,t,o,i.getDefaultGraph()))}else for(const o of n)await r.EntryHandlerPredicate.handlePredicateObject(e,i,s,g+1,t,o,!1,!1,!1)}}const h=l?2:1;await e.newOnValueJob(s.slice(0,s.length-h),a,g-h,!0),await e.handlePendingContainerFlushBuffers()}e.emittedStack[g]=!1}}},2036:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordType=void 0;const n=i(2395),r=i(888),o=i(6970),s=i(1548);class a extends s.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(t,e,i,s,a,g){const l=s[g],A=await t.getContext(s),C=e.rdfType,I=await e.unaliasKeywordParent(s,g),h=r.Util.isPropertyReverse(A,l,I),c=r.Util.isPropertyInEmbeddedNode(I);e.validateReverseInEmbeddedNode(i,h,c);const d=r.Util.isPropertyInAnnotationObject(I),u=Array.isArray(a)?a:[a];for(const i of u){"string"!=typeof i&&t.emitError(new n.ErrorCoded(`Found illegal @type '${i}'`,n.ERROR_CODES.INVALID_TYPE_VALUE));const r=e.createVocabOrBaseTerm(A,i);r&&await o.EntryHandlerPredicate.handlePredicateObject(t,e,s,g,C,r,h,c,d)}let f=Promise.resolve(A),p=!1;for(const e of u.sort()){const i=r.Util.getContextValue(A,"@context",e,null);i&&(p=!0,f=f.then((e=>t.parseContext(i,e.getContextRaw()))))}!t.streamingProfile||!p&&t.streamingProfileAllowOutOfOrderPlainType||!t.processingStack[g]&&!t.idStack[g]||t.emitError(new n.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",n.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),p&&(f=f.then((t=>!0!==t.getContextRaw()["@propagate"]?new n.JsonLdContextNormalized(Object.assign(Object.assign({},t.getContextRaw()),{"@propagate":!1,"@__propagateFallback":A.getContextRaw()})):t)),t.contextTree.setContext(s.slice(0,s.length-1),f)),t.processingType[g]=!0}}e.EntryHandlerKeywordType=a},2142:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultGraph=void 0;class i{constructor(){this.termType="DefaultGraph",this.value=""}equals(t){return!!t&&"DefaultGraph"===t.termType}}e.DefaultGraph=i,i.INSTANCE=new i},2177:(t,e,i)=>{var n=i(1489);t.exports=function(t,e){var i;if("function"!=typeof e)throw new TypeError("Expected a function");return t=n(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=void 0),i}}},2191:(t,e,i)=>{"use strict";const n=i(6441),r=i(171);t.exports=class extends r{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new n("sha1")}modifyFirstDegreeComponent(t,e,i){return"BlankNode"!==e.termType?e:"graph"===i?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:e.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}async createHashToRelated(t,e){const i=new Map,n=this.blankNodeInfo.get(t).quads;let r=0;for(const o of n){let n,s;if("BlankNode"===o.subject.termType&&o.subject.value!==t)s=o.subject.value,n="p";else{if("BlankNode"!==o.object.termType||o.object.value===t)continue;s=o.object.value,n="r"}++r%100==0&&await this._yield();const a=await this.hashRelatedBlankNode(s,o,e,n),g=i.get(a);g?g.push(s):i.set(a,[s])}return i}}},2207:t=>{"use strict";t.exports=class extends Error{constructor(t="An unspecified JSON-LD error occurred.",e="jsonld.Error",i={}){super(t),this.name=e,this.message=t,this.details=i}}},2246:(t,e,i)=>{"use strict";const n=i(2207),{isArray:r}=i(5001),{asArray:o}=i(9263),s={};function a({event:t,handlers:e}){let i=!0;for(let o=0;i&&o<e.length;++o){i=!1;const s=e[o];if(r(s))i=a({event:t,handlers:s});else if("function"==typeof s)s({event:t,next:()=>{i=!0}});else{if("object"!=typeof s)throw new n("Invalid event handler.","jsonld.InvalidEventHandler",{event:t});t.code in s?s[t.code]({event:t,next:()=>{i=!0}}):i=!0}}return i}t.exports=s,s.defaultEventHandler=null,s.setupEventHandler=({options:t={}})=>{const e=[].concat(t.safe?s.safeEventHandler:[],t.eventHandler?o(t.eventHandler):[],s.defaultEventHandler?s.defaultEventHandler:[]);return 0===e.length?null:e},s.handleEvent=({event:t,options:e})=>{a({event:t,handlers:e.eventHandler})};const g=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);s.safeEventHandler=function({event:t,next:e}){if("warning"===t.level&&g.has(t.code))throw new n("Safe mode validation error.","jsonld.ValidationError",{event:t});e()},s.logEventHandler=function({event:t,next:e}){console.log(`EVENT: ${t.message}`,{event:t}),e()},s.logWarningEventHandler=function({event:t,next:e}){"warning"===t.level&&console.warn(`WARNING: ${t.message}`,{event:t}),e()},s.unhandledEventHandler=function({event:t}){throw new n("No handler for event.","jsonld.UnhandledEvent",{event:t})},s.setDefaultEventHandler=function({eventHandler:t}={}){s.defaultEventHandler=t?o(t):null}},2277:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JsonLdParser=void 0;const n=i(608),r=i(2395),o=i(9198),s=i(9693),a=i(4860),g=i(2386),l=i(6970),A=i(3809),C=i(5998),I=i(5517),h=i(736),c=i(4910),d=i(2036),u=i(6454),f=i(3283),p=i(3099),v=i(888),m=i(2384),y=i(6105);class b extends o.Transform{constructor(t){super({readableObjectMode:!0}),t=t||{},this.options=t,this.parsingContext=new p.ParsingContext(Object.assign({parser:this},t)),this.util=new v.Util({dataFactory:t.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new n,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",(()=>{void 0!==this.jsonParser.mode&&this.emit("error",new Error("Unclosed document"))}))}static fromHttpResponse(t,e,i,n){let o,s,a=["application/activity+json"];if(n&&n.wellKnownMediaTypes&&(a=n.wellKnownMediaTypes),"application/ld+json"!==e&&!a.includes(e)){if("application/json"!==e&&!e.endsWith("+json"))throw new r.ErrorCoded(`Unsupported JSON-LD media type ${e}`,r.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(i&&i.has("Link")&&i.forEach(((e,i)=>{if("link"===i){const i=(0,m.parse)(e);for(const e of i.get("rel","http://www.w3.org/ns/json-ld#context")){if(o)throw new r.ErrorCoded("Multiple JSON-LD context link headers were found on "+t,r.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);o=e.uri}}})),!o&&!(null==n?void 0:n.ignoreMissingContextLinkHeader))throw new r.ErrorCoded(`Missing context link header for media type ${e} on ${t}`,r.ERROR_CODES.LOADING_DOCUMENT_FAILED)}if(i&&i.has("Content-Type")){const t=i.get("Content-Type"),e=/; *profile=([^"]*)/.exec(t);e&&"http://www.w3.org/ns/json-ld#streaming"===e[1]&&(s=!0)}return new b(Object.assign({baseIRI:t,context:o,streamingProfile:s},n||{}))}import(t){if("pipe"in t){t.on("error",(t=>e.emit("error",t)));const e=t.pipe(new b(this.options));return e}{const e=new o.PassThrough({readableObjectMode:!0});t.on("error",(t=>i.emit("error",t))),t.on("data",(t=>e.push(t))),t.on("end",(()=>e.push(null)));const i=e.pipe(new b(this.options));return i}}_transform(t,e,i){this.jsonParser.write(t),this.lastOnValueJob.then((()=>i()),(t=>i(t)))}async newOnValueJob(t,e,i,n){let o=!0;if(n&&i<this.lastDepth){const t=this.parsingContext.listPointerStack[this.lastDepth];t&&(t.value&&this.push(this.util.dataFactory.quad(t.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),t.listId.listHead=!0,this.parsingContext.idStack[t.listRootDepth+1]=[t.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await a.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),o=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const s=await this.util.unaliasKeyword(t[i],t,i),g=await this.util.unaliasKeywordParent(t,i);this.parsingContext.emittedStack[i]=!0;let l=!0;r.Util.isValidKeyword(s)&&"@reverse"===g&&"@context"!==s&&this.emit("error",new r.ErrorCoded(`Found the @id '${e}' inside an @reverse property`,r.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let A=!1;this.parsingContext.validationStack.length>1&&(A=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let e=Math.max(1,this.parsingContext.validationStack.length-1);e<t.length-1;e++){const n=this.parsingContext.validationStack[e]||(this.parsingContext.validationStack[e]=await this.validateKey(t.slice(0,e+1),e,A));if(!n.valid){this.parsingContext.emittedStack[i]=!1,l=!1;break}!A&&n.property&&(A=!0)}if(await this.util.isLiteral(t,i)&&(l=!1),l)for(const n of b.ENTRY_HANDLERS){const r=await n.test(this.parsingContext,this.util,s,t,i);if(r){await n.handle(this.parsingContext,this.util,s,t,e,i,r),n.isStackProcessor()&&(this.parsingContext.processingStack[i]=!0);break}}0===i&&Array.isArray(e)&&await this.util.validateValueIndexes(e),o&&i<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=i,this.lastKeys=t,this.parsingContext.unaliasedKeywordCacheStack.splice(i-1)}flushStacks(t){this.parsingContext.processingStack.splice(t,1),this.parsingContext.processingType.splice(t,1),this.parsingContext.emittedStack.splice(t,1),this.parsingContext.idStack.splice(t,1),this.parsingContext.graphStack.splice(t+1,1),this.parsingContext.graphContainerTermStack.splice(t,1),this.parsingContext.jsonLiteralStack.splice(t,1),this.parsingContext.validationStack.splice(t-1,2),this.parsingContext.literalStack.splice(t,this.parsingContext.literalStack.length-t),this.parsingContext.annotationsBuffer.splice(t,1)}async flushBuffer(t,e){let i=this.parsingContext.idStack[t];i||(i=this.parsingContext.idStack[t]=[this.util.dataFactory.blankNode()]);const n=this.parsingContext.unidentifiedValuesBuffer[t];if(n){for(const r of i){const i=await this.util.getDepthOffsetGraph(t,e),o=this.parsingContext.graphStack[t]||i>=0?this.parsingContext.idStack[t-i-1]:[await this.util.getGraphContainerValue(e,t)];if(o)for(const e of o){this.parsingContext.emittedStack[t]=!0;for(const i of n)this.util.emitQuadChecked(t,r,i.predicate,i.object,e,i.reverse,i.isEmbedded)}else{const i=this.parsingContext.getUnidentifiedGraphBufferSafe(t-await this.util.getDepthOffsetGraph(t,e)-1);for(const t of n)t.reverse?i.push({object:r,predicate:t.predicate,subject:t.object,isEmbedded:t.isEmbedded}):i.push({object:t.object,predicate:t.predicate,subject:r,isEmbedded:t.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(t,1),this.parsingContext.literalStack.splice(t,1),this.parsingContext.jsonLiteralStack.splice(t,1)}const o=this.parsingContext.unidentifiedGraphsBuffer[t];if(o){for(const e of i){const i=1!==t||"BlankNode"!==e.termType||this.parsingContext.topLevelProperties?e:this.util.getDefaultGraph();this.parsingContext.emittedStack[t]=!0;for(const e of o)this.parsingContext.emitQuad(t,this.util.dataFactory.quad(e.subject,e.predicate,e.object,i))}this.parsingContext.unidentifiedGraphsBuffer.splice(t,1)}const s=this.parsingContext.annotationsBuffer[t];if(s){s.length>0&&1===t&&this.parsingContext.emitError(new r.ErrorCoded("Annotations can not be made on top-level nodes",r.ERROR_CODES.INVALID_ANNOTATION));const e=this.parsingContext.getAnnotationsBufferSafe(t-1);for(const t of s)e.push(t);delete this.parsingContext.annotationsBuffer[t]}}async validateKey(t,e,i){for(const n of b.ENTRY_HANDLERS)if(await n.validate(this.parsingContext,this.util,t,e,i))return{valid:!0,property:i||n.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=t=>{const e=this.jsonParser.stack.length,i=new Array(e+1).fill(0).map(((t,i)=>i===e?this.jsonParser.key:this.jsonParser.stack[i].key));if(!this.isParsingContextInner(e)){const n=()=>this.newOnValueJob(i,t,e,!0);if(this.parsingContext.streamingProfile||this.parsingContext.contextTree.getContext(i.slice(0,-1)))this.lastOnValueJob=this.lastOnValueJob.then(n);else if("@context"===i[e]){let t=this.contextJobs[e];t||(t=this.contextJobs[e]=[]),t.push(n)}else this.contextAwaitingJobs.push({job:n,keys:i,depth:e});this.parsingContext.streamingProfile||0!==e||(this.lastOnValueJob=this.lastOnValueJob.then((()=>this.executeBufferedJobs())))}},this.jsonParser.onError=t=>{this.emit("error",t)}}isParsingContextInner(t){for(let e=t;e>0;e--)if("@context"===this.jsonParser.stack[e-1].key)return!0;return!1}async executeBufferedJobs(){for(const t of this.contextJobs)if(t)for(const e of t)await e();this.parsingContext.unaliasedKeywordCacheStack.splice(0);const t=[];for(const e of this.contextAwaitingJobs)"@type"===await this.util.unaliasKeyword(e.keys[e.depth],e.keys,e.depth,!0)||"number"==typeof e.keys[e.depth]&&"@type"===await this.util.unaliasKeyword(e.keys[e.depth-1],e.keys,e.depth-1,!0)?this.typeJobs.push({job:e.job,keys:e.keys.slice(0,e.keys.length-1)}):t.push(e);for(const e of t){if(this.typeJobs.length>0){const t=[],i=[];for(let n=0;n<this.typeJobs.length;n++){const r=this.typeJobs[n];v.Util.isPrefixArray(r.keys,e.keys)&&(t.push(r),i.push(n))}const n=t.sort(((t,e)=>t.keys.length-e.keys.length));for(const t of n)await t.job();const r=i.sort().reverse();for(const t of r)this.typeJobs.splice(t,1)}await e.job()}}}e.JsonLdParser=b,b.DEFAULT_PROCESSING_MODE="1.1",b.ENTRY_HANDLERS=[new s.EntryHandlerArrayValue,new A.EntryHandlerKeywordContext,new I.EntryHandlerKeywordId,new h.EntryHandlerKeywordIncluded,new C.EntryHandlerKeywordGraph,new c.EntryHandlerKeywordNest,new d.EntryHandlerKeywordType,new f.EntryHandlerKeywordValue,new y.EntryHandlerKeywordAnnotation,new a.EntryHandlerContainer,new u.EntryHandlerKeywordUnknownFallback,new l.EntryHandlerPredicate,new g.EntryHandlerInvalidFallback]},2300:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateIri=e.IriValidationStrategy=void 0;const i=function(){const t="[!$&'()*+,;=]",e="%[a-fA-F0-9]{2}",i="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",n=`${i}\\.${i}\\.${i}\\.${i}`,r="[a-fA-F0-9]{1,4}",o=`(${r}:${r}|${n})`,s="[a-zA-Z0-9\\-._~ -퟿豈-﷏ﷰ-￯𐀀-🿽𠀀-𯿽𰀀-𿿽񀀀-񏿽񐀀-񟿽񠀀-񯿽񰀀-񿿽򀀀-򏿽򐀀-򟿽򠀀-򯿽򰀀-򿿽󀀀-󏿽󐀀-󟿽󡀀-󯿽]",a=`(${s}|${e}|${t}|[:@])*`,g=`(${a})+`,l=`(${a})*`;return new RegExp(`^[a-zA-Z][a-zA-Z0-9+\\-.]*:(\\/\\/((${s}|${e}|${t}|:)*@)?(\\[(((${r}:){6}${o}|::(${r}:){5}${o}|(${r})?::(${r}:){4}${o}|((${r}:){0,1}${r})?::(${r}:){3}${o}|((${r}:){0,2}${r})?::(${r}:){2}${o}|((${r}:){0,3}${r})?::${r}:${o}|((${r}:){0,4}${r})?::${o}|((${r}:){0,5}${r})?::${r}|((${r}:){0,6}${r})?::)|v[a-fA-F0-9]+\\.(${t}|${t}|":)+)\\]|${n}|(${s}|${e}|${t})*)(:[0-9]*)?(\\/${l})*|\\/(${g}(\\/${l})*)?|${g}(\\/${l})*|)(\\?(${a}|[-󰀀-󿿽􀀀-􏿽]|[\\/?])*)?(#(${a}|[\\/?])*)?$`,"u")}(),n=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u;var r;!function(t){t.Strict="strict",t.Pragmatic="pragmatic",t.None="none"}(r=e.IriValidationStrategy||(e.IriValidationStrategy={})),e.validateIri=function(t,e=r.Strict){switch(e){case r.Strict:return i.test(t)?void 0:new Error(`Invalid IRI according to RFC 3987: '${t}'`);case r.Pragmatic:return n.test(t)?void 0:new Error(`Invalid IRI according to RDF Turtle: '${t}'`);case r.None:return;default:return new Error(`Not supported validation strategy "${e}"`)}}},2341:t=>{"use strict";t.exports=function t(e){return null===e||"object"!=typeof e||null!=e.toJSON?JSON.stringify(e):Array.isArray(e)?"["+e.reduce(((e,i,n)=>e+(0===n?"":",")+t(void 0===i||"symbol"==typeof i?null:i)),"")+"]":"{"+Object.keys(e).sort().reduce(((i,n,r)=>void 0===e[n]||"symbol"==typeof e[n]?i:i+(0===i.length?"":",")+t(n)+":"+t(e[n])),"")+"}"}},2384:t=>{"use strict";var e=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,i=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n=/\s|\uFEFF|\xA0/,r=/\r?\n[\x20\x09]+/g,o=/[;,"]/,s=/[;,"]|\s/,a=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/;function g(t){return t.replace(i,"")}function l(t){return n.test(t)}function A(t,e){for(;l(t[e]);)e++;return e}function C(t){return s.test(t)||!a.test(t)}class I{constructor(t){this.refs=[],t&&this.parse(t)}rel(t){for(var e=[],i=t.toLowerCase(),n=0;n<this.refs.length;n++)"string"==typeof this.refs[n].rel&&this.refs[n].rel.toLowerCase()===i&&e.push(this.refs[n]);return e}get(t,e){t=t.toLowerCase(),e=e.toLowerCase();for(var i=[],n=0;n<this.refs.length;n++)"string"==typeof this.refs[n][t]&&this.refs[n][t].toLowerCase()===e&&i.push(this.refs[n]);return i}set(t){return this.refs.push(t),this}setUnique(t){return this.refs.some((e=>{return i=e,n=t,Object.keys(i).length===Object.keys(n).length&&Object.keys(i).every((t=>t in n&&i[t]===n[t]));var i,n}))||this.refs.push(t),this}has(t,e){t=t.toLowerCase(),e=e.toLowerCase();for(var i=0;i<this.refs.length;i++)if("string"==typeof this.refs[i][t]&&this.refs[i][t].toLowerCase()===e)return!0;return!1}parse(t,e){for(var i=1,n=(t=g(t=(e=e||0)?t.slice(e):t).replace(r,"")).length,s=(e=0,null);e<n;)if(1===i){if(l(t[e])){e++;continue}if("<"!==t[e])throw new Error('Unexpected character "'+t[e]+'" at offset '+e);if(null!=s&&(null!=s.rel?this.refs.push(...I.expandRelations(s)):this.refs.push(s)),-1===(h=t.indexOf(">",e)))throw new Error("Expected end of URI delimiter at offset "+e);s={uri:t.slice(e+1,h)},e=h,i=2,e++}else if(2===i){if(l(t[e])){e++;continue}if(";"===t[e])i=4,e++;else{if(","!==t[e])throw new Error('Unexpected character "'+t[e]+'" at offset '+e);i=1,e++}}else{if(4!==i)throw new Error('Unknown parser state "'+i+'"');if(";"===t[e]||l(t[e])){e++;continue}-1===(h=t.indexOf("=",e))&&(h=t.indexOf(";",e)),-1===h&&(h=t.length);var a=g(t.slice(e,h)).toLowerCase(),C="";if('"'===t[e=A(t,e=h+1)])for(e++;e<n;){if('"'===t[e]){e++;break}"\\"===t[e]&&e++,C+=t[e],e++}else{for(var h=e+1;!o.test(t[h])&&h<n;)h++;C=t.slice(e,h),e=h}switch(s[a]&&I.isSingleOccurenceAttr(a)||("*"===a[a.length-1]?s[a]=I.parseExtendedValue(C):(C="type"===a?C.toLowerCase():C,null!=s[a]?Array.isArray(s[a])?s[a].push(C):s[a]=[s[a],C]:s[a]=C)),t[e]){case",":i=1;break;case";":i=4}e++}return null!=s&&(null!=s.rel?this.refs.push(...I.expandRelations(s)):this.refs.push(s)),s=null,this}toString(){for(var t=[],e="",i=null,n=0;n<this.refs.length;n++)i=this.refs[n],e=Object.keys(this.refs[n]).reduce((function(t,e){return"uri"===e?t:t+"; "+I.formatAttribute(e,i[e])}),"<"+i.uri+">"),t.push(e);return t.join(", ")}}I.isCompatibleEncoding=function(t){return e.test(t)},I.parse=function(t,e){return(new I).parse(t,e)},I.isSingleOccurenceAttr=function(t){return"rel"===t||"type"===t||"media"===t||"title"===t||"title*"===t},I.isTokenAttr=function(t){return"rel"===t||"type"===t||"anchor"===t},I.escapeQuotes=function(t){return t.replace(/"/g,'\\"')},I.expandRelations=function(t){return t.rel.split(" ").map((function(e){var i=Object.assign({},t);return i.rel=e,i}))},I.parseExtendedValue=function(t){var e=/([^']+)?(?:'([^']*)')?(.+)/.exec(t);return{language:e[2].toLowerCase(),encoding:I.isCompatibleEncoding(e[1])?null:e[1].toLowerCase(),value:I.isCompatibleEncoding(e[1])?decodeURIComponent(e[3]):e[3]}},I.formatExtendedAttribute=function(t,e){var i=(e.encoding||"utf-8").toUpperCase();return t+"="+i+"'"+(e.language||"en")+"'"+(Buffer.isBuffer(e.value)&&I.isCompatibleEncoding(i)?e.value.toString(i):Buffer.isBuffer(e.value)?e.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(e.value))},I.formatAttribute=function(t,e){return Array.isArray(e)?e.map((e=>I.formatAttribute(t,e))).join("; "):"*"===t[t.length-1]||"string"!=typeof e?I.formatExtendedAttribute(t,e):(I.isTokenAttr(t)?e=C(e)?'"'+I.escapeQuotes(e)+'"':I.escapeQuotes(e):C(e)&&(e='"'+(e=(e=encodeURIComponent(e)).replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"))+'"'),t+"="+e)},t.exports=I},2386:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerInvalidFallback=void 0,e.EntryHandlerInvalidFallback=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,i,n,r){return!1}async test(t,e,i,n,r){return!0}async handle(t,e,i,n,r,o){t.emittedStack[o]=!1}}},2395:function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(i(2803),e),r(i(5094),e),r(i(585),e),r(i(9146),e),r(i(5086),e),r(i(5215),e),r(i(4931),e)},2426:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Literal=void 0;const n=i(3988);class r{constructor(t,e){this.termType="Literal",this.value=t,"string"==typeof e?(this.language=e,this.datatype=r.RDF_LANGUAGE_STRING,this.direction=""):e?"termType"in e?(this.language="",this.datatype=e,this.direction=""):(this.language=e.language,this.datatype=e.direction?r.RDF_DIRECTIONAL_LANGUAGE_STRING:r.RDF_LANGUAGE_STRING,this.direction=e.direction||""):(this.language="",this.datatype=r.XSD_STRING,this.direction="")}equals(t){return!!t&&"Literal"===t.termType&&t.value===this.value&&t.language===this.language&&(t.direction===this.direction||!t.direction&&""===this.direction)&&this.datatype.equals(t.datatype)}}e.Literal=r,r.RDF_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),r.RDF_DIRECTIONAL_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),r.XSD_STRING=new n.NamedNode("http://www.w3.org/2001/XMLSchema#string")},2552:(t,e,i)=>{var n=i(1873),r=i(659),o=i(9350),s=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?r(t):o(t)}},2791:function(t,e,i){!function(t){"use strict";if(!t.setImmediate){var e,i,n,r,o,s=1,a={},g=!1,l=t.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(t);A=A&&A.setTimeout?A:t,"[object process]"==={}.toString.call(t.process)?e=function(t){process.nextTick((function(){I(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?(r="setImmediate$"+Math.random()+"$",o=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(r)&&I(+e.data.slice(r.length))},t.addEventListener?t.addEventListener("message",o,!1):t.attachEvent("onmessage",o),e=function(e){t.postMessage(r+e,"*")}):t.MessageChannel?((n=new MessageChannel).port1.onmessage=function(t){I(t.data)},e=function(t){n.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,e=function(t){var e=l.createElement("script");e.onreadystatechange=function(){I(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):e=function(t){setTimeout(I,0,t)},A.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var i=new Array(arguments.length-1),n=0;n<i.length;n++)i[n]=arguments[n+1];var r={callback:t,args:i};return a[s]=r,e(s),s++},A.clearImmediate=C}function C(t){delete a[t]}function I(t){if(g)setTimeout(I,0,t);else{var e=a[t];if(e){g=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(void 0,i)}}(e)}finally{C(t),g=!1}}}}}("undefined"==typeof self?void 0===i.g?this:i.g:self)},2803:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextParser=void 0;const n=i(742),r=i(5094),o=i(585),s=i(5215),a=i(4931);class g{constructor(t){t=t||{},this.documentLoader=t.documentLoader||new o.FetchDocumentLoader,this.documentCache={},this.validateContext=!t.skipValidation,this.expandContentTypeToBase=!!t.expandContentTypeToBase,this.remoteContextsDepthLimit=t.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps=!("redirectSchemaOrgHttps"in t)||!!t.redirectSchemaOrgHttps}static validateLanguage(t,e,i){if("string"!=typeof t)throw new r.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(t)}'`,i);if(!a.Util.REGEX_LANGUAGE_TAG.test(t)){if(e)throw new r.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(t)}'`,i);return!1}return!0}static validateDirection(t,e){if("string"!=typeof t)throw new r.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(t)}'`,r.ERROR_CODES.INVALID_BASE_DIRECTION);if(!a.Util.REGEX_DIRECTION_TAG.test(t)){if(e)throw new r.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(t)}'`,r.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(t){for(const e of Object.keys(t)){let i=t[e];if(i&&"object"==typeof i&&i["@reverse"]&&!i["@id"]){if("string"!=typeof i["@reverse"]||a.Util.isValidKeyword(i["@reverse"]))throw new r.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${i["@reverse"]}'`,r.ERROR_CODES.INVALID_IRI_MAPPING);i=t[e]=Object.assign(Object.assign({},i),{"@id":i["@reverse"]}),i["@id"]=i["@reverse"],a.Util.isPotentialKeyword(i["@reverse"])?delete i["@reverse"]:i["@reverse"]=!0}}return t}expandPrefixedTerms(t,e,i){const n=t.getContextRaw();for(const o of i||Object.keys(n))if(a.Util.EXPAND_KEYS_BLACKLIST.indexOf(o)<0&&!a.Util.isReservedInternalKeyword(o)){const i=n[o];if(a.Util.isPotentialKeyword(o)&&a.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(o)>=0&&("@type"!==o||"object"==typeof n[o]&&!n[o]["@protected"]&&"@set"!==n[o]["@container"]))throw new r.ErrorCoded(`Keywords can not be aliased to something else.\nTried mapping ${o} to ${JSON.stringify(i)}`,r.ERROR_CODES.KEYWORD_REDEFINITION);if(a.Util.ALIAS_RANGE_BLACKLIST.indexOf(a.Util.getContextValueId(i))>=0)throw new r.ErrorCoded(`Aliasing to certain keywords is not allowed.\nTried mapping ${o} to ${JSON.stringify(i)}`,r.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(i&&a.Util.isPotentialKeyword(a.Util.getContextValueId(i))&&!0===i["@prefix"])throw new r.ErrorCoded(`Tried to use keyword aliases as prefix: '${o}': '${JSON.stringify(i)}'`,r.ERROR_CODES.INVALID_TERM_DEFINITION);for(;a.Util.isPrefixValue(n[o]);){const i=n[o];let r=!1;if("string"==typeof i)n[o]=t.expandTerm(i,!0),r=r||i!==n[o];else{const s=i["@id"],g=i["@type"],l=!("@prefix"in i)||a.Util.isValidIri(o);if("@id"in i)null!=s&&"string"==typeof s&&(n[o]=Object.assign(Object.assign({},n[o]),{"@id":t.expandTerm(s,!0)}),r=r||s!==n[o]["@id"]);else if(!a.Util.isPotentialKeyword(o)&&l){const e=t.expandTerm(o,!0);e!==o&&(n[o]=Object.assign(Object.assign({},n[o]),{"@id":e}),r=!0)}if(g&&"string"==typeof g&&"@vocab"!==g&&(!i["@container"]||!i["@container"]["@type"])&&l){let i=t.expandTerm(g,!0);e&&g===i&&(i=t.expandTerm(g,!1)),i!==g&&(r=!0,n[o]=Object.assign(Object.assign({},n[o]),{"@type":i}))}}if(!r)break}}}normalize(t,{processingMode:e,normalizeLanguageTags:i}){if(i||1===e)for(const e of Object.keys(t))if("@language"===e&&"string"==typeof t[e])t[e]=t[e].toLowerCase();else{const i=t[e];if(i&&"object"==typeof i&&"string"==typeof i["@language"]){const n=i["@language"].toLowerCase();n!==i["@language"]&&(t[e]=Object.assign(Object.assign({},i),{"@language":n}))}}}containersToHash(t){for(const e of Object.keys(t)){const i=t[e];if(i&&"object"==typeof i)if("string"==typeof i["@container"])t[e]=Object.assign(Object.assign({},i),{"@container":{[i["@container"]]:!0}});else if(Array.isArray(i["@container"])){const n={};for(const t of i["@container"])n[t]=!0;t[e]=Object.assign(Object.assign({},i),{"@container":n})}}}applyScopedProtected(t,{processingMode:e},i){if(e&&e>=1.1&&t["@protected"]){for(const e of Object.keys(t))if(!a.Util.isReservedInternalKeyword(e)&&!a.Util.isPotentialKeyword(e)&&!a.Util.isTermProtected(t,e)){const n=t[e];n&&"object"==typeof n?"@protected"in t[e]||(t[e]=Object.assign(Object.assign({},t[e]),{"@protected":!0})):(t[e]={"@id":n,"@protected":!0},a.Util.isSimpleTermDefinitionPrefix(n,i)&&(t[e]=Object.assign(Object.assign({},t[e]),{"@prefix":!0})))}delete t["@protected"]}}validateKeywordRedefinitions(t,e,i,n){for(const i of null!=n?n:Object.keys(e))if(a.Util.isTermProtected(t,i)&&("string"==typeof e[i]?e[i]={"@id":e[i],"@protected":!0}:e[i]=Object.assign(Object.assign({},e[i]),{"@protected":!0}),!a.Util.deepEqual(t[i],e[i])))throw new r.ErrorCoded(`Attempted to override the protected keyword ${i} from ${JSON.stringify(a.Util.getContextValueId(t[i]))} to ${JSON.stringify(a.Util.getContextValueId(e[i]))}`,r.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(t,{processingMode:e}){for(const i of Object.keys(t)){if(a.Util.isReservedInternalKeyword(i))continue;if(""===i)throw new r.ErrorCoded(`The empty term is not allowed, got: '${i}': '${JSON.stringify(t[i])}'`,r.ERROR_CODES.INVALID_TERM_DEFINITION);const n=t[i],o=typeof n;if(a.Util.isPotentialKeyword(i)){switch(i.substr(1)){case"vocab":if(null!==n&&"string"!==o)throw new r.ErrorCoded(`Found an invalid @vocab IRI: ${n}`,r.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(null!==n&&"string"!==o)throw new r.ErrorCoded(`Found an invalid @base IRI: ${t[i]}`,r.ERROR_CODES.INVALID_BASE_IRI);break;case"language":null!==n&&g.validateLanguage(n,!0,r.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(null!==n&&"number"!==o)throw new r.ErrorCoded(`Found an invalid @version number: ${n}`,r.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":null!==n&&g.validateDirection(n,!0);break;case"propagate":if(1===e)throw new r.ErrorCoded(`Found an illegal @propagate keyword: ${n}`,r.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(null!==n&&"boolean"!==o)throw new r.ErrorCoded(`Found an invalid @propagate value: ${n}`,r.ERROR_CODES.INVALID_PROPAGATE_VALUE)}if(a.Util.isValidKeyword(i)&&a.Util.isValidKeyword(a.Util.getContextValueId(n)))throw new r.ErrorCoded(`Illegal keyword alias in term value, found: '${i}': '${a.Util.getContextValueId(n)}'`,r.ERROR_CODES.KEYWORD_REDEFINITION)}else if(null!==n)switch(o){case"string":if(a.Util.getPrefix(n,t)===i)throw new r.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${i}': '${JSON.stringify(n)}'`,r.ERROR_CODES.CYCLIC_IRI_MAPPING);if(a.Util.isValidIriWeak(i)){if("@type"===n)throw new r.ErrorCoded(`IRIs can not be mapped to @type, found: '${i}': '${n}'`,r.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(n)&&n!==new s.JsonLdContextNormalized(t).expandTerm(i))throw new r.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${i}': '${n}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!(a.Util.isCompactIri(i)||"@id"in n||("@id"===n["@type"]?t["@base"]:t["@vocab"])))throw new r.ErrorCoded(`Missing @id in context entry: '${i}': '${JSON.stringify(n)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING);for(const l of Object.keys(n)){const A=n[l];if(A)switch(l){case"@id":if(a.Util.isValidKeyword(A)&&"@type"!==A&&"@id"!==A&&"@graph"!==A&&"@nest"!==A)throw new r.ErrorCoded(`Illegal keyword alias in term value, found: '${i}': '${JSON.stringify(n)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIriWeak(i)){if("@type"===A)throw new r.ErrorCoded(`IRIs can not be mapped to @type, found: '${i}': '${JSON.stringify(n)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(A)&&A!==new s.JsonLdContextNormalized(t).expandTerm(i))throw new r.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${i}': '${JSON.stringify(n)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}if("string"!=typeof A)throw new r.ErrorCoded(`Detected non-string @id in context entry: '${i}': '${JSON.stringify(n)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.getPrefix(A,t)===i)throw new r.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${i}': '${JSON.stringify(n)}'`,r.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if("@type"===n["@container"]&&"@id"!==A&&"@vocab"!==A)throw new r.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${i}': '${A}'`,r.ERROR_CODES.INVALID_TYPE_MAPPING);if("string"!=typeof A)throw new r.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(o)}'`,r.ERROR_CODES.INVALID_TYPE_MAPPING);if(!("@id"===A||"@vocab"===A||1!==e&&"@json"===A||1!==e&&"@none"===A||"_"!==A[0]&&a.Util.isValidIri(A)))throw new r.ErrorCoded(`A context @type must be an absolute IRI, found: '${i}': '${A}'`,r.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if("string"==typeof A&&n["@id"]&&n["@id"]!==A)throw new r.ErrorCoded(`Found non-matching @id and @reverse term values in '${i}':'${A}' and '${n["@id"]}'`,r.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in n)throw new r.ErrorCoded(`@nest is not allowed in the reverse property '${i}'`,r.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(1===e&&(Object.keys(A).length>1||a.Util.CONTAINERS_1_0.indexOf(Object.keys(A)[0])<0))throw new r.ErrorCoded(`Invalid term @container for '${i}' ('${Object.keys(A)}') in 1.0, must be only one of ${a.Util.CONTAINERS_1_0.join(", ")}`,r.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const t of Object.keys(A)){if("@list"===t&&n["@reverse"])throw new r.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${i}'`,r.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(a.Util.CONTAINERS.indexOf(t)<0)throw new r.ErrorCoded(`Invalid term @container for '${i}' ('${t}'), must be one of ${a.Util.CONTAINERS.join(", ")}`,r.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":g.validateLanguage(A,!0,r.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":g.validateDirection(A,!0);break;case"@prefix":if(null!==A&&"boolean"!=typeof A)throw new r.ErrorCoded(`Found an invalid term @prefix boolean in: '${i}': '${JSON.stringify(n)}'`,r.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in n)&&!a.Util.isValidIri(i))throw new r.ErrorCoded(`Invalid @prefix definition for '${i}' ('${JSON.stringify(n)}'`,r.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(1===e||!n["@container"]||!n["@container"]["@index"])throw new r.ErrorCoded(`Attempt to add illegal key to value object: '${i}': '${JSON.stringify(n)}'`,r.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(a.Util.isPotentialKeyword(A)&&"@nest"!==A)throw new r.ErrorCoded(`Found an invalid term @nest value in: '${i}': '${JSON.stringify(n)}'`,r.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new r.ErrorCoded(`Found an invalid term value: '${i}': '${n}'`,r.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(t,e,i){return"string"==typeof t||(i&&!("@base"in t)&&e.parentContext&&"object"==typeof e.parentContext&&"@base"in e.parentContext&&(t["@base"]=e.parentContext["@base"],e.parentContext["@__baseDocument"]&&(t["@__baseDocument"]=!0)),e.baseIRI&&!e.external&&("@base"in t?null===t["@base"]||"string"!=typeof t["@base"]||a.Util.isValidIri(t["@base"])||(t["@base"]=(0,n.resolve)(t["@base"],e.parentContext&&e.parentContext["@base"]||e.baseIRI)):(t["@base"]=e.baseIRI,t["@__baseDocument"]=!0))),t}normalizeContextIri(t,e){if(!a.Util.isValidIri(t))try{t=(0,n.resolve)(t,e)}catch(e){throw new Error(`Invalid context IRI: ${t}`)}return this.redirectSchemaOrgHttps&&t.startsWith("http://schema.org")&&(t="https://schema.org/"),t}async parseInnerContexts(t,e,i){for(const n of null!=i?i:Object.keys(t)){const i=t[n];if(i&&"object"==typeof i&&"@context"in i&&null!==i["@context"]&&!e.ignoreScopedContexts){if(this.validateContext)try{const r=Object.assign(Object.assign({},t),{[n]:Object.assign({},t[n])});delete r[n]["@context"],await this.parse(i["@context"],Object.assign(Object.assign({},e),{external:!1,parentContext:r,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(t){throw new r.ErrorCoded(t.message,r.ERROR_CODES.INVALID_SCOPED_CONTEXT)}t[n]=Object.assign(Object.assign({},i),{"@context":(await this.parse(i["@context"],Object.assign(Object.assign({},e),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:t}))).getContextRaw()})}}return t}async parse(t,e={},i={}){const{baseIRI:n,parentContext:o,external:l,processingMode:A=g.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:C,ignoreProtection:I,minimalProcessing:h}=e,c=e.remoteContexts||{};if(Object.keys(c).length>=this.remoteContextsDepthLimit)throw new r.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(c),r.ERROR_CODES.CONTEXT_OVERFLOW);if(null==t){if(!I&&o&&a.Util.hasProtectedTerms(o))throw new r.ErrorCoded("Illegal context nullification when terms are protected",r.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new s.JsonLdContextNormalized(this.applyBaseEntry({},e,!1))}if("string"==typeof t){const i=this.normalizeContextIri(t,n),r=this.getOverriddenLoad(i,e);if(r)return new s.JsonLdContextNormalized(r);const o=await this.parse(await this.load(i),Object.assign(Object.assign({},e),{baseIRI:i,external:!0,remoteContexts:Object.assign(Object.assign({},c),{[i]:!0})}));return this.applyBaseEntry(o.getContextRaw(),e,!0),o}if(Array.isArray(t)){const i=[],r=await Promise.all(t.map(((t,r)=>{if("string"==typeof t){const o=this.normalizeContextIri(t,n);i[r]=o;return this.getOverriddenLoad(o,e)||this.load(o)}return t})));if(h)return new s.JsonLdContextNormalized(r);const a=await r.reduce(((t,n,o)=>t.then((t=>this.parse(n,Object.assign(Object.assign({},e),{baseIRI:i[o]||e.baseIRI,external:!!i[o]||e.external,parentContext:t.getContextRaw(),remoteContexts:i[o]?Object.assign(Object.assign({},c),{[i[o]]:!0}):c}),{skipValidation:o<r.length-1})))),Promise.resolve(new s.JsonLdContextNormalized(o||{})));return this.applyBaseEntry(a.getContextRaw(),e,!0),a}if("object"==typeof t){if("@context"in t)return await this.parse(t["@context"],e);if(t=Object.assign({},t),l&&delete t["@base"],this.applyBaseEntry(t,e,!0),this.containersToHash(t),h)return new s.JsonLdContextNormalized(t);let c={};if("@import"in t){if(!(A>=1.1))throw new r.ErrorCoded("Context importing is not supported in JSON-LD 1.0",r.ERROR_CODES.INVALID_CONTEXT_ENTRY);if("string"!=typeof t["@import"])throw new r.ErrorCoded("An @import value must be a string, but got "+typeof t["@import"],r.ERROR_CODES.INVALID_IMPORT_VALUE);c=await this.loadImportContext(this.normalizeContextIri(t["@import"],n)),delete t["@import"]}this.applyScopedProtected(c,{processingMode:A},s.defaultExpandOptions);const d=Object.assign(c,t);this.idifyReverseTerms(d),this.normalize(d,{processingMode:A,normalizeLanguageTags:C}),this.applyScopedProtected(d,{processingMode:A},s.defaultExpandOptions);const u=Object.keys(d),f=[];if("object"==typeof o)for(const t in o)t in d?f.push(t):d[t]=o[t];await this.parseInnerContexts(d,e,u);const p=new s.JsonLdContextNormalized(d);return(d&&d["@version"]||g.DEFAULT_PROCESSING_MODE)>=1.1&&(t["@vocab"]&&"string"==typeof t["@vocab"]||""===t["@vocab"])&&(o&&"@vocab"in o&&t["@vocab"].indexOf(":")<0?d["@vocab"]=o["@vocab"]+t["@vocab"]:(a.Util.isCompactIri(t["@vocab"])||t["@vocab"]in d)&&(d["@vocab"]=p.expandTerm(t["@vocab"],!0))),this.expandPrefixedTerms(p,this.expandContentTypeToBase,u),!I&&o&&A>=1.1&&this.validateKeywordRedefinitions(o,d,s.defaultExpandOptions,f),this.validateContext&&!i.skipValidation&&this.validate(d,{processingMode:A}),p}throw new r.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${t}`,r.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(t){const e=this.documentCache[t];if(e)return e;let i;try{i=await this.documentLoader.load(t)}catch(e){throw new r.ErrorCoded(`Failed to load remote context ${t}: ${e.message}`,r.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in i))throw new r.ErrorCoded(`Missing @context in remote context at ${t}`,r.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[t]=i["@context"]}getOverriddenLoad(t,e){if(t in(e.remoteContexts||{})){if(e.ignoreRemoteScopedContexts)return t;throw new r.ErrorCoded("Detected a cyclic context inclusion of "+t,r.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(t){let e=await this.load(t);if("object"!=typeof e||Array.isArray(e))throw new r.ErrorCoded("An imported context must be a single object: "+t,r.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in e)throw new r.ErrorCoded("An imported context can not import another context: "+t,r.ERROR_CODES.INVALID_CONTEXT_ENTRY);return e=Object.assign({},e),this.containersToHash(e),e}}g.DEFAULT_PROCESSING_MODE=1.1,e.ContextParser=g},2861:(t,e,i)=>{var n=i(8287),r=n.Buffer;function o(t,e){for(var i in t)e[i]=t[i]}function s(t,e,i){return r(t,e,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=s),s.prototype=Object.create(r.prototype),o(r,s),s.from=function(t,e,i){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,i)},s.alloc=function(t,e,i){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=r(t);return void 0!==e?"string"==typeof i?n.fill(e,i):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},2944:(t,e,i)=>{"use strict";i.d(e,{A:()=>a});var n=i(1601),r=i.n(n),o=i(6314),s=i.n(o)()(r());s.push([t.id,"/* Main application styles */\n:root {\n  --primary-color: #4CAF50;\n  --secondary-color: #555;\n  --error-color: #F2DEDE;\n  --error-text: #822;\n  --success-color: #DFF0D8;\n  --warning-color: #FCF8E3;\n  --border-color: #CAD0DB;\n  --highlight-color: lightgreen;\n  --divider-color: #aaa;\n}\n\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  line-height: 1.5;\n  color: #333;\n}\n\nheader {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 20px;\n  background-color: var(--secondary-color);\n  color: white;\n}\n\n.logo {\n  display: flex;\n  align-items: center;\n}\n\n.logo img {\n  width: 50px;\n  height: 50px;\n  margin-right: 10px;\n}\n\n.logo h1 {\n  font-size: 1.5rem;\n}\n\n.main-container {\n  padding: 20px;\n  max-width: 1600px;\n  margin: 0 auto;\n}\n\n.toolbar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid var(--border-color);\n}\n\n.view-controls {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n}\n\n.toggle-group {\n  display: flex;\n  align-items: center;\n  gap: 5px;\n}\n\n.toggle {\n  position: relative;\n  appearance: none;\n  width: 40px;\n  height: 20px;\n  background-color: #ccc;\n  border-radius: 20px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\n.toggle:checked {\n  background-color: var(--primary-color);\n}\n\n.toggle::before {\n  content: \"\";\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background-color: white;\n  top: 2px;\n  left: 2px;\n  transition: transform 0.3s;\n}\n\n.toggle:checked::before {\n  transform: translateX(20px);\n}\n\n.cluster-controls {\n  display: flex;\n  align-items: center;\n  gap: 5px;\n}\n\n.icon-button {\n  width: 30px;\n  height: 30px;\n  background-color: #f1f1f1;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  font-weight: bold;\n}\n\n.icon-button:hover {\n  background-color: #e1e1e1;\n}\n\n.btn {\n  padding: 8px 16px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-weight: bold;\n  transition: background-color 0.2s;\n}\n\n.btn-primary {\n  background-color: var(--primary-color);\n  color: white;\n}\n\n.btn-primary:hover {\n  background-color: #3e8e41;\n}\n\n.btn-default {\n  background-color: #f1f1f1;\n  color: #333;\n}\n\n.btn-default:hover {\n  background-color: #e1e1e1;\n}\n\n.btn-danger {\n  background-color: #d9534f;\n  color: white;\n}\n\n.btn-danger:hover {\n  background-color: #c9302c;\n}\n\n/* Status indicators */\n#syntax-check {\n  display: flex;\n  align-items: center;\n}\n\n.status-icon {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  margin-right: 5px;\n}\n\n.status-icon.error {\n  background-color: #d9534f;\n}\n\n.status-icon.working, \n.status-icon.pending {\n  background-color: #f0ad4e;\n}\n\n.status-icon.passed {\n  background-color: var(--primary-color);\n}\n\n.status-icon.off {\n  background-color: #777;\n}\n\n/* Split container */\n.split-container {\n  display: flex;\n  height: 70vh;\n  border: 1px solid var(--border-color);\n  margin-bottom: 20px;\n}\n\n.split-pane {\n  flex: 1;\n  overflow: hidden;\n  height: 100%;\n}\n\n.split-divider {\n  width: 5px;\n  background-color: var(--divider-color);\n  cursor: col-resize;\n}\n\n/* Resizing state */\n.resizing {\n  cursor: col-resize;\n  user-select: none;\n}\n\n.resizing .split-pane,\n.resizing .split-divider {\n  transition: none !important;\n}\n\n/* Message queue */\n#message-queue {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 1000;\n  max-width: 300px;\n}\n\n.alert {\n  padding: 10px;\n  margin-bottom: 10px;\n  border-radius: 4px;\n  animation: fadeIn 0.3s;\n}\n\n.alert-danger {\n  background-color: var(--error-color);\n  color: var(--error-text);\n}\n\n.alert-warning {\n  background-color: var(--warning-color);\n  color: #8a6d3b;\n}\n\n.alert-success {\n  background-color: var(--success-color);\n  color: #3c763d;\n}\n\n.alert-info {\n  background-color: #d9edf7;\n  color: #31708f;\n}\n\n.badge {\n  display: inline-block;\n  padding: 2px 6px;\n  font-size: 12px;\n  font-weight: bold;\n  line-height: 1;\n  color: white;\n  background-color: #777;\n  border-radius: 10px;\n  margin-left: 5px;\n}\n\n/* Popup and dialog */\n.popup, .dialog {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.popup-content, .dialog-content {\n  background-color: white;\n  padding: 20px;\n  border-radius: 5px;\n  min-width: 300px;\n}\n\n.form-group {\n  margin-bottom: 15px;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 5px;\n  font-weight: bold;\n}\n\n.form-group input {\n  width: 100%;\n  padding: 8px;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n}\n\n.form-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  margin-top: 15px;\n}\n\n.dialog-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  margin-top: 15px;\n}\n\n@keyframes fadeIn {\n  from { opacity: 0; transform: translateY(-20px); }\n  to { opacity: 1; transform: translateY(0); }\n}",""]);const a=s},2985:t=>{"use strict";t.exports=class t{constructor(t,e=new Map,i=0){this.prefix=t,this._existing=e,this.counter=i}clone(){const{prefix:e,_existing:i,counter:n}=this;return new t(e,new Map(i),n)}getId(t){const e=t&&this._existing.get(t);if(e)return e;const i=this.prefix+this.counter;return this.counter++,t&&this._existing.set(t,i),i}hasId(t){return this._existing.has(t)}getOldIds(){return[...this._existing.keys()]}}},3095:(t,e,i)=>{"use strict";const{ArrayPrototypePop:n,Promise:r}=i(4134),{isIterable:o,isNodeStream:s,isWebStream:a}=i(6115),{pipelineImpl:g}=i(7758),{finished:l}=i(6238);i(5506),t.exports={finished:l,pipeline:function(...t){return new r(((e,i)=>{let r,l;const A=t[t.length-1];if(A&&"object"==typeof A&&!s(A)&&!o(A)&&!a(A)){const e=n(t);r=e.signal,l=e.end}g(t,((t,n)=>{t?i(t):e(n)}),{signal:r,end:l})}))}}},3099:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParsingContext=void 0;const n=i(2395),r=i(5094),o=i(4405),s=i(2277);class a{constructor(t){this.contextParser=new n.ContextParser({documentLoader:t.documentLoader,skipValidation:t.skipContextValidation}),this.streamingProfile=!!t.streamingProfile,this.baseIRI=t.baseIRI,this.produceGeneralizedRdf=!!t.produceGeneralizedRdf,this.allowSubjectList=!!t.allowSubjectList,this.processingMode=t.processingMode||s.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!t.strictValues,this.validateValueIndexes=!!t.validateValueIndexes,this.defaultGraph=t.defaultGraph,this.rdfDirection=t.rdfDirection,this.normalizeLanguageTags=t.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=t.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=!1!==t.rdfstar,this.rdfstarReverseInEmbedded=t.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new o.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=t.parser,t.context?(this.rootContext=this.parseContext(t.context),this.rootContext.then((t=>this.validateContext(t)))):this.rootContext=Promise.resolve(new n.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(t,e,i){return this.contextParser.parse(t,{baseIRI:this.baseIRI,ignoreProtection:i,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:e,processingMode:this.activeProcessingMode})}validateContext(t){const e=t.getContextRaw()["@version"];if(e){if(this.activeProcessingMode&&e>this.activeProcessingMode)throw new r.ErrorCoded(`Unsupported JSON-LD version '${e}' under active processing mode ${this.activeProcessingMode}.`,r.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&e<this.activeProcessingMode)throw new r.ErrorCoded(`Invalid JSON-LD version ${e} under active processing mode ${this.activeProcessingMode}.`,r.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=e}}async getContext(t,e=1){const i=t;for(;"number"==typeof t[t.length-1];)t=t.slice(0,t.length-1);e&&(t=t.slice(0,-e));const r=await this.getContextPropagationAware(t);let o=r.context.getContextRaw();for(let t=r.depth;t<i.length-e;t++){const r=i[t],s=o[r];if(s&&"object"==typeof s&&"@context"in s){const a=(await this.parseContext(s,o,!0)).getContextRaw(),g=!(r in a)||a[r]["@context"]["@propagate"];!1===g&&t!==i.length-1-e||(o=Object.assign({},a),delete o["@propagate"],o[r]=Object.assign({},o[r]),"@id"in s&&(o[r]["@id"]=s["@id"]),delete o[r]["@context"],!1!==g&&this.contextTree.setContext(i.slice(0,t+e),Promise.resolve(new n.JsonLdContextNormalized(o))))}}return new n.JsonLdContextNormalized(o)}async getContextPropagationAware(t){const e=t.length;let i,r=null;do{i=!1,r&&"@__propagateFallback"in r.context.getContextRaw()?r.context=new n.JsonLdContextNormalized(r.context.getContextRaw()["@__propagateFallback"]):(r&&(t=t.slice(0,r.depth-1)),r=await this.contextTree.getContext(t)||{context:await this.rootContext,depth:0});const e=t[t.length-1];if(e in r.context.getContextRaw()){const t=r.context.getContextRaw()[e];t&&"object"==typeof t&&"@context"in t&&(i=!0)}}while(r.depth>0&&!1===r.context.getContextRaw()["@propagate"]&&r.depth!==e&&!i);return 0===r.depth&&!1===r.context.getContextRaw()["@propagate"]&&r.depth!==e&&(r.context=new n.JsonLdContextNormalized({})),r}async newOnValueJob(t,e,i,n){await this.parser.newOnValueJob(t,e,i,n)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const t of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(t.depth,t.keys),this.parser.flushStacks(t.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}return!1}emitQuad(t,e){1===t&&(this.topLevelProperties=!0),this.parser.push(e)}emitError(t){this.parser.emit("error",t)}emitContext(t){this.parser.emit("context",t)}getUnidentifiedValueBufferSafe(t){let e=this.unidentifiedValuesBuffer[t];return e||(e=[],this.unidentifiedValuesBuffer[t]=e),e}getUnidentifiedGraphBufferSafe(t){let e=this.unidentifiedGraphsBuffer[t];return e||(e=[],this.unidentifiedGraphsBuffer[t]=e),e}getAnnotationsBufferSafe(t){let e=this.annotationsBuffer[t];return e||(e=[],this.annotationsBuffer[t]=e),e}getExpandOptions(){return a.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(t,e){const i=this.idStack[t+e];if(i&&(this.idStack[t]=i,this.emittedStack[t]=!0,delete this.idStack[t+e]),this.pendingContainerFlushBuffers.length)for(const i of this.pendingContainerFlushBuffers)i.depth>=t+e&&(i.depth-=e,i.keys.splice(t,e));this.unidentifiedValuesBuffer[t+e]&&(this.unidentifiedValuesBuffer[t]=this.unidentifiedValuesBuffer[t+e],delete this.unidentifiedValuesBuffer[t+e]),this.annotationsBuffer[t+e-1]&&(this.annotationsBuffer[t-1]||(this.annotationsBuffer[t-1]=[]),this.annotationsBuffer[t-1]=[...this.annotationsBuffer[t-1],...this.annotationsBuffer[t+e-1]],delete this.annotationsBuffer[t+e-1])}}e.ParsingContext=a,a.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}},3141:(t,e,i)=>{"use strict";var n=i(2861).Buffer,r=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===r||!r(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=g,this.end=l,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=A,this.end=C,e=3;break;default:return this.write=I,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,i=function(t,e){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==i?i:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function g(t,e){if((t.length-e)%2==0){var i=t.toString("utf16le",e);if(i){var n=i.charCodeAt(i.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,i)}return e}function A(t,e){var i=(t.length-e)%3;return 0===i?t.toString("base64",e):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-i))}function C(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function I(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,i;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?e?e+this.text(t,i):this.text(t,i):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var i=function(t,e,i){var n=e.length-1;if(n<i)return 0;var r=s(e[n]);return r>=0?(r>0&&(t.lastNeed=r-1),r):--n<i||-2===r?0:(r=s(e[n]))>=0?(r>0&&(t.lastNeed=r-2),r):--n<i||-2===r?0:(r=s(e[n]))>=0?(r>0&&(2===r?r=0:t.lastNeed=r-3),r):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=i;var n=t.length-(i-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},3283:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordValue=void 0;const n=i(1548);class r extends n.EntryHandlerKeyword{constructor(){super("@value")}async validate(t,e,i,n,r){const o=i[n];return o&&!t.literalStack[n]&&await this.test(t,e,o,i,n)&&(t.literalStack[n]=!0),super.validate(t,e,i,n,r)}async test(t,e,i,n,r){return"@value"===await e.unaliasKeyword(n[r],n.slice(0,n.length-1),r-1,!0)}async handle(t,e,i,n,r,o){t.literalStack[o]=!0,delete t.unidentifiedValuesBuffer[o],delete t.unidentifiedGraphsBuffer[o],t.emittedStack[o]=!1}}e.EntryHandlerKeywordValue=r},3335:(t,e,i)=>{"use strict";const n=i(171),r=i(2191),o=i(1820),s=i(9272);let a;try{a=i(1895)}catch(t){}function g(t){return Array.isArray(t)?t:e.NQuads.legacyDatasetToQuads(t)}e.NQuads=i(5181),e.IdentifierIssuer=i(7259),e._rdfCanonizeNative=function(t){return t&&(a=t),a},e.canonize=async function(t,e){const i=g(t);if(e.useNative){if(!a)throw new Error("rdf-canonize-native not available");if(e.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise(((t,n)=>a.canonize(i,e,((e,i)=>e?n(e):t(i)))))}if("URDNA2015"===e.algorithm)return new n(e).main(i);if("URGNA2012"===e.algorithm){if(e.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new r(e).main(i)}if(!("algorithm"in e))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+e.algorithm)},e._canonizeSync=function(t,e){const i=g(t);if(e.useNative){if(!a)throw new Error("rdf-canonize-native not available");if(e.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return a.canonizeSync(i,e)}if("URDNA2015"===e.algorithm)return new o(e).main(i);if("URGNA2012"===e.algorithm){if(e.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new s(e).main(i)}if(!("algorithm"in e))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+e.algorithm)}},3343:t=>{"use strict";t.exports=class{constructor(t){this.current=t.sort(),this.done=!1,this.dir=new Map;for(let e=0;e<t.length;++e)this.dir.set(t[e],!0)}hasNext(){return!this.done}next(){const{current:t,dir:e}=this,i=t.slice();let n=null,r=0;const o=t.length;for(let i=0;i<o;++i){const s=t[i],a=e.get(s);(null===n||s>n)&&(a&&i>0&&s>t[i-1]||!a&&i<o-1&&s>t[i+1])&&(n=s,r=i)}if(null===n)this.done=!0;else{const i=e.get(n)?r-1:r+1;t[r]=t[i],t[i]=n;for(const i of t)i>n&&e.set(i,!e.get(i))}return i}}},3370:(t,e,i)=>{"use strict";const{ObjectDefineProperties:n,ObjectGetOwnPropertyDescriptor:r,ObjectKeys:o,ObjectSetPrototypeOf:s}=i(4134);t.exports=l;const a=i(7576),g=i(8584);s(l.prototype,a.prototype),s(l,a);{const t=o(g.prototype);for(let e=0;e<t.length;e++){const i=t[e];l.prototype[i]||(l.prototype[i]=g.prototype[i])}}function l(t){if(!(this instanceof l))return new l(t);a.call(this,t),g.call(this,t),t?(this.allowHalfOpen=!1!==t.allowHalfOpen,!1===t.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===t.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let A,C;function I(){return void 0===A&&(A={}),A}n(l.prototype,{writable:{__proto__:null,...r(g.prototype,"writable")},writableHighWaterMark:{__proto__:null,...r(g.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...r(g.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...r(g.prototype,"writableBuffer")},writableLength:{__proto__:null,...r(g.prototype,"writableLength")},writableFinished:{__proto__:null,...r(g.prototype,"writableFinished")},writableCorked:{__proto__:null,...r(g.prototype,"writableCorked")},writableEnded:{__proto__:null,...r(g.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...r(g.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}}),l.fromWeb=function(t,e){return I().newStreamDuplexFromReadableWritablePair(t,e)},l.toWeb=function(t){return I().newReadableWritablePairFromDuplex(t)},l.from=function(t){return C||(C=i(6706)),C(t,"body")}},3660:(t,e,i)=>{"use strict";i.d(e,{A:()=>a});var n=i(1601),r=i.n(n),o=i(6314),s=i.n(o)()(r());s.push([t.id,"#editor-container {\n  height: 100%;\n  overflow: hidden;\n}\n\n#input-contents {\n  width: 100%;\n  height: 100%;\n  font-family: 'Fira Code', 'Courier New', Courier, monospace;\n  font-size: 14px;\n  padding: 10px;\n  border: none;\n  resize: none;\n}\n\n\n.cm-editor {\n  height: 100%;\n  font-family: 'Fira Code', 'Courier New', Courier, monospace;\n}\n\n.cm-line {\n  padding: 0 4px;\n}\n\n.cm-gutters {\n  border-right: 1px solid var(--border-color);\n  background-color: #f7f7f7;\n}\n\n\n.cm-error-line {\n  background-color: var(--error-color);\n}\n\n.cm-error-gutter {\n  color: var(--error-text);\n  font-weight: bold;\n}\n\n\n.cm-keyword {\n  color: #708;\n}\n\n.cm-atom {\n  color: #219;\n}\n\n.cm-number {\n  color: #164;\n}\n\n.cm-def {\n  color: #00f;\n}\n\n.cm-variable {\n  color: #05a;\n}\n\n.cm-operator {\n  color: #aa22ff;\n  font-weight: bold;\n}\n\n.cm-comment {\n  color: #a50;\n  font-style: italic;\n}\n\n.cm-string {\n  color: #a11;\n}\n\n.cm-iri {\n  color: #FFA500;\n  font-weight: bold;\n}\n\n.cm-meta {\n  color: #555;\n}\n\n.cm-qualifier {\n  color: #555;\n}\n\n.cm-builtin {\n  color: #30a;\n}\n\n.cm-bracket {\n  color: #997;\n}\n\n.cm-tag {\n  color: #170;\n}\n\n.cm-attribute {\n  color: #00c;\n}\n\n\n.cm-tooltip-autocomplete {\n  border: 1px solid var(--border-color);\n  background-color: white;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  max-height: 300px;\n  overflow-y: auto;\n}\n\n.cm-tooltip-autocomplete ul {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n.cm-tooltip-autocomplete li {\n  padding: 4px 8px;\n  cursor: pointer;\n}\n\n.cm-tooltip-autocomplete li:hover,\n.cm-tooltip-autocomplete li.selected {\n  background-color: #eee;\n}\n\n\n.cm-highlight {\n  background-color: var(--highlight-color);\n  border-radius: 2px;\n  transition: background-color 0.2s ease;\n  text-decoration: underline;\n  text-decoration-style: wavy;\n  text-decoration-color: darkgreen;\n}\n\n.cm-highlight:hover {\n  background-color: rgba(144, 238, 144, 0.7);\n}\n\n.cm-highlight-scrollbar {\n  background-color: darkgreen;\n  width: 8px !important;\n}\n\n\n.cm-predicate {\n  color: #0077aa;\n  font-weight: bold;\n}\n\n.cm-a {\n  color: #aa6600;\n  font-weight: bold;\n}\n\n.cm-prefixName {\n  color: #0055aa;\n}\n\n.cm-iri {\n  color: #FFA500;\n  font-weight: bold;\n}\n\n.cm-literal {\n  color: #a31515;\n}\n\n.cm-lang {\n  color: #9900cc;\n}\n\n.cm-datatype {\n  color: #669900;\n}\n\n.cm-boolean {\n  color: #0000ff;\n}\n\n\n@keyframes highlight-pulse {\n  0% { background-color: rgba(144, 238, 144, 0.3); }\n  50% { background-color: rgba(144, 238, 144, 0.8); }\n  100% { background-color: rgba(144, 238, 144, 0.3); }\n}\n\n.cm-highlight.pulse {\n  animation: highlight-pulse 1s ease;\n}",""]);const a=s},3743:t=>{"use strict";t.exports=class{constructor(){this._requests={}}wrapLoader(t){const e=this;return e._loader=t,function(){return e.add.apply(e,arguments)}}async add(t){let e=this._requests[t];if(e)return Promise.resolve(e);e=this._requests[t]=this._loader(t);try{return await e}finally{delete this._requests[t]}}}},3805:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},3809:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordContext=void 0;const n=i(2395),r=i(1548);class o extends r.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(t,e,i,r,o,s){t.streamingProfile&&(t.processingStack[s]||t.processingType[s]||void 0!==t.idStack[s])&&t.emitError(new n.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",n.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const a=t.getContext(r),g=t.parseContext(o,(await a).getContextRaw());t.contextTree.setContext(r.slice(0,-1),g),t.emitContext(o),await t.validateContext(await g)}}e.EntryHandlerKeywordContext=o},3847:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerLanguage=void 0;const n=i(2395);e.ContainerHandlerLanguage=class{canCombineWithGraph(){return!1}async handle(t,e,i,r,o,s){const a=await i.getContainerKey(r[s],r,s);if(Array.isArray(o))o=o.map((t=>({"@value":t,"@language":a})));else{if("string"!=typeof o)throw new n.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(o)}', but expected string`,n.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);o={"@value":o,"@language":a}}await e.newOnValueJob(r.slice(0,r.length-1),o,s-1,!0),e.emittedStack[s]=!1}}},3947:(t,e,i)=>{"use strict";const n=i(2207),r=i(3978),o=i(5001),{REGEX_BCP47:s,addValue:a}=i(9263),{handleEvent:g}=i(2246),{RDF_LIST:l,RDF_FIRST:A,RDF_REST:C,RDF_NIL:I,RDF_TYPE:h,RDF_JSON_LITERAL:c,XSD_BOOLEAN:d,XSD_DOUBLE:u,XSD_INTEGER:f,XSD_STRING:p}=i(9378),v={};function m(t,e,i,r){if(t.termType.endsWith("Node"))return{"@id":t.value};const a={"@value":t.value};if(t.language)t.language.match(s)||r.eventHandler&&g({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:t.language}},options:r}),a["@language"]=t.language;else{let l=t.datatype.value;if(l||(l=p),l===c){l="@json";try{a["@value"]=JSON.parse(a["@value"])}catch(t){throw new n("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:a["@value"],cause:t})}}if(e){if(l===d)"true"===a["@value"]?a["@value"]=!0:"false"===a["@value"]&&(a["@value"]=!1);else if(o.isNumeric(a["@value"]))if(l===f){const t=parseInt(a["@value"],10);t.toFixed(0)===a["@value"]&&(a["@value"]=t)}else l===u&&(a["@value"]=parseFloat(a["@value"]));[d,f,u,p].includes(l)||(a["@type"]=l)}else if("i18n-datatype"===i&&l.startsWith("https://www.w3.org/ns/i18n#")){const[,t,e]=l.split(/[#_]/);t.length>0&&(a["@language"]=t,t.match(s)||r.eventHandler&&g({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:t}},options:r})),a["@direction"]=e}else l!==p&&(a["@type"]=l)}return a}t.exports=v,v.fromRDF=async(t,e)=>{const{useRdfType:i=!1,useNativeTypes:s=!1,rdfDirection:g=null}=e,c={},d={"@default":c},u={};if(g){if("compound-literal"===g)throw new n("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:g});if("i18n-datatype"!==g)throw new n("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:g})}for(const n of t){const t="DefaultGraph"===n.graph.termType?"@default":n.graph.value;t in d||(d[t]={}),"@default"===t||t in c||(c[t]={"@id":t});const r=d[t],o=n.subject.value,l=n.predicate.value,A=n.object;o in r||(r[o]={"@id":o});const C=r[o],f=A.termType.endsWith("Node");if(f&&!(A.value in r)&&(r[A.value]={"@id":A.value}),l===h&&!i&&f){a(C,"@type",A.value,{propertyIsArray:!0});continue}const p=m(A,s,g,e);if(a(C,l,p,{propertyIsArray:!0}),f)if(A.value===I){const t=r[A.value];"usages"in t||(t.usages=[]),t.usages.push({node:C,property:l,value:p})}else A.value in u?u[A.value]=!1:u[A.value]={node:C,property:l,value:p}}for(const t in d){const e=d[t];if(!(I in e))continue;const i=e[I];if(i.usages){for(let t of i.usages){let i=t.node,n=t.property,s=t.value;const a=[],g=[];let I=Object.keys(i).length;for(;n===C&&o.isObject(u[i["@id"]])&&o.isArray(i[A])&&1===i[A].length&&o.isArray(i[C])&&1===i[C].length&&(3===I||4===I&&o.isArray(i["@type"])&&1===i["@type"].length&&i["@type"][0]===l)&&(a.push(i[A][0]),g.push(i["@id"]),t=u[i["@id"]],i=t.node,n=t.property,s=t.value,I=Object.keys(i).length,r.isBlankNode(i)););delete s["@id"],s["@list"]=a.reverse();for(const t of g)delete e[t]}delete i.usages}}const f=[],p=Object.keys(c).sort();for(const t of p){const e=c[t];if(t in d){const i=e["@graph"]=[],n=d[t],o=Object.keys(n).sort();for(const t of o){const e=n[t];r.isSubjectReference(e)||i.push(e)}}r.isSubjectReference(e)||f.push(e)}return f}},3978:(t,e,i)=>{"use strict";const n=i(5001),r={};t.exports=r,r.isSubject=t=>!(!n.isObject(t)||"@value"in t||"@set"in t||"@list"in t)&&(Object.keys(t).length>1||!("@id"in t)),r.isSubjectReference=t=>n.isObject(t)&&1===Object.keys(t).length&&"@id"in t,r.isValue=t=>n.isObject(t)&&"@value"in t,r.isList=t=>n.isObject(t)&&"@list"in t,r.isGraph=t=>n.isObject(t)&&"@graph"in t&&1===Object.keys(t).filter((t=>"@id"!==t&&"@index"!==t)).length,r.isSimpleGraph=t=>r.isGraph(t)&&!("@id"in t),r.isBlankNode=t=>{if(n.isObject(t)){if("@id"in t){const e=t["@id"];return!n.isString(e)||0===e.indexOf("_:")}return 0===Object.keys(t).length||!("@value"in t||"@set"in t||"@list"in t)}return!1}},3988:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NamedNode=void 0,e.NamedNode=class{constructor(t){this.termType="NamedNode",this.value=t}equals(t){return!!t&&"NamedNode"===t.termType&&t.value===this.value}}},4019:(t,e,i)=>{"use strict";const n=i(2207),{isArray:r,isObject:o,isEmptyObject:s,isString:a,isUndefined:g}=i(5001),{isList:l,isValue:A,isGraph:C,isSubject:I}=i(3978),{expandIri:h,getContextValue:c,isKeyword:d,process:u,processingMode:f}=i(1972),{isAbsolute:p}=i(470),{REGEX_BCP47:v,REGEX_KEYWORD:m,addValue:y,asArray:b,getValues:w,validateTypeValue:x}=i(9263),{handleEvent:k}=i(2246),E={};function S({value:t,count:e,options:i}){if(0===e||"@value"in t||"@list"in t||1===e&&"@id"in t){if(i.eventHandler){let n,r;0===e?(n="empty object",r="Dropping empty object."):"@value"in t?(n="object with only @value",r="Dropping object with only @value."):"@list"in t?(n="object with only @list",r="Dropping object with only @list."):1===e&&"@id"in t&&(n="object with only @id",r="Dropping object with only @id."),k({event:{type:["JsonLdEvent"],code:n,level:"warning",message:r,details:{value:t}},options:i})}return null}return t}async function T({activeCtx:t,activeProperty:e,expandedActiveProperty:i,element:C,expandedParent:m,options:w={},insideList:O,typeKey:N,typeScopedContext:D}){const P=Object.keys(C).sort(),M=[];let j;const L=C[N]&&"@json"===h(t,r(C[N])?C[N][0]:C[N],{vocab:!0},{...w,typeExpansion:!0});for(const T of P){let O,N=C[T];if("@context"===T)continue;const P=h(t,T,{vocab:!0},w);if(null===P||!p(P)&&!d(P)){w.eventHandler&&k({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:T,expandedProperty:P}},options:w});continue}if(d(P)){if("@reverse"===i)throw new n("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:N});if(P in m&&"@included"!==P&&"@type"!==P)throw new n("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:P})}if("@id"===P){if(!a(N)){if(!w.isFrame)throw new n('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:N});if(o(N)){if(!s(N))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:N})}else{if(!r(N))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:N});if(!N.every((t=>a(t))))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:N})}}y(m,"@id",b(N).map((e=>{if(a(e)){const i=h(t,e,{base:!0},w);return w.eventHandler&&(null===i?k(null===e?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:e}},options:w}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:e}},options:w}):p(i)||k({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:e,expandedId:i}},options:w})),i}return e})),{propertyIsArray:w.isFrame});continue}if("@type"===P){o(N)&&(N=Object.fromEntries(Object.entries(N).map((([t,e])=>[h(D,t,{vocab:!0}),b(e).map((t=>h(D,t,{base:!0,vocab:!0},{...w,typeExpansion:!0})))])))),x(N,w.isFrame),y(m,"@type",b(N).map((t=>{if(a(t)){const e=h(D,t,{base:!0,vocab:!0},{...w,typeExpansion:!0});return"@json"===e||p(e)||w.eventHandler&&k({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:t}},options:w}),e}return t})),{propertyIsArray:!!w.isFrame});continue}if("@included"===P&&f(t,1.1)){const i=b(await E.expand({activeCtx:t,activeProperty:e,element:N,options:w}));if(!i.every((t=>I(t))))throw new n("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:N});y(m,"@included",i,{propertyIsArray:!0});continue}if("@graph"===P&&!o(N)&&!r(N))throw new n('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:N});if("@value"===P){j=N,L&&f(t,1.1)?m["@value"]=N:y(m,"@value",N,{propertyIsArray:w.isFrame});continue}if("@language"===P){if(null===N)continue;if(!a(N)&&!w.isFrame)throw new n('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:N});N=b(N).map((t=>a(t)?t.toLowerCase():t));for(const t of N)a(t)&&!t.match(v)&&w.eventHandler&&k({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:t}},options:w});y(m,"@language",N,{propertyIsArray:w.isFrame});continue}if("@direction"===P){if(!a(N)&&!w.isFrame)throw new n('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:N});N=b(N);for(const t of N)if(a(t)&&"ltr"!==t&&"rtl"!==t)throw new n('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:N});y(m,"@direction",N,{propertyIsArray:w.isFrame});continue}if("@index"===P){if(!a(N))throw new n('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:N});y(m,"@index",N);continue}if("@reverse"===P){if(!o(N))throw new n('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:N});if(O=await E.expand({activeCtx:t,activeProperty:"@reverse",element:N,options:w}),"@reverse"in O)for(const t in O["@reverse"])y(m,t,O["@reverse"][t],{propertyIsArray:!0});let e=m["@reverse"]||null;for(const t in O){if("@reverse"===t)continue;null===e&&(e=m["@reverse"]={}),y(e,t,[],{propertyIsArray:!0});const i=O[t];for(let r=0;r<i.length;++r){const o=i[r];if(A(o)||l(o))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:O});y(e,t,o,{propertyIsArray:!0})}}continue}if("@nest"===P){M.push(T);continue}let B=t;const F=c(t,T,"@context");g(F)||(B=await u({activeCtx:t,localCtx:F,propagate:!0,overrideProtected:!0,options:w}));const z=c(t,T,"@container")||[];if(z.includes("@language")&&o(N))O=_(B,N,c(B,T,"@direction"),w);else if(z.includes("@index")&&o(N)){const e=z.includes("@graph"),i=c(B,T,"@index")||"@index",n="@index"!==i&&h(t,i,{vocab:!0},w);O=await R({activeCtx:B,options:w,activeProperty:T,value:N,asGraph:e,indexKey:i,propertyIndex:n})}else if(z.includes("@id")&&o(N)){const t=z.includes("@graph");O=await R({activeCtx:B,options:w,activeProperty:T,value:N,asGraph:t,indexKey:"@id"})}else if(z.includes("@type")&&o(N))O=await R({activeCtx:B.revertToPreviousContext(),options:w,activeProperty:T,value:N,asGraph:!1,indexKey:"@type"});else{const n="@list"===P;if(n||"@set"===P){let t=e;n&&"@graph"===i&&(t=null),O=await E.expand({activeCtx:B,activeProperty:t,element:N,options:w,insideList:n})}else O="@json"===c(t,T,"@type")?{"@type":"@json","@value":N}:await E.expand({activeCtx:B,activeProperty:T,element:N,options:w,insideList:!1})}if(null!==O||"@value"===P){if("@list"!==P&&!l(O)&&z.includes("@list")&&(O={"@list":b(O)}),z.includes("@graph")&&!z.some((t=>"@id"===t||"@index"===t))){if(O=b(O),w.isFrame||(O=O.filter((t=>null!==S({value:t,count:Object.keys(t).length,options:w})))),0===O.length)continue;O=O.map((t=>({"@graph":b(t)})))}if(B.mappings.has(T)&&B.mappings.get(T).reverse){const t=m["@reverse"]=m["@reverse"]||{};O=b(O);for(let e=0;e<O.length;++e){const i=O[e];if(A(i)||l(i))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:O});y(t,P,i,{propertyIsArray:!0})}}else y(m,P,O,{propertyIsArray:!0})}}if("@value"in m)if("@json"===m["@type"]&&f(t,1.1));else if((o(j)||r(j))&&!w.isFrame)throw new n('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:j});for(const s of M){const a=r(C[s])?C[s]:[C[s]];for(const r of a){if(!o(r)||Object.keys(r).some((e=>"@value"===h(t,e,{vocab:!0},w))))throw new n("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:r});await T({activeCtx:t,activeProperty:e,expandedActiveProperty:i,element:r,expandedParent:m,options:w,insideList:O,typeScopedContext:D,typeKey:N})}}}function O({activeCtx:t,activeProperty:e,value:i,options:n}){if(null==i)return null;const r=h(t,e,{vocab:!0},n);if("@id"===r)return h(t,i,{base:!0},n);if("@type"===r)return h(t,i,{vocab:!0,base:!0},{...n,typeExpansion:!0});const o=c(t,e,"@type");if(("@id"===o||"@graph"===r)&&a(i)){const r=h(t,i,{base:!0},n);return null===r&&i.match(m)&&n.eventHandler&&k({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:e}},options:n}),{"@id":r}}if("@vocab"===o&&a(i))return{"@id":h(t,i,{vocab:!0,base:!0},n)};if(d(r))return i;const s={};if(o&&!["@id","@vocab","@none"].includes(o))s["@type"]=o;else if(a(i)){const i=c(t,e,"@language");null!==i&&(s["@language"]=i);const n=c(t,e,"@direction");null!==n&&(s["@direction"]=n)}return["boolean","number","string"].includes(typeof i)||(i=i.toString()),s["@value"]=i,s}function _(t,e,i,o){const s=[],g=Object.keys(e).sort();for(const l of g){const g=h(t,l,{vocab:!0},o);let A=e[l];r(A)||(A=[A]);for(const t of A){if(null===t)continue;if(!a(t))throw new n("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:e});const r={"@value":t};"@none"!==g&&(l.match(v)||o.eventHandler&&k({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:l}},options:o}),r["@language"]=l.toLowerCase()),i&&(r["@direction"]=i),s.push(r)}}return s}async function R({activeCtx:t,options:e,activeProperty:i,value:o,asGraph:s,indexKey:a,propertyIndex:l}){const I=[],d=Object.keys(o).sort(),f="@type"===a;for(let p of d){if(f){const i=c(t,p,"@context");g(i)||(t=await u({activeCtx:t,localCtx:i,propagate:!1,options:e}))}let d,v=o[p];r(v)||(v=[v]),v=await E.expand({activeCtx:t,activeProperty:i,element:v,options:e,insideList:!1,insideIndex:!0}),d=l?"@none"===p?"@none":O({activeCtx:t,activeProperty:a,value:p,options:e}):h(t,p,{vocab:!0},e),"@id"===a?p=h(t,p,{base:!0},e):f&&(p=d);for(let t of v){if(s&&!C(t)&&(t={"@graph":[t]}),"@type"===a)"@none"===d||(t["@type"]?t["@type"]=[p].concat(t["@type"]):t["@type"]=[p]);else{if(A(t)&&!["@language","@type","@index"].includes(a))throw new n(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${a}".`,"jsonld.SyntaxError",{code:"invalid value object",value:t});l?"@none"!==d&&y(t,l,d,{propertyIsArray:!0,prependValue:!0}):"@none"===d||a in t||(t[a]=p)}I.push(t)}}return I}t.exports=E,E.expand=async({activeCtx:t,activeProperty:e=null,element:i,options:l={},insideList:A=!1,insideIndex:C=!1,typeScopedContext:I=null})=>{if(null==i)return null;if("@default"===e&&(l=Object.assign({},l,{isFrame:!1})),!r(i)&&!o(i))return A||null!==e&&"@graph"!==h(t,e,{vocab:!0},l)?O({activeCtx:t,activeProperty:e,value:i,options:l}):(l.eventHandler&&k({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:i}},options:l}),null);if(r(i)){let n=[];const o=c(t,e,"@container")||[];A=A||o.includes("@list");for(let o=0;o<i.length;++o){let s=await E.expand({activeCtx:t,activeProperty:e,element:i[o],options:l,insideIndex:C,typeScopedContext:I});A&&r(s)&&(s={"@list":s}),null!==s&&(r(s)?n=n.concat(s):n.push(s))}return n}const d=h(t,e,{vocab:!0},l),v=c(t,e,"@context");I=I||(t.previousContext?t:null);let m=Object.keys(i).sort(),y=!C;if(y&&I&&m.length<=2&&!m.includes("@context"))for(const e of m){const i=h(I,e,{vocab:!0},l);if("@value"===i){y=!1,t=I;break}if("@id"===i&&1===m.length){y=!1;break}}y&&(t=t.revertToPreviousContext()),g(v)||(t=await u({activeCtx:t,localCtx:v,propagate:!0,overrideProtected:!0,options:l})),"@context"in i&&(t=await u({activeCtx:t,localCtx:i["@context"],options:l})),I=t;let x=null;for(const e of m)if("@type"===h(t,e,{vocab:!0},l)){x=x||e;const n=i[e],r=Array.isArray(n)?n.length>1?n.slice().sort():n:[n];for(const e of r){const i=c(I,e,"@context");g(i)||(t=await u({activeCtx:t,localCtx:i,options:l,propagate:!1}))}}let _={};await T({activeCtx:t,activeProperty:e,expandedActiveProperty:d,element:i,expandedParent:_,options:l,insideList:A,typeKey:x,typeScopedContext:I}),m=Object.keys(_);let R=m.length;if("@value"in _){if("@type"in _&&("@language"in _||"@direction"in _))throw new n('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:_});let e=R-1;if("@type"in _&&(e-=1),"@index"in _&&(e-=1),"@language"in _&&(e-=1),"@direction"in _&&(e-=1),0!==e)throw new n('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:_});const i=null===_["@value"]?[]:b(_["@value"]),r=w(_,"@type");if(f(t,1.1)&&r.includes("@json")&&1===r.length);else if(0===i.length)l.eventHandler&&k({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:_}},options:l}),_=null;else{if(!i.every((t=>a(t)||s(t)))&&"@language"in _)throw new n("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:_});if(!r.every((t=>p(t)&&!(a(t)&&0===t.indexOf("_:"))||s(t))))throw new n('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:_})}}else if("@type"in _&&!r(_["@type"]))_["@type"]=[_["@type"]];else if("@set"in _||"@list"in _){if(R>1&&(2!==R||!("@index"in _)))throw new n('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:_});"@set"in _&&(_=_["@set"],m=Object.keys(_),R=m.length)}else 1===R&&"@language"in _&&(l.eventHandler&&k({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:_}},options:l}),_=null);return!o(_)||l.keepFreeFloatingNodes||A||null!==e&&"@graph"!==d&&!(c(t,e,"@container")||[]).includes("@graph")||(_=S({value:_,count:R,options:l})),_}},4128:(t,e,i)=>{var n=i(1800),r=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(r,""):t}},4134:t=>{"use strict";class e extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError("Expected input to be an Array, got "+typeof t);let e="";for(let i=0;i<t.length;i++)e+=`    ${t[i].stack}\n`;super(e),this.name="AggregateError",this.errors=t}}t.exports={AggregateError:e,ArrayIsArray:t=>Array.isArray(t),ArrayPrototypeIncludes:(t,e)=>t.includes(e),ArrayPrototypeIndexOf:(t,e)=>t.indexOf(e),ArrayPrototypeJoin:(t,e)=>t.join(e),ArrayPrototypeMap:(t,e)=>t.map(e),ArrayPrototypePop:(t,e)=>t.pop(e),ArrayPrototypePush:(t,e)=>t.push(e),ArrayPrototypeSlice:(t,e,i)=>t.slice(e,i),Error,FunctionPrototypeCall:(t,e,...i)=>t.call(e,...i),FunctionPrototypeSymbolHasInstance:(t,e)=>Function.prototype[Symbol.hasInstance].call(t,e),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(t,e)=>Object.defineProperties(t,e),ObjectDefineProperty:(t,e,i)=>Object.defineProperty(t,e,i),ObjectGetOwnPropertyDescriptor:(t,e)=>Object.getOwnPropertyDescriptor(t,e),ObjectKeys:t=>Object.keys(t),ObjectSetPrototypeOf:(t,e)=>Object.setPrototypeOf(t,e),Promise,PromisePrototypeCatch:(t,e)=>t.catch(e),PromisePrototypeThen:(t,e,i)=>t.then(e,i),PromiseReject:t=>Promise.reject(t),PromiseResolve:t=>Promise.resolve(t),ReflectApply:Reflect.apply,RegExpPrototypeTest:(t,e)=>t.test(e),SafeSet:Set,String,StringPrototypeSlice:(t,e,i)=>t.slice(e,i),StringPrototypeToLowerCase:t=>t.toLowerCase(),StringPrototypeToUpperCase:t=>t.toUpperCase(),StringPrototypeTrim:t=>t.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(t,e,i)=>t.set(e,i),Boolean,Uint8Array}},4147:(t,e,i)=>{"use strict";const{SymbolDispose:n}=i(4134),{AbortError:r,codes:o}=i(6371),{isNodeStream:s,isWebStream:a,kControllerErrorFunction:g}=i(6115),l=i(6238),{ERR_INVALID_ARG_TYPE:A}=o;let C;t.exports.addAbortSignal=function(e,i){if((t=>{if("object"!=typeof t||!("aborted"in t))throw new A("signal","AbortSignal",t)})(e),!s(i)&&!a(i))throw new A("stream",["ReadableStream","WritableStream","Stream"],i);return t.exports.addAbortSignalNoValidate(e,i)},t.exports.addAbortSignalNoValidate=function(t,e){if("object"!=typeof t||!("aborted"in t))return e;const o=s(e)?()=>{e.destroy(new r(void 0,{cause:t.reason}))}:()=>{e[g](new r(void 0,{cause:t.reason}))};if(t.aborted)o();else{C=C||i(7760).addAbortListener;const r=C(t,o);l(e,r[n])}return e}},4259:(t,e,i)=>{"use strict";const{ArrayIsArray:n,ObjectSetPrototypeOf:r}=i(4134),{EventEmitter:o}=i(7007);function s(t){o.call(this,t)}function a(t,e,i){if("function"==typeof t.prependListener)return t.prependListener(e,i);t._events&&t._events[e]?n(t._events[e])?t._events[e].unshift(i):t._events[e]=[i,t._events[e]]:t.on(e,i)}r(s.prototype,o.prototype),r(s,o),s.prototype.pipe=function(t,e){const i=this;function n(e){t.writable&&!1===t.write(e)&&i.pause&&i.pause()}function r(){i.readable&&i.resume&&i.resume()}i.on("data",n),t.on("drain",r),t._isStdio||e&&!1===e.end||(i.on("end",g),i.on("close",l));let s=!1;function g(){s||(s=!0,t.end())}function l(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function A(t){C(),0===o.listenerCount(this,"error")&&this.emit("error",t)}function C(){i.removeListener("data",n),t.removeListener("drain",r),i.removeListener("end",g),i.removeListener("close",l),i.removeListener("error",A),t.removeListener("error",A),i.removeListener("end",C),i.removeListener("close",C),t.removeListener("close",C)}return a(i,"error",A),a(t,"error",A),i.on("end",C),i.on("close",C),t.on("close",C),t.emit("pipe",i),t},t.exports={Stream:s,prependListener:a}},4394:(t,e,i)=>{var n=i(2552),r=i(346);t.exports=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==n(t)}},4405:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextTree=void 0;class i{constructor(){this.subTrees={}}getContext(t){if(t.length>0){const[e,...i]=t,n=this.subTrees[e];if(n){const t=n.getContext(i);if(t)return t.then((({context:t,depth:e})=>({context:t,depth:e+1})))}}return this.context?this.context.then((t=>({context:t,depth:0}))):null}setContext(t,e){if(0===t.length)this.context=e;else{const[n,...r]=t;let o=this.subTrees[n];o||(o=this.subTrees[n]=new i),o.setContext(r,e)}}removeContext(t){this.setContext(t,null)}}e.ContextTree=i},4797:(t,e)=>{"use strict";function i(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR="-퟿-�𐀀-􏿿",e.RESTRICTED_CHAR="-\b\v\f---",e.S=" \t\r\n",e.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.RESTRICTED_CHAR_RE=new RegExp("^["+e.RESTRICTED_CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u"),e.S_LIST=[32,10,13,9],e.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},e.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},e.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},e.isS=function(t){return 32===t||10===t||13===t||9===t},e.isNameStartChar=i,e.isNameChar=function(t){return i(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}},4806:(t,e)=>{"use strict";function i(t){const e=[];let i=0;for(;i<t.length;)switch(t[i]){case"/":if("."===t[i+1])if("."===t[i+2]){if(!r(t[i+3])){e.push([]),i++;break}e.pop(),t[i+3]||e.push([]),i+=3}else{if(!r(t[i+2])){e.push([]),i++;break}t[i+2]||e.push([]),i+=2}else e.push([]),i++;break;case"#":case"?":e.length||e.push([]),e[e.length-1].push(t.substr(i)),i=t.length;break;default:e.length||e.push([]),e[e.length-1].push(t[i]),i++}return"/"+e.map((t=>t.join(""))).join("/")}function n(t,e){let n=e+1;e>=0?"/"===t[e+1]&&"/"===t[e+2]&&(n=e+3):"/"===t[0]&&"/"===t[1]&&(n=2);const r=t.indexOf("/",n);return r<0?t:t.substr(0,r)+i(t.substr(r))}function r(t){return!t||"#"===t||"?"===t||"/"===t}Object.defineProperty(e,"__esModule",{value:!0}),e.removeDotSegmentsOfPath=e.removeDotSegments=e.resolve=void 0,e.resolve=function(t,e){const r=(e=e||"").indexOf("#");if(r>0&&(e=e.substr(0,r)),!t.length){if(e.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${e}' for value '${t}'`);return e}if(t.startsWith("?")){const i=e.indexOf("?");return i>0&&(e=e.substr(0,i)),e+t}if(t.startsWith("#"))return e+t;if(!e.length){const e=t.indexOf(":");if(e<0)throw new Error(`Found invalid relative IRI '${t}' for a missing baseIRI`);return n(t,e)}const o=t.indexOf(":");if(o>=0)return n(t,o);const s=e.indexOf(":");if(s<0)throw new Error(`Found invalid baseIRI '${e}' for value '${t}'`);const a=e.substr(0,s+1);if(0===t.indexOf("//"))return a+n(t,o);let g;if(e.indexOf("//",s)===s+1){if(g=e.indexOf("/",s+3),g<0)return e.length>s+3?e+"/"+n(t,o):a+n(t,o)}else if(g=e.indexOf("/",s+1),g<0)return a+n(t,o);if(0===t.indexOf("/"))return e.substr(0,g)+i(t);let l=e.substr(g);const A=l.lastIndexOf("/");return A>=0&&A<l.length-1&&(l=l.substr(0,A+1),"."===t[0]&&"."!==t[1]&&"/"!==t[1]&&t[2]&&(t=t.substr(1))),t=i(t=l+t),e.substr(0,g)+t},e.removeDotSegments=i,e.removeDotSegmentsOfPath=n},4840:(t,e,i)=>{var n="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g;t.exports=n},4841:(t,e,i)=>{const n=i(8023),r=i(701),o=i(9263),s=i(7034),a=o.IdentifierIssuer,g=i(2207),l=i(1235),A=i(8229),{expand:C}=i(4019),{flatten:I}=i(5229),{fromRDF:h}=i(3947),{toRDF:c}=i(9180),{frameMergedOrDefault:d,cleanupNull:u}=i(7946),{isArray:f,isObject:p,isString:v}=i(5001),{isSubjectReference:m}=i(3978),{expandIri:y,getInitialContext:b,process:w,processingMode:x}=i(1972),{compact:k,compactIri:E}=i(1058),{createNodeMap:S,createMergedNodeMap:T,mergeNodeMaps:O}=i(9233),{logEventHandler:_,logWarningEventHandler:R,safeEventHandler:N,setDefaultEventHandler:D,setupEventHandler:P,strictEventHandler:M,unhandledEventHandler:j}=i(2246),L=function(t){const e={},L=new l({max:100});function B(e,{documentLoader:i=t.documentLoader,...n}){if(e&&"compactionMap"in e)throw new g('"compactionMap" not supported.',"jsonld.OptionsError");if(e&&"expansionMap"in e)throw new g('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:i},n,e,{eventHandler:P({options:e})})}return t.compact=async function(e,i,n){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===i)throw new g("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===e)return null;let r;(n=B(n,{base:v(e)?e:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new a("_:b"),contextResolver:new s({sharedCache:L})})).link&&(n.skipExpansion=!0),n.compactToRelative||delete n.base,r=n.skipExpansion?e:await t.expand(e,n);const l=await t.processContext(b(n),i,n);let A=await k({activeCtx:l,element:r,options:n});n.compactArrays&&!n.graph&&f(A)?1===A.length?A=A[0]:0===A.length&&(A={}):n.graph&&p(A)&&(A=[A]),p(i)&&"@context"in i&&(i=i["@context"]),i=o.clone(i),f(i)||(i=[i]);const C=i;i=[];for(let t=0;t<C.length;++t)(!p(C[t])||Object.keys(C[t]).length>0)&&i.push(C[t]);const I=i.length>0;if(1===i.length&&(i=i[0]),f(A)){const t=E({activeCtx:l,iri:"@graph",relativeTo:{vocab:!0}}),e=A;A={},I&&(A["@context"]=i),A[t]=e}else if(p(A)&&I){const t=A;A={"@context":i};for(const e in t)A[e]=t[e]}return A},t.expand=async function(e,i){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");const n={},r=[];if("expandContext"in(i=B(i,{keepFreeFloatingNodes:!1,contextResolver:new s({sharedCache:L})}))){const t=o.clone(i.expandContext);p(t)&&"@context"in t?n.expandContext=t:n.expandContext={"@context":t},r.push(n.expandContext)}let a;if(v(e)){const o=await t.get(e,i);a=o.documentUrl,n.input=o.document,o.contextUrl&&(n.remoteContext={"@context":o.contextUrl},r.push(n.remoteContext))}else n.input=o.clone(e);"base"in i||(i.base=a||"");let g=b(i);for(const t of r)g=await w({activeCtx:g,localCtx:t,options:i});let l=await C({activeCtx:g,element:n.input,options:i});return p(l)&&"@graph"in l&&1===Object.keys(l).length?l=l["@graph"]:null===l&&(l=[]),f(l)||(l=[l]),l},t.flatten=async function(e,i,n){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");i="function"==typeof i?null:i||null,n=B(n,{base:v(e)?e:"",contextResolver:new s({sharedCache:L})});const r=await t.expand(e,n),o=I(r);return null===i?o:(n.graph=!0,n.skipExpansion=!0,await t.compact(o,i,n))},t.frame=async function(e,i,n){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(n=B(n,{base:v(e)?e:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new s({sharedCache:L})}),v(i)){const e=await t.get(i,n);if(i=e.document,e.contextUrl){let t=i["@context"];t?f(t)?t.push(e.contextUrl):t=[t,e.contextUrl]:t=e.contextUrl,i["@context"]=t}}const r=i&&i["@context"]||{},o=await t.processContext(b(n),r,n);n.hasOwnProperty("omitGraph")||(n.omitGraph=x(o,1.1)),n.hasOwnProperty("pruneBlankNodeIdentifiers")||(n.pruneBlankNodeIdentifiers=x(o,1.1));const a=await t.expand(e,n),g={...n};g.isFrame=!0,g.keepFreeFloatingNodes=!0;const l=await t.expand(i,g),A=Object.keys(i).map((t=>y(o,t,{vocab:!0})));g.merged=!A.includes("@graph"),g.is11=x(o,1.1);const C=d(a,l,g);g.graph=!n.omitGraph,g.skipExpansion=!0,g.link={},g.framing=!0;let I=await t.compact(C,r,g);return g.link={},I=u(I,g),I},t.link=async function(e,i,n){const r={};return i&&(r["@context"]=i),r["@embed"]="@link",t.frame(e,r,n)},t.normalize=t.canonize=async function(e,i){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(i=B(i,{base:v(e)?e:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new s({sharedCache:L})}))){if("application/n-quads"!==i.inputFormat&&"application/nquads"!==i.inputFormat)throw new g("Unknown canonicalization input format.","jsonld.CanonizeError");const t=A.parse(e);return n.canonize(t,i)}const r={...i};delete r.format,r.produceGeneralizedRdf=!1;const o=await t.toRDF(e,r);return n.canonize(o,i)},t.fromRDF=async function(t,i){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");i=B(i,{format:v(t)?"application/n-quads":void 0});const{format:n}=i;let{rdfParser:r}=i;if(n){if(r=r||e[n],!r)throw new g("Unknown input format.","jsonld.UnknownFormat",{format:n})}else r=()=>t;const o=await r(t);return h(o,i)},t.toRDF=async function(e,i){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let n;n=(i=B(i,{base:v(e)?e:"",skipExpansion:!1,contextResolver:new s({sharedCache:L})})).skipExpansion?e:await t.expand(e,i);const r=c(n,i);if(i.format){if("application/n-quads"===i.format||"application/nquads"===i.format)return A.serialize(r);throw new g("Unknown output format.","jsonld.UnknownFormat",{format:i.format})}return r},t.createNodeMap=async function(e,i){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");i=B(i,{base:v(e)?e:"",contextResolver:new s({sharedCache:L})});const n=await t.expand(e,i);return T(n,i)},t.merge=async function(e,i,n){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!f(e))throw new TypeError('Could not merge, "docs" must be an array.');i="function"==typeof i?null:i||null,n=B(n,{contextResolver:new s({sharedCache:L})});const r=await Promise.all(e.map((e=>{const i={...n};return t.expand(e,i)})));let g=!0;"mergeNodes"in n&&(g=n.mergeNodes);const l=n.issuer||new a("_:b"),A={"@default":{}};for(let t=0;t<r.length;++t){const e=o.relabelBlankNodes(r[t],{issuer:new a("_:b"+t+"-")}),i=g||0===t?A:{"@default":{}};if(S(e,i,"@default",l),i!==A)for(const t in i){const e=i[t];if(!(t in A)){A[t]=e;continue}const n=A[t];for(const t in e)t in n||(n[t]=e[t])}}const C=O(A),I=[],h=Object.keys(C).sort();for(let t=0;t<h.length;++t){const e=C[h[t]];m(e)||I.push(e)}return null===i?I:(n.graph=!0,n.skipExpansion=!0,await t.compact(I,i,n))},Object.defineProperty(t,"documentLoader",{get:()=>t._documentLoader,set:e=>t._documentLoader=e}),t.documentLoader=async t=>{throw new g("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:t})},t.get=async function(e,i){let n;n="function"==typeof i.documentLoader?i.documentLoader:t.documentLoader;const r=await n(e);try{if(!r.document)throw new g("No remote document found at the given URL.","jsonld.NullRemoteDocument");v(r.document)&&(r.document=JSON.parse(r.document))}catch(t){throw new g("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:t,remoteDoc:r})}return r},t.processContext=async function(t,e,i){return i=B(i,{base:"",contextResolver:new s({sharedCache:L})}),null===e?b(i):(e=o.clone(e),p(e)&&"@context"in e||(e={"@context":e}),w({activeCtx:t,localCtx:e,options:i}))},t.getContextValue=i(1972).getContextValue,t.documentLoaders={},t.useDocumentLoader=function(e){if(!(e in t.documentLoaders))throw new g('Unknown document loader type: "'+e+'"',"jsonld.UnknownDocumentLoader",{type:e});t.documentLoader=t.documentLoaders[e].apply(t,Array.prototype.slice.call(arguments,1))},t.registerRDFParser=function(t,i){e[t]=i},t.unregisterRDFParser=function(t){delete e[t]},t.registerRDFParser("application/n-quads",A.parse),t.registerRDFParser("application/nquads",A.parse),t.url=i(470),t.logEventHandler=_,t.logWarningEventHandler=R,t.safeEventHandler=N,t.setDefaultEventHandler=D,t.strictEventHandler=M,t.unhandledEventHandler=j,t.util=o,Object.assign(t,o),t.promises=t,t.RequestQueue=i(3743),t.JsonLdProcessor=i(5445)(t),r.setupGlobals(t),r.setupDocumentLoaders(t),t},B=function(){return L((function(){return B()}))};L(B),t.exports=B},4860:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerContainer=void 0;const n=i(7986),r=i(1977),o=i(3847),s=i(7229),a=i(888);class g{static isSimpleGraphContainer(t){return"@graph"in t&&("@set"in t&&2===Object.keys(t).length||1===Object.keys(t).length)}static isComplexGraphContainer(t){return"@graph"in t&&("@set"in t&&Object.keys(t).length>2||!("@set"in t)&&Object.keys(t).length>1)}static getContainerGraphIndex(t,e,i){let n=g.isSimpleGraphContainer(t),r="";for(let t=e;t<i.length;t++)n&&"number"!=typeof i[t]||(r+=":"+i[t]),n||"number"==typeof i[t]||(n=!0);return r}static async getContainerHandler(t,e,i){const n={containers:{"@set":!0},depth:i,fallback:!0};let r=!1;const o=await t.getContext(e,2);for(let t=i-1;t>=0;t--)if("number"!=typeof e[t]){const i=a.Util.getContextValue(o,"@container",e[t],!1);if(i&&g.isSimpleGraphContainer(i))return{containers:i,depth:t+1,fallback:!1};const s=a.Util.getContextValue(o,"@container",e[t-1],!1);if(s){const e="@graph"in s;for(const i in g.CONTAINER_HANDLERS)if(s[i])return e?g.CONTAINER_HANDLERS[i].canCombineWithGraph()?{containers:s,depth:t,fallback:!1}:n:r?n:{containers:s,depth:t,fallback:!1};return n}if(r)return n;r=!0}return n}static async isBufferableContainerHandler(t,e,i){const n=await g.getContainerHandler(t,e,i);return!n.fallback&&!("@graph"in n.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,i,n,r){return!!await this.test(t,e,null,i,n)}async test(t,e,i,n,r){const o=a.Util.getContextValueContainer(await t.getContext(n,2),n[r-1]);for(const t in g.CONTAINER_HANDLERS)if(o[t])return{containers:o,handler:g.CONTAINER_HANDLERS[t]};return null}async handle(t,e,i,n,r,o,s){return s.handler.handle(s.containers,t,e,n,r,o)}}e.EntryHandlerContainer=g,g.CONTAINER_HANDLERS={"@id":new n.ContainerHandlerIdentifier,"@index":new r.ContainerHandlerIndex,"@language":new o.ContainerHandlerLanguage,"@type":new s.ContainerHandlerType}},4910:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordNest=void 0;const n=i(2395),r=i(1548);class o extends r.EntryHandlerKeyword{constructor(){super("@nest")}async handle(t,e,i,r,o,s){"object"!=typeof o&&t.emitError(new n.ErrorCoded(`Found invalid @nest entry for '${i}': '${o}'`,n.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await e.unaliasKeywords(o,r,s,await t.getContext(r))&&t.emitError(new n.ErrorCoded(`Found an invalid @value node for '${i}'`,n.ERROR_CODES.INVALID_NEST_VALUE)),t.emittedStack[s]=!1}}e.EntryHandlerKeywordNest=o},4931:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;class i{static isCompactIri(t){return t.indexOf(":")>0&&!(t&&"#"===t[0])}static getPrefix(t,e){if(t&&"#"===t[0])return null;const i=t.indexOf(":");if(i>=0){if(t.length>i+1&&"/"===t.charAt(i+1)&&"/"===t.charAt(i+2))return null;const n=t.substr(0,i);if("_"===n)return null;if(e[n])return n}return null}static getContextValueId(t){if(null===t||"string"==typeof t)return t;return t["@id"]||null}static isSimpleTermDefinitionPrefix(t,e){return!i.isPotentialKeyword(t)&&(e.allowPrefixNonGenDelims||"string"==typeof t&&("_"===t[0]||i.isPrefixIriEndingWithGenDelim(t)))}static isPotentialKeyword(t){return"string"==typeof t&&i.KEYWORD_REGEX.test(t)}static isPrefixIriEndingWithGenDelim(t){return i.ENDS_WITH_GEN_DELIM.test(t)}static isPrefixValue(t){return t&&("string"==typeof t||t&&"object"==typeof t)}static isValidIri(t){return Boolean(t&&i.IRI_REGEX.test(t))}static isValidIriWeak(t){return!!t&&":"!==t[0]&&i.IRI_REGEX_WEAK.test(t)}static isValidKeyword(t){return i.VALID_KEYWORDS[t]}static isTermProtected(t,e){const i=t[e];return!("string"==typeof i)&&i&&i["@protected"]}static hasProtectedTerms(t){for(const e of Object.keys(t))if(i.isTermProtected(t,e))return!0;return!1}static isReservedInternalKeyword(t){return t.startsWith("@__")}static deepEqual(t,e){const i=Object.keys(t),n=Object.keys(e);return i.length===n.length&&i.every((i=>{const n=t[i],r=e[i];return n===r||null!==n&&null!==r&&"object"==typeof n&&"object"==typeof r&&this.deepEqual(n,r)}))}}i.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,i.IRI_REGEX_WEAK=/(?::[^:])|\//,i.KEYWORD_REGEX=/^@[a-z]+$/i,i.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,i.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,i.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,i.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},i.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],i.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],i.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],i.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],i.CONTAINERS_1_0=["@list","@set","@index"],e.Util=i},4991:(t,e,i)=>{"use strict";i(2791),e.setImmediate=setImmediate,e.crypto=globalThis.crypto;const n=[];for(let t=0;t<=255;++t)n.push(t.toString(16).padStart(2,"0"));e.bufferToHex=function(t){let e="";const i=new Uint8Array(t);for(let t=0;t<i.length;++t)e+=n[i[t]];return e}},5001:t=>{"use strict";const e={};t.exports=e,e.isArray=Array.isArray,e.isBoolean=t=>"boolean"==typeof t||"[object Boolean]"===Object.prototype.toString.call(t),e.isDouble=t=>e.isNumber(t)&&(-1!==String(t).indexOf(".")||Math.abs(t)>=1e21),e.isEmptyObject=t=>e.isObject(t)&&0===Object.keys(t).length,e.isNumber=t=>"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t),e.isNumeric=t=>!isNaN(parseFloat(t))&&isFinite(t),e.isObject=t=>"[object Object]"===Object.prototype.toString.call(t),e.isString=t=>"string"==typeof t||"[object String]"===Object.prototype.toString.call(t),e.isUndefined=t=>void 0===t},5056:(t,e,i)=>{"use strict";t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},5072:t=>{"use strict";var e=[];function i(t){for(var i=-1,n=0;n<e.length;n++)if(e[n].identifier===t){i=n;break}return i}function n(t,n){for(var o={},s=[],a=0;a<t.length;a++){var g=t[a],l=n.base?g[0]+n.base:g[0],A=o[l]||0,C="".concat(l," ").concat(A);o[l]=A+1;var I=i(C),h={css:g[1],media:g[2],sourceMap:g[3],supports:g[4],layer:g[5]};if(-1!==I)e[I].references++,e[I].updater(h);else{var c=r(h,n);n.byIndex=a,e.splice(a,0,{identifier:C,updater:c,references:1})}s.push(C)}return s}function r(t,e){var i=e.domAPI(e);return i.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,r){var o=n(t=t||[],r=r||{});return function(t){t=t||[];for(var s=0;s<o.length;s++){var a=i(o[s]);e[a].references--}for(var g=n(t,r),l=0;l<o.length;l++){var A=i(o[l]);0===e[A].references&&(e[A].updater(),e.splice(A,1))}o=g}}},5086:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},5094:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_CODES=e.ErrorCoded=void 0;class i extends Error{constructor(t,e){super(t),this.code=e}}var n;e.ErrorCoded=i,(n=e.ERROR_CODES||(e.ERROR_CODES={})).COLLIDING_KEYWORDS="colliding keywords",n.CONFLICTING_INDEXES="conflicting indexes",n.CYCLIC_IRI_MAPPING="cyclic IRI mapping",n.INVALID_ID_VALUE="invalid @id value",n.INVALID_INDEX_VALUE="invalid @index value",n.INVALID_NEST_VALUE="invalid @nest value",n.INVALID_PREFIX_VALUE="invalid @prefix value",n.INVALID_PROPAGATE_VALUE="invalid @propagate value",n.INVALID_REVERSE_VALUE="invalid @reverse value",n.INVALID_IMPORT_VALUE="invalid @import value",n.INVALID_VERSION_VALUE="invalid @version value",n.INVALID_BASE_IRI="invalid base IRI",n.INVALID_CONTAINER_MAPPING="invalid container mapping",n.INVALID_CONTEXT_ENTRY="invalid context entry",n.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",n.INVALID_DEFAULT_LANGUAGE="invalid default language",n.INVALID_INCLUDED_VALUE="invalid @included value",n.INVALID_IRI_MAPPING="invalid IRI mapping",n.INVALID_JSON_LITERAL="invalid JSON literal",n.INVALID_KEYWORD_ALIAS="invalid keyword alias",n.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",n.INVALID_LANGUAGE_MAPPING="invalid language mapping",n.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",n.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",n.INVALID_LOCAL_CONTEXT="invalid local context",n.INVALID_REMOTE_CONTEXT="invalid remote context",n.INVALID_REVERSE_PROPERTY="invalid reverse property",n.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",n.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",n.INVALID_SCOPED_CONTEXT="invalid scoped context",n.INVALID_SCRIPT_ELEMENT="invalid script element",n.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",n.INVALID_TERM_DEFINITION="invalid term definition",n.INVALID_TYPE_MAPPING="invalid type mapping",n.INVALID_TYPE_VALUE="invalid type value",n.INVALID_TYPED_VALUE="invalid typed value",n.INVALID_VALUE_OBJECT="invalid value object",n.INVALID_VALUE_OBJECT_VALUE="invalid value object value",n.INVALID_VOCAB_MAPPING="invalid vocab mapping",n.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",n.KEYWORD_REDEFINITION="keyword redefinition",n.LOADING_DOCUMENT_FAILED="loading document failed",n.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",n.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",n.PROCESSING_MODE_CONFLICT="processing mode conflict",n.PROTECTED_TERM_REDEFINITION="protected term redefinition",n.CONTEXT_OVERFLOW="context overflow",n.INVALID_BASE_DIRECTION="invalid base direction",n.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",n.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",n.INVALID_EMBEDDED_NODE="invalid embedded node",n.INVALID_ANNOTATION="invalid annotation"},5181:t=>{"use strict";const e="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",i="http://www.w3.org/2001/XMLSchema#string",n="NamedNode",r="BlankNode",o="Literal",s="DefaultGraph",a={};(()=>{const t="(?:<([^:]+:[^>]*)>)",e="A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_",i=e+"0-9-·̀-ͯ‿-⁀",n="(_:(?:["+e+"0-9])(?:(?:["+i+".])*(?:["+i+"]))?)",r="[ \\t]+",o="[ \\t]*",s="(?:"+t+"|"+n+")"+r,g=t+r,l="(?:"+t+"|"+n+'|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^'+t+")|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))"+o,A="(?:\\.|(?:(?:"+t+"|"+n+")"+o+"\\.))";a.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,a.empty=new RegExp("^"+o+"$"),a.quad=new RegExp("^"+o+s+g+l+A+o+"$")})(),t.exports=class t{static parse(t){const g=[],A={},C=t.split(a.eoln);let I=0;for(const t of C){if(I++,a.empty.test(t))continue;const C=t.match(a.quad);if(null===C)throw new Error("N-Quads parse error on line "+I+".");const d={subject:null,predicate:null,object:null,graph:null};if(void 0!==C[1]?d.subject={termType:n,value:C[1]}:d.subject={termType:r,value:C[2]},d.predicate={termType:n,value:C[3]},void 0!==C[4]?d.object={termType:n,value:C[4]}:void 0!==C[5]?d.object={termType:r,value:C[5]}:(d.object={termType:o,value:void 0,datatype:{termType:n}},void 0!==C[7]?d.object.datatype.value=C[7]:void 0!==C[8]?(d.object.datatype.value=e,d.object.language=C[8]):d.object.datatype.value=i,d.object.value=C[6].replace(l,(function(t,e,i,n){if(e)switch(e){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(i)return String.fromCharCode(parseInt(i,16));if(n)throw new Error("Unsupported U escape")}))),void 0!==C[9]?d.graph={termType:n,value:C[9]}:void 0!==C[10]?d.graph={termType:r,value:C[10]}:d.graph={termType:s,value:""},d.graph.value in A){let t=!0;const e=A[d.graph.value];for(const i of e)if(c=d,(h=i).subject.termType===c.subject.termType&&h.object.termType===c.object.termType&&h.subject.value===c.subject.value&&h.predicate.value===c.predicate.value&&h.object.value===c.object.value&&(h.object.termType!==o||h.object.datatype.termType===c.object.datatype.termType&&h.object.language===c.object.language&&h.object.datatype.value===c.object.datatype.value)){t=!1;break}t&&(e.push(d),g.push(d))}else A[d.graph.value]=[d],g.push(d)}var h,c;return g}static serialize(e){Array.isArray(e)||(e=t.legacyDatasetToQuads(e));const i=[];for(const n of e)i.push(t.serializeQuad(n));return i.sort().join("")}static serializeQuadComponents(t,o,s,a){let l="";return t.termType===n?l+=`<${t.value}>`:l+=`${t.value}`,l+=` <${o.value}> `,s.termType===n?l+=`<${s.value}>`:s.termType===r?l+=s.value:(l+=`"${function(t){return t.replace(g,(function(t){switch(t){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))}(s.value)}"`,s.datatype.value===e?s.language&&(l+=`@${s.language}`):s.datatype.value!==i&&(l+=`^^<${s.datatype.value}>`)),a.termType===n?l+=` <${a.value}>`:a.termType===r&&(l+=` ${a.value}`),l+=" .\n",l}static serializeQuad(e){return t.serializeQuadComponents(e.subject,e.predicate,e.object,e.graph)}static legacyDatasetToQuads(t){const a=[],g={"blank node":r,IRI:n,literal:o};for(const l in t)t[l].forEach((t=>{const A={};for(const r in t){const s=t[r],a={termType:g[s.type],value:s.value};a.termType===o&&(a.datatype={termType:n},"datatype"in s&&(a.datatype.value=s.datatype),"language"in s?("datatype"in s||(a.datatype.value=e),a.language=s.language):"datatype"in s||(a.datatype.value=i)),A[r]=a}A.graph="@default"===l?{termType:s,value:""}:{termType:l.startsWith("_:")?r:n,value:l},a.push(A)}));return a}};const g=/["\\\n\r]/g,l=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},5201:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SaxesParser=e.EVENTS=void 0;const n=i(1487),r=i(4797),o=i(446);var s=n.isS,a=n.isChar,g=n.isNameStartChar,l=n.isNameChar,A=n.S_LIST,C=n.NAME_RE,I=r.isChar,h=o.isNCNameStartChar,c=o.isNCNameChar,d=o.NC_NAME_RE;const u="http://www.w3.org/XML/1998/namespace",f="http://www.w3.org/2000/xmlns/",p={__proto__:null,xml:u,xmlns:f},v={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},m=-1,y=-2,b=13,w=33,x=10,k=60,E=61,S=62,T=63,O=93,_=t=>34===t||39===t,R=[34,39],N=[...R,91,S],D=[...R,k,O],P=[E,T,...A],M=[...A,S,38,k];function j(t,e,i){switch(e){case"xml":i!==u&&t.fail(`xml prefix must be bound to ${u}.`);break;case"xmlns":i!==f&&t.fail(`xmlns prefix must be bound to ${f}.`)}switch(i){case f:t.fail(""===e?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${f}.`);break;case u:switch(e){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const L=t=>d.test(t),B=t=>C.test(t);e.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const F={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};e.SaxesParser=class{get closed(){return this._closed}constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const e=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,e){this.nameStartCheck=h,this.nameCheck=c,this.isName=L,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},p);const t=this.opt.additionalNamespaces;null!=t&&(function(t,e){for(const i of Object.keys(e))j(t,i,e[i])}(this,t),Object.assign(this.ns,t))}else this.nameStartCheck=g,this.nameCheck=l,this.isName=B,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:e}=this;this.state=e?b:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=e,this.xmlDeclPossible=!e,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(v),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,e){this[F[t]]=e}off(t){this[F[t]]=void 0}makeError(t){var e;let i=null!==(e=this.fileName)&&void 0!==e?e:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new Error(i+t)}fail(t){const e=this.makeError(t),i=this.errorHandler;if(void 0===i)throw e;return i(e),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let e=!1;null===t?(e=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const n=t.charCodeAt(i-1);!e&&(13===n||n>=55296&&n<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,e?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:e}=this;if(this.prevI=e,this.i=e+1,e>=t.length)return m;const i=t.charCodeAt(e);if(this.column++,i<55296){if(i>=32||9===i)return i;switch(i){case x:return this.line++,this.column=0,this.positionAtNewLine=this.position,x;case 13:return t.charCodeAt(e+1)===x&&(this.i=e+2),this.line++,this.column=0,this.positionAtNewLine=this.position,y;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const n=65536+1024*(i-55296)+(t.charCodeAt(e+1)-56320);return this.i=e+2,n>1114111&&this.fail("disallowed character."),n}getCode11(){const{chunk:t,i:e}=this;if(this.prevI=e,this.i=e+1,e>=t.length)return m;const i=t.charCodeAt(e);if(this.column++,i<55296){if(i>31&&i<127||i>159&&8232!==i||9===i)return i;switch(i){case x:return this.line++,this.column=0,this.positionAtNewLine=this.position,x;case 13:{const i=t.charCodeAt(e+1);i!==x&&133!==i||(this.i=e+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,y;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const n=65536+1024*(i-55296)+(t.charCodeAt(e+1)-56320);return this.i=e+2,n>1114111&&this.fail("disallowed character."),n}getCodeNorm(){const t=this.getCode();return t===y?x:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:e}=this;const{chunk:i}=this;for(;;){const n=this.getCode(),r=n===y,o=r?x:n;if(o===m||t.includes(o))return this.text+=i.slice(e,this.prevI),o;r&&(this.text+=`${i.slice(e,this.prevI)}\n`,e=this.i)}}captureToChar(t){let{i:e}=this;const{chunk:i}=this;for(;;){let n=this.getCode();switch(n){case y:this.text+=`${i.slice(e,this.prevI)}\n`,e=this.i,n=x;break;case m:return this.text+=i.slice(e),!1}if(n===t)return this.text+=i.slice(e,this.prevI),!0}}captureNameChars(){const{chunk:t,i:e}=this;for(;;){const i=this.getCode();if(i===m)return this.name+=t.slice(e),m;if(!l(i))return this.name+=t.slice(e,this.prevI),i===y?x:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===m||!s(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=a,this.getCode=this.getCode10):(this.isChar=I,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const t=this.i,e=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),e){case k:if(this.state=15,0!==this.text.length)throw new Error("no-empty text at start");break;case m:break;default:this.unget(),this.state=b,this.xmlDeclPossible=!1}}sDoctype(){var t;const e=this.captureTo(N);switch(e){case S:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=b,this.doctype=!0;break;case m:break;default:this.text+=String.fromCodePoint(e),91===e?this.state=4:_(e)&&(this.state=3,this.q=e)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=2)}sDTD(){const t=this.captureTo(D);t!==m&&(this.text+=String.fromCodePoint(t),t===O?this.state=2:t===k?this.state=6:_(t)&&(this.state=5,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=4,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case 33:this.state=7,this.openWakaBang="";break;case T:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),e=this.openWakaBang+=t;this.text+=t,"-"!==e&&(this.state="--"===e?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=45===t?10:8}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===S?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(T)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===S&&(this.state=4)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:e}=this;t:for(;;)switch(this.getCode()){case y:this.entity+=`${e.slice(t,this.prevI)}\n`,t=this.i;break;case 59:{const{entityReturnState:i}=this,n=this.entity+e.slice(t,this.prevI);let r;this.state=i,""===n?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(n),this.entity=""),i===b&&void 0===this.textHandler||(this.text+=r);break t}case m:this.entity+=e.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(g(t))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(t){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case T:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=b,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var t;const e=this.getCodeNorm();45===e?(this.state=19,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(e)}`,this.state=17)}sCommentEnded(){const t=this.getCodeNorm();t!==S?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=17):this.state=b}sCData(){this.captureToChar(O)&&(this.state=21)}sCDataEnding(){const t=this.getCodeNorm();t===O?this.state=22:(this.text+=`]${String.fromCodePoint(t)}`,this.state=20)}sCDataEnding2(){var t;const e=this.getCodeNorm();switch(e){case S:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=b;break;case O:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(e)}`,this.state=20}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=24):t===T||s(t)?(this.fail("processing instruction without a target."),this.state=t===T?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=24)}sPIRest(){const{chunk:t,i:e}=this;for(;;){const i=this.getCodeNorm();if(i===m)return void(this.piTarget+=t.slice(e));if(!this.nameCheck(i)){this.piTarget+=t.slice(e,this.prevI);const n=i===T;n||s(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=n?w:27):this.state=n?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===T?this.state=26:s(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(T)&&(this.state=26)}sPIEnding(){var t;const e=this.getCodeNorm();if(e===S){const{piTarget:e}=this;"xml"===e.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:e,body:this.text}),this.piTarget=this.text="",this.state=b}else e===T?this.text+="?":(this.text+=`?${String.fromCodePoint(e)}`,this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==T?t!==m&&(this.state=28,this.name=String.fromCodePoint(t)):this.state=w}sXMLDeclName(){const t=this.captureTo(P);if(t===T)return this.state=w,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(s(t)||t===E){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===E?30:29}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===T)return this.state=w,void this.fail("XML declaration is incomplete.");s(t)||(t!==E&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===T)return this.state=w,void this.fail("XML declaration is incomplete.");s(t)||(_(t)?this.q=t:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const t=this.captureTo([this.q,T]);if(t===T)return this.state=w,this.text="",void this.fail("XML declaration is incomplete.");if(t===m)return;const e=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=e;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(e)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=e;break;case"standalone":"yes"!==e&&"no"!==e&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=e}this.name="",this.state=32}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==T?(s(t)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=w}sXMLDeclEnding(){var t;this.getCodeNorm()===S?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=b):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const e=this.captureNameChars();if(e===m)return;const i=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=Object.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),e){case S:this.openTag();break;case 47:this.state=35;break;default:s(e)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===S?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const t=this.skipSpaces();t!==m&&(g(t)?(this.unget(),this.state=37):t===S?this.openTag():47===t?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===E?this.state=39:s(t)?this.state=38:t===S?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==m&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case m:return;case E:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",t===S?this.openTag():g(t)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const t=this.getCodeNorm();_(t)?(this.q=t,this.state=40):s(t)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:t,chunk:e}=this;let{i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+e.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=e.slice(i,this.prevI),this.state=14,void(this.entityReturnState=40);case x:case y:case 9:this.text+=`${e.slice(i,this.prevI)} `,i=this.i;break;case k:return this.text+=e.slice(i,this.prevI),void this.fail("disallowed character.");case m:return void(this.text+=e.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();s(t)?this.state=36:t===S?this.openTag():47===t?this.state=35:g(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(M);switch(t){case 38:this.state=14,this.entityReturnState=42;break;case k:this.fail("disallowed character.");break;case m:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===S?this.openTag():this.state=36}}sCloseTag(){const t=this.captureNameChars();t===S?this.closeTag():s(t)?this.state=44:t!==m&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case S:this.closeTag();break;case m:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:e}=this;const{chunk:i,textHandler:n}=this;t:for(;;)switch(this.getCode()){case k:if(this.state=15,void 0!==n){const{text:e}=this,r=i.slice(t,this.prevI);0!==e.length?(n(e+r),this.text=""):0!==r.length&&n(r)}e=0;break t;case 38:this.state=14,this.entityReturnState=b,void 0!==n&&(this.text+=i.slice(t,this.prevI)),e=0;break t;case O:switch(e){case 0:e=1;break;case 1:e=2;break;case 2:break;default:throw new Error("impossible state")}break;case S:2===e&&this.fail('the string "]]>" is disallowed in char data.'),e=0;break;case y:void 0!==n&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,e=0;break;case m:void 0!==n&&(this.text+=i.slice(t));break t;default:e=0}this.forbiddenState=e}handleTextOutsideRoot(){let{i:t}=this;const{chunk:e,textHandler:i}=this;let n=!1;t:for(;;){const r=this.getCode();switch(r){case k:if(this.state=15,void 0!==i){const{text:n}=this,r=e.slice(t,this.prevI);0!==n.length?(i(n+r),this.text=""):0!==r.length&&i(r)}break t;case 38:this.state=14,this.entityReturnState=b,void 0!==i&&(this.text+=e.slice(t,this.prevI)),n=!0;break t;case y:void 0!==i&&(this.text+=`${e.slice(t,this.prevI)}\n`),t=this.i;break;case m:void 0!==i&&(this.text+=e.slice(t));break t;default:s(r)||(n=!0)}}n&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,e){var i;const{prefix:n,local:r}=this.qname(t),o={name:t,prefix:n,local:r,value:e};if(this.attribList.push(o),null===(i=this.attributeHandler)||void 0===i||i.call(this,o),"xmlns"===n){const t=e.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,j(this,r,t)}else if("xmlns"===t){const t=e.trim();this.topNS[""]=t,j(this,"",t)}}pushAttribPlain(t,e){var i;const n={name:t,value:e};this.attribList.push(n),null===(i=this.attributeHandler)||void 0===i||i.call(this,n)}end(){var t,e;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}0!==this.state&&this.state!==b&&this.fail("unexpected end.");const{text:n}=this;return 0!==n.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,n),this.text=""),this._closed=!0,null===(e=this.endHandler)||void 0===e||e.call(this),this._init(),this}resolve(t){var e,i;let n=this.topNS[t];if(void 0!==n)return n;const{tags:r}=this;for(let e=r.length-1;e>=0;e--)if(n=r[e].ns[t],void 0!==n)return n;return n=this.ns[t],void 0!==n?n:null===(i=(e=this.opt).resolvePrefix)||void 0===i?void 0:i.call(e,t)}qname(t){const e=t.indexOf(":");if(-1===e)return{prefix:"",local:t};const i=t.slice(e+1),n=t.slice(0,e);return(""===n||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:n,local:i}}processAttribsNS(){var t;const{attribList:e}=this,i=this.tag;{const{prefix:e,local:n}=this.qname(i.name);i.prefix=e,i.local=n;const r=i.uri=null!==(t=this.resolve(e))&&void 0!==t?t:"";""!==e&&("xmlns"===e&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(e)}.`),i.uri=e))}if(0===e.length)return;const{attributes:n}=i,r=new Set;for(const t of e){const{name:e,prefix:i,local:o}=t;let s,a;""===i?(s="xmlns"===e?f:"",a=e):(s=this.resolve(i),void 0===s&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),s=i),a=`{${s}}${o}`),r.has(a)&&this.fail(`duplicate attribute: ${a}.`),r.add(a),t.uri=s,n[e]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,e=this.tag.attributes;for(const{name:i,value:n}of t)void 0!==e[i]&&this.fail(`duplicate attribute: ${i}.`),e[i]=n;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:e}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),e.push(i),this.state=b,this.name=""}openSelfClosingTag(){var t,e,i;this.processAttribs();const{tags:n}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(e=this.closeTagHandler)||void 0===e||e.call(this,r),null===(this.tag=null!==(i=n[n.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=b,this.name=""}closeTag(){const{tags:t,name:e}=this;if(this.state=b,this.name="",""===e)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let n=t.length;for(;n-- >0;){const n=this.tag=t.pop();if(this.topNS=n.ns,null==i||i(n),n.name===e)break;this.fail("unexpected close tag.")}0===n?this.closedRoot=!0:n<0&&(this.fail(`unmatched closing tag: ${e}.`),this.text+=`</${e}>`)}parseEntity(t){if("#"!==t[0]){const e=this.ENTITIES[t];return void 0!==e?e:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let e=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?e=parseInt(t.slice(2),16):/^#[0-9]+$/.test(t)&&(e=parseInt(t.slice(1),10)),this.isChar(e)?String.fromCodePoint(e):(this.fail("malformed character entity."),`&${t};`)}}},5215:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExpandOptions=e.JsonLdContextNormalized=void 0;const n=i(742),r=i(5094),o=i(4931);e.JsonLdContextNormalized=class{constructor(t){this.contextRaw=t}getContextRaw(){return this.contextRaw}expandTerm(t,i,s=e.defaultExpandOptions){const a=this.contextRaw[t];if(null===a||a&&null===a["@id"])return null;let g=!0;if(a&&i){const e=o.Util.getContextValueId(a);if(e&&e!==t){if("string"==typeof e&&(o.Util.isValidIri(e)||o.Util.isValidKeyword(e)))return e;o.Util.isPotentialKeyword(e)||(g=!1)}}const l=o.Util.getPrefix(t,this.contextRaw),A=this.contextRaw["@vocab"],C=(!!A||""===A)&&A.indexOf(":")<0,I=this.contextRaw["@base"],h=o.Util.isPotentialKeyword(t);if(l){const e=this.contextRaw[l],i=o.Util.getContextValueId(e);if(i){if("string"!=typeof e&&s.allowPrefixForcing){if("_"!==i[0]&&!h&&!e["@prefix"]&&!(t in this.contextRaw))return t}else if(!o.Util.isSimpleTermDefinitionPrefix(i,s))return t;return i+t.substr(l.length+1)}}else{if(i&&(A||""===A||s.allowVocabRelativeToBase&&I&&C)&&!h&&!o.Util.isCompactIri(t)){if(C){if(s.allowVocabRelativeToBase)return(A||I?(0,n.resolve)(A,I):"")+t;throw new r.ErrorCoded(`Relative vocab expansion for term '${t}' with vocab '${A}' is not allowed.`,r.ERROR_CODES.INVALID_VOCAB_MAPPING)}return A+t}if(!i&&I&&!h&&!o.Util.isCompactIri(t))return(0,n.resolve)(t,I)}if(g)return t;throw new r.ErrorCoded(`Invalid IRI mapping found for context entry '${t}': '${JSON.stringify(a)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(t,e){if(e&&this.contextRaw["@vocab"]&&t.startsWith(this.contextRaw["@vocab"]))return t.substr(this.contextRaw["@vocab"].length);if(!e&&this.contextRaw["@base"]&&t.startsWith(this.contextRaw["@base"]))return t.substr(this.contextRaw["@base"].length);const i={prefix:"",suffix:t};for(const n in this.contextRaw){const r=this.contextRaw[n];if(r&&!o.Util.isPotentialKeyword(n)){const s=o.Util.getContextValueId(r);if(t.startsWith(s)){const r=t.substr(s.length);if(r)r.length<i.suffix.length&&(i.prefix=n,i.suffix=r);else if(e)return n}}}return i.prefix?i.prefix+":"+i.suffix:t}},e.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},5229:(t,e,i)=>{"use strict";const{isSubjectReference:n}=i(3978),{createMergedNodeMap:r}=i(9233),o={};t.exports=o,o.flatten=t=>{const e=r(t),i=[],o=Object.keys(e).sort();for(let t=0;t<o.length;++t){const r=e[o[t]];n(r)||i.push(r)}return i}},5291:(t,e,i)=>{"use strict";const{MathFloor:n,NumberIsInteger:r}=i(4134),{validateInteger:o}=i(277),{ERR_INVALID_ARG_VALUE:s}=i(6371).codes;let a=16384,g=16;function l(t){return t?g:a}t.exports={getHighWaterMark:function(t,e,i,o){const a=function(t,e,i){return null!=t.highWaterMark?t.highWaterMark:e?t[i]:null}(e,o,i);if(null!=a){if(!r(a)||a<0)throw new s(o?`options.${i}`:"options.highWaterMark",a);return n(a)}return l(t.objectMode)},getDefaultHighWaterMark:l,setDefaultHighWaterMark:function(t,e){o(e,"value",0),t?g=e:a=e}}},5445:t=>{"use strict";t.exports=t=>{class e{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(e,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(e.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:e}),e.compact=function(e,i){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):t.compact(e,i)},e.expand=function(e){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):t.expand(e)},e.flatten=function(e){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):t.flatten(e)},e}},5506:(t,e,i)=>{"use strict";const{Buffer:n}=i(8287),{ObjectDefineProperty:r,ObjectKeys:o,ReflectApply:s}=i(4134),{promisify:{custom:a}}=i(7760),{streamReturningOperators:g,promiseReturningOperators:l}=i(823),{codes:{ERR_ILLEGAL_CONSTRUCTOR:A}}=i(6371),C=i(7830),{setDefaultHighWaterMark:I,getDefaultHighWaterMark:h}=i(5291),{pipeline:c}=i(7758),{destroyer:d}=i(5896),u=i(6238),f=i(3095),p=i(6115),v=t.exports=i(4259).Stream;v.isDestroyed=p.isDestroyed,v.isDisturbed=p.isDisturbed,v.isErrored=p.isErrored,v.isReadable=p.isReadable,v.isWritable=p.isWritable,v.Readable=i(7576);for(const y of o(g)){const b=g[y];function w(...t){if(new.target)throw A();return v.Readable.from(s(b,this,t))}r(w,"name",{__proto__:null,value:b.name}),r(w,"length",{__proto__:null,value:b.length}),r(v.Readable.prototype,y,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}for(const x of o(l)){const k=l[x];function E(...t){if(new.target)throw A();return s(k,this,t)}r(E,"name",{__proto__:null,value:k.name}),r(E,"length",{__proto__:null,value:k.length}),r(v.Readable.prototype,x,{__proto__:null,value:E,enumerable:!1,configurable:!0,writable:!0})}v.Writable=i(8584),v.Duplex=i(3370),v.Transform=i(7382),v.PassThrough=i(6524),v.pipeline=c;const{addAbortSignal:m}=i(4147);v.addAbortSignal=m,v.finished=u,v.destroy=d,v.compose=C,v.setDefaultHighWaterMark=I,v.getDefaultHighWaterMark=h,r(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>f}),r(c,a,{__proto__:null,enumerable:!0,get:()=>f.pipeline}),r(u,a,{__proto__:null,enumerable:!0,get:()=>f.finished}),v.Stream=v,v._isUint8Array=function(t){return t instanceof Uint8Array},v._uint8ArrayToBuffer=function(t){return n.from(t.buffer,t.byteOffset,t.byteLength)}},5517:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordId=void 0;const n=i(2395),r=i(1548);class o extends r.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(t,e,i,r,o,s){if("string"!=typeof o){if(t.rdfstar&&"object"==typeof o){const e=Object.keys(o);1===e.length&&"@id"===e[0]&&t.emitError(new n.ErrorCoded(`Invalid embedded node without property with @id ${o["@id"]}`,n.ERROR_CODES.INVALID_EMBEDDED_NODE))}else t.emitError(new n.ErrorCoded(`Found illegal @id '${o}'`,n.ERROR_CODES.INVALID_ID_VALUE));return}const a=await e.getPropertiesDepth(r,s);if(void 0!==t.idStack[a]&&(t.idStack[a][0].listHead?t.emitError(new n.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${r[s-1]}'`,n.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):t.emitError(new n.ErrorCoded(`Found duplicate @ids '${t.idStack[a][0].value}' and '${o}'`,n.ERROR_CODES.COLLIDING_KEYWORDS))),t.rdfstar&&t.annotationsBuffer[s])for(const e of t.annotationsBuffer[s])e.depth===s&&t.emitError(new n.ErrorCoded(`Found an illegal @id inside an annotation: ${o}`,n.ERROR_CODES.INVALID_ANNOTATION));t.idStack[a]=e.nullableTermToArray(await e.resourceToTerm(await t.getContext(r),o))}}e.EntryHandlerKeywordId=o},5568:t=>{"use strict";const{AbortController:e,AbortSignal:i}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;t.exports=e,t.exports.AbortSignal=i,t.exports.default=e},5606:t=>{var e,i,n=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===r||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(i){try{return e.call(null,t,0)}catch(i){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:r}catch(t){e=r}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var a,g=[],l=!1,A=-1;function C(){l&&a&&(l=!1,a.length?g=a.concat(g):A=-1,g.length&&I())}function I(){if(!l){var t=s(C);l=!0;for(var e=g.length;e;){for(a=g,g=[];++A<e;)a&&a[A].run();A=-1,e=g.length}a=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function c(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];g.push(new h(t,e)),1!==g.length||l||s(I)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=c,n.addListener=c,n.once=c,n.off=c,n.removeListener=c,n.removeAllListeners=c,n.emit=c,n.prependListener=c,n.prependOnceListener=c,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},5611:function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(i(8225),e)},5896:(t,e,i)=>{"use strict";const n=i(5606),{aggregateTwoErrors:r,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:s}=i(6371),{Symbol:a}=i(4134),{kIsDestroyed:g,isDestroyed:l,isFinished:A,isServerRequest:C}=i(6115),I=a("kDestroy"),h=a("kConstruct");function c(t,e,i){t&&(t.stack,e&&!e.errored&&(e.errored=t),i&&!i.errored&&(i.errored=t))}function d(t,e,i){let r=!1;function o(e){if(r)return;r=!0;const o=t._readableState,s=t._writableState;c(e,s,o),s&&(s.closed=!0),o&&(o.closed=!0),"function"==typeof i&&i(e),e?n.nextTick(u,t,e):n.nextTick(f,t)}try{t._destroy(e||null,o)}catch(e){o(e)}}function u(t,e){p(t,e),f(t)}function f(t){const e=t._readableState,i=t._writableState;i&&(i.closeEmitted=!0),e&&(e.closeEmitted=!0),(null!=i&&i.emitClose||null!=e&&e.emitClose)&&t.emit("close")}function p(t,e){const i=t._readableState,n=t._writableState;null!=n&&n.errorEmitted||null!=i&&i.errorEmitted||(n&&(n.errorEmitted=!0),i&&(i.errorEmitted=!0),t.emit("error",e))}function v(t,e,i){const r=t._readableState,o=t._writableState;if(null!=o&&o.destroyed||null!=r&&r.destroyed)return this;null!=r&&r.autoDestroy||null!=o&&o.autoDestroy?t.destroy(e):e&&(e.stack,o&&!o.errored&&(o.errored=e),r&&!r.errored&&(r.errored=e),i?n.nextTick(p,t,e):p(t,e))}function m(t){let e=!1;function i(i){if(e)return void v(t,null!=i?i:new o);e=!0;const r=t._readableState,s=t._writableState,a=s||r;r&&(r.constructed=!0),s&&(s.constructed=!0),a.destroyed?t.emit(I,i):i?v(t,i,!0):n.nextTick(y,t)}try{t._construct((t=>{n.nextTick(i,t)}))}catch(t){n.nextTick(i,t)}}function y(t){t.emit(h)}function b(t){return(null==t?void 0:t.setHeader)&&"function"==typeof t.abort}function w(t){t.emit("close")}function x(t,e){t.emit("error",e),n.nextTick(w,t)}t.exports={construct:function(t,e){if("function"!=typeof t._construct)return;const i=t._readableState,r=t._writableState;i&&(i.constructed=!1),r&&(r.constructed=!1),t.once(h,e),t.listenerCount(h)>1||n.nextTick(m,t)},destroyer:function(t,e){t&&!l(t)&&(e||A(t)||(e=new s),C(t)?(t.socket=null,t.destroy(e)):b(t)?t.abort():b(t.req)?t.req.abort():"function"==typeof t.destroy?t.destroy(e):"function"==typeof t.close?t.close():e?n.nextTick(x,t,e):n.nextTick(w,t),t.destroyed||(t[g]=!0))},destroy:function(t,e){const i=this._readableState,n=this._writableState,o=n||i;return null!=n&&n.destroyed||null!=i&&i.destroyed?("function"==typeof e&&e(),this):(c(t,n,i),n&&(n.destroyed=!0),i&&(i.destroyed=!0),o.constructed?d(this,t,e):this.once(I,(function(i){d(this,r(i,t),e)})),this)},undestroy:function(){const t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=!1===t.readable,t.endEmitted=!1===t.readable),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=!1===e.writable,e.ending=!1===e.writable,e.finished=!1===e.writable)},errorOrDestroy:v}},5916:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParseError=void 0;class i extends Error{constructor(t,e){const i=t.saxParser;super(t.trackPosition?`Line ${i.line} column ${i.column+1}: ${e}`:e)}}e.ParseError=i},5998:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordGraph=void 0;const n=i(1548);class r extends n.EntryHandlerKeyword{constructor(){super("@graph")}async handle(t,e,i,n,r,o){t.graphStack[o+1]=!0}}e.EntryHandlerKeywordGraph=r},6105:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordAnnotation=void 0;const n=i(1548),r=i(2395);class o extends n.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(t,e,i,n,o,s){("string"==typeof o||"object"==typeof o&&o["@value"])&&t.emitError(new r.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(o)}`,r.ERROR_CODES.INVALID_ANNOTATION))}}e.EntryHandlerKeywordAnnotation=o},6115:(t,e,i)=>{"use strict";const{SymbolAsyncIterator:n,SymbolIterator:r,SymbolFor:o}=i(4134),s=o("nodejs.stream.destroyed"),a=o("nodejs.stream.errored"),g=o("nodejs.stream.readable"),l=o("nodejs.stream.writable"),A=o("nodejs.stream.disturbed"),C=o("nodejs.webstream.isClosedPromise"),I=o("nodejs.webstream.controllerErrorFunction");function h(t,e=!1){var i;return!(!t||"function"!=typeof t.pipe||"function"!=typeof t.on||e&&("function"!=typeof t.pause||"function"!=typeof t.resume)||t._writableState&&!1===(null===(i=t._readableState)||void 0===i?void 0:i.readable)||t._writableState&&!t._readableState)}function c(t){var e;return!(!t||"function"!=typeof t.write||"function"!=typeof t.on||t._readableState&&!1===(null===(e=t._writableState)||void 0===e?void 0:e.writable))}function d(t){return t&&(t._readableState||t._writableState||"function"==typeof t.write&&"function"==typeof t.on||"function"==typeof t.pipe&&"function"==typeof t.on)}function u(t){return!(!t||d(t)||"function"!=typeof t.pipeThrough||"function"!=typeof t.getReader||"function"!=typeof t.cancel)}function f(t){return!(!t||d(t)||"function"!=typeof t.getWriter||"function"!=typeof t.abort)}function p(t){return!(!t||d(t)||"object"!=typeof t.readable||"object"!=typeof t.writable)}function v(t){if(!d(t))return null;const e=t._writableState,i=t._readableState,n=e||i;return!!(t.destroyed||t[s]||null!=n&&n.destroyed)}function m(t){if(!c(t))return null;if(!0===t.writableEnded)return!0;const e=t._writableState;return(null==e||!e.errored)&&("boolean"!=typeof(null==e?void 0:e.ended)?null:e.ended)}function y(t,e){if(!h(t))return null;const i=t._readableState;return(null==i||!i.errored)&&("boolean"!=typeof(null==i?void 0:i.endEmitted)?null:!!(i.endEmitted||!1===e&&!0===i.ended&&0===i.length))}function b(t){return t&&null!=t[g]?t[g]:"boolean"!=typeof(null==t?void 0:t.readable)?null:!v(t)&&h(t)&&t.readable&&!y(t)}function w(t){return t&&null!=t[l]?t[l]:"boolean"!=typeof(null==t?void 0:t.writable)?null:!v(t)&&c(t)&&t.writable&&!m(t)}function x(t){return"boolean"==typeof t._closed&&"boolean"==typeof t._defaultKeepAlive&&"boolean"==typeof t._removedConnection&&"boolean"==typeof t._removedContLen}function k(t){return"boolean"==typeof t._sent100&&x(t)}t.exports={isDestroyed:v,kIsDestroyed:s,isDisturbed:function(t){var e;return!(!t||!(null!==(e=t[A])&&void 0!==e?e:t.readableDidRead||t.readableAborted))},kIsDisturbed:A,isErrored:function(t){var e,i,n,r,o,s,g,l,A,C;return!(!t||!(null!==(e=null!==(i=null!==(n=null!==(r=null!==(o=null!==(s=t[a])&&void 0!==s?s:t.readableErrored)&&void 0!==o?o:t.writableErrored)&&void 0!==r?r:null===(g=t._readableState)||void 0===g?void 0:g.errorEmitted)&&void 0!==n?n:null===(l=t._writableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==i?i:null===(A=t._readableState)||void 0===A?void 0:A.errored)&&void 0!==e?e:null===(C=t._writableState)||void 0===C?void 0:C.errored))},kIsErrored:a,isReadable:b,kIsReadable:g,kIsClosedPromise:C,kControllerErrorFunction:I,kIsWritable:l,isClosed:function(t){if(!d(t))return null;if("boolean"==typeof t.closed)return t.closed;const e=t._writableState,i=t._readableState;return"boolean"==typeof(null==e?void 0:e.closed)||"boolean"==typeof(null==i?void 0:i.closed)?(null==e?void 0:e.closed)||(null==i?void 0:i.closed):"boolean"==typeof t._closed&&x(t)?t._closed:null},isDuplexNodeStream:function(t){return!(!t||"function"!=typeof t.pipe||!t._readableState||"function"!=typeof t.on||"function"!=typeof t.write)},isFinished:function(t,e){return d(t)?!(!v(t)&&(!1!==(null==e?void 0:e.readable)&&b(t)||!1!==(null==e?void 0:e.writable)&&w(t))):null},isIterable:function(t,e){return null!=t&&(!0===e?"function"==typeof t[n]:!1===e?"function"==typeof t[r]:"function"==typeof t[n]||"function"==typeof t[r])},isReadableNodeStream:h,isReadableStream:u,isReadableEnded:function(t){if(!h(t))return null;if(!0===t.readableEnded)return!0;const e=t._readableState;return!(!e||e.errored)&&("boolean"!=typeof(null==e?void 0:e.ended)?null:e.ended)},isReadableFinished:y,isReadableErrored:function(t){var e,i;return d(t)?t.readableErrored?t.readableErrored:null!==(e=null===(i=t._readableState)||void 0===i?void 0:i.errored)&&void 0!==e?e:null:null},isNodeStream:d,isWebStream:function(t){return u(t)||f(t)||p(t)},isWritable:w,isWritableNodeStream:c,isWritableStream:f,isWritableEnded:m,isWritableFinished:function(t,e){if(!c(t))return null;if(!0===t.writableFinished)return!0;const i=t._writableState;return(null==i||!i.errored)&&("boolean"!=typeof(null==i?void 0:i.finished)?null:!!(i.finished||!1===e&&!0===i.ended&&0===i.length))},isWritableErrored:function(t){var e,i;return d(t)?t.writableErrored?t.writableErrored:null!==(e=null===(i=t._writableState)||void 0===i?void 0:i.errored)&&void 0!==e?e:null:null},isServerRequest:function(t){var e;return"boolean"==typeof t._consuming&&"boolean"==typeof t._dumped&&void 0===(null===(e=t.req)||void 0===e?void 0:e.upgradeOrConnect)},isServerResponse:k,willEmitClose:function(t){if(!d(t))return null;const e=t._writableState,i=t._readableState,n=e||i;return!n&&k(t)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:p}},6238:(t,e,i)=>{"use strict";const n=i(5606),{AbortError:r,codes:o}=i(6371),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:a}=o,{kEmptyObject:g,once:l}=i(7760),{validateAbortSignal:A,validateFunction:C,validateObject:I,validateBoolean:h}=i(277),{Promise:c,PromisePrototypeThen:d,SymbolDispose:u}=i(4134),{isClosed:f,isReadable:p,isReadableNodeStream:v,isReadableStream:m,isReadableFinished:y,isReadableErrored:b,isWritable:w,isWritableNodeStream:x,isWritableStream:k,isWritableFinished:E,isWritableErrored:S,isNodeStream:T,willEmitClose:O,kIsClosedPromise:_}=i(6115);let R;const N=()=>{};function D(t,e,o){var h,c;if(2===arguments.length?(o=e,e=g):null==e?e=g:I(e,"options"),C(o,"callback"),A(e.signal,"options.signal"),o=l(o),m(t)||k(t))return function(t,e,o){let s=!1,a=N;if(e.signal)if(a=()=>{s=!0,o.call(t,new r(void 0,{cause:e.signal.reason}))},e.signal.aborted)n.nextTick(a);else{R=R||i(7760).addAbortListener;const n=R(e.signal,a),r=o;o=l(((...e)=>{n[u](),r.apply(t,e)}))}const g=(...e)=>{s||n.nextTick((()=>o.apply(t,e)))};return d(t[_].promise,g,g),N}(t,e,o);if(!T(t))throw new s("stream",["ReadableStream","WritableStream","Stream"],t);const D=null!==(h=e.readable)&&void 0!==h?h:v(t),P=null!==(c=e.writable)&&void 0!==c?c:x(t),M=t._writableState,j=t._readableState,L=()=>{t.writable||z()};let B=O(t)&&v(t)===D&&x(t)===P,F=E(t,!1);const z=()=>{F=!0,t.destroyed&&(B=!1),(!B||t.readable&&!D)&&(D&&!V||o.call(t))};let V=y(t,!1);const G=()=>{V=!0,t.destroyed&&(B=!1),(!B||t.writable&&!P)&&(P&&!F||o.call(t))},W=e=>{o.call(t,e)};let U=f(t);const Z=()=>{U=!0;const e=S(t)||b(t);return e&&"boolean"!=typeof e?o.call(t,e):D&&!V&&v(t,!0)&&!y(t,!1)?o.call(t,new a):!P||F||E(t,!1)?void o.call(t):o.call(t,new a)},H=()=>{U=!0;const e=S(t)||b(t);if(e&&"boolean"!=typeof e)return o.call(t,e);o.call(t)},Y=()=>{t.req.on("finish",z)};!function(t){return t.setHeader&&"function"==typeof t.abort}(t)?P&&!M&&(t.on("end",L),t.on("close",L)):(t.on("complete",z),B||t.on("abort",Z),t.req?Y():t.on("request",Y)),B||"boolean"!=typeof t.aborted||t.on("aborted",Z),t.on("end",G),t.on("finish",z),!1!==e.error&&t.on("error",W),t.on("close",Z),U?n.nextTick(Z):null!=M&&M.errorEmitted||null!=j&&j.errorEmitted?B||n.nextTick(H):(D||B&&!p(t)||!F&&!1!==w(t))&&(P||B&&!w(t)||!V&&!1!==p(t))?j&&t.req&&t.aborted&&n.nextTick(H):n.nextTick(H);const K=()=>{o=N,t.removeListener("aborted",Z),t.removeListener("complete",z),t.removeListener("abort",Z),t.removeListener("request",Y),t.req&&t.req.removeListener("finish",z),t.removeListener("end",L),t.removeListener("close",L),t.removeListener("finish",z),t.removeListener("end",G),t.removeListener("error",W),t.removeListener("close",Z)};if(e.signal&&!U){const s=()=>{const i=o;K(),i.call(t,new r(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)n.nextTick(s);else{R=R||i(7760).addAbortListener;const n=R(e.signal,s),r=o;o=l(((...e)=>{n[u](),r.apply(t,e)}))}}return K}t.exports=D,t.exports.finished=function(t,e){var i;let n=!1;return null===e&&(e=g),null!==(i=e)&&void 0!==i&&i.cleanup&&(h(e.cleanup,"cleanup"),n=e.cleanup),new c(((i,r)=>{const o=D(t,e,(t=>{n&&o(),t?r(t):i()}))}))}},6314:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",n=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),n&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),n&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,n,r,o){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(n)for(var a=0;a<this.length;a++){var g=this[a][0];null!=g&&(s[g]=!0)}for(var l=0;l<t.length;l++){var A=[].concat(t[l]);n&&s[A[0]]||(void 0!==o&&(void 0===A[5]||(A[1]="@layer".concat(A[5].length>0?" ".concat(A[5]):""," {").concat(A[1],"}")),A[5]=o),i&&(A[2]?(A[1]="@media ".concat(A[2]," {").concat(A[1],"}"),A[2]=i):A[2]=i),r&&(A[4]?(A[1]="@supports (".concat(A[4],") {").concat(A[1],"}"),A[4]=r):A[4]="".concat(r)),e.push(A))}},e}},6371:(t,e,i)=>{"use strict";const{format:n,inspect:r}=i(9231),{AggregateError:o}=i(4134),s=globalThis.AggregateError||o,a=Symbol("kIsNodeError"),g=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,A={};function C(t,e){if(!t)throw new A.ERR_INTERNAL_ASSERTION(e)}function I(t){let e="",i=t.length;const n="-"===t[0]?1:0;for(;i>=n+4;i-=3)e=`_${t.slice(i-3,i)}${e}`;return`${t.slice(0,i)}${e}`}function h(t,e,i){i||(i=Error);class r extends i{constructor(...i){super(function(t,e,i){if("function"==typeof e)return C(e.length<=i.length,`Code: ${t}; The provided arguments length (${i.length}) does not match the required ones (${e.length}).`),e(...i);const r=(e.match(/%[dfijoOs]/g)||[]).length;return C(r===i.length,`Code: ${t}; The provided arguments length (${i.length}) does not match the required ones (${r}).`),0===i.length?e:n(e,...i)}(t,e,i))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(r.prototype,{name:{value:i.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),r.prototype.code=t,r.prototype[a]=!0,A[t]=r}function c(t){const e="__node_internal_"+t.name;return Object.defineProperty(t,"name",{value:e}),t}class d extends Error{constructor(t="The operation was aborted",e=void 0){if(void 0!==e&&"object"!=typeof e)throw new A.ERR_INVALID_ARG_TYPE("options","Object",e);super(t,e),this.code="ABORT_ERR",this.name="AbortError"}}h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",((t,e,i)=>{C("string"==typeof t,"'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";const o=[],s=[],a=[];for(const t of e)C("string"==typeof t,"All expected entries have to be of type string"),g.includes(t)?o.push(t.toLowerCase()):l.test(t)?s.push(t):(C("object"!==t,'The value "object" should be written as "Object"'),a.push(t));if(s.length>0){const t=o.indexOf("object");-1!==t&&(o.splice(o,t,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{const t=o.pop();n+=`one of type ${o.join(", ")}, or ${t}`}}(s.length>0||a.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const t=s.pop();n+=`an instance of ${s.join(", ")}, or ${t}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{const t=a.pop();n+=`one of ${a.join(", ")}, or ${t}`}}if(null==i)n+=`. Received ${i}`;else if("function"==typeof i&&i.name)n+=`. Received function ${i.name}`;else if("object"==typeof i){var A;null!==(A=i.constructor)&&void 0!==A&&A.name?n+=`. Received an instance of ${i.constructor.name}`:n+=`. Received ${r(i,{depth:-1})}`}else{let t=r(i,{colors:!1});t.length>25&&(t=`${t.slice(0,25)}...`),n+=`. Received type ${typeof i} (${t})`}return n}),TypeError),h("ERR_INVALID_ARG_VALUE",((t,e,i="is invalid")=>{let n=r(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${i}. Received ${n}`}),TypeError),h("ERR_INVALID_RETURN_VALUE",((t,e,i)=>{var n;return`Expected ${t} to be returned from the "${e}" function but got ${null!=i&&null!==(n=i.constructor)&&void 0!==n&&n.name?`instance of ${i.constructor.name}`:"type "+typeof i}.`}),TypeError),h("ERR_MISSING_ARGS",((...t)=>{let e;C(t.length>0,"At least one arg needs to be specified");const i=t.length;switch(t=(Array.isArray(t)?t:[t]).map((t=>`"${t}"`)).join(" or "),i){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const i=t.pop();e+=`The ${t.join(", ")}, and ${i} arguments`}}return`${e} must be specified`}),TypeError),h("ERR_OUT_OF_RANGE",((t,e,i)=>{let n;if(C(e,'Missing "range" argument'),Number.isInteger(i)&&Math.abs(i)>2**32)n=I(String(i));else if("bigint"==typeof i){n=String(i);const t=BigInt(2)**BigInt(32);(i>t||i<-t)&&(n=I(n)),n+="n"}else n=r(i);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`}),RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError:d,aggregateTwoErrors:c((function(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;const i=new s([e,t],e.message);return i.code=e.code,i}return t||e})),hideStackFrames:c,codes:A}},6441:(t,e,i)=>{"use strict";i(2791);const n=self.crypto||self.msCrypto;t.exports=class{constructor(t){if(!n||!n.subtle)throw new Error("crypto.subtle not found.");if("sha256"===t)this.algorithm={name:"SHA-256"};else{if("sha1"!==t)throw new Error(`Unsupported algorithm "${t}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(t){this._content+=t}async digest(){const t=(new TextEncoder).encode(this._content),e=new Uint8Array(await n.subtle.digest(this.algorithm,t));let i="";for(let t=0;t<e.length;++t)i+=e[t].toString(16).padStart(2,"0");return i}}},6454:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordUnknownFallback=void 0;const n=i(2395);class r{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,i,r,o){const s=await e.unaliasKeyword(i[r],i,r);return!(!n.Util.isPotentialKeyword(s)||!o&&"@list"===s)}async test(t,e,i,r,o){return n.Util.isPotentialKeyword(i)}async handle(t,e,i,o,s,a){const g=r.VALID_KEYWORDS_TYPES[i];void 0!==g?g&&typeof s!==g.type&&t.emitError(new n.ErrorCoded(`Invalid value type for '${i}' with value '${s}'`,g.errorCode)):t.strictValues&&t.emitError(new Error(`Unknown keyword '${i}' with value '${s}'`)),t.emittedStack[a]=!1}}e.EntryHandlerKeywordUnknownFallback=r,r.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:n.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:n.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null}},6524:(t,e,i)=>{"use strict";const{ObjectSetPrototypeOf:n}=i(4134);t.exports=o;const r=i(7382);function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}n(o.prototype,r.prototype),n(o,r),o.prototype._transform=function(t,e,i){i(null,t)}},6532:(t,e,i)=>{"use strict";const n=i(5606),{PromisePrototypeThen:r,SymbolAsyncIterator:o,SymbolIterator:s}=i(4134),{Buffer:a}=i(8287),{ERR_INVALID_ARG_TYPE:g,ERR_STREAM_NULL_VALUES:l}=i(6371).codes;t.exports=function(t,e,i){let A,C;if("string"==typeof e||e instanceof a)return new t({objectMode:!0,...i,read(){this.push(e),this.push(null)}});if(e&&e[o])C=!0,A=e[o]();else{if(!e||!e[s])throw new g("iterable",["Iterable"],e);C=!1,A=e[s]()}const I=new t({objectMode:!0,highWaterMark:1,...i});let h=!1;return I._read=function(){h||(h=!0,async function(){for(;;){try{const{value:t,done:e}=C?await A.next():A.next();if(e)I.push(null);else{const e=t&&"function"==typeof t.then?await t:t;if(null===e)throw h=!1,new l;if(I.push(e))continue;h=!1}}catch(t){I.destroy(t)}break}}())},I._destroy=function(t,e){r(async function(t){const e=null!=t,i="function"==typeof A.throw;if(e&&i){const{value:e,done:i}=await A.throw(t);if(await e,i)return}if("function"==typeof A.return){const{value:t}=await A.return();await t}}(t),(()=>n.nextTick(e,t)),(i=>n.nextTick(e,i||t)))},I}},6706:(t,e,i)=>{const n=i(5606),r=i(8287),{isReadable:o,isWritable:s,isIterable:a,isNodeStream:g,isReadableNodeStream:l,isWritableNodeStream:A,isDuplexNodeStream:C,isReadableStream:I,isWritableStream:h}=i(6115),c=i(6238),{AbortError:d,codes:{ERR_INVALID_ARG_TYPE:u,ERR_INVALID_RETURN_VALUE:f}}=i(6371),{destroyer:p}=i(5896),v=i(3370),m=i(7576),y=i(8584),{createDeferredPromise:b}=i(7760),w=i(6532),x=globalThis.Blob||r.Blob,k=void 0!==x?function(t){return t instanceof x}:function(t){return!1},E=globalThis.AbortController||i(5568).AbortController,{FunctionPrototypeCall:S}=i(4134);class T extends v{constructor(t){super(t),!1===(null==t?void 0:t.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==t?void 0:t.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function O(t){const e=t.readable&&"function"!=typeof t.readable.read?m.wrap(t.readable):t.readable,i=t.writable;let n,r,a,g,l,A=!!o(e),C=!!s(i);function I(t){const e=g;g=null,e?e(t):t&&l.destroy(t)}return l=new T({readableObjectMode:!(null==e||!e.readableObjectMode),writableObjectMode:!(null==i||!i.writableObjectMode),readable:A,writable:C}),C&&(c(i,(t=>{C=!1,t&&p(e,t),I(t)})),l._write=function(t,e,r){i.write(t,e)?r():n=r},l._final=function(t){i.end(),r=t},i.on("drain",(function(){if(n){const t=n;n=null,t()}})),i.on("finish",(function(){if(r){const t=r;r=null,t()}}))),A&&(c(e,(t=>{A=!1,t&&p(e,t),I(t)})),e.on("readable",(function(){if(a){const t=a;a=null,t()}})),e.on("end",(function(){l.push(null)})),l._read=function(){for(;;){const t=e.read();if(null===t)return void(a=l._read);if(!l.push(t))return}}),l._destroy=function(t,o){t||null===g||(t=new d),a=null,n=null,r=null,null===g?o(t):(g=o,p(i,t),p(e,t))},l}t.exports=function t(e,i){if(C(e))return e;if(l(e))return O({readable:e});if(A(e))return O({writable:e});if(g(e))return O({writable:!1,readable:!1});if(I(e))return O({readable:m.fromWeb(e)});if(h(e))return O({writable:y.fromWeb(e)});if("function"==typeof e){const{value:t,write:r,final:o,destroy:s}=function(t){let{promise:e,resolve:i}=b();const r=new E,o=r.signal;return{value:t(async function*(){for(;;){const t=e;e=null;const{chunk:r,done:s,cb:a}=await t;if(n.nextTick(a),s)return;if(o.aborted)throw new d(void 0,{cause:o.reason});({promise:e,resolve:i}=b()),yield r}}(),{signal:o}),write(t,e,n){const r=i;i=null,r({chunk:t,done:!1,cb:n})},final(t){const e=i;i=null,e({done:!0,cb:t})},destroy(t,e){r.abort(),e(t)}}}(e);if(a(t))return w(T,t,{objectMode:!0,write:r,final:o,destroy:s});const g=null==t?void 0:t.then;if("function"==typeof g){let e;const i=S(g,t,(t=>{if(null!=t)throw new f("nully","body",t)}),(t=>{p(e,t)}));return e=new T({objectMode:!0,readable:!1,write:r,final(t){o((async()=>{try{await i,n.nextTick(t,null)}catch(e){n.nextTick(t,e)}}))},destroy:s})}throw new f("Iterable, AsyncIterable or AsyncFunction",i,t)}if(k(e))return t(e.arrayBuffer());if(a(e))return w(T,e,{objectMode:!0,writable:!1});if(I(null==e?void 0:e.readable)&&h(null==e?void 0:e.writable))return T.fromWeb(e);if("object"==typeof(null==e?void 0:e.writable)||"object"==typeof(null==e?void 0:e.readable))return O({readable:null!=e&&e.readable?l(null==e?void 0:e.readable)?null==e?void 0:e.readable:t(e.readable):void 0,writable:null!=e&&e.writable?A(null==e?void 0:e.writable)?null==e?void 0:e.writable:t(e.writable):void 0});const r=null==e?void 0:e.then;if("function"==typeof r){let t;return S(r,e,(e=>{null!=e&&t.push(e),t.push(null)}),(e=>{p(t,e)})),t=new T({objectMode:!0,writable:!1,read(){}})}throw new u(i,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)}},6754:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Quad=void 0,e.Quad=class{constructor(t,e,i,n){this.termType="Quad",this.value="",this.subject=t,this.predicate=e,this.object=i,this.graph=n}equals(t){return!!t&&("Quad"===t.termType||!t.termType)&&this.subject.equals(t.subject)&&this.predicate.equals(t.predicate)&&this.object.equals(t.object)&&this.graph.equals(t.graph)}}},6957:(t,e,i)=>{"use strict";const{parseLinkHeader:n,buildHeaders:r}=i(9263),{LINK_HEADER_CONTEXT:o}=i(9378),s=i(2207),a=i(3743),{prependBase:g}=i(470),l=/(^|(\r\n))link:/i;t.exports=({secure:t,headers:e={},xhr:i}={headers:{}})=>(e=r(e),(new a).wrapLoader((async function r(a){if(0!==a.indexOf("http:")&&0!==a.indexOf("https:"))throw new s('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:a});if(t&&0!==a.indexOf("https"))throw new s('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:a});let A;try{A=await function(t,e,i){const n=new(t=t||XMLHttpRequest);return new Promise(((t,r)=>{n.onload=()=>t(n),n.onerror=t=>r(t),n.open("GET",e,!0);for(const t in i)n.setRequestHeader(t,i[t]);n.send()}))}(i,a,e)}catch(t){throw new s("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:a,cause:t})}if(A.status>=400)throw new s("URL could not be dereferenced: "+A.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:a,httpStatusCode:A.status});let C={contextUrl:null,documentUrl:a,document:A.response},I=null;const h=A.getResponseHeader("Content-Type");let c;if(l.test(A.getAllResponseHeaders())&&(c=A.getResponseHeader("Link")),c&&"application/ld+json"!==h){const t=n(c),e=t[o];if(Array.isArray(e))throw new s("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:a});e&&(C.contextUrl=e.target),I=t.alternate,I&&"application/ld+json"==I.type&&!(h||"").match(/^application\/(\w*\+)?json$/)&&(C=await r(g(a,I.target)))}return C})))},6970:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerPredicate=void 0;const n=i(2395),r=i(888);class o{static async handlePredicateObject(t,e,i,r,o,s,a,g,l){const A=await e.getPropertiesDepth(i,r),C=await e.getDepthOffsetGraph(r,i),I=r-C,h=t.idStack[A];if(h&&!l)for(const n of h)if(C>=0){const i=t.idStack[I-1];if(i)for(const t of i)e.emitQuadChecked(r,n,o,s,t,a,g);else a?(e.validateReverseSubject(s),t.getUnidentifiedGraphBufferSafe(I-1).push({subject:s,predicate:o,object:n,isEmbedded:g})):t.getUnidentifiedGraphBufferSafe(I-1).push({subject:n,predicate:o,object:s,isEmbedded:g})}else{const t=await e.getGraphContainerValue(i,A);e.emitQuadChecked(r,n,o,s,t,a,g)}else if(a&&e.validateReverseSubject(s),l){if(t.rdfstar){t.idStack[r]&&t.emitError(new n.ErrorCoded(`Found an illegal @id inside an annotation: ${t.idStack[r][0].value}`,n.ERROR_CODES.INVALID_ANNOTATION));for(let o=0;o<r;o++)"@id"===await e.unaliasKeyword(i[o],i,o)&&t.emitError(new n.ErrorCoded("Found an illegal annotation inside an embedded node",n.ERROR_CODES.INVALID_ANNOTATION));const g=t.getAnnotationsBufferSafe(A),l={predicate:o,object:s,reverse:a,nestedAnnotations:[],depth:A};g.push(l);for(let t=g.length-2;t>=0;t--){const e=g[t];e.depth>A&&(l.nestedAnnotations.push(e),g.splice(t,1))}}}else t.getUnidentifiedValueBufferSafe(A).push({predicate:o,object:s,reverse:a,isEmbedded:g})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(t,e,i,n,o){const s=i[n];if(s){const o=await t.getContext(i);if(!t.jsonLiteralStack[n]&&await e.predicateToTerm(o,i[n]))return"@json"===r.Util.getContextValueType(o,s)&&(t.jsonLiteralStack[n+1]=!0),!0}return!1}async test(t,e,i,n,r){return n[r]}async handle(t,e,i,s,a,g,l){const A=s[g],C=await t.getContext(s),I=await e.predicateToTerm(C,i);if(I){const l=await e.valueToTerm(C,i,a,g,s);if(l.length)for(let h of l){let l=await e.unaliasKeywordParent(s,g);const c=r.Util.isPropertyReverse(C,A,l);let d=0;for(;"@reverse"===l||"number"==typeof l;)"number"==typeof l?d++:g--,l=await e.unaliasKeywordParent(s,g-d);const u=r.Util.isPropertyInEmbeddedNode(l);e.validateReverseInEmbeddedNode(i,c,u);const f=r.Util.isPropertyInAnnotationObject(l);if(a){const o="@list"in r.Util.getContextValueContainer(C,i);if(o||a["@list"]){if((o&&!Array.isArray(a)&&!a["@list"]||a["@list"]&&!Array.isArray(a["@list"]))&&h!==e.rdfNil){const i=e.dataFactory.blankNode();t.emitQuad(g,e.dataFactory.quad(i,e.rdfRest,e.rdfNil,e.getDefaultGraph())),t.emitQuad(g,e.dataFactory.quad(i,e.rdfFirst,h,e.getDefaultGraph())),h=i}if(c&&!t.allowSubjectList)throw new n.ErrorCoded(`Found illegal list value in subject position at ${i}`,n.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await o.handlePredicateObject(t,e,s,g,I,h,c,u,f)}}}}e.EntryHandlerPredicate=o},7007:t=>{"use strict";var e,i="object"==typeof Reflect?Reflect:null,n=i&&"function"==typeof i.apply?i.apply:function(t,e,i){return Function.prototype.apply.call(t,e,i)};e=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var r=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(i,n){function r(i){t.removeListener(e,o),n(i)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",r),i([].slice.call(arguments))}d(t,e,o,{once:!0}),"error"!==e&&function(t,e){"function"==typeof t.on&&d(t,"error",e,{once:!0})}(t,r)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function g(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function l(t,e,i,n){var r,o,s,l;if(a(i),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,i.listener?i.listener:i),o=t._events),s=o[e]),void 0===s)s=o[e]=i,++t._eventsCount;else if("function"==typeof s?s=o[e]=n?[i,s]:[s,i]:n?s.unshift(i):s.push(i),(r=g(t))>0&&s.length>r&&!s.warned){s.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=t,A.type=e,A.count=s.length,l=A,console&&console.warn&&console.warn(l)}return t}function A(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function C(t,e,i){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:i},r=A.bind(n);return r.listener=i,n.wrapFn=r,r}function I(t,e,i){var n=t._events;if(void 0===n)return[];var r=n[e];return void 0===r?[]:"function"==typeof r?i?[r.listener||r]:[r]:i?function(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}(r):c(r,r.length)}function h(t){var e=this._events;if(void 0!==e){var i=e[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function c(t,e){for(var i=new Array(e),n=0;n<e;++n)i[n]=t[n];return i}function d(t,e,i,n){if("function"==typeof t.on)n.once?t.once(e,i):t.on(e,i);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function r(o){n.once&&t.removeEventListener(e,r),i(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return g(this)},o.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var g=o[t];if(void 0===g)return!1;if("function"==typeof g)n(g,this,e);else{var l=g.length,A=c(g,l);for(i=0;i<l;++i)n(A[i],this,e)}return!0},o.prototype.addListener=function(t,e){return l(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return l(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,C(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,C(this,t,e)),this},o.prototype.removeListener=function(t,e){var i,n,r,o,s;if(a(e),void 0===(n=this._events))return this;if(void 0===(i=n[t]))return this;if(i===e||i.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!=typeof i){for(r=-1,o=i.length-1;o>=0;o--)if(i[o]===e||i[o].listener===e){s=i[o].listener,r=o;break}if(r<0)return this;0===r?i.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(i,r),1===i.length&&(n[t]=i[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,i,n;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[t]),this;if(0===arguments.length){var r,o=Object.keys(i);for(n=0;n<o.length;++n)"removeListener"!==(r=o[n])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=i[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},o.prototype.listeners=function(t){return I(this,t,!0)},o.prototype.rawListeners=function(t){return I(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):h.call(t,e)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},7024:function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(i(2300),e)},7034:(t,e,i)=>{"use strict";const{isArray:n,isObject:r,isString:o}=i(5001),{asArray:s}=i(9263),{prependBase:a}=i(470),g=i(2207),l=i(7532);function A(t){throw new g("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:t})}function C({context:t,base:e}){if(!t)return;const i=t["@context"];if(o(i))t["@context"]=a(e,i);else if(n(i))for(let t=0;t<i.length;++t){const n=i[t];o(n)?i[t]=a(e,n):r(n)&&C({context:{"@context":n},base:e})}else if(r(i))for(const t in i)C({context:i[t],base:e})}t.exports=class{constructor({sharedCache:t}){this.perOpCache=new Map,this.sharedCache=t}async resolve({activeCtx:t,context:e,documentLoader:i,base:a,cycles:g=new Set}){e&&r(e)&&e["@context"]&&(e=e["@context"]),e=s(e);const C=[];for(const s of e){if(o(s)){let e=this._get(s);e||(e=await this._resolveRemoteContext({activeCtx:t,url:s,documentLoader:i,base:a,cycles:g})),n(e)?C.push(...e):C.push(e);continue}if(null===s){C.push(new l({document:null}));continue}r(s)||A(e);const I=JSON.stringify(s);let h=this._get(I);h||(h=new l({document:s}),this._cacheResolvedContext({key:I,resolved:h,tag:"static"})),C.push(h)}return C}_get(t){let e=this.perOpCache.get(t);if(!e){const i=this.sharedCache.get(t);i&&(e=i.get("static"),e&&this.perOpCache.set(t,e))}return e}_cacheResolvedContext({key:t,resolved:e,tag:i}){if(this.perOpCache.set(t,e),void 0!==i){let n=this.sharedCache.get(t);n||(n=new Map,this.sharedCache.set(t,n)),n.set(i,e)}return e}async _resolveRemoteContext({activeCtx:t,url:e,documentLoader:i,base:n,cycles:r}){e=a(n,e);const{context:o,remoteDoc:s}=await this._fetchContext({activeCtx:t,url:e,documentLoader:i,cycles:r});C({context:o,base:n=s.documentUrl||e});const g=await this.resolve({activeCtx:t,context:o,documentLoader:i,base:n,cycles:r});return this._cacheResolvedContext({key:e,resolved:g,tag:s.tag}),g}async _fetchContext({activeCtx:t,url:e,documentLoader:i,cycles:s}){if(s.size>10)throw new g("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===t.processingMode?"loading remote context failed":"context overflow",max:10});if(s.has(e))throw new g("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===t.processingMode?"recursive context inclusion":"context overflow",url:e});let a,l;s.add(e);try{l=await i(e),a=l.document||null,o(a)&&(a=JSON.parse(a))}catch(t){throw new g(`Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context. URL: "${e}".`,"jsonld.InvalidUrl",{code:"loading remote context failed",url:e,cause:t})}if(!r(a))throw new g(`Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object. URL: "${e}".`,"jsonld.InvalidUrl",{code:"invalid remote context",url:e});return a="@context"in a?{"@context":a["@context"]}:{"@context":{}},l.contextUrl&&(n(a["@context"])||(a["@context"]=[a["@context"]]),a["@context"].push(l.contextUrl)),{context:a,remoteDoc:l}}}},7229:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerType=void 0;const n=i(6970),r=i(888);e.ContainerHandlerType=class{canCombineWithGraph(){return!1}async handle(t,e,i,o,s,a){if(!Array.isArray(s)){if("string"==typeof s){const t=await e.getContext(o),n="@vocab"===r.Util.getContextValueType(t,o[a-1])?await i.createVocabOrBaseTerm(t,s):await i.resourceToTerm(t,s);if(n){const t={"@id":"NamedNode"===n.termType?n.value:s};await e.newOnValueJob(o.slice(0,o.length-1),t,a-1,!0),e.idStack[a+1]=[n]}}else{const t=!!e.idStack[a+1];t||delete e.idStack[a],await e.newOnValueJob(o.slice(0,o.length-1),s,a-1,!0),t||(e.idStack[a+1]=e.idStack[a])}const t=await i.getContainerKey(o[a],o,a),g=null!==t?i.createVocabOrBaseTerm(await e.getContext(o),t):null;g&&await n.EntryHandlerPredicate.handlePredicateObject(e,i,o,a+1,i.rdfType,g,!1,!1,!1),await e.handlePendingContainerFlushBuffers()}e.emittedStack[a]=!1}}},7259:t=>{"use strict";t.exports=class t{constructor(t,e=new Map,i=0){this.prefix=t,this._existing=e,this.counter=i}clone(){const{prefix:e,_existing:i,counter:n}=this;return new t(e,new Map(i),n)}getId(t){const e=t&&this._existing.get(t);if(e)return e;const i=this.prefix+this.counter;return this.counter++,t&&this._existing.set(t,i),i}hasId(t){return this._existing.has(t)}getOldIds(){return[...this._existing.keys()]}}},7382:(t,e,i)=>{"use strict";const{ObjectSetPrototypeOf:n,Symbol:r}=i(4134);t.exports=l;const{ERR_METHOD_NOT_IMPLEMENTED:o}=i(6371).codes,s=i(3370),{getHighWaterMark:a}=i(5291);n(l.prototype,s.prototype),n(l,s);const g=r("kCallback");function l(t){if(!(this instanceof l))return new l(t);const e=t?a(this,t,"readableHighWaterMark",!0):null;0===e&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),s.call(this,t),this._readableState.sync=!1,this[g]=null,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",C)}function A(t){"function"!=typeof this._flush||this.destroyed?(this.push(null),t&&t()):this._flush(((e,i)=>{e?t?t(e):this.destroy(e):(null!=i&&this.push(i),this.push(null),t&&t())}))}function C(){this._final!==A&&A.call(this)}l.prototype._final=A,l.prototype._transform=function(t,e,i){throw new o("_transform()")},l.prototype._write=function(t,e,i){const n=this._readableState,r=this._writableState,o=n.length;this._transform(t,e,((t,e)=>{t?i(t):(null!=e&&this.push(e),r.ended||o===n.length||n.length<n.highWaterMark?i():this[g]=i)}))},l.prototype._read=function(){if(this[g]){const t=this[g];this[g]=null,t()}}},7400:(t,e,i)=>{var n=i(9374),r=1/0;t.exports=function(t){return t?(t=n(t))===r||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},7526:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),i=e[0],n=e[1];return 3*(i+n)/4-n},e.toByteArray=function(t){var e,i,o=a(t),s=o[0],g=o[1],l=new r(function(t,e,i){return 3*(e+i)/4-i}(0,s,g)),A=0,C=g>0?s-4:s;for(i=0;i<C;i+=4)e=n[t.charCodeAt(i)]<<18|n[t.charCodeAt(i+1)]<<12|n[t.charCodeAt(i+2)]<<6|n[t.charCodeAt(i+3)],l[A++]=e>>16&255,l[A++]=e>>8&255,l[A++]=255&e;return 2===g&&(e=n[t.charCodeAt(i)]<<2|n[t.charCodeAt(i+1)]>>4,l[A++]=255&e),1===g&&(e=n[t.charCodeAt(i)]<<10|n[t.charCodeAt(i+1)]<<4|n[t.charCodeAt(i+2)]>>2,l[A++]=e>>8&255,l[A++]=255&e),l},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],s=16383,a=0,l=n-r;a<l;a+=s)o.push(g(t,a,a+s>l?l:a+s));return 1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"=")),o.join("")};for(var i=[],n=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)i[s]=o[s],n[o.charCodeAt(s)]=s;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function g(t,e,n){for(var r,o,s=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},7532:(t,e,i)=>{"use strict";const n=i(1235);t.exports=class{constructor({document:t}){this.document=t,this.cache=new n({max:10})}getProcessed(t){return this.cache.get(t)}setProcessed(t,e){this.cache.set(t,e)}}},7576:(t,e,i)=>{"use strict";const n=i(5606),{ArrayPrototypeIndexOf:r,NumberIsInteger:o,NumberIsNaN:s,NumberParseInt:a,ObjectDefineProperties:g,ObjectKeys:l,ObjectSetPrototypeOf:A,Promise:C,SafeSet:I,SymbolAsyncDispose:h,SymbolAsyncIterator:c,Symbol:d}=i(4134);t.exports=Y,Y.ReadableState=H;const{EventEmitter:u}=i(7007),{Stream:f,prependListener:p}=i(4259),{Buffer:v}=i(8287),{addAbortSignal:m}=i(4147),y=i(6238);let b=i(7760).debuglog("stream",(t=>{b=t}));const w=i(345),x=i(5896),{getHighWaterMark:k,getDefaultHighWaterMark:E}=i(5291),{aggregateTwoErrors:S,codes:{ERR_INVALID_ARG_TYPE:T,ERR_METHOD_NOT_IMPLEMENTED:O,ERR_OUT_OF_RANGE:_,ERR_STREAM_PUSH_AFTER_EOF:R,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:N},AbortError:D}=i(6371),{validateObject:P}=i(277),M=d("kPaused"),{StringDecoder:j}=i(3141),L=i(6532);A(Y.prototype,f.prototype),A(Y,f);const B=()=>{},{errorOrDestroy:F}=x,z=1,V=16,G=32,W=2048,U=4096;function Z(t){return{enumerable:!1,get(){return!!(this.state&t)},set(e){e?this.state|=t:this.state&=~t}}}function H(t,e,n){"boolean"!=typeof n&&(n=e instanceof i(3370)),this.state=W|U|V|G,t&&t.objectMode&&(this.state|=z),n&&t&&t.readableObjectMode&&(this.state|=z),this.highWaterMark=t?k(this,t,"readableHighWaterMark",n):E(!1),this.buffer=new w,this.length=0,this.pipes=[],this.flowing=null,this[M]=null,t&&!1===t.emitClose&&(this.state&=~W),t&&!1===t.autoDestroy&&(this.state&=~U),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new j(t.encoding),this.encoding=t.encoding)}function Y(t){if(!(this instanceof Y))return new Y(t);const e=this instanceof i(3370);this._readableState=new H(t,this,e),t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&!e&&m(t.signal,this)),f.call(this,t),x.construct(this,(()=>{this._readableState.needReadable&&$(this,this._readableState)}))}function K(t,e,i,n){b("readableAddChunk",e);const r=t._readableState;let o;if(r.state&z||("string"==typeof e?(i=i||r.defaultEncoding,r.encoding!==i&&(n&&r.encoding?e=v.from(e,i).toString(r.encoding):(e=v.from(e,i),i=""))):e instanceof v?i="":f._isUint8Array(e)?(e=f._uint8ArrayToBuffer(e),i=""):null!=e&&(o=new T("chunk",["string","Buffer","Uint8Array"],e))),o)F(t,o);else if(null===e)r.state&=-9,function(t,e){if(b("onEofChunk"),!e.ended){if(e.decoder){const t=e.decoder.end();t&&t.length&&(e.buffer.push(t),e.length+=e.objectMode?1:t.length)}e.ended=!0,e.sync?q(t):(e.needReadable=!1,e.emittedReadable=!0,J(t))}}(t,r);else if(r.state&z||e&&e.length>0)if(n)if(4&r.state)F(t,new N);else{if(r.destroyed||r.errored)return!1;X(t,r,e,!0)}else if(r.ended)F(t,new R);else{if(r.destroyed||r.errored)return!1;r.state&=-9,r.decoder&&!i?(e=r.decoder.write(e),r.objectMode||0!==e.length?X(t,r,e,!1):$(t,r)):X(t,r,e,!1)}else n||(r.state&=-9,$(t,r));return!r.ended&&(r.length<r.highWaterMark||0===r.length)}function X(t,e,i,n){e.flowing&&0===e.length&&!e.sync&&t.listenerCount("data")>0?(65536&e.state?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",i)):(e.length+=e.objectMode?1:i.length,n?e.buffer.unshift(i):e.buffer.push(i),64&e.state&&q(t)),$(t,e)}function Q(t,e){return t<=0||0===e.length&&e.ended?0:e.state&z?1:s(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}function q(t){const e=t._readableState;b("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(b("emitReadable",e.flowing),e.emittedReadable=!0,n.nextTick(J,t))}function J(t){const e=t._readableState;b("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||e.errored||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,rt(t)}function $(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,n.nextTick(tt,t,e))}function tt(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){const i=e.length;if(b("maybeReadMore read 0"),t.read(0),i===e.length)break}e.readingMore=!1}function et(t){const e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!1===e[M]?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function it(t){b("readable nexttick read 0"),t.read(0)}function nt(t,e){b("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),rt(t),e.flowing&&!e.reading&&t.read(0)}function rt(t){const e=t._readableState;for(b("flow",e.flowing);e.flowing&&null!==t.read(););}function ot(t,e){"function"!=typeof t.read&&(t=Y.wrap(t,{objectMode:!0}));const i=async function*(t,e){let i,n=B;function r(e){this===t?(n(),n=B):n=e}t.on("readable",r);const o=y(t,{writable:!1},(t=>{i=t?S(i,t):null,n(),n=B}));try{for(;;){const e=t.destroyed?null:t.read();if(null!==e)yield e;else{if(i)throw i;if(null===i)return;await new C(r)}}}catch(t){throw i=S(i,t),i}finally{!i&&!1===(null==e?void 0:e.destroyOnReturn)||void 0!==i&&!t._readableState.autoDestroy?(t.off("readable",r),o()):x.destroyer(t,null)}}(t,e);return i.stream=t,i}function st(t,e){if(0===e.length)return null;let i;return e.objectMode?i=e.buffer.shift():!t||t>=e.length?(i=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):i=e.buffer.consume(t,e.decoder),i}function at(t){const e=t._readableState;b("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,n.nextTick(gt,e,t))}function gt(t,e){if(b("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&0===t.length)if(t.endEmitted=!0,e.emit("end"),e.writable&&!1===e.allowHalfOpen)n.nextTick(lt,e);else if(t.autoDestroy){const t=e._writableState;(!t||t.autoDestroy&&(t.finished||!1===t.writable))&&e.destroy()}}function lt(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}let At;function Ct(){return void 0===At&&(At={}),At}g(H.prototype,{objectMode:Z(z),ended:Z(2),endEmitted:Z(4),reading:Z(8),constructed:Z(V),sync:Z(G),needReadable:Z(64),emittedReadable:Z(128),readableListening:Z(256),resumeScheduled:Z(512),errorEmitted:Z(1024),emitClose:Z(W),autoDestroy:Z(U),destroyed:Z(8192),closed:Z(16384),closeEmitted:Z(32768),multiAwaitDrain:Z(65536),readingMore:Z(1<<17),dataEmitted:Z(1<<18)}),Y.prototype.destroy=x.destroy,Y.prototype._undestroy=x.undestroy,Y.prototype._destroy=function(t,e){e(t)},Y.prototype[u.captureRejectionSymbol]=function(t){this.destroy(t)},Y.prototype[h]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new D,this.destroy(t)),new C(((e,i)=>y(this,(n=>n&&n!==t?i(n):e(null)))))},Y.prototype.push=function(t,e){return K(this,t,e,!1)},Y.prototype.unshift=function(t,e){return K(this,t,e,!0)},Y.prototype.isPaused=function(){const t=this._readableState;return!0===t[M]||!1===t.flowing},Y.prototype.setEncoding=function(t){const e=new j(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;const i=this._readableState.buffer;let n="";for(const t of i)n+=e.write(t);return i.clear(),""!==n&&i.push(n),this._readableState.length=n.length,this},Y.prototype.read=function(t){b("read",t),void 0===t?t=NaN:o(t)||(t=a(t,10));const e=this._readableState,i=t;if(t>e.highWaterMark&&(e.highWaterMark=function(t){if(t>1073741824)throw new _("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,++t}(t)),0!==t&&(e.state&=-129),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return b("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?at(this):q(this),null;if(0===(t=Q(t,e))&&e.ended)return 0===e.length&&at(this),null;let n,r=!!(64&e.state);if(b("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&(r=!0,b("length less than watermark",r)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)r=!1,b("reading, ended or constructing",r);else if(r){b("do read"),e.state|=8|G,0===e.length&&(e.state|=64);try{this._read(e.highWaterMark)}catch(t){F(this,t)}e.state&=~G,e.reading||(t=Q(i,e))}return n=t>0?st(t,e):null,null===n?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),0===e.length&&(e.ended||(e.needReadable=!0),i!==t&&e.ended&&at(this)),null===n||e.errorEmitted||e.closeEmitted||(e.dataEmitted=!0,this.emit("data",n)),n},Y.prototype._read=function(t){throw new O("_read()")},Y.prototype.pipe=function(t,e){const i=this,r=this._readableState;1===r.pipes.length&&(r.multiAwaitDrain||(r.multiAwaitDrain=!0,r.awaitDrainWriters=new I(r.awaitDrainWriters?[r.awaitDrainWriters]:[]))),r.pipes.push(t),b("pipe count=%d opts=%j",r.pipes.length,e);const o=e&&!1===e.end||t===n.stdout||t===n.stderr?d:s;function s(){b("onend"),t.end()}let a;r.endEmitted?n.nextTick(o):i.once("end",o),t.on("unpipe",(function e(n,o){b("onunpipe"),n===i&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,b("cleanup"),t.removeListener("close",h),t.removeListener("finish",c),a&&t.removeListener("drain",a),t.removeListener("error",C),t.removeListener("unpipe",e),i.removeListener("end",s),i.removeListener("end",d),i.removeListener("data",A),g=!0,a&&r.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&a())}));let g=!1;function l(){g||(1===r.pipes.length&&r.pipes[0]===t?(b("false write response, pause",0),r.awaitDrainWriters=t,r.multiAwaitDrain=!1):r.pipes.length>1&&r.pipes.includes(t)&&(b("false write response, pause",r.awaitDrainWriters.size),r.awaitDrainWriters.add(t)),i.pause()),a||(a=function(t,e){return function(){const i=t._readableState;i.awaitDrainWriters===e?(b("pipeOnDrain",1),i.awaitDrainWriters=null):i.multiAwaitDrain&&(b("pipeOnDrain",i.awaitDrainWriters.size),i.awaitDrainWriters.delete(e)),i.awaitDrainWriters&&0!==i.awaitDrainWriters.size||!t.listenerCount("data")||t.resume()}}(i,t),t.on("drain",a))}function A(e){b("ondata");const i=t.write(e);b("dest.write",i),!1===i&&l()}function C(e){if(b("onerror",e),d(),t.removeListener("error",C),0===t.listenerCount("error")){const i=t._writableState||t._readableState;i&&!i.errorEmitted?F(t,e):t.emit("error",e)}}function h(){t.removeListener("finish",c),d()}function c(){b("onfinish"),t.removeListener("close",h),d()}function d(){b("unpipe"),i.unpipe(t)}return i.on("data",A),p(t,"error",C),t.once("close",h),t.once("finish",c),t.emit("pipe",i),!0===t.writableNeedDrain?l():r.flowing||(b("pipe resume"),i.resume()),t},Y.prototype.unpipe=function(t){const e=this._readableState;if(0===e.pipes.length)return this;if(!t){const t=e.pipes;e.pipes=[],this.pause();for(let e=0;e<t.length;e++)t[e].emit("unpipe",this,{hasUnpiped:!1});return this}const i=r(e.pipes,t);return-1===i||(e.pipes.splice(i,1),0===e.pipes.length&&this.pause(),t.emit("unpipe",this,{hasUnpiped:!1})),this},Y.prototype.on=function(t,e){const i=f.prototype.on.call(this,t,e),r=this._readableState;return"data"===t?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===t&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,b("on readable",r.length,r.reading),r.length?q(this):r.reading||n.nextTick(it,this))),i},Y.prototype.addListener=Y.prototype.on,Y.prototype.removeListener=function(t,e){const i=f.prototype.removeListener.call(this,t,e);return"readable"===t&&n.nextTick(et,this),i},Y.prototype.off=Y.prototype.removeListener,Y.prototype.removeAllListeners=function(t){const e=f.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||n.nextTick(et,this),e},Y.prototype.resume=function(){const t=this._readableState;return t.flowing||(b("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,n.nextTick(nt,t,e))}(this,t)),t[M]=!1,this},Y.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[M]=!0,this},Y.prototype.wrap=function(t){let e=!1;t.on("data",(i=>{!this.push(i)&&t.pause&&(e=!0,t.pause())})),t.on("end",(()=>{this.push(null)})),t.on("error",(t=>{F(this,t)})),t.on("close",(()=>{this.destroy()})),t.on("destroy",(()=>{this.destroy()})),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};const i=l(t);for(let e=1;e<i.length;e++){const n=i[e];void 0===this[n]&&"function"==typeof t[n]&&(this[n]=t[n].bind(t))}return this},Y.prototype[c]=function(){return ot(this)},Y.prototype.iterator=function(t){return void 0!==t&&P(t,"options"),ot(this,t)},g(Y.prototype,{readable:{__proto__:null,get(){const t=this._readableState;return!(!t||!1===t.readable||t.destroyed||t.errorEmitted||t.endEmitted)},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),g(H.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[M]},set(t){this[M]=!!t}}}),Y._fromList=st,Y.from=function(t,e){return L(Y,t,e)},Y.fromWeb=function(t,e){return Ct().newStreamReadableFromReadableStream(t,e)},Y.toWeb=function(t,e){return Ct().newReadableStreamFromStreamReadable(t,e)},Y.wrap=function(t,e){var i,n;return new Y({objectMode:null===(i=null!==(n=t.readableObjectMode)&&void 0!==n?n:t.objectMode)||void 0===i||i,...e,destroy(e,i){x.destroyer(t,e),i(e)}}).wrap(t)}},7659:t=>{"use strict";var e={};t.exports=function(t,i){var n=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},7758:(t,e,i)=>{const n=i(5606),{ArrayIsArray:r,Promise:o,SymbolAsyncIterator:s,SymbolDispose:a}=i(4134),g=i(6238),{once:l}=i(7760),A=i(5896),C=i(3370),{aggregateTwoErrors:I,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:c,ERR_MISSING_ARGS:d,ERR_STREAM_DESTROYED:u,ERR_STREAM_PREMATURE_CLOSE:f},AbortError:p}=i(6371),{validateFunction:v,validateAbortSignal:m}=i(277),{isIterable:y,isReadable:b,isReadableNodeStream:w,isNodeStream:x,isTransformStream:k,isWebStream:E,isReadableStream:S,isReadableFinished:T}=i(6115),O=globalThis.AbortController||i(5568).AbortController;let _,R,N;function D(t,e,i){let n=!1;return t.on("close",(()=>{n=!0})),{destroy:e=>{n||(n=!0,A.destroyer(t,e||new u("pipe")))},cleanup:g(t,{readable:e,writable:i},(t=>{n=!t}))}}function P(t){if(y(t))return t;if(w(t))return async function*(t){R||(R=i(7576)),yield*R.prototype[s].call(t)}(t);throw new h("val",["Readable","Iterable","AsyncIterable"],t)}async function M(t,e,i,{end:n}){let r,s=null;const a=t=>{if(t&&(r=t),s){const t=s;s=null,t()}},l=()=>new o(((t,e)=>{r?e(r):s=()=>{r?e(r):t()}}));e.on("drain",a);const A=g(e,{readable:!1},a);try{e.writableNeedDrain&&await l();for await(const i of t)e.write(i)||await l();n&&(e.end(),await l()),i()}catch(t){i(r!==t?I(r,t):t)}finally{A(),e.off("drain",a)}}async function j(t,e,i,{end:n}){k(e)&&(e=e.writable);const r=e.getWriter();try{for await(const e of t)await r.ready,r.write(e).catch((()=>{}));await r.ready,n&&await r.close(),i()}catch(t){try{await r.abort(t),i(t)}catch(t){i(t)}}}function L(t,e,o){if(1===t.length&&r(t[0])&&(t=t[0]),t.length<2)throw new d("streams");const s=new O,g=s.signal,l=null==o?void 0:o.signal,A=[];function I(){z(new p)}let u,f,v;m(l,"options.signal"),N=N||i(7760).addAbortListener,l&&(u=N(l,I));const T=[];let R,L=0;function F(t){z(t,0==--L)}function z(t,i){var r;if(!t||f&&"ERR_STREAM_PREMATURE_CLOSE"!==f.code||(f=t),f||i){for(;T.length;)T.shift()(f);null===(r=u)||void 0===r||r[a](),s.abort(),i&&(f||A.forEach((t=>t())),n.nextTick(e,f,v))}}for(let U=0;U<t.length;U++){const Z=t[U],H=U<t.length-1,Y=U>0,K=H||!1!==(null==o?void 0:o.end),X=U===t.length-1;if(x(Z)){if(K){const{destroy:Q,cleanup:q}=D(Z,H,Y);T.push(Q),b(Z)&&X&&A.push(q)}function V(t){t&&"AbortError"!==t.name&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code&&F(t)}Z.on("error",V),b(Z)&&X&&A.push((()=>{Z.removeListener("error",V)}))}if(0===U)if("function"==typeof Z){if(R=Z({signal:g}),!y(R))throw new c("Iterable, AsyncIterable or Stream","source",R)}else R=y(Z)||w(Z)||k(Z)?Z:C.from(Z);else if("function"==typeof Z){var G;if(R=k(R)?P(null===(G=R)||void 0===G?void 0:G.readable):P(R),R=Z(R,{signal:g}),H){if(!y(R,!0))throw new c("AsyncIterable",`transform[${U-1}]`,R)}else{var W;_||(_=i(6524));const J=new _({objectMode:!0}),$=null===(W=R)||void 0===W?void 0:W.then;if("function"==typeof $)L++,$.call(R,(t=>{v=t,null!=t&&J.write(t),K&&J.end(),n.nextTick(F)}),(t=>{J.destroy(t),n.nextTick(F,t)}));else if(y(R,!0))L++,M(R,J,F,{end:K});else{if(!S(R)&&!k(R))throw new c("AsyncIterable or Promise","destination",R);{const it=R.readable||R;L++,M(it,J,F,{end:K})}}R=J;const{destroy:tt,cleanup:et}=D(R,!1,!0);T.push(tt),X&&A.push(et)}}else if(x(Z)){if(w(R)){L+=2;const nt=B(R,Z,F,{end:K});b(Z)&&X&&A.push(nt)}else if(k(R)||S(R)){const rt=R.readable||R;L++,M(rt,Z,F,{end:K})}else{if(!y(R))throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],R);L++,M(R,Z,F,{end:K})}R=Z}else if(E(Z)){if(w(R))L++,j(P(R),Z,F,{end:K});else if(S(R)||y(R))L++,j(R,Z,F,{end:K});else{if(!k(R))throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],R);L++,j(R.readable,Z,F,{end:K})}R=Z}else R=C.from(Z)}return(null!=g&&g.aborted||null!=l&&l.aborted)&&n.nextTick(I),R}function B(t,e,i,{end:r}){let o=!1;if(e.on("close",(()=>{o||i(new f)})),t.pipe(e,{end:!1}),r){function s(){o=!0,e.end()}T(t)?n.nextTick(s):t.once("end",s)}else i();return g(t,{readable:!0,writable:!1},(e=>{const n=t._readableState;e&&"ERR_STREAM_PREMATURE_CLOSE"===e.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?t.once("end",i).once("error",i):i(e)})),g(e,{readable:!1,writable:!0},i)}t.exports={pipelineImpl:L,pipeline:function(...t){return L(t,l(function(t){return v(t[t.length-1],"streams[stream.length - 1]"),t.pop()}(t)))}}},7760:(t,e,i)=>{"use strict";const n=i(8287),{format:r,inspect:o}=i(9231),{codes:{ERR_INVALID_ARG_TYPE:s}}=i(6371),{kResistStopPropagation:a,AggregateError:g,SymbolDispose:l}=i(4134),A=globalThis.AbortSignal||i(5568).AbortSignal,C=globalThis.AbortController||i(5568).AbortController,I=Object.getPrototypeOf((async function(){})).constructor,h=globalThis.Blob||n.Blob,c=void 0!==h?function(t){return t instanceof h}:function(t){return!1},d=(t,e)=>{if(void 0!==t&&(null===t||"object"!=typeof t||!("aborted"in t)))throw new s(e,"AbortSignal",t)};t.exports={AggregateError:g,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...i){e||(e=!0,t.apply(this,i))}},createDeferredPromise:function(){let t,e;return{promise:new Promise(((i,n)=>{t=i,e=n})),resolve:t,reject:e}},promisify:t=>new Promise(((e,i)=>{t(((t,...n)=>t?i(t):e(...n)))})),debuglog:()=>function(){},format:r,inspect:o,types:{isAsyncFunction:t=>t instanceof I,isArrayBufferView:t=>ArrayBuffer.isView(t)},isBlob:c,deprecate:(t,e)=>t,addAbortListener:i(7007).addAbortListener||function(t,e){if(void 0===t)throw new s("signal","AbortSignal",t);let i;return d(t,"signal"),(t=>{if("function"!=typeof t)throw new s("listener","Function",t)})(e),t.aborted?queueMicrotask((()=>e())):(t.addEventListener("abort",e,{__proto__:null,once:!0,[a]:!0}),i=()=>{t.removeEventListener("abort",e)}),{__proto__:null,[l](){var t;null===(t=i)||void 0===t||t()}}},AbortSignalAny:A.any||function(t){if(1===t.length)return t[0];const e=new C,i=()=>e.abort();return t.forEach((t=>{d(t,"signals"),t.addEventListener("abort",i,{once:!0})})),e.signal.addEventListener("abort",(()=>{t.forEach((t=>t.removeEventListener("abort",i)))}),{once:!0}),e.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},7793:function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(i(9931),e),r(i(8483),e),r(i(2142),e),r(i(2426),e),r(i(3988),e),r(i(6754),e),r(i(8401),e)},7825:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var r=void 0!==i.layer;r&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,r&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var o=i.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},7830:(t,e,i)=>{"use strict";const{pipeline:n}=i(7758),r=i(3370),{destroyer:o}=i(5896),{isNodeStream:s,isReadable:a,isWritable:g,isWebStream:l,isTransformStream:A,isWritableStream:C,isReadableStream:I}=i(6115),{AbortError:h,codes:{ERR_INVALID_ARG_VALUE:c,ERR_MISSING_ARGS:d}}=i(6371),u=i(6238);t.exports=function(...t){if(0===t.length)throw new d("streams");if(1===t.length)return r.from(t[0]);const e=[...t];if("function"==typeof t[0]&&(t[0]=r.from(t[0])),"function"==typeof t[t.length-1]){const e=t.length-1;t[e]=r.from(t[e])}for(let i=0;i<t.length;++i)if(s(t[i])||l(t[i])){if(i<t.length-1&&!(a(t[i])||I(t[i])||A(t[i])))throw new c(`streams[${i}]`,e[i],"must be readable");if(i>0&&!(g(t[i])||C(t[i])||A(t[i])))throw new c(`streams[${i}]`,e[i],"must be writable")}let i,f,p,v,m;const y=t[0],b=n(t,(function(t){const e=v;v=null,e?e(t):t?m.destroy(t):x||w||m.destroy()})),w=!!(g(y)||C(y)||A(y)),x=!!(a(b)||I(b)||A(b));if(m=new r({writableObjectMode:!(null==y||!y.writableObjectMode),readableObjectMode:!(null==b||!b.readableObjectMode),writable:w,readable:x}),w){if(s(y))m._write=function(t,e,n){y.write(t,e)?n():i=n},m._final=function(t){y.end(),f=t},y.on("drain",(function(){if(i){const t=i;i=null,t()}}));else if(l(y)){const t=(A(y)?y.writable:y).getWriter();m._write=async function(e,i,n){try{await t.ready,t.write(e).catch((()=>{})),n()}catch(t){n(t)}},m._final=async function(e){try{await t.ready,t.close().catch((()=>{})),f=e}catch(t){e(t)}}}const t=A(b)?b.readable:b;u(t,(()=>{if(f){const t=f;f=null,t()}}))}if(x)if(s(b))b.on("readable",(function(){if(p){const t=p;p=null,t()}})),b.on("end",(function(){m.push(null)})),m._read=function(){for(;;){const t=b.read();if(null===t)return void(p=m._read);if(!m.push(t))return}};else if(l(b)){const t=(A(b)?b.readable:b).getReader();m._read=async function(){for(;;)try{const{value:e,done:i}=await t.read();if(!m.push(e))return;if(i)return void m.push(null)}catch{return}}}return m._destroy=function(t,e){t||null===v||(t=new h),p=null,i=null,f=null,null===v?e(t):(v=e,s(b)&&o(b,t))},m}},7920:(t,e,i)=>{"use strict";const{bufferToHex:n,crypto:r}=i(4991),o=new Map([["sha256","SHA-256"],["SHA256","SHA-256"],["SHA-256","SHA-256"],["sha384","SHA-384"],["SHA384","SHA-384"],["SHA-384","SHA-384"],["sha512","SHA-512"],["SHA512","SHA-512"],["SHA-512","SHA-512"]]);t.exports=class{constructor(t){if(!r||!r.subtle)throw new Error("crypto.subtle not found.");if(!o.has(t))throw new Error(`Unsupported algorithm "${t}".`);this.algorithm=o.get(t),this._content=""}update(t){this._content+=t}async digest(){const t=(new TextEncoder).encode(this._content),e=await r.subtle.digest(this.algorithm,t);return n(e)}}},7946:(t,e,i)=>{"use strict";const{isKeyword:n}=i(1972),r=i(3978),o=i(5001),s=i(9263),a=i(470),g=i(2207),{createNodeMap:l,mergeNodeMapGraphs:A}=i(9233),C={};function I(t){const e={};for(const i in t)void 0!==t[i]&&(e["@"+i]=[t[i]]);return[e]}function h(t,e,i){for(let n=i.length-1;n>=0;--n){const r=i[n];if(r.graph===e&&r.subject["@id"]===t["@id"])return!0}return!1}function c(t,e,i){const n="@"+i;let r=n in t?t[n][0]:e[i];if("embed"===i)if(!0===r)r="@once";else if(!1===r)r="@never";else if("@always"!==r&&"@never"!==r&&"@link"!==r&&"@first"!==r&&"@last"!==r&&"@once"!==r)throw new g("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:t});return r}function d(t){if(!o.isArray(t)||1!==t.length||!o.isObject(t[0]))throw new g("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:t});if("@id"in t[0])for(const e of s.asArray(t[0]["@id"]))if(!o.isObject(e)&&!a.isAbsolute(e)||o.isString(e)&&0===e.indexOf("_:"))throw new g("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:t});if("@type"in t[0])for(const e of s.asArray(t[0]["@type"]))if(!o.isObject(e)&&!a.isAbsolute(e)&&"@json"!==e||o.isString(e)&&0===e.indexOf("_:"))throw new g("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:t})}function u(t,e,i,a){let g=!0,l=!1;for(const A in i){let C=!1;const I=s.getValues(e,A),h=0===s.getValues(i,A).length;if("@id"===A){if(o.isEmptyObject(i["@id"][0]||{})?C=!0:i["@id"].length>=0&&(C=i["@id"].includes(I[0])),!a.requireAll)return C}else if("@type"===A){if(g=!1,h){if(I.length>0)return!1;C=!0}else if(1===i["@type"].length&&o.isEmptyObject(i["@type"][0]))C=I.length>0;else for(const t of i["@type"])C=!(!o.isObject(t)||!("@default"in t))||C||I.some((e=>e===t));if(!a.requireAll)return C}else{if(n(A))continue;{const e=s.getValues(i,A)[0];let n=!1;if(e&&(d([e]),n="@default"in e),g=!1,0===I.length&&n)continue;if(I.length>0&&h)return!1;if(void 0===e){if(I.length>0)return!1;C=!0}else if(r.isList(e)){const i=e["@list"][0];if(r.isList(I[0])){const e=I[0]["@list"];r.isValue(i)?C=e.some((t=>y(i,t))):(r.isSubject(i)||r.isSubjectReference(i))&&(C=e.some((e=>m(t,i,e,a))))}}else C=r.isValue(e)?I.some((t=>y(e,t))):r.isSubjectReference(e)?I.some((i=>m(t,e,i,a))):!!o.isObject(e)&&I.length>0}}if(!C&&a.requireAll)return!1;l=l||C}return g||l}function f(t,e){const i=t.uniqueEmbeds[t.graph],n=i[e],r=n.parent,a=n.property,g={"@id":e};if(o.isArray(r)){for(let t=0;t<r.length;++t)if(s.compareValues(r[t],g)){r[t]=g;break}}else{const t=o.isArray(r[a]);s.removeValue(r,a,g,{propertyIsArray:t}),s.addValue(r,a,g,{propertyIsArray:t})}const l=t=>{const e=Object.keys(i);for(const n of e)n in i&&o.isObject(i[n].parent)&&i[n].parent["@id"]===t&&(delete i[n],l(n))};l(e)}function p(t,e){if(o.isArray(t))return t.map((t=>p(t,e)));if(o.isObject(t)){if("@preserve"in t)return t["@preserve"][0];if(r.isValue(t))return t;if(r.isList(t))return t["@list"]=p(t["@list"],e),t;if("@id"in t){const i=t["@id"];if(e.link.hasOwnProperty(i)){const n=e.link[i].indexOf(t);if(-1!==n)return e.link[i][n];e.link[i].push(t)}else e.link[i]=[t]}for(const i in t)"@id"===i&&e.bnodesToClear.includes(t[i])?delete t["@id"]:t[i]=p(t[i],e)}return t}function v(t,e,i){o.isObject(t)?s.addValue(t,e,i,{propertyIsArray:!0}):t.push(i)}function m(t,e,i,n){if(!("@id"in i))return!1;const r=t.subjects[i["@id"]];return r&&u(t,r,e,n)}function y(t,e){const i=e["@value"],n=e["@type"],r=e["@language"],s=t["@value"]?o.isArray(t["@value"])?t["@value"]:[t["@value"]]:[],a=t["@type"]?o.isArray(t["@type"])?t["@type"]:[t["@type"]]:[],g=t["@language"]?o.isArray(t["@language"])?t["@language"]:[t["@language"]]:[];return 0===s.length&&0===a.length&&0===g.length||!(!s.includes(i)&&!o.isEmptyObject(s[0]))&&!!(!n&&0===a.length||a.includes(n)||n&&o.isEmptyObject(a[0]))&&!!(!r&&0===g.length||g.includes(r)||r&&o.isEmptyObject(g[0]))}t.exports=C,C.frameMergedOrDefault=(t,e,i)=>{const n={options:i,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},r=new s.IdentifierIssuer("_:b");l(t,n.graphMap,"@default",r),i.merged&&(n.graphMap["@merged"]=A(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];const o=[];return C.frame(n,Object.keys(n.subjects).sort(),e,o),i.pruneBlankNodeIdentifiers&&(i.bnodesToClear=Object.keys(n.bnodeMap).filter((t=>1===n.bnodeMap[t].length))),i.link={},p(o,i)},C.frame=(t,e,i,a,l=null)=>{d(i),i=i[0];const A=t.options,p={embed:c(i,A,"embed"),explicit:c(i,A,"explicit"),requireAll:c(i,A,"requireAll")};t.link.hasOwnProperty(t.graph)||(t.link[t.graph]={});const m=t.link[t.graph],b=function(t,e,i,n){const r={};for(const o of e){const e=t.graphMap[t.graph][o];u(t,e,i,n)&&(r[o]=e)}return r}(t,e,i,p),w=Object.keys(b).sort();for(const d of w){const u=b[d];if(null===l?t.uniqueEmbeds={[t.graph]:{}}:t.uniqueEmbeds[t.graph]=t.uniqueEmbeds[t.graph]||{},"@link"===p.embed&&d in m){v(a,l,m[d]);continue}const w={"@id":d};if(0===d.indexOf("_:")&&s.addValue(t.bnodeMap,d,w,{propertyIsArray:!0}),m[d]=w,("@first"===p.embed||"@last"===p.embed)&&t.is11)throw new g("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:i});if(t.embedded||!t.uniqueEmbeds[t.graph].hasOwnProperty(d))if(!t.embedded||"@never"!==p.embed&&!h(u,t.graph,t.subjectStack))if(!t.embedded||"@first"!=p.embed&&"@once"!=p.embed||!t.uniqueEmbeds[t.graph].hasOwnProperty(d)){if("@last"===p.embed&&d in t.uniqueEmbeds[t.graph]&&f(t,d),t.uniqueEmbeds[t.graph][d]={parent:a,property:l},t.subjectStack.push({subject:u,graph:t.graph}),d in t.graphMap){let e=!1,n=null;"@graph"in i?(n=i["@graph"][0],e=!("@merged"===d||"@default"===d),o.isObject(n)||(n={})):(e="@merged"!==t.graph,n={}),e&&C.frame({...t,graph:d,embedded:!1},Object.keys(t.graphMap[d]).sort(),[n],w,"@graph")}"@included"in i&&C.frame({...t,embedded:!1},e,i["@included"],w,"@included");for(const e of Object.keys(u).sort())if(n(e)){if(w[e]=s.clone(u[e]),"@type"===e)for(const e of u["@type"])0===e.indexOf("_:")&&s.addValue(t.bnodeMap,e,w,{propertyIsArray:!0})}else if(!p.explicit||e in i)for(const n of u[e]){const o=e in i?i[e]:I(p);if(r.isList(n)){const o=i[e]&&i[e][0]&&i[e][0]["@list"]?i[e][0]["@list"]:I(p),a={"@list":[]};v(w,e,a);const g=n["@list"];for(const e of g)r.isSubjectReference(e)?C.frame({...t,embedded:!0},[e["@id"]],o,a,"@list"):v(a,"@list",s.clone(e))}else r.isSubjectReference(n)?C.frame({...t,embedded:!0},[n["@id"]],o,w,e):y(o[0],n)&&v(w,e,s.clone(n))}for(const t of Object.keys(i).sort()){if("@type"===t){if(!o.isObject(i[t][0])||!("@default"in i[t][0]))continue}else if(n(t))continue;const e=i[t][0]||{};if(!c(e,A,"omitDefault")&&!(t in w)){let i="@null";"@default"in e&&(i=s.clone(e["@default"])),o.isArray(i)||(i=[i]),w[t]=[{"@preserve":i}]}}for(const e of Object.keys(i["@reverse"]||{}).sort()){const n=i["@reverse"][e];for(const i of Object.keys(t.subjects))s.getValues(t.subjects[i],e).some((t=>t["@id"]===d))&&(w["@reverse"]=w["@reverse"]||{},s.addValue(w["@reverse"],e,[],{propertyIsArray:!0}),C.frame({...t,embedded:!0},[i],n,w["@reverse"][e],l))}v(a,l,w),t.subjectStack.pop()}else v(a,l,w);else v(a,l,w)}},C.cleanupNull=(t,e)=>{if(o.isArray(t))return t.map((t=>C.cleanupNull(t,e))).filter((t=>t));if("@null"===t)return null;if(o.isObject(t)){if("@id"in t){const i=t["@id"];if(e.link.hasOwnProperty(i)){const n=e.link[i].indexOf(t);if(-1!==n)return e.link[i][n];e.link[i].push(t)}else e.link[i]=[t]}for(const i in t)t[i]=C.cleanupNull(t[i],e)}return t}},7986:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerIdentifier=void 0,e.ContainerHandlerIdentifier=class{canCombineWithGraph(){return!0}async handle(t,e,i,n,r,o){let s;if(e.emittedStack[o+1]&&e.idStack[o+1])s=e.idStack[o+1][0];else{const t=null!==await i.getContainerKey(n[o],n,o)?await i.resourceToTerm(await e.getContext(n),n[o]):i.dataFactory.blankNode();if(!t)return void(e.emittedStack[o]=!1);s=t,e.idStack[o+1]=[s]}let a=e.idStack[o];a||(a=e.idStack[o]=[]),a.some((t=>t.equals(s)))||a.push(s),await e.handlePendingContainerFlushBuffers()||(e.emittedStack[o]=!1)}}},8023:(t,e,i)=>{t.exports=i(3335)},8059:(t,e,i)=>{var n=i(2177);t.exports=function(t){return n(2,t)}},8225:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParseType=e.RdfXmlParser=void 0;const n=i(742),r=i(5201),o=i(9198),s=i(5916),a=i(7793),g=i(7024);class l extends o.Transform{constructor(t){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},t&&(Object.assign(this,t),this.options=t),this.dataFactory||(this.dataFactory=new a.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),!1!==this.validateUri&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?g.IriValidationStrategy.Pragmatic:g.IriValidationStrategy.None),this.saxParser=new r.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(t){const e=new o.PassThrough({readableObjectMode:!0});t.on("error",(t=>i.emit("error",t))),t.on("data",(t=>e.push(t))),t.on("end",(()=>e.push(null)));const i=e.pipe(new l(this.options));return i}_transform(t,e,i){try{this.saxParser.write(t)}catch(t){return i(t)}i()}newParseError(t){return new s.ParseError(this,t)}valueToUri(t,e){return this.uriToNamedNode((0,n.resolve)(t,e.baseIRI))}uriToNamedNode(t){const e=(0,g.validateIri)(t,this.iriValidationStrategy);if(e instanceof Error)throw this.newParseError(e.message);return this.dataFactory.namedNode(t)}validateNcname(t){if(!l.NCNAME_MATCHER.test(t))throw this.newParseError(`Not a valid NCName: ${t}`)}attachSaxListeners(){this.saxParser.on("error",(t=>this.emit("error",t))),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("cdata",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(t){const e=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let i=A.RESOURCE;if(e&&(e.hadChildren=!0,i=e.childrenParseType),e&&e.childrenStringTags){const i=t.name;let n="";for(const e in t.attributes)n+=` ${e}="${t.attributes[e].value}"`;const r=`<${i}${n}>`;e.childrenStringTags.push(r);const o={childrenStringTags:e.childrenStringTags};return o.childrenStringEmitClosingTag=`</${i}>`,void this.activeTagStack.push(o)}const n={};e?(n.language=e.language,n.baseIRI=e.baseIRI):n.baseIRI=this.baseIRI,this.activeTagStack.push(n),i===A.RESOURCE?this.onTagResource(t,n,e,!e):this.onTagProperty(t,n,e)}onTagResource(t,e,i,r){e.childrenParseType=A.PROPERTY;let o=!0;if(t.uri===l.RDF){if(!r&&l.FORBIDDEN_NODE_ELEMENTS.indexOf(t.local)>=0)throw this.newParseError(`Illegal node element name: ${t.local}`);switch(t.local){case"RDF":e.childrenParseType=A.RESOURCE;case"Description":o=!1}}const s=[],a=[];let g=null,C=!1,I=!1,h=null;for(const r in t.attributes){const o=t.attributes[r];if(i&&o.uri===l.RDF)switch(o.local){case"about":if(g)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${o.value} and ${g} where found.`);g=o.value;continue;case"ID":if(g)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${o.value} and ${g} where found.`);this.validateNcname(o.value),g="#"+o.value,C=!0;continue;case"nodeID":if(g)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${o.value} and ${g} where found.`);this.validateNcname(o.value),g=o.value,I=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":h=o.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(o.uri===l.XML){if("lang"===o.local){e.language=""===o.value?null:o.value.toLowerCase();continue}if("base"===o.local){e.baseIRI=(0,n.resolve)(o.value,e.baseIRI);continue}}"xml"===o.prefix||"xmlns"===o.prefix||""===o.prefix&&"xmlns"===o.local||!o.uri||(s.push(this.uriToNamedNode(o.uri+o.local)),a.push(o.value))}if(null!==g&&(e.subject=I?this.dataFactory.blankNode(g):this.valueToUri(g,e),C&&this.claimNodeId(e.subject)),e.subject||(e.subject=this.dataFactory.blankNode()),o){const n=this.uriToNamedNode(t.uri+t.local);this.emitTriple(e.subject,this.dataFactory.namedNode(l.RDF+"type"),n,i?i.reifiedStatementId:null)}if(i){if(i.predicate)if(i.childrenCollectionSubject){const t=this.dataFactory.blankNode();this.emitTriple(i.childrenCollectionSubject,i.childrenCollectionPredicate,t,i.reifiedStatementId),this.emitTriple(t,this.dataFactory.namedNode(l.RDF+"first"),e.subject,e.reifiedStatementId),i.childrenCollectionSubject=t,i.childrenCollectionPredicate=this.dataFactory.namedNode(l.RDF+"rest")}else{this.emitTriple(i.subject,i.predicate,e.subject,i.reifiedStatementId);for(let t=0;t<i.predicateSubPredicates.length;t++)this.emitTriple(e.subject,i.predicateSubPredicates[t],i.predicateSubObjects[t],null);i.predicateSubPredicates=[],i.predicateSubObjects=[],i.predicateEmitted=!0}for(let t=0;t<s.length;t++){const n=this.dataFactory.literal(a[t],e.datatype||e.language);this.emitTriple(e.subject,s[t],n,i.reifiedStatementId)}h&&this.emitTriple(e.subject,this.dataFactory.namedNode(l.RDF+"type"),this.uriToNamedNode(h),null)}}onTagProperty(t,e,i){if(e.childrenParseType=A.RESOURCE,e.subject=i.subject,t.uri===l.RDF&&"li"===t.local?(i.listItemCounter||(i.listItemCounter=1),e.predicate=this.uriToNamedNode(t.uri+"_"+i.listItemCounter++)):e.predicate=this.uriToNamedNode(t.uri+t.local),t.uri===l.RDF&&l.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(t.local)>=0)throw this.newParseError(`Illegal property element name: ${t.local}`);e.predicateSubPredicates=[],e.predicateSubObjects=[];let n=!1,r=!1,o=null,s=!0;const a=[],g=[];for(const i in t.attributes){const C=t.attributes[i];if(C.uri===l.RDF)switch(C.local){case"resource":if(o)throw this.newParseError(`Found both rdf:resource (${C.value}) and rdf:nodeID (${o}).`);if(n)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${C.value})`);e.hadChildren=!0,o=C.value,s=!1;continue;case"datatype":if(r)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${C.value}).`);if(n)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${C.value})`);e.datatype=this.valueToUri(C.value,e);continue;case"nodeID":if(r)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${C.value}).`);if(e.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${C.value}).`);if(n)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${C.value})`);this.validateNcname(C.value),e.hadChildren=!0,o=C.value,s=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(r)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(e.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${e.datatype.value})`);if(o)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${o})`);if("Resource"===C.value){n=!0,e.childrenParseType=A.PROPERTY;const t=this.dataFactory.blankNode();this.emitTriple(e.subject,e.predicate,t,e.reifiedStatementId),e.subject=t,e.predicate=null}else"Collection"===C.value?(n=!0,e.hadChildren=!0,e.childrenCollectionSubject=e.subject,e.childrenCollectionPredicate=e.predicate,s=!1):"Literal"===C.value&&(n=!0,e.childrenTagsToString=!0,e.childrenStringTags=[]);continue;case"ID":this.validateNcname(C.value),e.reifiedStatementId=this.valueToUri("#"+C.value,e),this.claimNodeId(e.reifiedStatementId);continue}else if(C.uri===l.XML&&"lang"===C.local){e.language=""===C.value?null:C.value.toLowerCase();continue}if("xml"!==C.prefix&&"xmlns"!==C.prefix&&(""!==C.prefix||"xmlns"!==C.local)&&C.uri){if(n||e.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${C.value}`);e.hadChildren=!0,r=!0,a.push(this.uriToNamedNode(C.uri+C.local)),g.push(this.dataFactory.literal(C.value,e.datatype||e.language))}}if(null!==o){const t=e.subject;e.subject=s?this.dataFactory.blankNode(o):this.valueToUri(o,e),this.emitTriple(t,e.predicate,e.subject,e.reifiedStatementId);for(let t=0;t<a.length;t++)this.emitTriple(e.subject,a[t],g[t],null);e.predicateEmitted=!0}else s&&(e.predicateSubPredicates=a,e.predicateSubObjects=g,e.predicateEmitted=!1)}emitTriple(t,e,i,n){this.push(this.dataFactory.quad(t,e,i,this.defaultGraph)),n&&(this.push(this.dataFactory.quad(n,this.dataFactory.namedNode(l.RDF+"type"),this.dataFactory.namedNode(l.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(n,this.dataFactory.namedNode(l.RDF+"subject"),t,this.defaultGraph)),this.push(this.dataFactory.quad(n,this.dataFactory.namedNode(l.RDF+"predicate"),e,this.defaultGraph)),this.push(this.dataFactory.quad(n,this.dataFactory.namedNode(l.RDF+"object"),i,this.defaultGraph)))}claimNodeId(t){if(!this.allowDuplicateRdfIds){if(this.nodeIds[t.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${t.value}'.`);this.nodeIds[t.value]=!0}}onText(t){const e=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;e&&(e.childrenStringTags?e.childrenStringTags.push(t):e.predicate&&(e.text=t))}onCloseTag(){const t=this.activeTagStack.pop();if(t.childrenStringEmitClosingTag&&t.childrenStringTags.push(t.childrenStringEmitClosingTag),t.childrenTagsToString&&(t.datatype=this.dataFactory.namedNode(l.RDF+"XMLLiteral"),t.text=t.childrenStringTags.join(""),t.hadChildren=!1),t.childrenCollectionSubject)this.emitTriple(t.childrenCollectionSubject,t.childrenCollectionPredicate,this.dataFactory.namedNode(l.RDF+"nil"),t.reifiedStatementId);else if(t.predicate)if(t.hadChildren||t.childrenParseType===A.PROPERTY){if(!t.predicateEmitted){const e=this.dataFactory.blankNode();this.emitTriple(t.subject,t.predicate,e,t.reifiedStatementId);for(let i=0;i<t.predicateSubPredicates.length;i++)this.emitTriple(e,t.predicateSubPredicates[i],t.predicateSubObjects[i],null)}}else this.emitTriple(t.subject,t.predicate,this.dataFactory.literal(t.text||"",t.datatype||t.language),t.reifiedStatementId)}onDoctype(t){t.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,((t,e,i)=>(this.saxParser.ENTITIES[e]=i,"")))}}var A;e.RdfXmlParser=l,l.MIME_TYPE="application/rdf+xml",l.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",l.XML="http://www.w3.org/XML/1998/namespace",l.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],l.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],l.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u,function(t){t[t.RESOURCE=0]="RESOURCE",t[t.PROPERTY=1]="PROPERTY"}(A||(e.ParseType=A={}))},8229:(t,e,i)=>{"use strict";t.exports=i(8023).NQuads},8287:(t,e,i)=>{"use strict";const n=i(7526),r=i(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=g,e.SlowBuffer=function(t){return+t!=t&&(t=0),g.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,g.prototype),e}function g(t,e,i){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return C(t)}return l(t,e,i)}function l(t,e,i){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!g.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const i=0|d(t,e);let n=a(i);const r=n.write(t,e);return r!==i&&(n=n.slice(0,r)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(X(t,Uint8Array)){const e=new Uint8Array(t);return h(e.buffer,e.byteOffset,e.byteLength)}return I(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(X(t,ArrayBuffer)||t&&X(t.buffer,ArrayBuffer))return h(t,e,i);if("undefined"!=typeof SharedArrayBuffer&&(X(t,SharedArrayBuffer)||t&&X(t.buffer,SharedArrayBuffer)))return h(t,e,i);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return g.from(n,e,i);const r=function(t){if(g.isBuffer(t)){const e=0|c(t.length),i=a(e);return 0===i.length||t.copy(i,0,0,e),i}return void 0!==t.length?"number"!=typeof t.length||Q(t.length)?a(0):I(t):"Buffer"===t.type&&Array.isArray(t.data)?I(t.data):void 0}(t);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return g.from(t[Symbol.toPrimitive]("string"),e,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function A(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function C(t){return A(t),a(t<0?0:0|c(t))}function I(t){const e=t.length<0?0:0|c(t.length),i=a(e);for(let n=0;n<e;n+=1)i[n]=255&t[n];return i}function h(t,e,i){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(i||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,e):new Uint8Array(t,e,i),Object.setPrototypeOf(n,g.prototype),n}function c(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function d(t,e){if(g.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||X(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const i=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===i)return 0;let r=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return Y(t).length;default:if(r)return n?-1:H(t).length;e=(""+e).toLowerCase(),r=!0}}function u(t,e,i){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return _(this,e,i);case"utf8":case"utf-8":return E(this,e,i);case"ascii":return T(this,e,i);case"latin1":case"binary":return O(this,e,i);case"base64":return k(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function f(t,e,i){const n=t[e];t[e]=t[i],t[i]=n}function p(t,e,i,n,r){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),Q(i=+i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof e&&(e=g.from(e,n)),g.isBuffer(e))return 0===e.length?-1:v(t,e,i,n,r);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):v(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function v(t,e,i,n,r){let o,s=1,a=t.length,g=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,g/=2,i/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){let n=-1;for(o=i;o<a;o++)if(l(t,o)===l(e,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===g)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(i+g>a&&(i=a-g),o=i;o>=0;o--){let i=!0;for(let n=0;n<g;n++)if(l(t,o+n)!==l(e,n)){i=!1;break}if(i)return o}return-1}function m(t,e,i,n){i=Number(i)||0;const r=t.length-i;n?(n=Number(n))>r&&(n=r):n=r;const o=e.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(e.substr(2*s,2),16);if(Q(n))return s;t[i+s]=n}return s}function y(t,e,i,n){return K(H(e,t.length-i),t,i,n)}function b(t,e,i,n){return K(function(t){const e=[];for(let i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,n)}function w(t,e,i,n){return K(Y(e),t,i,n)}function x(t,e,i,n){return K(function(t,e){let i,n,r;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)i=t.charCodeAt(s),n=i>>8,r=i%256,o.push(r),o.push(n);return o}(e,t.length-i),t,i,n)}function k(t,e,i){return 0===e&&i===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,i))}function E(t,e,i){i=Math.min(t.length,i);const n=[];let r=e;for(;r<i;){const e=t[r];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(r+s<=i){let i,n,a,g;switch(s){case 1:e<128&&(o=e);break;case 2:i=t[r+1],128==(192&i)&&(g=(31&e)<<6|63&i,g>127&&(o=g));break;case 3:i=t[r+1],n=t[r+2],128==(192&i)&&128==(192&n)&&(g=(15&e)<<12|(63&i)<<6|63&n,g>2047&&(g<55296||g>57343)&&(o=g));break;case 4:i=t[r+1],n=t[r+2],a=t[r+3],128==(192&i)&&128==(192&n)&&128==(192&a)&&(g=(15&e)<<18|(63&i)<<12|(63&n)<<6|63&a,g>65535&&g<1114112&&(o=g))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),r+=s}return function(t){const e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);let i="",n=0;for(;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=S));return i}(n)}e.kMaxLength=s,g.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),g.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}}),g.poolSize=8192,g.from=function(t,e,i){return l(t,e,i)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array),g.alloc=function(t,e,i){return function(t,e,i){return A(t),t<=0?a(t):void 0!==e?"string"==typeof i?a(t).fill(e,i):a(t).fill(e):a(t)}(t,e,i)},g.allocUnsafe=function(t){return C(t)},g.allocUnsafeSlow=function(t){return C(t)},g.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==g.prototype},g.compare=function(t,e){if(X(t,Uint8Array)&&(t=g.from(t,t.offset,t.byteLength)),X(e,Uint8Array)&&(e=g.from(e,e.offset,e.byteLength)),!g.isBuffer(t)||!g.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let i=t.length,n=e.length;for(let r=0,o=Math.min(i,n);r<o;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},g.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return g.alloc(0);let i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;const n=g.allocUnsafe(e);let r=0;for(i=0;i<t.length;++i){let e=t[i];if(X(e,Uint8Array))r+e.length>n.length?(g.isBuffer(e)||(e=g.from(e)),e.copy(n,r)):Uint8Array.prototype.set.call(n,e,r);else{if(!g.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,r)}r+=e.length}return n},g.byteLength=d,g.prototype._isBuffer=!0,g.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)f(this,e,e+1);return this},g.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)f(this,e,e+3),f(this,e+1,e+2);return this},g.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)f(this,e,e+7),f(this,e+1,e+6),f(this,e+2,e+5),f(this,e+3,e+4);return this},g.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?E(this,0,t):u.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(t){if(!g.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===g.compare(this,t)},g.prototype.inspect=function(){let t="";const i=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(t+=" ... "),"<Buffer "+t+">"},o&&(g.prototype[o]=g.prototype.inspect),g.prototype.compare=function(t,e,i,n,r){if(X(t,Uint8Array)&&(t=g.from(t,t.offset,t.byteLength)),!g.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(this===t)return 0;let o=(r>>>=0)-(n>>>=0),s=(i>>>=0)-(e>>>=0);const a=Math.min(o,s),l=this.slice(n,r),A=t.slice(e,i);for(let t=0;t<a;++t)if(l[t]!==A[t]){o=l[t],s=A[t];break}return o<s?-1:s<o?1:0},g.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},g.prototype.indexOf=function(t,e,i){return p(this,t,e,i,!0)},g.prototype.lastIndexOf=function(t,e,i){return p(this,t,e,i,!1)},g.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(i)?(i>>>=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}const r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return m(this,t,e,i);case"utf8":case"utf-8":return y(this,t,e,i);case"ascii":case"latin1":case"binary":return b(this,t,e,i);case"base64":return w(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const S=4096;function T(t,e,i){let n="";i=Math.min(t.length,i);for(let r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function O(t,e,i){let n="";i=Math.min(t.length,i);for(let r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function _(t,e,i){const n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);let r="";for(let n=e;n<i;++n)r+=q[t[n]];return r}function R(t,e,i){const n=t.slice(e,i);let r="";for(let t=0;t<n.length-1;t+=2)r+=String.fromCharCode(n[t]+256*n[t+1]);return r}function N(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,i,n,r,o){if(!g.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function P(t,e,i,n,r){G(e,n,r,t,i,7);let o=Number(e&BigInt(4294967295));t[i++]=o,o>>=8,t[i++]=o,o>>=8,t[i++]=o,o>>=8,t[i++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s,i}function M(t,e,i,n,r){G(e,n,r,t,i,7);let o=Number(e&BigInt(4294967295));t[i+7]=o,o>>=8,t[i+6]=o,o>>=8,t[i+5]=o,o>>=8,t[i+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[i+3]=s,s>>=8,t[i+2]=s,s>>=8,t[i+1]=s,s>>=8,t[i]=s,i+8}function j(t,e,i,n,r,o){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function L(t,e,i,n,o){return e=+e,i>>>=0,o||j(t,0,i,4),r.write(t,e,i,n,23,4),i+4}function B(t,e,i,n,o){return e=+e,i>>>=0,o||j(t,0,i,8),r.write(t,e,i,n,52,8),i+8}g.prototype.slice=function(t,e){const i=this.length;(t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,g.prototype),n},g.prototype.readUintLE=g.prototype.readUIntLE=function(t,e,i){t>>>=0,e>>>=0,i||N(t,e,this.length);let n=this[t],r=1,o=0;for(;++o<e&&(r*=256);)n+=this[t+o]*r;return n},g.prototype.readUintBE=g.prototype.readUIntBE=function(t,e,i){t>>>=0,e>>>=0,i||N(t,e,this.length);let n=this[t+--e],r=1;for(;e>0&&(r*=256);)n+=this[t+--e]*r;return n},g.prototype.readUint8=g.prototype.readUInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),this[t]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]|this[t+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]<<8|this[t+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},g.prototype.readBigUInt64LE=J((function(t){W(t>>>=0,"offset");const e=this[t],i=this[t+7];void 0!==e&&void 0!==i||U(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,r=this[++t]+256*this[++t]+65536*this[++t]+i*2**24;return BigInt(n)+(BigInt(r)<<BigInt(32))})),g.prototype.readBigUInt64BE=J((function(t){W(t>>>=0,"offset");const e=this[t],i=this[t+7];void 0!==e&&void 0!==i||U(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],r=this[++t]*2**24+65536*this[++t]+256*this[++t]+i;return(BigInt(n)<<BigInt(32))+BigInt(r)})),g.prototype.readIntLE=function(t,e,i){t>>>=0,e>>>=0,i||N(t,e,this.length);let n=this[t],r=1,o=0;for(;++o<e&&(r*=256);)n+=this[t+o]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*e)),n},g.prototype.readIntBE=function(t,e,i){t>>>=0,e>>>=0,i||N(t,e,this.length);let n=e,r=1,o=this[t+--n];for(;n>0&&(r*=256);)o+=this[t+--n]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*e)),o},g.prototype.readInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},g.prototype.readInt16LE=function(t,e){t>>>=0,e||N(t,2,this.length);const i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},g.prototype.readInt16BE=function(t,e){t>>>=0,e||N(t,2,this.length);const i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},g.prototype.readInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},g.prototype.readInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},g.prototype.readBigInt64LE=J((function(t){W(t>>>=0,"offset");const e=this[t],i=this[t+7];void 0!==e&&void 0!==i||U(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),g.prototype.readBigInt64BE=J((function(t){W(t>>>=0,"offset");const e=this[t],i=this[t+7];void 0!==e&&void 0!==i||U(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+i)})),g.prototype.readFloatLE=function(t,e){return t>>>=0,e||N(t,4,this.length),r.read(this,t,!0,23,4)},g.prototype.readFloatBE=function(t,e){return t>>>=0,e||N(t,4,this.length),r.read(this,t,!1,23,4)},g.prototype.readDoubleLE=function(t,e){return t>>>=0,e||N(t,8,this.length),r.read(this,t,!0,52,8)},g.prototype.readDoubleBE=function(t,e){return t>>>=0,e||N(t,8,this.length),r.read(this,t,!1,52,8)},g.prototype.writeUintLE=g.prototype.writeUIntLE=function(t,e,i,n){t=+t,e>>>=0,i>>>=0,n||D(this,t,e,i,Math.pow(2,8*i)-1,0);let r=1,o=0;for(this[e]=255&t;++o<i&&(r*=256);)this[e+o]=t/r&255;return e+i},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(t,e,i,n){t=+t,e>>>=0,i>>>=0,n||D(this,t,e,i,Math.pow(2,8*i)-1,0);let r=i-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+i},g.prototype.writeUint8=g.prototype.writeUInt8=function(t,e,i){return t=+t,e>>>=0,i||D(this,t,e,1,255,0),this[e]=255&t,e+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(t,e,i){return t=+t,e>>>=0,i||D(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(t,e,i){return t=+t,e>>>=0,i||D(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(t,e,i){return t=+t,e>>>=0,i||D(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(t,e,i){return t=+t,e>>>=0,i||D(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},g.prototype.writeBigUInt64LE=J((function(t,e=0){return P(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),g.prototype.writeBigUInt64BE=J((function(t,e=0){return M(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),g.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*i-1);D(this,t,e,i,n-1,-n)}let r=0,o=1,s=0;for(this[e]=255&t;++r<i&&(o*=256);)t<0&&0===s&&0!==this[e+r-1]&&(s=1),this[e+r]=(t/o|0)-s&255;return e+i},g.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*i-1);D(this,t,e,i,n-1,-n)}let r=i-1,o=1,s=0;for(this[e+r]=255&t;--r>=0&&(o*=256);)t<0&&0===s&&0!==this[e+r+1]&&(s=1),this[e+r]=(t/o|0)-s&255;return e+i},g.prototype.writeInt8=function(t,e,i){return t=+t,e>>>=0,i||D(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},g.prototype.writeInt16LE=function(t,e,i){return t=+t,e>>>=0,i||D(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},g.prototype.writeInt16BE=function(t,e,i){return t=+t,e>>>=0,i||D(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},g.prototype.writeInt32LE=function(t,e,i){return t=+t,e>>>=0,i||D(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},g.prototype.writeInt32BE=function(t,e,i){return t=+t,e>>>=0,i||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},g.prototype.writeBigInt64LE=J((function(t,e=0){return P(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),g.prototype.writeBigInt64BE=J((function(t,e=0){return M(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),g.prototype.writeFloatLE=function(t,e,i){return L(this,t,e,!0,i)},g.prototype.writeFloatBE=function(t,e,i){return L(this,t,e,!1,i)},g.prototype.writeDoubleLE=function(t,e,i){return B(this,t,e,!0,i)},g.prototype.writeDoubleBE=function(t,e,i){return B(this,t,e,!1,i)},g.prototype.copy=function(t,e,i,n){if(!g.isBuffer(t))throw new TypeError("argument should be a Buffer");if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);const r=n-i;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,i,n):Uint8Array.prototype.set.call(t,this.subarray(i,n),e),r},g.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!g.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;let r;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(r=e;r<i;++r)this[r]=t;else{const o=g.isBuffer(t)?t:g.from(t,n),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(r=0;r<i-e;++r)this[r+e]=o[r%s]}return this};const F={};function z(t,e,i){F[t]=class extends i{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function V(t){let e="",i=t.length;const n="-"===t[0]?1:0;for(;i>=n+4;i-=3)e=`_${t.slice(i-3,i)}${e}`;return`${t.slice(0,i)}${e}`}function G(t,e,i,n,r,o){if(t>i||t<e){const n="bigint"==typeof e?"n":"";let r;throw r=o>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${e}${n} and <= ${i}${n}`,new F.ERR_OUT_OF_RANGE("value",r,t)}!function(t,e,i){W(e,"offset"),void 0!==t[e]&&void 0!==t[e+i]||U(e,t.length-(i+1))}(n,r,o)}function W(t,e){if("number"!=typeof t)throw new F.ERR_INVALID_ARG_TYPE(e,"number",t)}function U(t,e,i){if(Math.floor(t)!==t)throw W(t,i),new F.ERR_OUT_OF_RANGE(i||"offset","an integer",t);if(e<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(i||"offset",`>= ${i?1:0} and <= ${e}`,t)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(t,e,i){let n=`The value of "${t}" is out of range.`,r=i;return Number.isInteger(i)&&Math.abs(i)>2**32?r=V(String(i)):"bigint"==typeof i&&(r=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(r=V(r)),r+="n"),n+=` It must be ${e}. Received ${r}`,n}),RangeError);const Z=/[^+/0-9A-Za-z-_]/g;function H(t,e){let i;e=e||1/0;const n=t.length;let r=null;const o=[];for(let s=0;s<n;++s){if(i=t.charCodeAt(s),i>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&o.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;o.push(i)}else if(i<2048){if((e-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function Y(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(Z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function K(t,e,i,n){let r;for(r=0;r<n&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}function X(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Q(t){return t!=t}const q=function(){const t="0123456789abcdef",e=new Array(256);for(let i=0;i<16;++i){const n=16*i;for(let r=0;r<16;++r)e[n+r]=t[i]+t[r]}return e}();function J(t){return"undefined"==typeof BigInt?$:t}function $(){throw new Error("BigInt not supported")}},8401:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0,e.Variable=class{constructor(t){this.termType="Variable",this.value=t}equals(t){return!!t&&"Variable"===t.termType&&t.value===this.value}}},8483:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataFactory=void 0;const n=i(9931),r=i(2142),o=i(2426),s=i(3988),a=i(6754),g=i(8401);let l=0;e.DataFactory=class{constructor(t){this.blankNodeCounter=0,t=t||{},this.blankNodePrefix=t.blankNodePrefix||`df_${l++}_`}namedNode(t){return new s.NamedNode(t)}blankNode(t){return new n.BlankNode(t||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(t,e){return new o.Literal(t,e)}variable(t){return new g.Variable(t)}defaultGraph(){return r.DefaultGraph.INSTANCE}quad(t,e,i,n){return new a.Quad(t,e,i,n||this.defaultGraph())}fromTerm(t){switch(t.termType){case"NamedNode":return this.namedNode(t.value);case"BlankNode":return this.blankNode(t.value);case"Literal":return t.language?this.literal(t.value,t.language):t.datatype.equals(o.Literal.XSD_STRING)?this.literal(t.value):this.literal(t.value,this.fromTerm(t.datatype));case"Variable":return this.variable(t.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(t.subject),this.fromTerm(t.predicate),this.fromTerm(t.object),this.fromTerm(t.graph))}}fromQuad(t){return this.fromTerm(t)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},8579:(t,e,i)=>{"use strict";i.d(e,{A:()=>a});var n=i(1601),r=i.n(n),o=i(6314),s=i.n(o)()(r());s.push([t.id,"/* Graph visualization specific styles */\n\n#graph-container {\n  height: 100%;\n  width: 100%;\n  background-color: #f9f9f9;\n  position: relative;\n}\n\n/* Network visualization styles */\n.vis-network {\n  width: 100%;\n  height: 100%;\n}\n\n/* Node styling */\n.vis-node {\n  font-size: 14px;\n}\n\n.vis-node.subject {\n  background-color: #97B0F8;\n  border-color: #4466cc;\n}\n\n.vis-node.object {\n  background-color: #D5DDF6;\n  border-color: #97B0F8;\n}\n\n.vis-node.literal {\n  background-color: #fff6a5;\n  border-color: #ffcc00;\n  border-style: dashed;\n}\n\n/* Selected node styling */\n.vis-node.vis-selected {\n  background-color: #FFF785;\n  border-color: #FFC200;\n  box-shadow: 0 0 8px #FFC200;\n}\n\n/* Edge styling */\n.vis-edge {\n  color: #555;\n}\n\n.vis-edge.predicate {\n  width: 2px;\n}\n\n/* Edge label styling */\n.vis-edgelabel {\n  font-size: 12px;\n  background-color: rgba(255, 255, 255, 0.7);\n  padding: 2px 4px;\n  border-radius: 2px;\n}\n\n/* Cluster styling */\n.vis-cluster {\n  background-color: #ffce99;\n  border-color: #ff9c33;\n}\n\n.vis-cluster:hover {\n  background-color: #ffe6cc;\n  border-color: #ffb566;\n}\n\n/* Network navigation controls */\n.vis-navigation {\n  position: absolute;\n  bottom: 10px;\n  right: 10px;\n}\n\n.vis-navigation button {\n  width: 30px;\n  height: 30px;\n  background-color: white;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  margin: 2px;\n  cursor: pointer;\n}\n\n.vis-navigation button:hover {\n  background-color: #eee;\n}\n\n/* Tooltip styling */\n.vis-tooltip {\n  position: absolute;\n  padding: 8px;\n  background-color: white;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  font-size: 12px;\n  z-index: 900;\n  max-width: 300px;\n  word-wrap: break-word;\n}",""]);const a=s},8584:(t,e,i)=>{"use strict";const n=i(5606),{ArrayPrototypeSlice:r,Error:o,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:a,ObjectDefineProperties:g,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:A,Symbol:C,SymbolHasInstance:I}=i(4134);t.exports=P,P.WritableState=N;const{EventEmitter:h}=i(7007),c=i(4259).Stream,{Buffer:d}=i(8287),u=i(5896),{addAbortSignal:f}=i(4147),{getHighWaterMark:p,getDefaultHighWaterMark:v}=i(5291),{ERR_INVALID_ARG_TYPE:m,ERR_METHOD_NOT_IMPLEMENTED:y,ERR_MULTIPLE_CALLBACK:b,ERR_STREAM_CANNOT_PIPE:w,ERR_STREAM_DESTROYED:x,ERR_STREAM_ALREADY_FINISHED:k,ERR_STREAM_NULL_VALUES:E,ERR_STREAM_WRITE_AFTER_END:S,ERR_UNKNOWN_ENCODING:T}=i(6371).codes,{errorOrDestroy:O}=u;function _(){}l(P.prototype,c.prototype),l(P,c);const R=C("kOnFinished");function N(t,e,n){"boolean"!=typeof n&&(n=e instanceof i(3370)),this.objectMode=!(!t||!t.objectMode),n&&(this.objectMode=this.objectMode||!(!t||!t.writableObjectMode)),this.highWaterMark=t?p(this,t,"writableHighWaterMark",n):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const r=!(!t||!1!==t.decodeStrings);this.decodeStrings=!r,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=B.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,D(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||!1!==t.emitClose,this.autoDestroy=!t||!1!==t.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[R]=[]}function D(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}function P(t){const e=this instanceof i(3370);if(!e&&!s(P,this))return new P(t);this._writableState=new N(t,this,e),t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&f(t.signal,this)),c.call(this,t),u.construct(this,(()=>{const t=this._writableState;t.writing||G(this,t),U(this,t)}))}function M(t,e,i,r){const o=t._writableState;if("function"==typeof i)r=i,i=o.defaultEncoding;else{if(i){if("buffer"!==i&&!d.isEncoding(i))throw new T(i)}else i=o.defaultEncoding;"function"!=typeof r&&(r=_)}if(null===e)throw new E;if(!o.objectMode)if("string"==typeof e)!1!==o.decodeStrings&&(e=d.from(e,i),i="buffer");else if(e instanceof d)i="buffer";else{if(!c._isUint8Array(e))throw new m("chunk",["string","Buffer","Uint8Array"],e);e=c._uint8ArrayToBuffer(e),i="buffer"}let s;return o.ending?s=new S:o.destroyed&&(s=new x("write")),s?(n.nextTick(r,s),O(t,s,!0),s):(o.pendingcb++,function(t,e,i,n,r){const o=e.objectMode?1:i.length;e.length+=o;const s=e.length<e.highWaterMark;return s||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:i,encoding:n,callback:r}),e.allBuffers&&"buffer"!==n&&(e.allBuffers=!1),e.allNoop&&r!==_&&(e.allNoop=!1)):(e.writelen=o,e.writecb=r,e.writing=!0,e.sync=!0,t._write(i,n,e.onwrite),e.sync=!1),s&&!e.errored&&!e.destroyed}(t,o,e,i,r))}function j(t,e,i,n,r,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new x("write")):i?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function L(t,e,i,n){--e.pendingcb,n(i),V(e),O(t,i)}function B(t,e){const i=t._writableState,r=i.sync,o=i.writecb;"function"==typeof o?(i.writing=!1,i.writecb=null,i.length-=i.writelen,i.writelen=0,e?(e.stack,i.errored||(i.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),r?n.nextTick(L,t,i,e,o):L(t,i,e,o)):(i.buffered.length>i.bufferedIndex&&G(t,i),r?null!==i.afterWriteTickInfo&&i.afterWriteTickInfo.cb===o?i.afterWriteTickInfo.count++:(i.afterWriteTickInfo={count:1,cb:o,stream:t,state:i},n.nextTick(F,i.afterWriteTickInfo)):z(t,i,1,o))):O(t,new b)}function F({stream:t,state:e,count:i,cb:n}){return e.afterWriteTickInfo=null,z(t,e,i,n)}function z(t,e,i,n){for(!e.ending&&!t.destroyed&&0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));i-- >0;)e.pendingcb--,n();e.destroyed&&V(e),U(t,e)}function V(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;const{chunk:n,callback:r}=t.buffered[i],o=t.objectMode?1:n.length;t.length-=o,r(null!==(e=t.errored)&&void 0!==e?e:new x("write"))}const i=t[R].splice(0);for(let e=0;e<i.length;e++){var n;i[e](null!==(n=t.errored)&&void 0!==n?n:new x("end"))}D(t)}function G(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;const{buffered:i,bufferedIndex:n,objectMode:o}=e,s=i.length-n;if(!s)return;let a=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;const n=e.allNoop?_:t=>{for(let e=a;e<i.length;++e)i[e].callback(t)},o=e.allNoop&&0===a?i:r(i,a);o.allBuffers=e.allBuffers,j(t,e,!0,e.length,o,"",n),D(e)}else{do{const{chunk:n,encoding:r,callback:s}=i[a];i[a++]=null,j(t,e,!1,o?1:n.length,n,r,s)}while(a<i.length&&!e.writing);a===i.length?D(e):a>256?(i.splice(0,a),e.bufferedIndex=0):e.bufferedIndex=a}e.bufferProcessing=!1}function W(t){return t.ending&&!t.destroyed&&t.constructed&&0===t.length&&!t.errored&&0===t.buffered.length&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function U(t,e,i){W(e)&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.finalCalled=!0,function(t,e){let i=!1;function r(r){if(i)O(t,null!=r?r:b());else if(i=!0,e.pendingcb--,r){const i=e[R].splice(0);for(let t=0;t<i.length;t++)i[t](r);O(t,r,e.sync)}else W(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,n.nextTick(Z,t,e))}e.sync=!0,e.pendingcb++;try{t._final(r)}catch(t){r(t)}e.sync=!1}(t,e)))}(t,e),0===e.pendingcb&&(i?(e.pendingcb++,n.nextTick(((t,e)=>{W(e)?Z(t,e):e.pendingcb--}),t,e)):W(e)&&(e.pendingcb++,Z(t,e))))}function Z(t,e){e.pendingcb--,e.finished=!0;const i=e[R].splice(0);for(let t=0;t<i.length;t++)i[t]();if(t.emit("finish"),e.autoDestroy){const e=t._readableState;(!e||e.autoDestroy&&(e.endEmitted||!1===e.readable))&&t.destroy()}}N.prototype.getBuffer=function(){return r(this.buffered,this.bufferedIndex)},a(N.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),a(P,I,{__proto__:null,value:function(t){return!!s(this,t)||this===P&&t&&t._writableState instanceof N}}),P.prototype.pipe=function(){O(this,new w)},P.prototype.write=function(t,e,i){return!0===M(this,t,e,i)},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){const t=this._writableState;t.corked&&(t.corked--,t.writing||G(this,t))},P.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=A(t)),!d.isEncoding(t))throw new T(t);return this._writableState.defaultEncoding=t,this},P.prototype._write=function(t,e,i){if(!this._writev)throw new y("_write()");this._writev([{chunk:t,encoding:e}],i)},P.prototype._writev=null,P.prototype.end=function(t,e,i){const r=this._writableState;let s;if("function"==typeof t?(i=t,t=null,e=null):"function"==typeof e&&(i=e,e=null),null!=t){const i=M(this,t,e);i instanceof o&&(s=i)}return r.corked&&(r.corked=1,this.uncork()),s||(r.errored||r.ending?r.finished?s=new k("end"):r.destroyed&&(s=new x("end")):(r.ending=!0,U(this,r,!0),r.ended=!0)),"function"==typeof i&&(s||r.finished?n.nextTick(i,s):r[R].push(i)),this},g(P.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){const t=this._writableState;return!(!t||!1===t.writable||t.destroyed||t.errored||t.ending||t.ended)},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const t=this._writableState;return!!t&&!t.destroyed&&!t.ending&&t.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const H=u.destroy;let Y;function K(){return void 0===Y&&(Y={}),Y}P.prototype.destroy=function(t,e){const i=this._writableState;return!i.destroyed&&(i.bufferedIndex<i.buffered.length||i[R].length)&&n.nextTick(V,i),H.call(this,t,e),this},P.prototype._undestroy=u.undestroy,P.prototype._destroy=function(t,e){e(t)},P.prototype[h.captureRejectionSymbol]=function(t){this.destroy(t)},P.fromWeb=function(t,e){return K().newStreamWritableFromWritableStream(t,e)},P.toWeb=function(t){return K().newWritableStreamFromStreamWritable(t)}},8690:function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(i(2277),e)},8799:(t,e,i)=>{"use strict";function n(t){var e=this;if(e instanceof n||(e=new n),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var i=0,r=arguments.length;i<r;i++)e.push(arguments[i]);return e}function r(t,e,i){var n=e===t.head?new a(i,null,e,t):new a(i,e,e.next,t);return null===n.next&&(t.tail=n),null===n.prev&&(t.head=n),t.length++,n}function o(t,e){t.tail=new a(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function s(t,e){t.head=new a(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function a(t,e,i,n){if(!(this instanceof a))return new a(t,e,i,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,i?(i.prev=this,this.next=i):this.next=null}t.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,i=t.prev;return e&&(e.prev=i),i&&(i.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=i),t.list.length--,t.next=null,t.prev=null,t.list=null,e},n.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},n.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},n.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)o(this,arguments[t]);return this.length},n.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)s(this,arguments[t]);return this.length},n.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},n.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},n.prototype.forEach=function(t,e){e=e||this;for(var i=this.head,n=0;null!==i;n++)t.call(e,i.value,n,this),i=i.next},n.prototype.forEachReverse=function(t,e){e=e||this;for(var i=this.tail,n=this.length-1;null!==i;n--)t.call(e,i.value,n,this),i=i.prev},n.prototype.get=function(t){for(var e=0,i=this.head;null!==i&&e<t;e++)i=i.next;if(e===t&&null!==i)return i.value},n.prototype.getReverse=function(t){for(var e=0,i=this.tail;null!==i&&e<t;e++)i=i.prev;if(e===t&&null!==i)return i.value},n.prototype.map=function(t,e){e=e||this;for(var i=new n,r=this.head;null!==r;)i.push(t.call(e,r.value,this)),r=r.next;return i},n.prototype.mapReverse=function(t,e){e=e||this;for(var i=new n,r=this.tail;null!==r;)i.push(t.call(e,r.value,this)),r=r.prev;return i},n.prototype.reduce=function(t,e){var i,n=this.head;if(arguments.length>1)i=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,i=this.head.value}for(var r=0;null!==n;r++)i=t(i,n.value,r),n=n.next;return i},n.prototype.reduceReverse=function(t,e){var i,n=this.tail;if(arguments.length>1)i=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,i=this.tail.value}for(var r=this.length-1;null!==n;r--)i=t(i,n.value,r),n=n.prev;return i},n.prototype.toArray=function(){for(var t=new Array(this.length),e=0,i=this.head;null!==i;e++)t[e]=i.value,i=i.next;return t},n.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,i=this.tail;null!==i;e++)t[e]=i.value,i=i.prev;return t},n.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var i=new n;if(e<t||e<0)return i;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=0,o=this.head;null!==o&&r<t;r++)o=o.next;for(;null!==o&&r<e;r++,o=o.next)i.push(o.value);return i},n.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var i=new n;if(e<t||e<0)return i;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=this.length,o=this.tail;null!==o&&r>e;r--)o=o.prev;for(;null!==o&&r>t;r--,o=o.prev)i.push(o.value);return i},n.prototype.splice=function(t,e,...i){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,o=this.head;null!==o&&n<t;n++)o=o.next;var s=[];for(n=0;o&&n<e;n++)s.push(o.value),o=this.removeNode(o);for(null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev),n=0;n<i.length;n++)o=r(this,o,i[n]);return s},n.prototype.reverse=function(){for(var t=this.head,e=this.tail,i=t;null!==i;i=i.prev){var n=i.prev;i.prev=i.next,i.next=n}return this.head=e,this.tail=t,this};try{i(259)(n)}catch(t){}},9146:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},9180:(t,e,i)=>{"use strict";const{createNodeMap:n}=i(9233),{isKeyword:r}=i(1972),o=i(3978),s=i(2341),a=i(2207),g=i(5001),l=i(9263),{handleEvent:A}=i(2246),{RDF_FIRST:C,RDF_REST:I,RDF_NIL:h,RDF_TYPE:c,RDF_JSON_LITERAL:d,RDF_LANGSTRING:u,XSD_BOOLEAN:f,XSD_DOUBLE:p,XSD_INTEGER:v,XSD_STRING:m}=i(9378),{isAbsolute:y}=i(470),b={};function w(t,e,i,n,o){const s=Object.keys(e).sort();for(const a of s){const s=e[a],g=Object.keys(s).sort();for(let e of g){const g=s[e];if("@type"===e)e=c;else if(r(e))continue;for(const r of g){const s={termType:a.startsWith("_:")?"BlankNode":"NamedNode",value:a};if(!y(a)){o.eventHandler&&A({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:a}},options:o});continue}const g={termType:e.startsWith("_:")?"BlankNode":"NamedNode",value:e};if(!y(e)){o.eventHandler&&A({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:e}},options:o});continue}if("BlankNode"===g.termType&&!o.produceGeneralizedRdf){o.eventHandler&&A({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:n.getOldIds().find((t=>n.getId(t)===e))}},options:o});continue}const l=x(r,n,t,i,o.rdfDirection,o);l&&t.push({subject:s,predicate:g,object:l,graph:i})}}}}function x(t,e,i,n,r,l){const c={};if(o.isValue(t)){c.termType="Literal",c.value=void 0,c.datatype={termType:"NamedNode"};let e=t["@value"];const i=t["@type"]||null;if("@json"===i)c.value=s(e),c.datatype.value=d;else if(g.isBoolean(e))c.value=e.toString(),c.datatype.value=i||f;else if(g.isDouble(e)||i===p)g.isDouble(e)||(e=parseFloat(e)),c.value=e.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),c.datatype.value=i||p;else if(g.isNumber(e))c.value=e.toFixed(0),c.datatype.value=i||v;else if("@direction"in t&&"i18n-datatype"===r){const i=`https://www.w3.org/ns/i18n#${(t["@language"]||"").toLowerCase()}_${t["@direction"]}`;c.datatype.value=i,c.value=e}else{if("@direction"in t&&"compound-literal"===r)throw new a("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:r});if("@direction"in t&&r)throw new a("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:r});"@language"in t?("@direction"in t&&!r&&l.eventHandler&&A({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:c.value}},options:l}),c.value=e,c.datatype.value=i||u,c.language=t["@language"]):("@direction"in t&&!r&&l.eventHandler&&A({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:c.value}},options:l}),c.value=e,c.datatype.value=i||m)}}else if(o.isList(t)){const o=function(t,e,i,n,r,o){const s={termType:"NamedNode",value:C},a={termType:"NamedNode",value:I},g={termType:"NamedNode",value:h},l=t.pop(),A=l?{termType:"BlankNode",value:e.getId()}:g;let c=A;for(const g of t){const t=x(g,e,i,n,r,o),l={termType:"BlankNode",value:e.getId()};i.push({subject:c,predicate:s,object:t,graph:n}),i.push({subject:c,predicate:a,object:l,graph:n}),c=l}if(l){const t=x(l,e,i,n,r,o);i.push({subject:c,predicate:s,object:t,graph:n}),i.push({subject:c,predicate:a,object:g,graph:n})}return A}(t["@list"],e,i,n,r,l);c.termType=o.termType,c.value=o.value}else{const e=g.isObject(t)?t["@id"]:t;c.termType=e.startsWith("_:")?"BlankNode":"NamedNode",c.value=e}return"NamedNode"!==c.termType||y(c.value)?c:(l.eventHandler&&A({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:c.value}},options:l}),null)}t.exports=b,b.toRDF=(t,e)=>{const i=new l.IdentifierIssuer("_:b"),r={"@default":{}};n(t,r,"@default",i);const o=[],s=Object.keys(r).sort();for(const t of s){let n;if("@default"===t)n={termType:"DefaultGraph",value:""};else{if(!y(t)){e.eventHandler&&A({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:t}},options:e});continue}n=t.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},n.value=t}w(o,r[t],n,i,e)}return o}},9198:(t,e,i)=>{"use strict";const n=i(5506),r=i(3095),o=n.Readable.destroy;t.exports=n.Readable,t.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,t.exports._isUint8Array=n._isUint8Array,t.exports.isDisturbed=n.isDisturbed,t.exports.isErrored=n.isErrored,t.exports.isReadable=n.isReadable,t.exports.Readable=n.Readable,t.exports.Writable=n.Writable,t.exports.Duplex=n.Duplex,t.exports.Transform=n.Transform,t.exports.PassThrough=n.PassThrough,t.exports.addAbortSignal=n.addAbortSignal,t.exports.finished=n.finished,t.exports.destroy=n.destroy,t.exports.destroy=o,t.exports.pipeline=n.pipeline,t.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get:()=>r}),t.exports.Stream=n.Stream,t.exports.default=t.exports},9231:t=>{"use strict";t.exports={format:(t,...e)=>t.replace(/%([sdifj])/g,(function(...[t,i]){const n=e.shift();return"f"===i?n.toFixed(6):"j"===i?JSON.stringify(n):"s"===i&&"object"==typeof n?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})),inspect(t){switch(typeof t){case"string":if(t.includes("'")){if(!t.includes('"'))return`"${t}"`;if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}},9233:(t,e,i)=>{"use strict";const{isKeyword:n}=i(1972),r=i(3978),o=i(5001),s=i(9263),a=i(2207),g={};t.exports=g,g.createMergedNodeMap=(t,e)=>{const i=(e=e||{}).issuer||new s.IdentifierIssuer("_:b"),n={"@default":{}};return g.createNodeMap(t,n,"@default",i),g.mergeNodeMaps(n)},g.createNodeMap=(t,e,i,l,A,C)=>{if(o.isArray(t)){for(const n of t)g.createNodeMap(n,e,i,l,void 0,C);return}if(!o.isObject(t))return void(C&&C.push(t));if(r.isValue(t)){if("@type"in t){let e=t["@type"];0===e.indexOf("_:")&&(t["@type"]=e=l.getId(e))}return void(C&&C.push(t))}if(C&&r.isList(t)){const n=[];return g.createNodeMap(t["@list"],e,i,l,A,n),void C.push({"@list":n})}if("@type"in t){const e=t["@type"];for(const t of e)0===t.indexOf("_:")&&l.getId(t)}o.isUndefined(A)&&(A=r.isBlankNode(t)?l.getId(t["@id"]):t["@id"]),C&&C.push({"@id":A});const I=e[i],h=I[A]=I[A]||{};h["@id"]=A;const c=Object.keys(t).sort();for(let o of c){if("@id"===o)continue;if("@reverse"===o){const n={"@id":A},o=t["@reverse"];for(const t in o){const a=o[t];for(const o of a){let a=o["@id"];r.isBlankNode(o)&&(a=l.getId(a)),g.createNodeMap(o,e,i,l,a),s.addValue(I[a],t,n,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===o){A in e||(e[A]={}),g.createNodeMap(t[o],e,A,l);continue}if("@included"===o){g.createNodeMap(t[o],e,i,l);continue}if("@type"!==o&&n(o)){if("@index"===o&&o in h&&(t[o]!==h[o]||t[o]["@id"]!==h[o]["@id"]))throw new a("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:h});h[o]=t[o];continue}const C=t[o];if(0===o.indexOf("_:")&&(o=l.getId(o)),0!==C.length)for(let t of C)if("@type"===o&&(t=0===t.indexOf("_:")?l.getId(t):t),r.isSubject(t)||r.isSubjectReference(t)){if("@id"in t&&!t["@id"])continue;const n=r.isBlankNode(t)?l.getId(t["@id"]):t["@id"];s.addValue(h,o,{"@id":n},{propertyIsArray:!0,allowDuplicate:!1}),g.createNodeMap(t,e,i,l,n)}else if(r.isValue(t))s.addValue(h,o,t,{propertyIsArray:!0,allowDuplicate:!1});else if(r.isList(t)){const n=[];g.createNodeMap(t["@list"],e,i,l,A,n),t={"@list":n},s.addValue(h,o,t,{propertyIsArray:!0,allowDuplicate:!1})}else g.createNodeMap(t,e,i,l,A),s.addValue(h,o,t,{propertyIsArray:!0,allowDuplicate:!1});else s.addValue(h,o,[],{propertyIsArray:!0})}},g.mergeNodeMapGraphs=t=>{const e={};for(const i of Object.keys(t).sort())for(const r of Object.keys(t[i]).sort()){const o=t[i][r];r in e||(e[r]={"@id":r});const a=e[r];for(const t of Object.keys(o).sort())if(n(t)&&"@type"!==t)a[t]=s.clone(o[t]);else for(const e of o[t])s.addValue(a,t,s.clone(e),{propertyIsArray:!0,allowDuplicate:!1})}return e},g.mergeNodeMaps=t=>{const e=t["@default"],i=Object.keys(t).sort();for(const n of i){if("@default"===n)continue;const i=t[n];let o=e[n];o?"@graph"in o||(o["@graph"]=[]):e[n]=o={"@id":n,"@graph":[]};const s=o["@graph"];for(const t of Object.keys(i).sort()){const e=i[t];r.isSubjectReference(e)||s.push(e)}}return e}},9263:(t,e,i)=>{"use strict";const n=i(3978),r=i(5001),o=i(8023).IdentifierIssuer,s=i(2207),a=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,g=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,l=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,A="application/ld+json, application/json",C={};function I(t,e){if(r.isArray(e))for(let i=0;i<e.length;++i)e[i]=I(t,e[i]);else if(n.isList(e))e["@list"]=I(t,e["@list"]);else if(r.isObject(e)){n.isBlankNode(e)&&(e["@id"]=t.getId(e["@id"]));const i=Object.keys(e).sort();for(let n=0;n<i.length;++n){const r=i[n];"@id"!==r&&(e[r]=I(t,e[r]))}}return e}t.exports=C,C.IdentifierIssuer=o,C.REGEX_BCP47=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,C.REGEX_KEYWORD=/^@[a-zA-Z]+$/,C.clone=function(t){if(t&&"object"==typeof t){let e;if(r.isArray(t)){e=[];for(let i=0;i<t.length;++i)e[i]=C.clone(t[i])}else if(t instanceof Map){e=new Map;for(const[i,n]of t)e.set(i,C.clone(n))}else if(t instanceof Set){e=new Set;for(const i of t)e.add(C.clone(i))}else if(r.isObject(t)){e={};for(const i in t)e[i]=C.clone(t[i])}else e=t.toString();return e}return t},C.asArray=function(t){return Array.isArray(t)?t:[t]},C.buildHeaders=(t={})=>{if(Object.keys(t).some((t=>"accept"===t.toLowerCase())))throw new RangeError('Accept header may not be specified; only "'+A+'" is supported.');return Object.assign({Accept:A},t)},C.parseLinkHeader=t=>{const e={},i=t.match(a);for(let t=0;t<i.length;++t){let n=i[t].match(g);if(!n)continue;const r={target:n[1]},o=n[2];for(;n=l.exec(o);)r[n[1]]=void 0===n[2]?n[3]:n[2];const s=r.rel||"";Array.isArray(e[s])?e[s].push(r):e.hasOwnProperty(s)?e[s]=[e[s],r]:e[s]=r}return e},C.validateTypeValue=(t,e)=>{if(!(r.isString(t)||r.isArray(t)&&t.every((t=>r.isString(t))))){if(e&&r.isObject(t))switch(Object.keys(t).length){case 0:return;case 1:if("@default"in t&&C.asArray(t["@default"]).every((t=>r.isString(t))))return}throw new s('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:t})}},C.hasProperty=(t,e)=>{if(t.hasOwnProperty(e)){const i=t[e];return!r.isArray(i)||i.length>0}return!1},C.hasValue=(t,e,i)=>{if(C.hasProperty(t,e)){let o=t[e];const s=n.isList(o);if(r.isArray(o)||s){s&&(o=o["@list"]);for(let t=0;t<o.length;++t)if(C.compareValues(i,o[t]))return!0}else if(!r.isArray(i))return C.compareValues(i,o)}return!1},C.addValue=(t,e,i,n)=>{if("propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),"prependValue"in n||(n.prependValue=!1),n.valueIsArray)t[e]=i;else if(r.isArray(i)){0===i.length&&n.propertyIsArray&&!t.hasOwnProperty(e)&&(t[e]=[]),n.prependValue&&(i=i.concat(t[e]),t[e]=[]);for(let r=0;r<i.length;++r)C.addValue(t,e,i[r],n)}else if(t.hasOwnProperty(e)){const o=!n.allowDuplicate&&C.hasValue(t,e,i);r.isArray(t[e])||o&&!n.propertyIsArray||(t[e]=[t[e]]),o||(n.prependValue?t[e].unshift(i):t[e].push(i))}else t[e]=n.propertyIsArray?[i]:i},C.getValues=(t,e)=>[].concat(t[e]||[]),C.removeProperty=(t,e)=>{delete t[e]},C.removeValue=(t,e,i,n)=>{"propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1);const r=C.getValues(t,e).filter((t=>!C.compareValues(t,i)));0===r.length?C.removeProperty(t,e):1!==r.length||n.propertyIsArray?t[e]=r:t[e]=r[0]},C.relabelBlankNodes=(t,e)=>I((e=e||{}).issuer||new o("_:b"),t),C.compareValues=(t,e)=>t===e||!(!n.isValue(t)||!n.isValue(e)||t["@value"]!==e["@value"]||t["@type"]!==e["@type"]||t["@language"]!==e["@language"]||t["@index"]!==e["@index"])||!!(r.isObject(t)&&"@id"in t&&r.isObject(e)&&"@id"in e)&&t["@id"]===e["@id"],C.compareShortestLeast=(t,e)=>t.length<e.length?-1:e.length<t.length?1:t===e?0:t<e?-1:1},9272:(t,e,i)=>{"use strict";const n=i(6441),r=i(1820);t.exports=class extends r{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new n("sha1")}modifyFirstDegreeComponent(t,e,i){return"BlankNode"!==e.termType?e:"graph"===i?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:e.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}createHashToRelated(t,e){const i=new Map,n=this.blankNodeInfo.get(t).quads;for(const r of n){let n,o;if("BlankNode"===r.subject.termType&&r.subject.value!==t)o=r.subject.value,n="p";else{if("BlankNode"!==r.object.termType||r.object.value===t)continue;o=r.object.value,n="r"}const s=this.hashRelatedBlankNode(o,r,e,n),a=i.get(s);a?a.push(o):i.set(s,[o])}return i}}},9325:(t,e,i)=>{var n=i(4840),r="object"==typeof self&&self&&self.Object===Object&&self,o=n||r||Function("return this")();t.exports=o},9350:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},9374:(t,e,i)=>{var n=i(4128),r=i(3805),o=i(4394),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,g=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var i=a.test(t);return i||g.test(t)?l(t.slice(2),i?2:8):s.test(t)?NaN:+t}},9378:t=>{"use strict";const e="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#";t.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:e,RDF_LIST:e+"List",RDF_FIRST:e+"first",RDF_REST:e+"rest",RDF_NIL:e+"nil",RDF_TYPE:e+"type",RDF_PLAIN_LITERAL:e+"PlainLiteral",RDF_XML_LITERAL:e+"XMLLiteral",RDF_JSON_LITERAL:e+"JSON",RDF_OBJECT:e+"object",RDF_LANGSTRING:e+"langString",XSD:i,XSD_BOOLEAN:i+"boolean",XSD_DOUBLE:i+"double",XSD_INTEGER:i+"integer",XSD_STRING:i+"string"}},9693:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerArrayValue=void 0;const n=i(888),r=i(2395);e.EntryHandlerArrayValue=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,i,n,r){return this.test(t,e,null,i,n)}async test(t,e,i,n,r){return"number"==typeof n[r]}async handle(t,e,i,r,o,s){let a=await e.unaliasKeywordParent(r,s);if("@list"===a){let i=null,n=0;for(let t=s-2;t>0;t--){const e=r[t];if("string"==typeof e||"number"==typeof e){n=t,i=e;break}}if(null!==i){const a=await e.valueToTerm(await t.getContext(r),i,o,s,r);for(const i of a)await this.handleListElement(t,e,i,o,s,r.slice(0,n),n);0===a.length&&await this.handleListElement(t,e,null,o,s,r.slice(0,n),n)}}else if("@set"===a)await t.newOnValueJob(r.slice(0,-2),o,s-2,!1);else if(void 0!==a&&"@type"!==a){for(let t=s-1;t>0;t--)if("number"!=typeof r[t]){a=await e.unaliasKeyword(r[t],r,t);break}const i=await t.getContext(r.slice(0,-1));if("@list"in n.Util.getContextValueContainer(i,a)){t.emittedStack[s+1]=!0;const i=await e.valueToTerm(await t.getContext(r),a,o,s,r);for(const n of i)await this.handleListElement(t,e,n,o,s,r.slice(0,-1),s-1);0===i.length&&await this.handleListElement(t,e,null,o,s,r.slice(0,-1),s-1)}else t.shiftStack(s,1),await t.newOnValueJob(r.slice(0,-1),o,s-1,!1),t.contextTree.removeContext(r.slice(0,-1))}}async handleListElement(t,e,i,n,o,s,a){let g=t.listPointerStack[o];if(null!==n&&null!==(await e.unaliasKeywords(n,s,o))["@value"]){if(g&&g.value){const i=e.dataFactory.blankNode();t.emitQuad(o,e.dataFactory.quad(g.value,e.rdfRest,i,e.getDefaultGraph())),g.value=i}else{const t=e.dataFactory.blankNode();g={value:t,listRootDepth:a,listId:t}}i&&t.emitQuad(o,e.dataFactory.quad(g.value,e.rdfFirst,i,e.getDefaultGraph()))}else g||(g={listRootDepth:a,listId:e.rdfNil});t.listPointerStack[o]=g,t.rdfstar&&t.annotationsBuffer[o]&&t.emitError(new r.ErrorCoded("Found an illegal annotation inside a list",r.ERROR_CODES.INVALID_ANNOTATION))}}},9925:t=>{"use strict";t.exports=class{constructor(t){this.current=t.sort(),this.done=!1,this.dir=new Map;for(let e=0;e<t.length;++e)this.dir.set(t[e],!0)}hasNext(){return!this.done}next(){const{current:t,dir:e}=this,i=t.slice();let n=null,r=0;const o=t.length;for(let i=0;i<o;++i){const s=t[i],a=e.get(s);(null===n||s>n)&&(a&&i>0&&s>t[i-1]||!a&&i<o-1&&s>t[i+1])&&(n=s,r=i)}if(null===n)this.done=!0;else{const i=e.get(n)?r-1:r+1;t[r]=t[i],t[i]=n;for(const i of t)i>n&&e.set(i,!e.get(i))}return i}}},9931:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlankNode=void 0,e.BlankNode=class{constructor(t){this.termType="BlankNode",this.value=t}equals(t){return!!t&&"BlankNode"===t.termType&&t.value===this.value}}}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={id:n,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.nc=void 0,(()=>{"use strict";const t=1024;let e=0;class n{constructor(t,e){this.from=t,this.to=e}}class r{constructor(t={}){this.id=e++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=a.match(t)),e=>{let i=t(e);return void 0===i?null:[this,i]}}}r.closedBy=new r({deserialize:t=>t.split(" ")}),r.openedBy=new r({deserialize:t=>t.split(" ")}),r.group=new r({deserialize:t=>t.split(" ")}),r.isolate=new r({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}}),r.contextHash=new r({perNode:!0}),r.lookAhead=new r({perNode:!0}),r.mounted=new r({perNode:!0});class o{constructor(t,e,i){this.tree=t,this.overlay=e,this.parser=i}static get(t){return t&&t.props&&t.props[r.mounted.id]}}const s=Object.create(null);class a{constructor(t,e,i,n=0){this.name=t,this.props=e,this.id=i,this.flags=n}static define(t){let e=t.props&&t.props.length?Object.create(null):s,i=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),n=new a(t.name||"",e,t.id,i);if(t.props)for(let i of t.props)if(Array.isArray(i)||(i=i(n)),i){if(i[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[i[0].id]=i[1]}return n}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(r.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let i in t)for(let n of i.split(" "))e[n]=t[i];return t=>{for(let i=t.prop(r.group),n=-1;n<(i?i.length:0);n++){let r=e[n<0?t.name:i[n]];if(r)return r}}}}a.none=new a("",Object.create(null),0,8);class g{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let i of this.types){let n=null;for(let e of t){let t=e(i);t&&(n||(n=Object.assign({},i.props)),n[t[0].id]=t[1])}e.push(n?new a(i.name,n,i.id,i.flags):i)}return new g(e)}}const l=new WeakMap,A=new WeakMap;var C;!function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"}(C||(C={}));class I{constructor(t,e,i,n,r){if(this.type=t,this.children=e,this.positions=i,this.length=n,this.props=null,r&&r.length){this.props=Object.create(null);for(let[t,e]of r)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=o.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let t of this.children){let i=t.toString();i&&(e&&(e+=","),e+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new k(this.topNode,t)}cursorAt(t,e=0,i=0){let n=l.get(this)||this.topNode,r=new k(n);return r.moveTo(t,e),l.set(this,r._tree),r}get topNode(){return new p(this,0,0,null)}resolve(t,e=0){let i=u(l.get(this)||this.topNode,t,e,!1);return l.set(this,i),i}resolveInner(t,e=0){let i=u(A.get(this)||this.topNode,t,e,!0);return A.set(this,i),i}resolveStack(t,e=0){return function(t,e,i){let n=t.resolveInner(e,i),r=null;for(let t=n instanceof p?n:n.context.parent;t;t=t.parent)if(t.index<0){let o=t.parent;(r||(r=[n])).push(o.resolve(e,i)),t=o}else{let s=o.get(t.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let o=new p(s.tree,s.overlay[0].from+t.from,-1,t);(r||(r=[n])).push(u(o,e,i,!1))}}return r?w(r):n}(this,t,e)}iterate(t){let{enter:e,leave:i,from:n=0,to:r=this.length}=t,o=t.mode||0,s=(o&C.IncludeAnonymous)>0;for(let t=this.cursor(o|C.IncludeAnonymous);;){let o=!1;if(t.from<=r&&t.to>=n&&(!s&&t.type.isAnonymous||!1!==e(t))){if(t.firstChild())continue;o=!0}for(;o&&i&&(s||!t.type.isAnonymous)&&i(t),!t.nextSibling();){if(!t.parent())return;o=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:O(a.none,this.children,this.positions,0,this.children.length,0,this.length,((t,e,i)=>new I(this.type,t,e,i,this.propValues)),t.makeTree||((t,e,i)=>new I(a.none,t,e,i)))}static build(e){return function(e){var i;let{buffer:n,nodeSet:o,maxBufferLength:s=t,reused:a=[],minRepeatType:g=o.types.length}=e,l=Array.isArray(n)?new h(n,n.length):n,A=o.types,C=0,d=0;function u(t,e,i,n,h,y){let{id:b,start:w,end:x,size:k}=l,E=d,S=C;for(;k<0;){if(l.next(),-1==k){let e=a[b];return i.push(e),void n.push(w-t)}if(-3==k)return void(C=b);if(-4==k)return void(d=b);throw new RangeError(`Unrecognized record size: ${k}`)}let T,_,R=A[b],N=w-t;if(x-w<=s&&(_=function(t,e){let i=l.fork(),n=0,r=0,o=0,a=i.end-s,A={size:0,start:0,skip:0};t:for(let s=i.pos-t;i.pos>s;){let t=i.size;if(i.id==e&&t>=0){A.size=n,A.start=r,A.skip=o,o+=4,n+=4,i.next();continue}let l=i.pos-t;if(t<0||l<s||i.start<a)break;let C=i.id>=g?4:0,I=i.start;for(i.next();i.pos>l;){if(i.size<0){if(-3!=i.size)break t;C+=4}else i.id>=g&&(C+=4);i.next()}r=I,n+=t,o+=C}return(e<0||n==t)&&(A.size=n,A.start=r,A.skip=o),A.size>4?A:void 0}(l.pos-e,h))){let e=new Uint16Array(_.size-_.skip),i=l.pos-_.size,n=e.length;for(;l.pos>i;)n=m(_.start,e,n);T=new c(e,x-_.start,o),N=_.start-t}else{let t=l.pos-k;l.next();let e=[],i=[],n=b>=g?b:-1,o=0,a=x;for(;l.pos>t;)n>=0&&l.id==n&&l.size>=0?(l.end<=a-s&&(p(e,i,w,o,l.end,a,n,E,S),o=e.length,a=l.end),l.next()):y>2500?f(w,t,e,i):u(w,t,e,i,n,y+1);if(n>=0&&o>0&&o<e.length&&p(e,i,w,o,w,a,n,E,S),e.reverse(),i.reverse(),n>-1&&o>0){let t=function(t,e){return(i,n,o)=>{let s,a,g=0,l=i.length-1;if(l>=0&&(s=i[l])instanceof I){if(!l&&s.type==t&&s.length==o)return s;(a=s.prop(r.lookAhead))&&(g=n[l]+s.length+a)}return v(t,i,n,o,g,e)}}(R,S);T=O(R,e,i,0,e.length,0,x-w,t,t)}else T=v(R,e,i,x-w,E-x,S)}i.push(T),n.push(N)}function f(t,e,i,n){let r=[],a=0,g=-1;for(;l.pos>e;){let{id:t,start:e,end:i,size:n}=l;if(n>4)l.next();else{if(g>-1&&e<g)break;g<0&&(g=i-s),r.push(t,e,i),a++,l.next()}}if(a){let e=new Uint16Array(4*a),s=r[r.length-2];for(let t=r.length-3,i=0;t>=0;t-=3)e[i++]=r[t],e[i++]=r[t+1]-s,e[i++]=r[t+2]-s,e[i++]=i;i.push(new c(e,r[2]-s,o)),n.push(s-t)}}function p(t,e,i,n,r,s,a,g,l){let A=[],C=[];for(;t.length>n;)A.push(t.pop()),C.push(e.pop()+i-r);t.push(v(o.types[a],A,C,s-r,g-s,l)),e.push(r-i)}function v(t,e,i,n,o,s,a){if(s){let t=[r.contextHash,s];a=a?[t].concat(a):[t]}if(o>25){let t=[r.lookAhead,o];a=a?[t].concat(a):[t]}return new I(t,e,i,n,a)}function m(t,e,i){let{id:n,start:r,end:o,size:s}=l;if(l.next(),s>=0&&n<g){let a=i;if(s>4){let n=l.pos-(s-4);for(;l.pos>n;)i=m(t,e,i)}e[--i]=a,e[--i]=o-t,e[--i]=r-t,e[--i]=n}else-3==s?C=n:-4==s&&(d=n);return i}let y=[],b=[];for(;l.pos>0;)u(e.start||0,e.bufferStart||0,y,b,-1,0);let w=null!==(i=e.length)&&void 0!==i?i:y.length?b[0]+y[0].length:0;return new I(A[e.topID],y.reverse(),b.reverse(),w)}(e)}}I.empty=new I(a.none,[],[],0);class h{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new h(this.buffer,this.index)}}class c{constructor(t,e,i){this.buffer=t,this.length=e,this.set=i}get type(){return a.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],i=this.buffer[t+3],n=this.set.types[e],r=n.name;if(/\W/.test(r)&&!n.isError&&(r=JSON.stringify(r)),i==(t+=4))return r;let o=[];for(;t<i;)o.push(this.childString(t)),t=this.buffer[t+3];return r+"("+o.join(",")+")"}findChild(t,e,i,n,r){let{buffer:o}=this,s=-1;for(let a=t;a!=e&&!(d(r,n,o[a+1],o[a+2])&&(s=a,i>0));a=o[a+3]);return s}slice(t,e,i){let n=this.buffer,r=new Uint16Array(e-t),o=0;for(let s=t,a=0;s<e;){r[a++]=n[s++],r[a++]=n[s++]-i;let e=r[a++]=n[s++]-i;r[a++]=n[s++]-t,o=Math.max(o,e)}return new c(r,o,this.set)}}function d(t,e,i,n){switch(t){case-2:return i<e;case-1:return n>=e&&i<e;case 0:return i<e&&n>e;case 1:return i<=e&&n>e;case 2:return n>e;case 4:return!0}}function u(t,e,i,n){for(var r;t.from==t.to||(i<1?t.from>=e:t.from>e)||(i>-1?t.to<=e:t.to<e);){let e=!n&&t instanceof p&&t.index<0?null:t.parent;if(!e)return t;t=e}let o=n?0:C.IgnoreOverlays;if(n)for(let n=t,s=n.parent;s;n=s,s=n.parent)n instanceof p&&n.index<0&&(null===(r=s.enter(e,i,o))||void 0===r?void 0:r.from)!=n.from&&(t=s);for(;;){let n=t.enter(e,i,o);if(!n)return t;t=n}}class f{cursor(t=0){return new k(this,t)}getChild(t,e=null,i=null){let n=v(this,t,e,i);return n.length?n[0]:null}getChildren(t,e=null,i=null){return v(this,t,e,i)}resolve(t,e=0){return u(this,t,e,!1)}resolveInner(t,e=0){return u(this,t,e,!0)}matchContext(t){return m(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),i=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(i=e,e=t.prevSibling):e=t}return i}get node(){return this}get next(){return this.parent}}class p extends f{constructor(t,e,i,n){super(),this._tree=t,this.from=e,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,i,n,r=0){for(let s=this;;){for(let{children:a,positions:g}=s._tree,l=e>0?a.length:-1;t!=l;t+=e){let l=a[t],A=g[t]+s.from;if(d(n,i,A,A+l.length))if(l instanceof c){if(r&C.ExcludeBuffers)continue;let o=l.findChild(0,l.buffer.length,e,i-A,n);if(o>-1)return new b(new y(s,l,t,A),null,o)}else if(r&C.IncludeAnonymous||!l.type.isAnonymous||E(l)){let a;if(!(r&C.IgnoreMounts)&&(a=o.get(l))&&!a.overlay)return new p(a.tree,A,t,s);let g=new p(l,A,t,s);return r&C.IncludeAnonymous||!g.type.isAnonymous?g:g.nextChild(e<0?l.children.length-1:0,e,i,n)}}if(r&C.IncludeAnonymous||!s.type.isAnonymous)return null;if(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,i=0){let n;if(!(i&C.IgnoreOverlays)&&(n=o.get(this._tree))&&n.overlay){let i=t-this.from;for(let{from:t,to:r}of n.overlay)if((e>0?t<=i:t<i)&&(e<0?r>=i:r>i))return new p(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function v(t,e,i,n){let r=t.cursor(),o=[];if(!r.firstChild())return o;if(null!=i)for(let t=!1;!t;)if(t=r.type.is(i),!r.nextSibling())return o;for(;;){if(null!=n&&r.type.is(n))return o;if(r.type.is(e)&&o.push(r.node),!r.nextSibling())return null==n?o:[]}}function m(t,e,i=e.length-1){for(let n=t;i>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[i]&&e[i]!=n.name)return!1;i--}}return!0}class y{constructor(t,e,i,n){this.parent=t,this.buffer=e,this.index=i,this.start=n}}class b extends f{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,i){super(),this.context=t,this._parent=e,this.index=i,this.type=t.buffer.set.types[t.buffer.buffer[i]]}child(t,e,i){let{buffer:n}=this.context,r=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.context.start,i);return r<0?null:new b(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,i=0){if(i&C.ExcludeBuffers)return null;let{buffer:n}=this.context,r=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return r<0?null:new b(this.context,this,r)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new b(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new b(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:i}=this.context,n=this.index+4,r=i.buffer[this.index+3];if(r>n){let o=i.buffer[this.index+1];t.push(i.slice(n,r,o)),e.push(0)}return new I(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function w(t){if(!t.length)return null;let e=0,i=t[0];for(let n=1;n<t.length;n++){let r=t[n];(r.from>i.from||r.to<i.to)&&(i=r,e=n)}let n=i instanceof p&&i.index<0?null:i.parent,r=t.slice();return n?r[e]=n:r.splice(e,1),new x(r,i)}class x{constructor(t,e){this.heads=t,this.node=e}get next(){return w(this.heads)}}class k{get name(){return this.type.name}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof p)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:i,buffer:n}=this.buffer;return this.type=e||n.set.types[n.buffer[t]],this.from=i+n.buffer[t+1],this.to=i+n.buffer[t+2],!0}yield(t){return!!t&&(t instanceof p?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,i){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,i,this.mode));let{buffer:n}=this.buffer,r=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.buffer.start,i);return!(r<0)&&(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,i=this.mode){return this.buffer?!(i&C.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&C.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&C.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,i=this.stack.length-1;if(t<0){let t=i<0?0:this.stack[i]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(i<0?e.buffer.length:e.buffer[this.stack[i]+3]))return this.yieldBuf(t)}return i<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,i,{buffer:n}=this;if(n){if(t>0){if(this.index<n.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(n.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:i}=n)}else({index:e,_parent:i}=this._tree);for(;i;({index:e,_parent:i}=i))if(e>-1)for(let n=e+t,r=t<0?-1:i._tree.children.length;n!=r;n+=t){let t=i._tree.children[n];if(this.mode&C.IncludeAnonymous||t instanceof c||!t.type.isAnonymous||E(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,i=0;if(t&&t.context==this.buffer)t:for(let n=this.index,r=this.stack.length;r>=0;){for(let o=t;o;o=o._parent)if(o.index==n){if(n==this.index)return o;e=o,i=r+1;break t}n=this.stack[--r]}for(let t=i;t<this.stack.length;t++)e=new b(this.buffer,e,this.stack[t]);return this.bufferNode=new b(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let i=0;;){let n=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&e&&e(this),n=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,n=!0}}}matchContext(t){if(!this.buffer)return m(this.node.parent,t);let{buffer:e}=this.buffer,{types:i}=e.set;for(let n=t.length-1,r=this.stack.length-1;n>=0;r--){if(r<0)return m(this._tree,t,n);let o=i[e.buffer[this.stack[r]]];if(!o.isAnonymous){if(t[n]&&t[n]!=o.name)return!1;n--}}return!0}}function E(t){return t.children.some((t=>t instanceof c||!t.type.isAnonymous||E(t)))}const S=new WeakMap;function T(t,e){if(!t.isAnonymous||e instanceof c||e.type!=t)return 1;let i=S.get(e);if(null==i){i=1;for(let n of e.children){if(n.type!=t||!(n instanceof I)){i=1;break}i+=T(t,n)}S.set(e,i)}return i}function O(t,e,i,n,r,o,s,a,g){let l=0;for(let i=n;i<r;i++)l+=T(t,e[i]);let A=Math.ceil(1.5*l/8),C=[],I=[];return function e(i,n,r,s,a){for(let l=r;l<s;){let r=l,h=n[l],c=T(t,i[l]);for(l++;l<s;l++){let e=T(t,i[l]);if(c+e>=A)break;c+=e}if(l==r+1){if(c>A){let t=i[r];e(t.children,t.positions,0,t.children.length,n[r]+a);continue}C.push(i[r])}else{let e=n[l-1]+i[l-1].length-h;C.push(O(t,i,n,r,l,h,e,null,g))}I.push(h+a-o)}}(e,i,n,r,0),(a||g)(C,I,s)}class _{constructor(t,e,i,n,r=!1,o=!1){this.from=t,this.to=e,this.tree=i,this.offset=n,this.open=(r?1:0)|(o?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,e=[],i=!1){let n=[new _(0,t.length,t,0,!1,i)];for(let i of e)i.to>t.length&&n.push(i);return n}static applyChanges(t,e,i=128){if(!e.length)return t;let n=[],r=1,o=t.length?t[0]:null;for(let s=0,a=0,g=0;;s++){let l=s<e.length?e[s]:null,A=l?l.fromA:1e9;if(A-a>=i)for(;o&&o.from<A;){let e=o;if(a>=e.from||A<=e.to||g){let t=Math.max(e.from,a)-g,i=Math.min(e.to,A)-g;e=t>=i?null:new _(t,i,e.tree,e.offset+g,s>0,!!l)}if(e&&n.push(e),o.to>A)break;o=r<t.length?t[r++]:null}if(!l)break;a=l.toA,g=l.toA-l.toB}return n}}class R{startParse(t,e,i){return"string"==typeof t&&(t=new N(t)),i=i?i.length?i.map((t=>new n(t.from,t.to))):[new n(0,0)]:[new n(0,t.length)],this.createParse(t,e||[],i)}parse(t,e,i){let n=this.startParse(t,e,i);for(;;){let t=n.advance();if(t)return t}}}class N{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new r({perNode:!0});let D=[],P=[];function M(t){if(t<768)return!1;for(let e=0,i=D.length;;){let n=e+i>>1;if(t<D[n])i=n;else{if(!(t>=P[n]))return!0;e=n+1}if(e==i)return!1}}function j(t){return t>=127462&&t<=127487}function L(t,e,i=!0,n=!0){return(i?B:F)(t,e,n)}function B(t,e,i){if(e==t.length)return e;e&&V(t.charCodeAt(e))&&G(t.charCodeAt(e-1))&&e--;let n=z(t,e);for(e+=W(n);e<t.length;){let r=z(t,e);if(8205==n||8205==r||i&&M(r))e+=W(r),n=r;else{if(!j(r))break;{let i=0,n=e-2;for(;n>=0&&j(z(t,n));)i++,n-=2;if(i%2==0)break;e+=2}}}return e}function F(t,e,i){for(;e>0;){let n=B(t,e-2,i);if(n<e)return n;e--}return 0}function z(t,e){let i=t.charCodeAt(e);if(!G(i)||e+1==t.length)return i;let n=t.charCodeAt(e+1);return V(n)?n-56320+(i-55296<<10)+65536:i}function V(t){return t>=56320&&t<57344}function G(t){return t>=55296&&t<56320}function W(t){return t<65536?1:2}(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((t=>t?parseInt(t,36):1));for(let e=0,i=0;e<t.length;e++)(e%2?P:D).push(i+=t[e])})();class U{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,i){[t,e]=$(this,t,e);let n=[];return this.decompose(0,t,n,2),i.length&&i.decompose(0,i.length,n,3),this.decompose(e,this.length,n,1),H.from(n,this.length-(e-t)+i.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){[t,e]=$(this,t,e);let i=[];return this.decompose(t,e,i,0),H.from(i,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),i=this.length-this.scanIdentical(t,-1),n=new X(this),r=new X(t);for(let t=e,o=e;;){if(n.next(t),r.next(t),t=0,n.lineBreak!=r.lineBreak||n.done!=r.done||n.value!=r.value)return!1;if(o+=n.value.length,n.done||o>=i)return!0}}iter(t=1){return new X(this,t)}iterRange(t,e=this.length){return new Q(this,t,e)}iterLines(t,e){let i;if(null==t)i=this.iter();else{null==e&&(e=this.lines+1);let n=this.line(t).from;i=this.iterRange(n,Math.max(n,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new q(i)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new Z(t):H.from(Z.split(t,[])):U.empty}}class Z extends U{constructor(t,e=function(t){let e=-1;for(let i of t)e+=i.length+1;return e}(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,i,n){for(let r=0;;r++){let o=this.text[r],s=n+o.length;if((e?i:s)>=t)return new J(n,s,i,o);n=s+1,i++}}decompose(t,e,i,n){let r=t<=0&&e>=this.length?this:new Z(K(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(1&n){let t=i.pop(),e=Y(r.text,t.text.slice(),0,r.length);if(e.length<=32)i.push(new Z(e,t.length+r.length));else{let t=e.length>>1;i.push(new Z(e.slice(0,t)),new Z(e.slice(t)))}}else i.push(r)}replace(t,e,i){if(!(i instanceof Z))return super.replace(t,e,i);[t,e]=$(this,t,e);let n=Y(this.text,Y(i.text,K(this.text,0,t)),e),r=this.length+i.length-(e-t);return n.length<=32?new Z(n,r):H.from(Z.split(n,[]),r)}sliceString(t,e=this.length,i="\n"){[t,e]=$(this,t,e);let n="";for(let r=0,o=0;r<=e&&o<this.text.length;o++){let s=this.text[o],a=r+s.length;r>t&&o&&(n+=i),t<a&&e>r&&(n+=s.slice(Math.max(0,t-r),e-r)),r=a+1}return n}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let i=[],n=-1;for(let r of t)i.push(r),n+=r.length+1,32==i.length&&(e.push(new Z(i,n)),i=[],n=-1);return n>-1&&e.push(new Z(i,n)),e}}class H extends U{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let e of t)this.lines+=e.lines}lineInner(t,e,i,n){for(let r=0;;r++){let o=this.children[r],s=n+o.length,a=i+o.lines-1;if((e?a:s)>=t)return o.lineInner(t,e,i,n);n=s+1,i=a+1}}decompose(t,e,i,n){for(let r=0,o=0;o<=e&&r<this.children.length;r++){let s=this.children[r],a=o+s.length;if(t<=a&&e>=o){let r=n&((o<=t?1:0)|(a>=e?2:0));o>=t&&a<=e&&!r?i.push(s):s.decompose(t-o,e-o,i,r)}o=a+1}}replace(t,e,i){if([t,e]=$(this,t,e),i.lines<this.lines)for(let n=0,r=0;n<this.children.length;n++){let o=this.children[n],s=r+o.length;if(t>=r&&e<=s){let a=o.replace(t-r,e-r,i),g=this.lines-o.lines+a.lines;if(a.lines<g>>4&&a.lines>g>>6){let r=this.children.slice();return r[n]=a,new H(r,this.length-(e-t)+i.length)}return super.replace(r,s,a)}r=s+1}return super.replace(t,e,i)}sliceString(t,e=this.length,i="\n"){[t,e]=$(this,t,e);let n="";for(let r=0,o=0;r<this.children.length&&o<=e;r++){let s=this.children[r],a=o+s.length;o>t&&r&&(n+=i),t<a&&e>o&&(n+=s.sliceString(t-o,e-o,i)),o=a+1}return n}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof H))return 0;let i=0,[n,r,o,s]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;n+=e,r+=e){if(n==o||r==s)return i;let a=this.children[n],g=t.children[r];if(a!=g)return i+a.scanIdentical(g,e);i+=a.length+1}}static from(t,e=t.reduce(((t,e)=>t+e.length+1),-1)){let i=0;for(let e of t)i+=e.lines;if(i<32){let i=[];for(let e of t)e.flatten(i);return new Z(i,e)}let n=Math.max(32,i>>5),r=n<<1,o=n>>1,s=[],a=0,g=-1,l=[];function A(t){let e;if(t.lines>r&&t instanceof H)for(let e of t.children)A(e);else t.lines>o&&(a>o||!a)?(C(),s.push(t)):t instanceof Z&&a&&(e=l[l.length-1])instanceof Z&&t.lines+e.lines<=32?(a+=t.lines,g+=t.length+1,l[l.length-1]=new Z(e.text.concat(t.text),e.length+1+t.length)):(a+t.lines>n&&C(),a+=t.lines,g+=t.length+1,l.push(t))}function C(){0!=a&&(s.push(1==l.length?l[0]:H.from(l,g)),g=-1,a=l.length=0)}for(let e of t)A(e);return C(),1==s.length?s[0]:new H(s,e)}}function Y(t,e,i=0,n=1e9){for(let r=0,o=0,s=!0;o<t.length&&r<=n;o++){let a=t[o],g=r+a.length;g>=i&&(g>n&&(a=a.slice(0,n-r)),r<i&&(a=a.slice(i-r)),s?(e[e.length-1]+=a,s=!1):e.push(a)),r=g+1}return e}function K(t,e,i){return Y(t,[""],e,i)}U.empty=new Z([""],0);class X{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof Z?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,n=this.nodes[i],r=this.offsets[i],o=r>>1,s=n instanceof Z?n.text.length:n.children.length;if(o==(e>0?s:0)){if(0==i)return this.done=!0,this.value="",this;e>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&r)==(e>0?0:1)){if(this.offsets[i]+=e,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(n instanceof Z){let r=n.text[o+(e<0?-1:0)];if(this.offsets[i]+=e,r.length>Math.max(0,t))return this.value=0==t?r:e>0?r.slice(t):r.slice(0,r.length-t),this;t-=r.length}else{let r=n.children[o+(e<0?-1:0)];t>r.length?(t-=r.length,this.offsets[i]+=e):(e<0&&this.offsets[i]--,this.nodes.push(r),this.offsets.push(e>0?1:(r instanceof Z?r.text.length:r.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class Q{constructor(t,e,i){this.value="",this.done=!1,this.cursor=new X(t,e>i?-1:1),this.pos=e>i?t.length:0,this.from=Math.min(e,i),this.to=Math.max(e,i)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let i=e<0?this.pos-this.from:this.to-this.pos;t>i&&(t=i),i-=t;let{value:n}=this.cursor.next(t);return this.pos+=(n.length+t)*e,this.value=n.length<=i?n:e<0?n.slice(n.length-i):n.slice(0,i),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class q{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:i,value:n}=this.inner.next(t);return e&&this.afterBreak?(this.value="",this.afterBreak=!1):e?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(U.prototype[Symbol.iterator]=function(){return this.iter()},X.prototype[Symbol.iterator]=Q.prototype[Symbol.iterator]=q.prototype[Symbol.iterator]=function(){return this});class J{constructor(t,e,i,n){this.from=t,this.to=e,this.number=i,this.text=n}get length(){return this.to-this.from}}function $(t,e,i){return[e=Math.max(0,Math.min(t.length,e)),Math.max(e,Math.min(t.length,i))]}function tt(t,e,i=!0,n=!0){return L(t,e,i,n)}const et=/\r\n?|\n/;var it=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(it||(it={}));class nt{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e+1];t+=i<0?this.sections[e]:i}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let e=0,i=0,n=0;e<this.sections.length;){let r=this.sections[e++],o=this.sections[e++];o<0?(t(i,n,r),n+=r):n+=o,i+=r}}iterChangedRanges(t,e=!1){at(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let i=this.sections[e++],n=this.sections[e++];n<0?t.push(i,n):t.push(n,i)}return new nt(t)}composeDesc(t){return this.empty?t:t.empty?this:lt(this,t)}mapDesc(t,e=!1){return t.empty?this:gt(this,t,e)}mapPos(t,e=-1,i=it.Simple){let n=0,r=0;for(let o=0;o<this.sections.length;){let s=this.sections[o++],a=this.sections[o++],g=n+s;if(a<0){if(g>t)return r+(t-n);r+=s}else{if(i!=it.Simple&&g>=t&&(i==it.TrackDel&&n<t&&g>t||i==it.TrackBefore&&n<t||i==it.TrackAfter&&g>t))return null;if(g>t||g==t&&e<0&&!s)return t==n||e<0?r:r+a;r+=a}n=g}if(t>n)throw new RangeError(`Position ${t} is out of range for changeset of length ${n}`);return r}touchesRange(t,e=t){for(let i=0,n=0;i<this.sections.length&&n<=e;){let r=n+this.sections[i++];if(this.sections[i++]>=0&&n<=e&&r>=t)return!(n<t&&r>e)||"cover";n=r}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let i=this.sections[e++],n=this.sections[e++];t+=(t?" ":"")+i+(n>=0?":"+n:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some((t=>"number"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new nt(t)}static create(t){return new nt(t)}}class rt extends nt{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return at(this,((e,i,n,r,o)=>t=t.replace(n,n+(i-e),o)),!1),t}mapDesc(t,e=!1){return gt(this,t,e,!0)}invert(t){let e=this.sections.slice(),i=[];for(let n=0,r=0;n<e.length;n+=2){let o=e[n],s=e[n+1];if(s>=0){e[n]=s,e[n+1]=o;let a=n>>1;for(;i.length<a;)i.push(U.empty);i.push(o?t.slice(r,r+o):U.empty)}r+=o}return new rt(e,i)}compose(t){return this.empty?t:t.empty?this:lt(this,t,!0)}map(t,e=!1){return t.empty?this:gt(this,t,e,!0)}iterChanges(t,e=!1){at(this,t,e)}get desc(){return nt.create(this.sections)}filter(t){let e=[],i=[],n=[],r=new At(this);t:for(let o=0,s=0;;){let a=o==t.length?1e9:t[o++];for(;s<a||s==a&&0==r.len;){if(r.done)break t;let t=Math.min(r.len,a-s);ot(n,t,-1);let o=-1==r.ins?-1:0==r.off?r.ins:0;ot(e,t,o),o>0&&st(i,e,r.text),r.forward(t),s+=t}let g=t[o++];for(;s<g;){if(r.done)break t;let t=Math.min(r.len,g-s);ot(e,t,-1),ot(n,t,-1==r.ins?-1:0==r.off?r.ins:0),r.forward(t),s+=t}}return{changes:new rt(e,i),filtered:nt.create(n)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e],n=this.sections[e+1];n<0?t.push(i):0==n?t.push([i]):t.push([i].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,i){let n=[],r=[],o=0,s=null;function a(t=!1){if(!t&&!n.length)return;o<e&&ot(n,e-o,-1);let i=new rt(n,r);s=s?s.compose(i.map(s)):i,n=[],r=[],o=0}return function t(g){if(Array.isArray(g))for(let e of g)t(e);else if(g instanceof rt){if(g.length!=e)throw new RangeError(`Mismatched change set length (got ${g.length}, expected ${e})`);a(),s=s?s.compose(g.map(s)):g}else{let{from:t,to:s=t,insert:l}=g;if(t>s||t<0||s>e)throw new RangeError(`Invalid change range ${t} to ${s} (in doc of length ${e})`);let A=l?"string"==typeof l?U.of(l.split(i||et)):l:U.empty,C=A.length;if(t==s&&0==C)return;t<o&&a(),t>o&&ot(n,t-o,-1),ot(n,s-t,C),st(r,n,A),o=s}}(t),a(!s),s}static empty(t){return new rt(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],i=[];for(let n=0;n<t.length;n++){let r=t[n];if("number"==typeof r)e.push(r,-1);else{if(!Array.isArray(r)||"number"!=typeof r[0]||r.some(((t,e)=>e&&"string"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==r.length)e.push(r[0],0);else{for(;i.length<n;)i.push(U.empty);i[n]=U.of(r.slice(1)),e.push(r[0],i[n].length)}}}return new rt(e,i)}static createSet(t,e){return new rt(t,e)}}function ot(t,e,i,n=!1){if(0==e&&i<=0)return;let r=t.length-2;r>=0&&i<=0&&i==t[r+1]?t[r]+=e:r>=0&&0==e&&0==t[r]?t[r+1]+=i:n?(t[r]+=e,t[r+1]+=i):t.push(e,i)}function st(t,e,i){if(0==i.length)return;let n=e.length-2>>1;if(n<t.length)t[t.length-1]=t[t.length-1].append(i);else{for(;t.length<n;)t.push(U.empty);t.push(i)}}function at(t,e,i){let n=t.inserted;for(let r=0,o=0,s=0;s<t.sections.length;){let a=t.sections[s++],g=t.sections[s++];if(g<0)r+=a,o+=a;else{let l=r,A=o,C=U.empty;for(;l+=a,A+=g,g&&n&&(C=C.append(n[s-2>>1])),!(i||s==t.sections.length||t.sections[s+1]<0);)a=t.sections[s++],g=t.sections[s++];e(r,l,o,A,C),r=l,o=A}}}function gt(t,e,i,n=!1){let r=[],o=n?[]:null,s=new At(t),a=new At(e);for(let t=-1;;){if(s.done&&a.len||a.done&&s.len)throw new Error("Mismatched change set lengths");if(-1==s.ins&&-1==a.ins){let t=Math.min(s.len,a.len);ot(r,t,-1),s.forward(t),a.forward(t)}else if(a.ins>=0&&(s.ins<0||t==s.i||0==s.off&&(a.len<s.len||a.len==s.len&&!i))){let e=a.len;for(ot(r,a.ins,-1);e;){let i=Math.min(s.len,e);s.ins>=0&&t<s.i&&s.len<=i&&(ot(r,0,s.ins),o&&st(o,r,s.text),t=s.i),s.forward(i),e-=i}a.next()}else{if(!(s.ins>=0)){if(s.done&&a.done)return o?rt.createSet(r,o):nt.create(r);throw new Error("Mismatched change set lengths")}{let e=0,i=s.len;for(;i;)if(-1==a.ins){let t=Math.min(i,a.len);e+=t,i-=t,a.forward(t)}else{if(!(0==a.ins&&a.len<i))break;i-=a.len,a.next()}ot(r,e,t<s.i?s.ins:0),o&&t<s.i&&st(o,r,s.text),t=s.i,s.forward(s.len-i)}}}}function lt(t,e,i=!1){let n=[],r=i?[]:null,o=new At(t),s=new At(e);for(let t=!1;;){if(o.done&&s.done)return r?rt.createSet(n,r):nt.create(n);if(0==o.ins)ot(n,o.len,0,t),o.next();else if(0!=s.len||s.done){if(o.done||s.done)throw new Error("Mismatched change set lengths");{let e=Math.min(o.len2,s.len),i=n.length;if(-1==o.ins){let i=-1==s.ins?-1:s.off?0:s.ins;ot(n,e,i,t),r&&i&&st(r,n,s.text)}else-1==s.ins?(ot(n,o.off?0:o.len,e,t),r&&st(r,n,o.textBit(e))):(ot(n,o.off?0:o.len,s.off?0:s.ins,t),r&&!s.off&&st(r,n,s.text));t=(o.ins>e||s.ins>=0&&s.len>e)&&(t||n.length>i),o.forward2(e),s.forward(e)}}else ot(n,0,s.ins,t),r&&st(r,n,s.text),s.next()}}class At{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?U.empty:t[e]}textBit(t){let{inserted:e}=this.set,i=this.i-2>>1;return i>=e.length&&!t?U.empty:e[i].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class Ct{constructor(t,e,i){this.from=t,this.to=e,this.flags=i}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let t=7&this.flags;return 7==t?null:t}get goalColumn(){let t=this.flags>>6;return 16777215==t?void 0:t}map(t,e=-1){let i,n;return this.empty?i=n=t.mapPos(this.from,e):(i=t.mapPos(this.from,1),n=t.mapPos(this.to,-1)),i==this.from&&n==this.to?this:new Ct(i,n,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return It.range(t,e);let i=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return It.range(this.anchor,i)}eq(t,e=!1){return!(this.anchor!=t.anchor||this.head!=t.head||e&&this.empty&&this.assoc!=t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return It.range(t.anchor,t.head)}static create(t,e,i){return new Ct(t,e,i)}}class It{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:It.create(this.ranges.map((i=>i.map(t,e))),this.mainIndex)}eq(t,e=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(t.ranges[i],e))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new It([this.main],0)}addRange(t,e=!0){return It.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let i=this.ranges.slice();return i[e]=t,It.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((t=>t.toJSON())),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new It(t.ranges.map((t=>Ct.fromJSON(t))),t.main)}static single(t,e=t){return new It([It.range(t,e)],0)}static create(t,e=0){if(0==t.length)throw new RangeError("A selection needs at least one range");for(let i=0,n=0;n<t.length;n++){let r=t[n];if(r.empty?r.from<=i:r.from<i)return It.normalized(t.slice(),e);i=r.to}return new It(t,e)}static cursor(t,e=0,i,n){return Ct.create(t,t,(0==e?0:e<0?8:16)|(null==i?7:Math.min(6,i))|(null!=n?n:16777215)<<6)}static range(t,e,i,n){let r=(null!=i?i:16777215)<<6|(null==n?7:Math.min(6,n));return e<t?Ct.create(e,t,48|r):Ct.create(t,e,(e>t?8:0)|r)}static normalized(t,e=0){let i=t[e];t.sort(((t,e)=>t.from-e.from)),e=t.indexOf(i);for(let i=1;i<t.length;i++){let n=t[i],r=t[i-1];if(n.empty?n.from<=r.to:n.from<r.to){let o=r.from,s=Math.max(n.to,r.to);i<=e&&e--,t.splice(--i,2,n.anchor>n.head?It.range(s,o):It.range(o,s))}}return new It(t,e)}}function ht(t,e){for(let i of t.ranges)if(i.to>e)throw new RangeError("Selection points outside of document")}let ct=0;class dt{constructor(t,e,i,n,r){this.combine=t,this.compareInput=e,this.compare=i,this.isStatic=n,this.id=ct++,this.default=t([]),this.extensions="function"==typeof r?r(this):r}get reader(){return this}static define(t={}){return new dt(t.combine||(t=>t),t.compareInput||((t,e)=>t===e),t.compare||(t.combine?(t,e)=>t===e:ut),!!t.static,t.enables)}of(t){return new ft([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new ft(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new ft(t,this,2,e)}from(t,e){return e||(e=t=>t),this.compute([t],(i=>e(i.field(t))))}}function ut(t,e){return t==e||t.length==e.length&&t.every(((t,i)=>t===e[i]))}class ft{constructor(t,e,i,n){this.dependencies=t,this.facet=e,this.type=i,this.value=n,this.id=ct++}dynamicSlot(t){var e;let i=this.value,n=this.facet.compareInput,r=this.id,o=t[r]>>1,s=2==this.type,a=!1,g=!1,l=[];for(let i of this.dependencies)"doc"==i?a=!0:"selection"==i?g=!0:1&(null!==(e=t[i.id])&&void 0!==e?e:1)||l.push(t[i.id]);return{create:t=>(t.values[o]=i(t),1),update(t,e){if(a&&e.docChanged||g&&(e.docChanged||e.selection)||vt(t,l)){let e=i(t);if(s?!pt(e,t.values[o],n):!n(e,t.values[o]))return t.values[o]=e,1}return 0},reconfigure:(t,e)=>{let a,g=e.config.address[r];if(null!=g){let r=_t(e,g);if(this.dependencies.every((i=>i instanceof dt?e.facet(i)===t.facet(i):!(i instanceof bt)||e.field(i,!1)==t.field(i,!1)))||(s?pt(a=i(t),r,n):n(a=i(t),r)))return t.values[o]=r,0}else a=i(t);return t.values[o]=a,1}}}}function pt(t,e,i){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!i(t[n],e[n]))return!1;return!0}function vt(t,e){let i=!1;for(let n of e)1&Ot(t,n)&&(i=!0);return i}function mt(t,e,i){let n=i.map((e=>t[e.id])),r=i.map((t=>t.type)),o=n.filter((t=>!(1&t))),s=t[e.id]>>1;function a(t){let i=[];for(let e=0;e<n.length;e++){let o=_t(t,n[e]);if(2==r[e])for(let t of o)i.push(t);else i.push(o)}return e.combine(i)}return{create(t){for(let e of n)Ot(t,e);return t.values[s]=a(t),1},update(t,i){if(!vt(t,o))return 0;let n=a(t);return e.compare(n,t.values[s])?0:(t.values[s]=n,1)},reconfigure(t,r){let o=vt(t,n),g=r.config.facets[e.id],l=r.facet(e);if(g&&!o&&ut(i,g))return t.values[s]=l,0;let A=a(t);return e.compare(A,l)?(t.values[s]=l,0):(t.values[s]=A,1)}}}const yt=dt.define({static:!0});class bt{constructor(t,e,i,n,r){this.id=t,this.createF=e,this.updateF=i,this.compareF=n,this.spec=r,this.provides=void 0}static define(t){let e=new bt(ct++,t.create,t.update,t.compare||((t,e)=>t===e),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(yt).find((t=>t.field==this));return((null==e?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:t=>(t.values[e]=this.create(t),1),update:(t,i)=>{let n=t.values[e],r=this.updateF(n,i);return this.compareF(n,r)?0:(t.values[e]=r,1)},reconfigure:(t,i)=>{let n,r=t.facet(yt),o=i.facet(yt);return(n=r.find((t=>t.field==this)))&&n!=o.find((t=>t.field==this))?(t.values[e]=n.create(t),1):null!=i.config.address[this.id]?(t.values[e]=i.field(this),0):(t.values[e]=this.create(t),1)}}}init(t){return[this,yt.of({field:this,create:t})]}get extension(){return this}}function wt(t){return e=>new kt(e,t)}const xt={highest:wt(0),high:wt(1),default:wt(2),low:wt(3),lowest:wt(4)};class kt{constructor(t,e){this.inner=t,this.prec=e}}class Et{of(t){return new St(this,t)}reconfigure(t){return Et.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class St{constructor(t,e){this.compartment=t,this.inner=e}}class Tt{constructor(t,e,i,n,r,o){for(this.base=t,this.compartments=e,this.dynamicSlots=i,this.address=n,this.staticValues=r,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}static resolve(t,e,i){let n=[],r=Object.create(null),o=new Map;for(let i of function(t,e,i){let n=[[],[],[],[],[]],r=new Map;return function t(o,s){let a=r.get(o);if(null!=a){if(a<=s)return;let t=n[a].indexOf(o);t>-1&&n[a].splice(t,1),o instanceof St&&i.delete(o.compartment)}if(r.set(o,s),Array.isArray(o))for(let e of o)t(e,s);else if(o instanceof St){if(i.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let n=e.get(o.compartment)||o.inner;i.set(o.compartment,n),t(n,s)}else if(o instanceof kt)t(o.inner,o.prec);else if(o instanceof bt)n[s].push(o),o.provides&&t(o.provides,s);else if(o instanceof ft)n[s].push(o),o.facet.extensions&&t(o.facet.extensions,2);else{let e=o.extension;if(!e)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);t(e,s)}}(t,2),n.reduce(((t,e)=>t.concat(e)))}(t,e,o))i instanceof bt?n.push(i):(r[i.facet.id]||(r[i.facet.id]=[])).push(i);let s=Object.create(null),a=[],g=[];for(let t of n)s[t.id]=g.length<<1,g.push((e=>t.slot(e)));let l=null==i?void 0:i.config.facets;for(let t in r){let e=r[t],n=e[0].facet,o=l&&l[t]||[];if(e.every((t=>0==t.type)))if(s[n.id]=a.length<<1|1,ut(o,e))a.push(i.facet(n));else{let t=n.combine(e.map((t=>t.value)));a.push(i&&n.compare(t,i.facet(n))?i.facet(n):t)}else{for(let t of e)0==t.type?(s[t.id]=a.length<<1|1,a.push(t.value)):(s[t.id]=g.length<<1,g.push((e=>t.dynamicSlot(e))));s[n.id]=g.length<<1,g.push((t=>mt(t,n,e)))}}let A=g.map((t=>t(s)));return new Tt(t,o,A,s,a,r)}}function Ot(t,e){if(1&e)return 2;let i=e>>1,n=t.status[i];if(4==n)throw new Error("Cyclic dependency between fields and/or facets");if(2&n)return n;t.status[i]=4;let r=t.computeSlot(t,t.config.dynamicSlots[i]);return t.status[i]=2|r}function _t(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}const Rt=dt.define(),Nt=dt.define({combine:t=>t.some((t=>t)),static:!0}),Dt=dt.define({combine:t=>t.length?t[0]:void 0,static:!0}),Pt=dt.define(),Mt=dt.define(),jt=dt.define(),Lt=dt.define({combine:t=>!!t.length&&t[0]});class Bt{constructor(t,e){this.type=t,this.value=e}static define(){return new Ft}}class Ft{of(t){return new Bt(this,t)}}class zt{constructor(t){this.map=t}of(t){return new Vt(this,t)}}class Vt{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return void 0===e?void 0:e==this.value?this:new Vt(this.type,e)}is(t){return this.type==t}static define(t={}){return new zt(t.map||(t=>t))}static mapEffects(t,e){if(!t.length)return t;let i=[];for(let n of t){let t=n.map(e);t&&i.push(t)}return i}}Vt.reconfigure=Vt.define(),Vt.appendConfig=Vt.define();class Gt{constructor(t,e,i,n,r,o){this.startState=t,this.changes=e,this.selection=i,this.effects=n,this.annotations=r,this.scrollIntoView=o,this._doc=null,this._state=null,i&&ht(i,e.newLength),r.some((t=>t.type==Gt.time))||(this.annotations=r.concat(Gt.time.of(Date.now())))}static create(t,e,i,n,r,o){return new Gt(t,e,i,n,r,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(Gt.userEvent);return!(!e||!(e==t||e.length>t.length&&e.slice(0,t.length)==t&&"."==e[t.length]))}}function Wt(t,e){let i=[];for(let n=0,r=0;;){let o,s;if(n<t.length&&(r==e.length||e[r]>=t[n]))o=t[n++],s=t[n++];else{if(!(r<e.length))return i;o=e[r++],s=e[r++]}!i.length||i[i.length-1]<o?i.push(o,s):i[i.length-1]<s&&(i[i.length-1]=s)}}function Ut(t,e,i){var n;let r,o,s;return i?(r=e.changes,o=rt.empty(e.changes.length),s=t.changes.compose(e.changes)):(r=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(r)),{changes:s,selection:e.selection?e.selection.map(o):null===(n=t.selection)||void 0===n?void 0:n.map(r),effects:Vt.mapEffects(t.effects,r).concat(Vt.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Zt(t,e,i){let n=e.selection,r=Kt(e.annotations);return e.userEvent&&(r=r.concat(Gt.userEvent.of(e.userEvent))),{changes:e.changes instanceof rt?e.changes:rt.of(e.changes||[],i,t.facet(Dt)),selection:n&&(n instanceof It?n:It.single(n.anchor,n.head)),effects:Kt(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function Ht(t,e,i){let n=Zt(t,e.length?e[0]:{},t.doc.length);e.length&&!1===e[0].filter&&(i=!1);for(let r=1;r<e.length;r++){!1===e[r].filter&&(i=!1);let o=!!e[r].sequential;n=Ut(n,Zt(t,e[r],o?n.changes.newLength:t.doc.length),o)}let r=Gt.create(t,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return function(t){let e=t.startState,i=e.facet(jt),n=t;for(let r=i.length-1;r>=0;r--){let o=i[r](t);o&&Object.keys(o).length&&(n=Ut(n,Zt(e,o,t.changes.newLength),!0))}return n==t?t:Gt.create(e,t.changes,t.selection,n.effects,n.annotations,n.scrollIntoView)}(i?function(t){let e=t.startState,i=!0;for(let n of e.facet(Pt)){let e=n(t);if(!1===e){i=!1;break}Array.isArray(e)&&(i=!0===i?e:Wt(i,e))}if(!0!==i){let n,r;if(!1===i)r=t.changes.invertedDesc,n=rt.empty(e.doc.length);else{let e=t.changes.filter(i);n=e.changes,r=e.filtered.mapDesc(e.changes).invertedDesc}t=Gt.create(e,n,t.selection&&t.selection.map(r),Vt.mapEffects(t.effects,r),t.annotations,t.scrollIntoView)}let n=e.facet(Mt);for(let i=n.length-1;i>=0;i--){let r=n[i](t);t=r instanceof Gt?r:Array.isArray(r)&&1==r.length&&r[0]instanceof Gt?r[0]:Ht(e,Kt(r),!1)}return t}(r):r)}Gt.time=Bt.define(),Gt.userEvent=Bt.define(),Gt.addToHistory=Bt.define(),Gt.remote=Bt.define();const Yt=[];function Kt(t){return null==t?Yt:Array.isArray(t)?t:[t]}var Xt=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(Xt||(Xt={}));const Qt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let qt;try{qt=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(t){}class Jt{constructor(t,e,i,n,r,o){this.config=t,this.doc=e,this.selection=i,this.values=n,this.status=t.statusTemplate.slice(),this.computeSlot=r,o&&(o._state=this);for(let t=0;t<this.config.dynamicSlots.length;t++)Ot(this,t<<1);this.computeSlot=null}field(t,e=!0){let i=this.config.address[t.id];if(null!=i)return Ot(this,i),_t(this,i);if(e)throw new RangeError("Field is not present in this state")}update(...t){return Ht(this,t,!0)}applyTransaction(t){let e,i=this.config,{base:n,compartments:r}=i;for(let e of t.effects)e.is(Et.reconfigure)?(i&&(r=new Map,i.compartments.forEach(((t,e)=>r.set(e,t))),i=null),r.set(e.value.compartment,e.value.extension)):e.is(Vt.reconfigure)?(i=null,n=e.value):e.is(Vt.appendConfig)&&(i=null,n=Kt(n).concat(e.value));i?e=t.startState.values.slice():(i=Tt.resolve(n,r,this),e=new Jt(i,this.doc,this.selection,i.dynamicSlots.map((()=>null)),((t,e)=>e.reconfigure(t,this)),null).values);let o=t.startState.facet(Nt)?t.newSelection:t.newSelection.asSingle();new Jt(i,t.newDoc,o,e,((e,i)=>i.update(e,t)),t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:t},range:It.cursor(e.from+t.length)})))}changeByRange(t){let e=this.selection,i=t(e.ranges[0]),n=this.changes(i.changes),r=[i.range],o=Kt(i.effects);for(let i=1;i<e.ranges.length;i++){let s=t(e.ranges[i]),a=this.changes(s.changes),g=a.map(n);for(let t=0;t<i;t++)r[t]=r[t].map(g);let l=n.mapDesc(a,!0);r.push(s.range.map(l)),n=n.compose(g),o=Vt.mapEffects(o,g).concat(Vt.mapEffects(Kt(s.effects),l))}return{changes:n,selection:It.create(r,e.mainIndex),effects:o}}changes(t=[]){return t instanceof rt?t:rt.of(t,this.doc.length,this.facet(Jt.lineSeparator))}toText(t){return U.of(t.split(this.facet(Jt.lineSeparator)||et))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return null==e?t.default:(Ot(this,e),_t(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let i in t){let n=t[i];n instanceof bt&&null!=this.config.address[n.id]&&(e[i]=n.spec.toJSON(this.field(t[i]),this))}return e}static fromJSON(t,e={},i){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");let n=[];if(i)for(let e in i)if(Object.prototype.hasOwnProperty.call(t,e)){let r=i[e],o=t[e];n.push(r.init((t=>r.spec.fromJSON(o,t))))}return Jt.create({doc:t.doc,selection:It.fromJSON(t.selection),extensions:e.extensions?n.concat([e.extensions]):n})}static create(t={}){let e=Tt.resolve(t.extensions||[],new Map),i=t.doc instanceof U?t.doc:U.of((t.doc||"").split(e.staticFacet(Jt.lineSeparator)||et)),n=t.selection?t.selection instanceof It?t.selection:It.single(t.selection.anchor,t.selection.head):It.single(0);return ht(n,i.length),e.staticFacet(Nt)||(n=n.asSingle()),new Jt(e,i,n,e.dynamicSlots.map((()=>null)),((t,e)=>e.create(t)),null)}get tabSize(){return this.facet(Jt.tabSize)}get lineBreak(){return this.facet(Jt.lineSeparator)||"\n"}get readOnly(){return this.facet(Lt)}phrase(t,...e){for(let e of this.facet(Jt.phrases))if(Object.prototype.hasOwnProperty.call(e,t)){t=e[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,((t,i)=>{if("$"==i)return"$";let n=+(i||1);return!n||n>e.length?t:e[n-1]}))),t}languageDataAt(t,e,i=-1){let n=[];for(let r of this.facet(Rt))for(let o of r(this,e,i))Object.prototype.hasOwnProperty.call(o,t)&&n.push(o[t]);return n}charCategorizer(t){return e=this.languageDataAt("wordChars",t).join(""),t=>{if(!/\S/.test(t))return Xt.Space;if(function(t){if(qt)return qt.test(t);for(let e=0;e<t.length;e++){let i=t[e];if(/\w/.test(i)||i>""&&(i.toUpperCase()!=i.toLowerCase()||Qt.test(i)))return!0}return!1}(t))return Xt.Word;for(let i=0;i<e.length;i++)if(t.indexOf(e[i])>-1)return Xt.Word;return Xt.Other};var e}wordAt(t){let{text:e,from:i,length:n}=this.doc.lineAt(t),r=this.charCategorizer(t),o=t-i,s=t-i;for(;o>0;){let t=tt(e,o,!1);if(r(e.slice(t,o))!=Xt.Word)break;o=t}for(;s<n;){let t=tt(e,s);if(r(e.slice(s,t))!=Xt.Word)break;s=t}return o==s?null:It.range(o+i,s+i)}}Jt.allowMultipleSelections=Nt,Jt.tabSize=dt.define({combine:t=>t.length?t[0]:4}),Jt.lineSeparator=Dt,Jt.readOnly=Lt,Jt.phrases=dt.define({compare(t,e){let i=Object.keys(t),n=Object.keys(e);return i.length==n.length&&i.every((i=>t[i]==e[i]))}}),Jt.languageData=Rt,Jt.changeFilter=Pt,Jt.transactionFilter=Mt,Jt.transactionExtender=jt,Et.reconfigure=Vt.define();class $t{eq(t){return this==t}range(t,e=t){return te.create(t,e,this)}}$t.prototype.startSide=$t.prototype.endSide=0,$t.prototype.point=!1,$t.prototype.mapMode=it.TrackDel;class te{constructor(t,e,i){this.from=t,this.to=e,this.value=i}static create(t,e,i){return new te(t,e,i)}}function ee(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class ie{constructor(t,e,i,n){this.from=t,this.to=e,this.value=i,this.maxPoint=n}get length(){return this.to[this.to.length-1]}findIndex(t,e,i,n=0){let r=i?this.to:this.from;for(let o=n,s=r.length;;){if(o==s)return o;let n=o+s>>1,a=r[n]-t||(i?this.value[n].endSide:this.value[n].startSide)-e;if(n==o)return a>=0?o:s;a>=0?s=n:o=n+1}}between(t,e,i,n){for(let r=this.findIndex(e,-1e9,!0),o=this.findIndex(i,1e9,!1,r);r<o;r++)if(!1===n(this.from[r]+t,this.to[r]+t,this.value[r]))return!1}map(t,e){let i=[],n=[],r=[],o=-1,s=-1;for(let a=0;a<this.value.length;a++){let g,l,A=this.value[a],C=this.from[a]+t,I=this.to[a]+t;if(C==I){let t=e.mapPos(C,A.startSide,A.mapMode);if(null==t)continue;if(g=l=t,A.startSide!=A.endSide&&(l=e.mapPos(C,A.endSide),l<g))continue}else if(g=e.mapPos(C,A.startSide),l=e.mapPos(I,A.endSide),g>l||g==l&&A.startSide>0&&A.endSide<=0)continue;(l-g||A.endSide-A.startSide)<0||(o<0&&(o=g),A.point&&(s=Math.max(s,l-g)),i.push(A),n.push(g-o),r.push(l-o))}return{mapped:i.length?new ie(n,r,i,s):null,pos:o}}}class ne{constructor(t,e,i,n){this.chunkPos=t,this.chunk=e,this.nextLayer=i,this.maxPoint=n}static create(t,e,i,n){return new ne(t,e,i,n)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:i=!1,filterFrom:n=0,filterTo:r=this.length}=t,o=t.filter;if(0==e.length&&!o)return this;if(i&&(e=e.slice().sort(ee)),this.isEmpty)return e.length?ne.of(e):this;let s=new se(this,null,-1).goto(0),a=0,g=[],l=new re;for(;s.value||a<e.length;)if(a<e.length&&(s.from-e[a].from||s.startSide-e[a].value.startSide)>=0){let t=e[a++];l.addInner(t.from,t.to,t.value)||g.push(t)}else 1==s.rangeIndex&&s.chunkIndex<this.chunk.length&&(a==e.length||this.chunkEnd(s.chunkIndex)<e[a].from)&&(!o||n>this.chunkEnd(s.chunkIndex)||r<this.chunkPos[s.chunkIndex])&&l.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!o||n>s.to||r<s.from||o(s.from,s.to,s.value))&&(l.addInner(s.from,s.to,s.value)||g.push(te.create(s.from,s.to,s.value))),s.next());return l.finishInner(this.nextLayer.isEmpty&&!g.length?ne.empty:this.nextLayer.update({add:g,filter:o,filterFrom:n,filterTo:r}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],i=[],n=-1;for(let r=0;r<this.chunk.length;r++){let o=this.chunkPos[r],s=this.chunk[r],a=t.touchesRange(o,o+s.length);if(!1===a)n=Math.max(n,s.maxPoint),e.push(s),i.push(t.mapPos(o));else if(!0===a){let{mapped:r,pos:a}=s.map(o,t);r&&(n=Math.max(n,r.maxPoint),e.push(r),i.push(a))}}let r=this.nextLayer.map(t);return 0==e.length?r:new ne(i,e,r||ne.empty,n)}between(t,e,i){if(!this.isEmpty){for(let n=0;n<this.chunk.length;n++){let r=this.chunkPos[n],o=this.chunk[n];if(e>=r&&t<=r+o.length&&!1===o.between(r,t-r,e-r,i))return}this.nextLayer.between(t,e,i)}}iter(t=0){return ae.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return ae.from(t).goto(e)}static compare(t,e,i,n,r=-1){let o=t.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=r)),s=e.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=r)),a=oe(o,s,i),g=new le(o,a,r),l=new le(s,a,r);i.iterGaps(((t,e,i)=>Ae(g,t,l,e,i,n))),i.empty&&0==i.length&&Ae(g,0,l,0,0,n)}static eq(t,e,i=0,n){null==n&&(n=999999999);let r=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0)),o=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0));if(r.length!=o.length)return!1;if(!r.length)return!0;let s=oe(r,o),a=new le(r,s,0).goto(i),g=new le(o,s,0).goto(i);for(;;){if(a.to!=g.to||!Ce(a.active,g.active)||a.point&&(!g.point||!a.point.eq(g.point)))return!1;if(a.to>n)return!0;a.next(),g.next()}}static spans(t,e,i,n,r=-1){let o=new le(t,null,r).goto(e),s=e,a=o.openStart;for(;;){let t=Math.min(o.to,i);if(o.point){let i=o.activeForPoint(o.to),r=o.pointFrom<e?i.length+1:o.point.startSide<0?i.length:Math.min(i.length,a);n.point(s,t,o.point,i,r,o.pointRank),a=Math.min(o.openEnd(t),i.length)}else t>s&&(n.span(s,t,o.active,a),a=o.openEnd(t));if(o.to>i)return a+(o.point&&o.to>i?1:0);s=o.to,o.next()}}static of(t,e=!1){let i=new re;for(let n of t instanceof te?[t]:e?function(t){if(t.length>1)for(let e=t[0],i=1;i<t.length;i++){let n=t[i];if(ee(e,n)>0)return t.slice().sort(ee);e=n}return t}(t):t)i.add(n.from,n.to,n.value);return i.finish()}static join(t){if(!t.length)return ne.empty;let e=t[t.length-1];for(let i=t.length-2;i>=0;i--)for(let n=t[i];n!=ne.empty;n=n.nextLayer)e=new ne(n.chunkPos,n.chunk,e,Math.max(n.maxPoint,e.maxPoint));return e}}ne.empty=new ne([],[],null,-1),ne.empty.nextLayer=ne.empty;class re{finishChunk(t){this.chunks.push(new ie(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,e,i){this.addInner(t,e,i)||(this.nextLayer||(this.nextLayer=new re)).add(t,e,i)}addInner(t,e,i){let n=t-this.lastTo||i.startSide-this.last.endSide;if(n<=0&&(t-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(n<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=i,this.lastFrom=t,this.lastTo=e,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),0))}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let i=e.value.length-1;return this.last=e.value[i],this.lastFrom=e.from[i]+t,this.lastTo=e.to[i]+t,!0}finish(){return this.finishInner(ne.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let e=ne.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function oe(t,e,i){let n=new Map;for(let e of t)for(let t=0;t<e.chunk.length;t++)e.chunk[t].maxPoint<=0&&n.set(e.chunk[t],e.chunkPos[t]);let r=new Set;for(let t of e)for(let e=0;e<t.chunk.length;e++){let o=n.get(t.chunk[e]);null==o||(i?i.mapPos(o):o)!=t.chunkPos[e]||(null==i?void 0:i.touchesRange(o,o+t.chunk[e].length))||r.add(t.chunk[e])}return r}class se{constructor(t,e,i,n=0){this.layer=t,this.skip=e,this.minPoint=i,this.rank=n}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,i){for(;this.chunkIndex<this.layer.chunk.length;){let e=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(e)||this.layer.chunkEnd(this.chunkIndex)<t||e.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let n=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!i||this.rangeIndex<n)&&this.setRangeIndex(n)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],i=t+e.from[this.rangeIndex];if(this.from=i,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class ae{constructor(t){this.heap=t}static from(t,e=null,i=-1){let n=[];for(let r=0;r<t.length;r++)for(let o=t[r];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&n.push(new se(o,e,i,r));return 1==n.length?n[0]:new ae(n)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let i of this.heap)i.goto(t,e);for(let t=this.heap.length>>1;t>=0;t--)ge(this.heap,t);return this.next(),this}forward(t,e){for(let i of this.heap)i.forward(t,e);for(let t=this.heap.length>>1;t>=0;t--)ge(this.heap,t);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),ge(this.heap,0)}}}function ge(t,e){for(let i=t[e];;){let n=1+(e<<1);if(n>=t.length)break;let r=t[n];if(n+1<t.length&&r.compare(t[n+1])>=0&&(r=t[n+1],n++),i.compare(r)<0)break;t[n]=i,t[e]=r,e=n}}class le{constructor(t,e,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=ae.from(t,e,i)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){Ie(this.active,t),Ie(this.activeTo,t),Ie(this.activeRank,t),this.minActive=ce(this.active,this.activeTo)}addActive(t){let e=0,{value:i,to:n,rank:r}=this.cursor;for(;e<this.activeRank.length&&(r-this.activeRank[e]||n-this.activeTo[e])>0;)e++;he(this.active,e,i),he(this.activeTo,e,n),he(this.activeRank,e,r),t&&he(t,e,this.cursor.from),this.minActive=ce(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let n=this.minActive;if(n>-1&&(this.activeTo[n]-this.cursor.from||this.active[n].endSide-this.cursor.startSide)<0){if(this.activeTo[n]>t){this.to=this.activeTo[n],this.endSide=this.active[n].endSide;break}this.removeActive(n),i&&Ie(i,n)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let t=this.cursor.value;if(t.point){if(!(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=t,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=t.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(i),this.cursor.next()}}}if(i){this.openStart=0;for(let e=i.length-1;e>=0&&i[e]<t;e--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>t||this.activeTo[i]==t&&this.active[i].endSide>=this.point.endSide)&&e.push(this.active[i]);return e.reverse()}openEnd(t){let e=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>t;i--)e++;return e}}function Ae(t,e,i,n,r,o){t.goto(e),i.goto(n);let s=n+r,a=n,g=n-e;for(;;){let e=t.to+g-i.to,n=e||t.endSide-i.endSide,r=n<0?t.to+g:i.to,l=Math.min(r,s);if(t.point||i.point?t.point&&i.point&&(t.point==i.point||t.point.eq(i.point))&&Ce(t.activeForPoint(t.to),i.activeForPoint(i.to))||o.comparePoint(a,l,t.point,i.point):l>a&&!Ce(t.active,i.active)&&o.compareRange(a,l,t.active,i.active),r>s)break;(e||t.openEnd!=i.openEnd)&&o.boundChange&&o.boundChange(r),a=r,n<=0&&t.next(),n>=0&&i.next()}}function Ce(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!=e[i]&&!t[i].eq(e[i]))return!1;return!0}function Ie(t,e){for(let i=e,n=t.length-1;i<n;i++)t[i]=t[i+1];t.pop()}function he(t,e,i){for(let i=t.length-1;i>=e;i--)t[i+1]=t[i];t[e]=i}function ce(t,e){let i=-1,n=1e9;for(let r=0;r<e.length;r++)(e[r]-n||t[r].endSide-t[i].endSide)<0&&(i=r,n=e[r]);return i}const de="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),ue="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),fe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class pe{constructor(t,e){this.rules=[];let{finish:i}=e||{};function n(t){return/^@/.test(t)?[t]:t.split(/,\s*/)}function r(t,e,o,s){let a=[],g=/^@(\w+)\b/.exec(t[0]),l=g&&"keyframes"==g[1];if(g&&null==e)return o.push(t[0]+";");for(let i in e){let s=e[i];if(/&/.test(i))r(i.split(/,\s*/).map((e=>t.map((t=>e.replace(/&/,t))))).reduce(((t,e)=>t.concat(e))),s,o);else if(s&&"object"==typeof s){if(!g)throw new RangeError("The value of a property ("+i+") should be a primitive value.");r(n(i),s,a,l)}else null!=s&&a.push(i.replace(/_.*/,"").replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))+": "+s+";")}(a.length||l)&&o.push((!i||g||s?t:t.map(i)).join(", ")+" {"+a.join(" ")+"}")}for(let e in t)r(n(e),t[e],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let t=fe[de]||1;return fe[de]=t+1,"ͼ"+t.toString(36)}static mount(t,e,i){let n=t[ue],r=i&&i.nonce;n?r&&n.setNonce(r):n=new me(t,r),n.mount(Array.isArray(e)?e:[e],t)}}let ve=new Map;class me{constructor(t,e){let i=t.ownerDocument||t,n=i.defaultView;if(!t.head&&t.adoptedStyleSheets&&n.CSSStyleSheet){let e=ve.get(i);if(e)return t[ue]=e;this.sheet=new n.CSSStyleSheet,ve.set(i,this)}else this.styleTag=i.createElement("style"),e&&this.styleTag.setAttribute("nonce",e);this.modules=[],t[ue]=this}mount(t,e){let i=this.sheet,n=0,r=0;for(let e=0;e<t.length;e++){let o=t[e],s=this.modules.indexOf(o);if(s<r&&s>-1&&(this.modules.splice(s,1),r--,s=-1),-1==s){if(this.modules.splice(r++,0,o),i)for(let t=0;t<o.rules.length;t++)i.insertRule(o.rules[t],n++)}else{for(;r<s;)n+=this.modules[r++].rules.length;n+=o.rules.length,r++}}if(i)e.adoptedStyleSheets.indexOf(this.sheet)<0&&(e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets]);else{let t="";for(let e=0;e<this.modules.length;e++)t+=this.modules[e].getRules()+"\n";this.styleTag.textContent=t;let i=e.head||e;this.styleTag.parentNode!=i&&i.insertBefore(this.styleTag,i.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}for(var ye={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},be={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},we=("undefined"!=typeof navigator&&/Mac/.test(navigator.platform),"undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),0);we<10;we++)ye[48+we]=ye[96+we]=String(we);for(we=1;we<=24;we++)ye[we+111]="F"+we;for(we=65;we<=90;we++)ye[we]=String.fromCharCode(we+32),be[we]=String.fromCharCode(we);for(var xe in ye)be.hasOwnProperty(xe)||(be[xe]=ye[xe]);function ke(t){let e;return e=11==t.nodeType?t.getSelection?t:t.ownerDocument:t,e.getSelection()}function Ee(t,e){return!!e&&(t==e||t.contains(1!=e.nodeType?e.parentNode:e))}function Se(t,e){if(!e.anchorNode)return!1;try{return Ee(t,e.anchorNode)}catch(t){return!1}}function Te(t){return 3==t.nodeType?Ve(t,0,t.nodeValue.length).getClientRects():1==t.nodeType?t.getClientRects():[]}function Oe(t,e,i,n){return!!i&&(Ne(t,e,i,n,-1)||Ne(t,e,i,n,1))}function _e(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e}function Re(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function Ne(t,e,i,n,r){for(;;){if(t==i&&e==n)return!0;if(e==(r<0?0:De(t))){if("DIV"==t.nodeName)return!1;let i=t.parentNode;if(!i||1!=i.nodeType)return!1;e=_e(t)+(r<0?0:1),t=i}else{if(1!=t.nodeType)return!1;if(1==(t=t.childNodes[e+(r<0?-1:0)]).nodeType&&"false"==t.contentEditable)return!1;e=r<0?De(t):0}}}function De(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Pe(t,e){let i=e?t.left:t.right;return{left:i,right:i,top:t.top,bottom:t.bottom}}function Me(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function je(t,e){let i=e.width/t.offsetWidth,n=e.height/t.offsetHeight;return(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.width-t.offsetWidth)<1)&&(i=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.height-t.offsetHeight)<1)&&(n=1),{scaleX:i,scaleY:n}}class Le{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:e,focusNode:i}=t;this.set(e,Math.min(t.anchorOffset,e?De(e):0),i,Math.min(t.focusOffset,i?De(i):0))}set(t,e,i,n){this.anchorNode=t,this.anchorOffset=e,this.focusNode=i,this.focusOffset=n}}let Be,Fe=null;function ze(t){if(t.setActive)return t.setActive();if(Fe)return t.focus(Fe);let e=[];for(let i=t;i&&(e.push(i,i.scrollTop,i.scrollLeft),i!=i.ownerDocument);i=i.parentNode);if(t.focus(null==Fe?{get preventScroll(){return Fe={preventScroll:!0},!0}}:void 0),!Fe){Fe=!1;for(let t=0;t<e.length;){let i=e[t++],n=e[t++],r=e[t++];i.scrollTop!=n&&(i.scrollTop=n),i.scrollLeft!=r&&(i.scrollLeft=r)}}}function Ve(t,e,i=e){let n=Be||(Be=document.createRange());return n.setEnd(t,i),n.setStart(t,e),n}function Ge(t,e,i,n){let r={key:e,code:e,keyCode:i,which:i,cancelable:!0};n&&({altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,metaKey:r.metaKey}=n);let o=new KeyboardEvent("keydown",r);o.synthetic=!0,t.dispatchEvent(o);let s=new KeyboardEvent("keyup",r);return s.synthetic=!0,t.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function We(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function Ue(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function Ze(t,e){for(let i=t,n=e;;){if(3==i.nodeType&&n>0)return{node:i,offset:n};if(1==i.nodeType&&n>0){if("false"==i.contentEditable)return null;i=i.childNodes[n-1],n=De(i)}else{if(!i.parentNode||Re(i))return null;n=_e(i),i=i.parentNode}}}function He(t,e){for(let i=t,n=e;;){if(3==i.nodeType&&n<i.nodeValue.length)return{node:i,offset:n};if(1==i.nodeType&&n<i.childNodes.length){if("false"==i.contentEditable)return null;i=i.childNodes[n],n=0}else{if(!i.parentNode||Re(i))return null;n=_e(i)+1,i=i.parentNode}}}class Ye{constructor(t,e,i=!0){this.node=t,this.offset=e,this.precise=i}static before(t,e){return new Ye(t.parentNode,_e(t),e)}static after(t,e){return new Ye(t.parentNode,_e(t)+1,e)}}const Ke=[];class Xe{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let i of this.children){if(i==t)return e;e+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,e){if(2&this.flags){let i,n=this.dom,r=null;for(let o of this.children){if(7&o.flags){if(!o.dom&&(i=r?r.nextSibling:n.firstChild)){let t=Xe.get(i);(!t||!t.parent&&t.canReuseDOM(o))&&o.reuseDOM(i)}o.sync(t,e),o.flags&=-8}if(i=r?r.nextSibling:n.firstChild,e&&!e.written&&e.node==n&&i!=o.dom&&(e.written=!0),o.dom.parentNode==n)for(;i&&i!=o.dom;)i=Qe(i);else n.insertBefore(o.dom,i);r=o.dom}for(i=r?r.nextSibling:n.firstChild,i&&e&&e.node==n&&(e.written=!0);i;)i=Qe(i)}else if(1&this.flags)for(let i of this.children)7&i.flags&&(i.sync(t,e),i.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,e){let i;if(t==this.dom)i=this.dom.childNodes[e];else{let n=0==De(t)?0:0==e?-1:1;for(;;){let e=t.parentNode;if(e==this.dom)break;0==n&&e.firstChild!=e.lastChild&&(n=t==e.firstChild?-1:1),t=e}i=n<0?t:t.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Xe.get(i);)i=i.nextSibling;if(!i)return this.length;for(let t=0,e=0;;t++){let n=this.children[t];if(n.dom==i)return e;e+=n.length+n.breakAfter}}domBoundsAround(t,e,i=0){let n=-1,r=-1,o=-1,s=-1;for(let a=0,g=i,l=i;a<this.children.length;a++){let i=this.children[a],A=g+i.length;if(g<t&&A>e)return i.domBoundsAround(t,e,g);if(A>=t&&-1==n&&(n=a,r=g),g>e&&i.dom.parentNode==this.dom){o=a,s=l;break}l=A,g=A+i.breakAfter}return{from:r,to:s<0?i+this.length:s,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.flags|=2),1&e.flags)return;e.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,7&this.flags&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,i=Ke){this.markDirty();for(let n=t;n<e;n++){let t=this.children[n];t.parent==this&&i.indexOf(t)<0&&t.destroy()}i.length<250?this.children.splice(t,e-t,...i):this.children=[].concat(this.children.slice(0,t),i,this.children.slice(e));for(let t=0;t<i.length;t++)i[t].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new qe(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==t?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,e,i,n,r,o){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!(8&(this.flags|t.flags))}getSide(){return 0}destroy(){for(let t of this.children)t.parent==this&&t.destroy();this.parent=null}}function Qe(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}Xe.prototype.breakAfter=0;class qe{constructor(t,e,i){this.children=t,this.pos=e,this.i=i,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function Je(t,e,i,n,r,o,s,a,g){let{children:l}=t,A=l.length?l[e]:null,C=o.length?o[o.length-1]:null,I=C?C.breakAfter:s;if(!(e==n&&A&&!s&&!I&&o.length<2&&A.merge(i,r,o.length?C:null,0==i,a,g))){if(n<l.length){let t=l[n];t&&(r<t.length||t.breakAfter&&(null==C?void 0:C.breakAfter))?(e==n&&(t=t.split(r),r=0),!I&&C&&t.merge(0,r,C,!0,0,g)?o[o.length-1]=t:((r||t.children.length&&!t.children[0].length)&&t.merge(0,r,null,!1,0,g),o.push(t))):(null==t?void 0:t.breakAfter)&&(C?C.breakAfter=1:s=1),n++}for(A&&(A.breakAfter=s,i>0&&(!s&&o.length&&A.merge(i,A.length,o[0],!1,a,0)?A.breakAfter=o.shift().breakAfter:(i<A.length||A.children.length&&0==A.children[A.children.length-1].length)&&A.merge(i,A.length,null,!1,a,0),e++));e<n&&o.length;)if(l[n-1].become(o[o.length-1]))n--,o.pop(),g=o.length?0:a;else{if(!l[e].become(o[0]))break;e++,o.shift(),a=o.length?0:g}!o.length&&e&&n<l.length&&!l[e-1].breakAfter&&l[n].merge(0,0,l[e-1],!1,a,g)&&e--,(e<n||o.length)&&t.replaceChildren(e,n,o)}}function $e(t,e,i,n,r,o){let s=t.childCursor(),{i:a,off:g}=s.findPos(i,1),{i:l,off:A}=s.findPos(e,-1),C=e-i;for(let t of n)C+=t.length;t.length+=C,Je(t,l,A,a,g,n,0,r,o)}let ti="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},ei="undefined"!=typeof document?document:{documentElement:{style:{}}};const ii=/Edge\/(\d+)/.exec(ti.userAgent),ni=/MSIE \d/.test(ti.userAgent),ri=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ti.userAgent),oi=!!(ni||ri||ii),si=!oi&&/gecko\/(\d+)/i.test(ti.userAgent),ai=!oi&&/Chrome\/(\d+)/.exec(ti.userAgent),gi="webkitFontSmoothing"in ei.documentElement.style,li=!oi&&/Apple Computer/.test(ti.vendor),Ai=li&&(/Mobile\/\w+/.test(ti.userAgent)||ti.maxTouchPoints>2);var Ci={mac:Ai||/Mac/.test(ti.platform),windows:/Win/.test(ti.platform),linux:/Linux|X11/.test(ti.platform),ie:oi,ie_version:ni?ei.documentMode||6:ri?+ri[1]:ii?+ii[1]:0,gecko:si,gecko_version:si?+(/Firefox\/(\d+)/.exec(ti.userAgent)||[0,0])[1]:0,chrome:!!ai,chrome_version:ai?+ai[1]:0,ios:Ai,android:/Android\b/.test(ti.userAgent),webkit:gi,safari:li,webkit_version:gi?+(/\bAppleWebKit\/(\d+)/.exec(ti.userAgent)||[0,0])[1]:0,tabSize:null!=ei.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class Ii extends Xe{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){3==t.nodeType&&this.createDOM(t)}merge(t,e,i){return!(8&this.flags||i&&(!(i instanceof Ii)||this.length-(e-t)+i.length>256||8&i.flags)||(this.text=this.text.slice(0,t)+(i?i.text:"")+this.text.slice(e),this.markDirty(),0))}split(t){let e=new Ii(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e.flags|=8&this.flags,e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new Ye(this.dom,t)}domBoundsAround(t,e,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return function(t,e,i){let n=t.nodeValue.length;e>n&&(e=n);let r=e,o=e,s=0;0==e&&i<0||e==n&&i>=0?Ci.chrome||Ci.gecko||(e?(r--,s=1):o<n&&(o++,s=-1)):i<0?r--:o<n&&o++;let a=Ve(t,r,o).getClientRects();if(!a.length)return null;let g=a[(s?s<0:i>=0)?0:a.length-1];return Ci.safari&&!s&&0==g.width&&(g=Array.prototype.find.call(a,(t=>t.width))||g),s?Pe(g,s<0):g||null}(this.dom,t,e)}}class hi extends Xe{constructor(t,e=[],i=0){super(),this.mark=t,this.children=e,this.length=i;for(let t of e)t.setParent(this)}setAttrs(t){if(We(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!(8&(this.flags|t.flags))}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,e){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,e)}merge(t,e,i,n,r,o){return!(i&&(!(i instanceof hi&&i.mark.eq(this.mark))||t&&r<=0||e<this.length&&o<=0)||($e(this,t,e,i?i.children.slice():[],r-1,o-1),this.markDirty(),0))}split(t){let e=[],i=0,n=-1,r=0;for(let o of this.children){let s=i+o.length;s>t&&e.push(i<t?o.split(t-i):o),n<0&&i>=t&&(n=r),i=s,r++}let o=this.length-t;return this.length=t,n>-1&&(this.children.length=n,this.markDirty()),new hi(this.mark,e,o)}domAtPos(t){return ui(this,t)}coordsAt(t,e){return pi(this,t,e)}}class ci extends Xe{static create(t,e,i){return new ci(t,e,i)}constructor(t,e,i){super(),this.widget=t,this.length=e,this.side=i,this.prevWidget=null}split(t){let e=ci.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(t,e,i,n,r,o){return!(i&&(!(i instanceof ci&&this.widget.compare(i.widget))||t>0&&r<=0||e<this.length&&o<=0)||(this.length=t+(i?i.length:0)+(this.length-e),0))}become(t){return t instanceof ci&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(0==this.length)return U.empty;let t=this;for(;t.parent;)t=t.parent;let{view:e}=t,i=e&&e.state.doc,n=this.posAtStart;return i?i.slice(n,n+this.length):U.empty}domAtPos(t){return(this.length?0==t:this.side>0)?Ye.before(this.dom):Ye.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let i=this.widget.coordsAt(this.dom,t,e);if(i)return i;let n=this.dom.getClientRects(),r=null;if(!n.length)return null;let o=this.side?this.side<0:t>0;for(let e=o?n.length-1:0;r=n[e],!(t>0?0==e:e==n.length-1||r.top<r.bottom);e+=o?-1:1);return Pe(r,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class di extends Xe{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof di&&t.side==this.side}split(){return new di(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?Ye.before(this.dom):Ye.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return U.empty}get isHidden(){return!0}}function ui(t,e){let i=t.dom,{children:n}=t,r=0;for(let t=0;r<n.length;r++){let o=n[r],s=t+o.length;if(!(s==t&&o.getSide()<=0)){if(e>t&&e<s&&o.dom.parentNode==i)return o.domAtPos(e-t);if(e<=t)break;t=s}}for(let t=r;t>0;t--){let e=n[t-1];if(e.dom.parentNode==i)return e.domAtPos(e.length)}for(let t=r;t<n.length;t++){let e=n[t];if(e.dom.parentNode==i)return e.domAtPos(0)}return new Ye(i,0)}function fi(t,e,i){let n,{children:r}=t;i>0&&e instanceof hi&&r.length&&(n=r[r.length-1])instanceof hi&&n.mark.eq(e.mark)?fi(n,e.children[0],i-1):(r.push(e),e.setParent(t)),t.length+=e.length}function pi(t,e,i){let n=null,r=-1,o=null,s=-1;!function t(e,a){for(let g=0,l=0;g<e.children.length&&l<=a;g++){let A=e.children[g],C=l+A.length;C>=a&&(A.children.length?t(A,a-l):(!o||o.isHidden&&(i>0||vi(o,A)))&&(C>a||l==C&&A.getSide()>0)?(o=A,s=a-l):(l<a||l==C&&A.getSide()<0&&!A.isHidden)&&(n=A,r=a-l)),l=C}}(t,e);let a=(i<0?n:o)||n||o;return a?a.coordsAt(Math.max(0,a==n?r:s),i):function(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let i=Te(e);return i[i.length-1]||null}(t)}function vi(t,e){let i=t.coordsAt(0,1),n=e.coordsAt(0,1);return i&&n&&n.top<i.bottom}function mi(t,e){for(let i in t)"class"==i&&e.class?e.class+=" "+t.class:"style"==i&&e.style?e.style+=";"+t.style:e[i]=t[i];return e}Ii.prototype.children=ci.prototype.children=di.prototype.children=Ke;const yi=Object.create(null);function bi(t,e,i){if(t==e)return!0;t||(t=yi),e||(e=yi);let n=Object.keys(t),r=Object.keys(e);if(n.length-(i&&n.indexOf(i)>-1?1:0)!=r.length-(i&&r.indexOf(i)>-1?1:0))return!1;for(let o of n)if(o!=i&&(-1==r.indexOf(o)||t[o]!==e[o]))return!1;return!0}function wi(t,e,i){let n=!1;if(e)for(let r in e)i&&r in i||(n=!0,"style"==r?t.style.cssText="":t.removeAttribute(r));if(i)for(let r in i)e&&e[r]==i[r]||(n=!0,"style"==r?t.style.cssText=i[r]:t.setAttribute(r,i[r]));return n}function xi(t){let e=Object.create(null);for(let i=0;i<t.attributes.length;i++){let n=t.attributes[i];e[n.name]=n.value}return e}class ki{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,e,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}}var Ei=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Ei||(Ei={}));class Si extends $t{constructor(t,e,i,n){super(),this.startSide=t,this.endSide=e,this.widget=i,this.spec=n}get heightRelevant(){return!1}static mark(t){return new Ti(t)}static widget(t){let e=Math.max(-1e4,Math.min(1e4,t.side||0)),i=!!t.block;return e+=i&&!t.inlineOrder?e>0?3e8:-4e8:e>0?1e8:-1e8,new _i(t,e,e,i,t.widget||null,!1)}static replace(t){let e,i,n=!!t.block;if(t.isBlockGap)e=-5e8,i=4e8;else{let{start:r,end:o}=Ri(t,n);e=(r?n?-3e8:-1:5e8)-1,i=1+(o?n?2e8:1:-6e8)}return new _i(t,e,i,n,t.widget||null,!0)}static line(t){return new Oi(t)}static set(t,e=!1){return ne.of(t,e)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}Si.none=ne.empty;class Ti extends Si{constructor(t){let{start:e,end:i}=Ri(t);super(e?-1:5e8,i?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var e,i;return this==t||t instanceof Ti&&this.tagName==t.tagName&&(this.class||(null===(e=this.attrs)||void 0===e?void 0:e.class))==(t.class||(null===(i=t.attrs)||void 0===i?void 0:i.class))&&bi(this.attrs,t.attrs,"class")}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}Ti.prototype.point=!1;class Oi extends Si{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof Oi&&this.spec.class==t.spec.class&&bi(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}Oi.prototype.mapMode=it.TrackBefore,Oi.prototype.point=!0;class _i extends Si{constructor(t,e,i,n,r,o){super(e,i,r,t),this.block=n,this.isReplace=o,this.mapMode=n?e<=0?it.TrackBefore:it.TrackAfter:it.TrackDel}get type(){return this.startSide!=this.endSide?Ei.WidgetRange:this.startSide<=0?Ei.WidgetBefore:Ei.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof _i&&((e=this.widget)==(i=t.widget)||!!(e&&i&&e.compare(i)))&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide;var e,i}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}function Ri(t,e=!1){let{inclusiveStart:i,inclusiveEnd:n}=t;return null==i&&(i=t.inclusive),null==n&&(n=t.inclusive),{start:null!=i?i:e,end:null!=n?n:e}}function Ni(t,e,i,n=0){let r=i.length-1;r>=0&&i[r]+n>=t?i[r]=Math.max(i[r],e):i.push(t,e)}_i.prototype.point=!0;class Di extends Xe{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,i,n,r,o){if(i){if(!(i instanceof Di))return!1;this.dom||i.transferDOM(this)}return n&&this.setDeco(i?i.attrs:null),$e(this,t,e,i?i.children.slice():[],r,o),!0}split(t){let e=new Di;if(e.breakAfter=this.breakAfter,0==this.length)return e;let{i,off:n}=this.childPos(t);n&&(e.append(this.children[i].split(n),0),this.children[i].merge(n,this.children[i].length,null,!1,0,0),i++);for(let t=i;t<this.children.length;t++)e.append(this.children[t],0);for(;i>0&&0==this.children[i-1].length;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){bi(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){fi(this,t,e)}addLineDeco(t){let e=t.spec.attributes,i=t.spec.class;e&&(this.attrs=mi(e,this.attrs||{})),i&&(this.attrs=mi({class:i},this.attrs||{}))}domAtPos(t){return ui(this,t)}reuseDOM(t){"DIV"==t.nodeName&&(this.setDOM(t),this.flags|=6)}sync(t,e){var i;this.dom?4&this.flags&&(We(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(wi(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,e);let n=this.dom.lastChild;for(;n&&Xe.get(n)instanceof hi;)n=n.lastChild;if(!(n&&this.length&&("BR"==n.nodeName||0!=(null===(i=Xe.get(n))||void 0===i?void 0:i.isEditable)||Ci.ios&&this.children.some((t=>t instanceof Ii))))){let t=document.createElement("BR");t.cmIgnore=!0,this.dom.appendChild(t)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t,e=0;for(let i of this.children){if(!(i instanceof Ii)||/[^ -~]/.test(i.text))return null;let n=Te(i.dom);if(1!=n.length)return null;e+=n[0].width,t=n[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(t,e){let i=pi(this,t,e);if(!this.children.length&&i&&this.parent){let{heightOracle:t}=this.parent.view.viewState,e=i.bottom-i.top;if(Math.abs(e-t.lineHeight)<2&&t.textHeight<e){let n=(e-t.textHeight)/2;return{top:i.top+n,bottom:i.bottom-n,left:i.left,right:i.left}}}return i}become(t){return t instanceof Di&&0==this.children.length&&0==t.children.length&&bi(this.attrs,t.attrs)&&this.breakAfter==t.breakAfter}covers(){return!0}static find(t,e){for(let i=0,n=0;i<t.children.length;i++){let r=t.children[i],o=n+r.length;if(o>=e){if(r instanceof Di)return r;if(o>e)break}n=o+r.breakAfter}return null}}class Pi extends Xe{constructor(t,e,i){super(),this.widget=t,this.length=e,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(t,e,i,n,r,o){return!(i&&(!(i instanceof Pi&&this.widget.compare(i.widget))||t>0&&r<=0||e<this.length&&o<=0)||(this.length=t+(i?i.length:0)+(this.length-e),0))}domAtPos(t){return 0==t?Ye.before(this.dom):Ye.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let i=new Pi(this.widget,e,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return Ke}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):U.empty}domBoundsAround(){return null}become(t){return t instanceof Pi&&t.widget.constructor==this.widget.constructor&&(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,e){return this.widget.coordsAt(this.dom,t,e)||(this.widget instanceof Mi?null:Pe(this.dom.getBoundingClientRect(),this.length?0==t:e<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:e,endSide:i}=this.deco;return e!=i&&(t<0?e<0:i>0)}}class Mi extends ki{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ji{constructor(t,e,i,n){this.doc=t,this.pos=e,this.end=i,this.disallowBlockEffectsFor=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof Pi&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Di),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Li(new di(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||t&&this.content.length&&this.content[this.content.length-1]instanceof Pi||this.getLine()}buildText(t,e,i){for(;t>0;){if(this.textOff==this.text.length){let{value:e,lineBreak:i,done:n}=this.cursor.next(this.skip);if(this.skip=0,n)throw new Error("Ran out of text content when drawing inline views");if(i){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}this.text=e,this.textOff=0}let n=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(e.length-i)),this.getLine().append(Li(new Ii(this.text.slice(this.textOff,this.textOff+n)),e),i),this.atCursorPos=!0,this.textOff+=n,t-=n,i=0}}span(t,e,i,n){this.buildText(e-t,i,n),this.pos=e,this.openStart<0&&(this.openStart=n)}point(t,e,i,n,r,o){if(this.disallowBlockEffectsFor[o]&&i instanceof _i){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let s=e-t;if(i instanceof _i)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Pi(i.widget||Bi.block,s,i));else{let o=ci.create(i.widget||Bi.inline,s,s?0:i.startSide),a=this.atCursorPos&&!o.isEditable&&r<=n.length&&(t<e||i.startSide>0),g=!o.isEditable&&(t<e||r>n.length||i.startSide<=0),l=this.getLine();2!=this.pendingBuffer||a||o.isEditable||(this.pendingBuffer=0),this.flushBuffer(n),a&&(l.append(Li(new di(1),n),r),r=n.length+Math.max(0,r-n.length)),l.append(Li(o,n),r),this.atCursorPos=g,this.pendingBuffer=g?t<e||r>n.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=n.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=r)}static build(t,e,i,n,r){let o=new ji(t,e,i,r);return o.openEnd=ne.spans(n,e,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Li(t,e){for(let i of e)t=new hi(i,[t],t.length);return t}class Bi extends ki{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Bi.inline=new Bi("span"),Bi.block=new Bi("div");var Fi=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Fi||(Fi={}));const zi=Fi.LTR,Vi=Fi.RTL;function Gi(t){let e=[];for(let i=0;i<t.length;i++)e.push(1<<+t[i]);return e}const Wi=Gi("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Ui=Gi("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Zi=Object.create(null),Hi=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),i=t.charCodeAt(1);Zi[e]=i,Zi[i]=-e}function Yi(t){return t<=247?Wi[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Ui[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const Ki=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Xi{get dir(){return this.level%2?Vi:zi}constructor(t,e,i){this.from=t,this.to=e,this.level=i}side(t,e){return this.dir==e==t?this.to:this.from}forward(t,e){return t==(this.dir==e)}static find(t,e,i,n){let r=-1;for(let o=0;o<t.length;o++){let s=t[o];if(s.from<=e&&s.to>=e){if(s.level==i)return o;(r<0||(0!=n?n<0?s.from<e:s.to>e:t[r].level>s.level))&&(r=o)}}if(r<0)throw new RangeError("Index out of range");return r}}function Qi(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++){let n=t[i],r=e[i];if(n.from!=r.from||n.to!=r.to||n.direction!=r.direction||!Qi(n.inner,r.inner))return!1}return!0}const qi=[];function Ji(t,e,i,n,r,o,s){let a=n%2?2:1;if(n%2==r%2)for(let g=e,l=0;g<i;){let e=!0,A=!1;if(l==o.length||g<o[l].from){let t=qi[g];t!=a&&(e=!1,A=16==t)}let C=e||1!=a?null:[],I=e?n:n+1,h=g;t:for(;;)if(l<o.length&&h==o[l].from){if(A)break t;let c=o[l];if(!e)for(let t=c.to,e=l+1;;){if(t==i)break t;if(!(e<o.length&&o[e].from==t)){if(qi[t]==a)break t;break}t=o[e++].to}l++,C?C.push(c):(c.from>g&&s.push(new Xi(g,c.from,I)),$i(t,c.direction==zi!=!(I%2)?n+1:n,r,c.inner,c.from,c.to,s),g=c.to),h=c.to}else{if(h==i||(e?qi[h]!=a:qi[h]==a))break;h++}C?Ji(t,g,h,n+1,r,C,s):g<h&&s.push(new Xi(g,h,I)),g=h}else for(let g=i,l=o.length;g>e;){let i=!0,A=!1;if(!l||g>o[l-1].to){let t=qi[g-1];t!=a&&(i=!1,A=16==t)}let C=i||1!=a?null:[],I=i?n:n+1,h=g;t:for(;;)if(l&&h==o[l-1].to){if(A)break t;let c=o[--l];if(!i)for(let t=c.from,i=l;;){if(t==e)break t;if(!i||o[i-1].to!=t){if(qi[t-1]==a)break t;break}t=o[--i].from}C?C.push(c):(c.to<g&&s.push(new Xi(c.to,g,I)),$i(t,c.direction==zi!=!(I%2)?n+1:n,r,c.inner,c.from,c.to,s),g=c.from),h=c.from}else{if(h==e||(i?qi[h-1]!=a:qi[h-1]==a))break;h--}C?Ji(t,h,g,n+1,r,C,s):h<g&&s.push(new Xi(h,g,I)),g=h}}function $i(t,e,i,n,r,o,s){let a=e%2?2:1;!function(t,e,i,n,r){for(let o=0;o<=n.length;o++){let s=o?n[o-1].to:e,a=o<n.length?n[o].from:i,g=o?256:r;for(let e=s,i=g,n=g;e<a;e++){let r=Yi(t.charCodeAt(e));512==r?r=i:8==r&&4==n&&(r=16),qi[e]=4==r?2:r,7&r&&(n=r),i=r}for(let t=s,e=g,n=g;t<a;t++){let r=qi[t];if(128==r)t<a-1&&e==qi[t+1]&&24&e?r=qi[t]=e:qi[t]=256;else if(64==r){let r=t+1;for(;r<a&&64==qi[r];)r++;let o=t&&8==e||r<i&&8==qi[r]?1==n?1:8:256;for(let e=t;e<r;e++)qi[e]=o;t=r-1}else 8==r&&1==n&&(qi[t]=1);e=r,7&r&&(n=r)}}}(t,r,o,n,a),function(t,e,i,n,r){let o=1==r?2:1;for(let s=0,a=0,g=0;s<=n.length;s++){let l=s?n[s-1].to:e,A=s<n.length?n[s].from:i;for(let e,i,n,s=l;s<A;s++)if(i=Zi[e=t.charCodeAt(s)])if(i<0){for(let t=a-3;t>=0;t-=3)if(Hi[t+1]==-i){let e=Hi[t+2],i=2&e?r:4&e?1&e?o:r:0;i&&(qi[s]=qi[Hi[t]]=i),a=t;break}}else{if(189==Hi.length)break;Hi[a++]=s,Hi[a++]=e,Hi[a++]=g}else if(2==(n=qi[s])||1==n){let t=n==r;g=t?0:1;for(let e=a-3;e>=0;e-=3){let i=Hi[e+2];if(2&i)break;if(t)Hi[e+2]|=2;else{if(4&i)break;Hi[e+2]|=4}}}}}(t,r,o,n,a),function(t,e,i,n){for(let r=0,o=n;r<=i.length;r++){let s=r?i[r-1].to:t,a=r<i.length?i[r].from:e;for(let g=s;g<a;){let s=qi[g];if(256==s){let s=g+1;for(;;)if(s==a){if(r==i.length)break;s=i[r++].to,a=r<i.length?i[r].from:e}else{if(256!=qi[s])break;s++}let l=1==o,A=l==(1==(s<e?qi[s]:n))?l?1:2:n;for(let e=s,n=r,o=n?i[n-1].to:t;e>g;)e==o&&(e=i[--n].from,o=n?i[n-1].to:t),qi[--e]=A;g=s}else o=s,g++}}}(r,o,n,a),Ji(t,r,o,e,i,n,s)}function tn(t){return[new Xi(0,t,0)]}let en="";function nn(t,e,i,n,r){var o;let s=n.head-t.from,a=Xi.find(e,s,null!==(o=n.bidiLevel)&&void 0!==o?o:-1,n.assoc),g=e[a],l=g.side(r,i);if(s==l){let t=a+=r?1:-1;if(t<0||t>=e.length)return null;g=e[a=t],s=g.side(!r,i),l=g.side(r,i)}let A=tt(t.text,s,g.forward(r,i));(A<g.from||A>g.to)&&(A=l),en=t.text.slice(Math.min(s,A),Math.max(s,A));let C=a==(r?e.length-1:0)?null:e[a+(r?1:-1)];return C&&A==l&&C.level+(r?0:1)<g.level?It.cursor(C.side(!r,i)+t.from,C.forward(r,i)?1:-1,C.level):It.cursor(A+t.from,g.forward(r,i)?-1:1,g.level)}function rn(t,e,i){for(let n=e;n<i;n++){let e=Yi(t.charCodeAt(n));if(1==e)return zi;if(2==e||4==e)return Vi}return zi}const on=dt.define(),sn=dt.define(),an=dt.define(),gn=dt.define(),ln=dt.define(),An=dt.define(),Cn=dt.define(),In=dt.define(),hn=dt.define(),cn=dt.define({combine:t=>t.some((t=>t))}),dn=dt.define({combine:t=>t.some((t=>t))}),un=dt.define();class fn{constructor(t,e="nearest",i="nearest",n=5,r=5,o=!1){this.range=t,this.y=e,this.x=i,this.yMargin=n,this.xMargin=r,this.isSnapshot=o}map(t){return t.empty?this:new fn(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new fn(It.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const pn=Vt.define({map:(t,e)=>t.map(e)}),vn=Vt.define();function mn(t,e,i){let n=t.facet(gn);n.length?n[0](e):window.onerror?window.onerror(String(e),i,void 0,void 0,e):i?console.error(i+":",e):console.error(e)}const yn=dt.define({combine:t=>!t.length||t[0]});let bn=0;const wn=dt.define();class xn{constructor(t,e,i,n,r){this.id=t,this.create=e,this.domEventHandlers=i,this.domEventObservers=n,this.extension=r(this)}static define(t,e){const{eventHandlers:i,eventObservers:n,provide:r,decorations:o}=e||{};return new xn(bn++,t,i,n,(t=>{let e=[wn.of(t)];return o&&e.push(Tn.of((e=>{let i=e.plugin(t);return i?o(i):Si.none}))),r&&e.push(r(t)),e}))}static fromClass(t,e){return xn.define((e=>new t(e)),e)}}class kn{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(e){if(mn(t.state,e,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(t){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){mn(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(null===(e=this.value)||void 0===e?void 0:e.destroy)try{this.value.destroy()}catch(e){mn(t.state,e,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const En=dt.define(),Sn=dt.define(),Tn=dt.define(),On=dt.define(),_n=dt.define(),Rn=dt.define();function Nn(t,e){let i=t.state.facet(Rn);if(!i.length)return i;let n=i.map((e=>e instanceof Function?e(t):e)),r=[];return ne.spans(n,e.from,e.to,{point(){},span(t,i,n,o){let s=t-e.from,a=i-e.from,g=r;for(let t=n.length-1;t>=0;t--,o--){let i,r=n[t].spec.bidiIsolate;if(null==r&&(r=rn(e.text,s,a)),o>0&&g.length&&(i=g[g.length-1]).to==s&&i.direction==r)i.to=a,g=i.inner;else{let t={from:s,to:a,direction:r,inner:[]};g.push(t),g=t.inner}}}}),r}const Dn=dt.define();function Pn(t){let e=0,i=0,n=0,r=0;for(let o of t.state.facet(Dn)){let s=o(t);s&&(null!=s.left&&(e=Math.max(e,s.left)),null!=s.right&&(i=Math.max(i,s.right)),null!=s.top&&(n=Math.max(n,s.top)),null!=s.bottom&&(r=Math.max(r,s.bottom)))}return{left:e,right:i,top:n,bottom:r}}const Mn=dt.define();class jn{constructor(t,e,i,n){this.fromA=t,this.toA=e,this.fromB=i,this.toB=n}join(t){return new jn(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,i=this;for(;e>0;e--){let n=t[e-1];if(!(n.fromA>i.toA)){if(n.toA<i.fromA)break;i=i.join(n),t.splice(e-1,1)}}return t.splice(e,0,i),t}static extendWithRanges(t,e){if(0==e.length)return t;let i=[];for(let n=0,r=0,o=0,s=0;;n++){let a=n==t.length?null:t[n],g=o-s,l=a?a.fromB:1e9;for(;r<e.length&&e[r]<l;){let t=e[r],n=e[r+1],o=Math.max(s,t),a=Math.min(l,n);if(o<=a&&new jn(o+g,a+g,o,a).addToSet(i),n>l)break;r+=2}if(!a)return i;new jn(a.fromA,a.toA,a.fromB,a.toB).addToSet(i),o=a.toA,s=a.toB}}}class Ln{constructor(t,e,i){this.view=t,this.state=e,this.transactions=i,this.flags=0,this.startState=t.state,this.changes=rt.empty(this.startState.doc.length);for(let t of i)this.changes=this.changes.compose(t.changes);let n=[];this.changes.iterChangedRanges(((t,e,i,r)=>n.push(new jn(t,e,i,r)))),this.changedRanges=n}static create(t,e,i){return new Ln(t,e,i)}get viewportChanged(){return(4&this.flags)>0}get viewportMoved(){return(8&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(18&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((t=>t.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}class Bn extends Xe{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Si.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new Di],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new jn(0,0,0,t.state.doc.length)],0,null)}update(t){var e;let i=t.changedRanges;this.minWidth>0&&i.length&&(i.every((({fromA:t,toA:e})=>e<this.minWidthFrom||t>this.minWidthTo))?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(t);let n=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&((null===(e=this.domChanged)||void 0===e?void 0:e.newSel)?n=this.domChanged.newSel.head:function(t,e){let i=!1;return e&&t.iterChangedRanges(((t,n)=>{t<e.to&&n>e.from&&(i=!0)})),i}(t.changes,this.hasComposition)||t.selectionSet||(n=t.state.selection.main.head));let r=n>-1?function(t,e,i){let n=Fn(t,i);if(!n)return null;let{node:r,from:o,to:s}=n,a=r.nodeValue;if(/[\n\r]/.test(a))return null;if(t.state.doc.sliceString(n.from,n.to)!=a)return null;let g=e.invertedDesc,l=new jn(g.mapPos(o),g.mapPos(s),o,s),A=[];for(let e=r.parentNode;;e=e.parentNode){let i=Xe.get(e);if(i instanceof hi)A.push({node:e,deco:i.mark});else{if(i instanceof Di||"DIV"==e.nodeName&&e.parentNode==t.contentDOM)return{range:l,text:r,marks:A,line:e};if(e==t.contentDOM)return null;A.push({node:e,deco:new Ti({inclusive:!0,attributes:xi(e),tagName:e.tagName.toLowerCase()})})}}}(this.view,t.changes,n):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:e,to:n}=this.hasComposition;i=new jn(e,n,t.changes.mapPos(e,-1),t.changes.mapPos(n,1)).addToSet(i.slice())}this.hasComposition=r?{from:r.range.fromB,to:r.range.toB}:null,(Ci.ie||Ci.chrome)&&!r&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let o=function(t,e,i){let n=new zn;return ne.compare(t,e,i,n),n.changes}(this.decorations,this.updateDeco(),t.changes);return i=jn.extendWithRanges(i,o),!!(7&this.flags||0!=i.length)&&(this.updateInner(i,t.startState.doc.length,r),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e,i);let{observer:n}=this.view;n.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let t=Ci.chrome||Ci.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,t),this.flags&=-8,t&&(t.written||n.selectionRange.focusNode!=t.node)&&(this.forceSelection=!0),this.dom.style.height=""})),this.markedForComposition.forEach((t=>t.flags&=-9));let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let t of this.children)t instanceof Pi&&t.widget instanceof Mi&&r.push(t.dom);n.updateGaps(r)}updateChildren(t,e,i){let n=i?i.range.addToSet(t.slice()):t,r=this.childCursor(e);for(let t=n.length-1;;t--){let e=t>=0?n[t]:null;if(!e)break;let o,s,a,g,{fromA:l,toA:A,fromB:C,toB:I}=e;if(i&&i.range.fromB<I&&i.range.toB>C){let t=ji.build(this.view.state.doc,C,i.range.fromB,this.decorations,this.dynamicDecorationMap),e=ji.build(this.view.state.doc,i.range.toB,I,this.decorations,this.dynamicDecorationMap);s=t.breakAtStart,a=t.openStart,g=e.openEnd;let n=this.compositionView(i);e.breakAtStart?n.breakAfter=1:e.content.length&&n.merge(n.length,n.length,e.content[0],!1,e.openStart,0)&&(n.breakAfter=e.content[0].breakAfter,e.content.shift()),t.content.length&&n.merge(0,0,t.content[t.content.length-1],!0,0,t.openEnd)&&t.content.pop(),o=t.content.concat(n).concat(e.content)}else({content:o,breakAtStart:s,openStart:a,openEnd:g}=ji.build(this.view.state.doc,C,I,this.decorations,this.dynamicDecorationMap));let{i:h,off:c}=r.findPos(A,1),{i:d,off:u}=r.findPos(l,-1);Je(this,d,u,h,c,o,s,a,g)}i&&this.fixCompositionDOM(i)}updateEditContextFormatting(t){this.editContextFormatting=this.editContextFormatting.map(t.changes);for(let e of t.transactions)for(let t of e.effects)t.is(vn)&&(this.editContextFormatting=t.value)}compositionView(t){let e=new Ii(t.text.nodeValue);e.flags|=8;for(let{deco:i}of t.marks)e=new hi(i,[e],e.length);let i=new Di;return i.append(e,0),i}fixCompositionDOM(t){let e=(t,e)=>{e.flags|=8|(e.children.some((t=>7&t.flags))?1:0),this.markedForComposition.add(e);let i=Xe.get(t);i&&i!=e&&(i.dom=null),e.setDOM(t)},i=this.childPos(t.range.fromB,1),n=this.children[i.i];e(t.line,n);for(let r=t.marks.length-1;r>=-1;r--)i=n.childPos(i.off,1),n=n.children[i.i],e(r>=0?t.marks[r].node:t.text,n)}updateSelection(t=!1,e=!1){!t&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let i=this.view.root.activeElement,n=i==this.dom,r=!n&&!(this.view.state.facet(yn)||this.dom.tabIndex>-1)&&Se(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(n||e||r))return;let o=this.forceSelection;this.forceSelection=!1;let s=this.view.state.selection.main,a=this.moveToLine(this.domAtPos(s.anchor)),g=s.empty?a:this.moveToLine(this.domAtPos(s.head));if(Ci.gecko&&s.empty&&!this.hasComposition&&1==(l=a).node.nodeType&&l.node.firstChild&&(0==l.offset||"false"==l.node.childNodes[l.offset-1].contentEditable)&&(l.offset==l.node.childNodes.length||"false"==l.node.childNodes[l.offset].contentEditable)){let t=document.createTextNode("");this.view.observer.ignore((()=>a.node.insertBefore(t,a.node.childNodes[a.offset]||null))),a=g=new Ye(t,0),o=!0}var l;let A=this.view.observer.selectionRange;!o&&A.focusNode&&(Oe(a.node,a.offset,A.anchorNode,A.anchorOffset)&&Oe(g.node,g.offset,A.focusNode,A.focusOffset)||this.suppressWidgetCursorChange(A,s))||(this.view.observer.ignore((()=>{Ci.android&&Ci.chrome&&this.dom.contains(A.focusNode)&&function(t,e){for(let i=t;i&&i!=e;i=i.assignedSlot||i.parentNode)if(1==i.nodeType&&"false"==i.contentEditable)return!0;return!1}(A.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let t=ke(this.view.root);if(t)if(s.empty){if(Ci.gecko){let t=function(t,e){return 1!=t.nodeType?0:(e&&"false"==t.childNodes[e-1].contentEditable?1:0)|(e<t.childNodes.length&&"false"==t.childNodes[e].contentEditable?2:0)}(a.node,a.offset);if(t&&3!=t){let e=(1==t?Ze:He)(a.node,a.offset);e&&(a=new Ye(e.node,e.offset))}}t.collapse(a.node,a.offset),null!=s.bidiLevel&&void 0!==t.caretBidiLevel&&(t.caretBidiLevel=s.bidiLevel)}else if(t.extend){t.collapse(a.node,a.offset);try{t.extend(g.node,g.offset)}catch(t){}}else{let e=document.createRange();s.anchor>s.head&&([a,g]=[g,a]),e.setEnd(g.node,g.offset),e.setStart(a.node,a.offset),t.removeAllRanges(),t.addRange(e)}r&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())})),this.view.observer.setSelectionRange(a,g)),this.impreciseAnchor=a.precise?null:new Ye(A.anchorNode,A.anchorOffset),this.impreciseHead=g.precise?null:new Ye(A.focusNode,A.focusOffset)}suppressWidgetCursorChange(t,e){return this.hasComposition&&e.empty&&Oe(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==e.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,e=t.state.selection.main,i=ke(t.root),{anchorNode:n,anchorOffset:r}=t.observer.selectionRange;if(!(i&&e.empty&&e.assoc&&i.modify))return;let o=Di.find(this,e.head);if(!o)return;let s=o.posAtStart;if(e.head==s||e.head==s+o.length)return;let a=this.coordsAt(e.head,-1),g=this.coordsAt(e.head,1);if(!a||!g||a.bottom>g.top)return;let l=this.domAtPos(e.head+e.assoc);i.collapse(l.node,l.offset),i.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let A=t.observer.selectionRange;t.docView.posFromDOM(A.anchorNode,A.anchorOffset)!=e.from&&i.collapse(n,r)}moveToLine(t){let e,i=this.dom;if(t.node!=i)return t;for(let n=t.offset;!e&&n<i.childNodes.length;n++){let t=Xe.get(i.childNodes[n]);t instanceof Di&&(e=t.domAtPos(0))}for(let n=t.offset-1;!e&&n>=0;n--){let t=Xe.get(i.childNodes[n]);t instanceof Di&&(e=t.domAtPos(t.length))}return e?new Ye(e.node,e.offset,!0):t}nearest(t){for(let e=t;e;){let t=Xe.get(e);if(t&&t.rootView==this)return t;e=e.parentNode}return null}posFromDOM(t,e){let i=this.nearest(t);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(t,e)+i.posAtStart}domAtPos(t){let{i:e,off:i}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let t=this.children[e];if(i<t.length||t instanceof Di)break;e++,i=0}return this.children[e].domAtPos(i)}coordsAt(t,e){let i=null,n=0;for(let r=this.length,o=this.children.length-1;o>=0;o--){let s=this.children[o],a=r-s.breakAfter,g=a-s.length;if(a<t)break;if(g<=t&&(g<t||s.covers(-1))&&(a>t||s.covers(1))&&(!i||s instanceof Di&&!(i instanceof Di&&e>=0)))i=s,n=g;else if(i&&g==t&&a==t&&s instanceof Pi&&Math.abs(e)<2){if(s.deco.startSide<0)break;o&&(i=null)}r=g}return i?i.coordsAt(t-n,e):null}coordsForChar(t){let{i:e,off:i}=this.childPos(t,1),n=this.children[e];if(!(n instanceof Di))return null;for(;n.children.length;){let{i:t,off:e}=n.childPos(i,1);for(;;t++){if(t==n.children.length)return null;if((n=n.children[t]).length)break}i=e}if(!(n instanceof Ii))return null;let r=tt(n.text,i);if(r==i)return null;let o=Ve(n.dom,i,r).getClientRects();for(let t=0;t<o.length;t++){let e=o[t];if(t==o.length-1||e.top<e.bottom&&e.left<e.right)return e}return null}measureVisibleLineHeights(t){let e=[],{from:i,to:n}=t,r=this.view.contentDOM.clientWidth,o=r>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,a=this.view.textDirection==Fi.LTR;for(let t=0,g=0;g<this.children.length;g++){let l=this.children[g],A=t+l.length;if(A>n)break;if(t>=i){let i=l.dom.getBoundingClientRect();if(e.push(i.height),o){let e=l.dom.lastChild,n=e?Te(e):[];if(n.length){let e=n[n.length-1],o=a?e.right-i.left:i.right-e.left;o>s&&(s=o,this.minWidth=r,this.minWidthFrom=t,this.minWidthTo=A)}}}t=A+l.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return"rtl"==getComputedStyle(this.children[e].dom).direction?Fi.RTL:Fi.LTR}measureTextSize(){for(let t of this.children)if(t instanceof Di){let e=t.measureTextSize();if(e)return e}let t,e,i,n=document.createElement("div");return n.className="cm-line",n.style.width="99999px",n.style.position="absolute",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(n);let r=Te(n.firstChild)[0];t=n.getBoundingClientRect().height,e=r?r.width/27:7,i=r?r.height:t,n.remove()})),{lineHeight:t,charWidth:e,textHeight:i}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new qe(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let i=0,n=0;;n++){let r=n==e.viewports.length?null:e.viewports[n],o=r?r.from-1:this.length;if(o>i){let n=(e.lineBlockAt(o).bottom-e.lineBlockAt(i).top)/this.view.scaleY;t.push(Si.replace({widget:new Mi(n),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!r)break;i=r.to+1}return Si.set(t)}updateDeco(){let t=1,e=this.view.state.facet(Tn).map((e=>(this.dynamicDecorationMap[t++]="function"==typeof e)?e(this.view):e)),i=!1,n=this.view.state.facet(On).map(((t,e)=>{let n="function"==typeof t;return n&&(i=!0),n?t(this.view):t}));for(n.length&&(this.dynamicDecorationMap[t++]=i,e.push(ne.join(n))),this.decorations=[this.editContextFormatting,...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;return this.decorations}scrollIntoView(t){if(t.isSnapshot){let e=this.view.viewState.lineBlockAt(t.range.head);return this.view.scrollDOM.scrollTop=e.top-t.yMargin,void(this.view.scrollDOM.scrollLeft=t.xMargin)}for(let e of this.view.state.facet(un))try{if(e(this.view,t.range,t))return!0}catch(t){mn(this.view.state,t,"scroll handler")}let e,{range:i}=t,n=this.coordsAt(i.head,i.empty?i.assoc:i.head>i.anchor?-1:1);if(!n)return;!i.empty&&(e=this.coordsAt(i.anchor,i.anchor>i.head?-1:1))&&(n={left:Math.min(n.left,e.left),top:Math.min(n.top,e.top),right:Math.max(n.right,e.right),bottom:Math.max(n.bottom,e.bottom)});let r=Pn(this.view),o={left:n.left-r.left,top:n.top-r.top,right:n.right+r.right,bottom:n.bottom+r.bottom},{offsetWidth:s,offsetHeight:a}=this.view.scrollDOM;!function(t,e,i,n,r,o,s,a){let g=t.ownerDocument,l=g.defaultView||window;for(let A=t,C=!1;A&&!C;)if(1==A.nodeType){let t,I=A==g.body,h=1,c=1;if(I)t=Me(l);else{if(/^(fixed|sticky)$/.test(getComputedStyle(A).position)&&(C=!0),A.scrollHeight<=A.clientHeight&&A.scrollWidth<=A.clientWidth){A=A.assignedSlot||A.parentNode;continue}let e=A.getBoundingClientRect();({scaleX:h,scaleY:c}=je(A,e)),t={left:e.left,right:e.left+A.clientWidth*h,top:e.top,bottom:e.top+A.clientHeight*c}}let d=0,u=0;if("nearest"==r)e.top<t.top?(u=e.top-(t.top+s),i>0&&e.bottom>t.bottom+u&&(u=e.bottom-t.bottom+s)):e.bottom>t.bottom&&(u=e.bottom-t.bottom+s,i<0&&e.top-u<t.top&&(u=e.top-(t.top+s)));else{let n=e.bottom-e.top,o=t.bottom-t.top;u=("center"==r&&n<=o?e.top+n/2-o/2:"start"==r||"center"==r&&i<0?e.top-s:e.bottom-o+s)-t.top}if("nearest"==n?e.left<t.left?(d=e.left-(t.left+o),i>0&&e.right>t.right+d&&(d=e.right-t.right+o)):e.right>t.right&&(d=e.right-t.right+o,i<0&&e.left<t.left+d&&(d=e.left-(t.left+o))):d=("center"==n?e.left+(e.right-e.left)/2-(t.right-t.left)/2:"start"==n==a?e.left-o:e.right-(t.right-t.left)+o)-t.left,d||u)if(I)l.scrollBy(d,u);else{let t=0,i=0;if(u){let t=A.scrollTop;A.scrollTop+=u/c,i=(A.scrollTop-t)*c}if(d){let e=A.scrollLeft;A.scrollLeft+=d/h,t=(A.scrollLeft-e)*h}e={left:e.left-t,top:e.top-i,right:e.right-t,bottom:e.bottom-i},t&&Math.abs(t-d)<1&&(n="nearest"),i&&Math.abs(i-u)<1&&(r="nearest")}if(I)break;(e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)&&(e={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)}),A=A.assignedSlot||A.parentNode}else{if(11!=A.nodeType)break;A=A.host}}(this.view.scrollDOM,o,i.head<i.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,s),-s),Math.max(Math.min(t.yMargin,a),-a),this.view.textDirection==Fi.LTR)}}function Fn(t,e){let i=t.observer.selectionRange;if(!i.focusNode)return null;let n=Ze(i.focusNode,i.focusOffset),r=He(i.focusNode,i.focusOffset),o=n||r;if(r&&n&&r.node!=n.node){let e=Xe.get(r.node);if(!e||e instanceof Ii&&e.text!=r.node.nodeValue)o=r;else if(t.docView.lastCompositionAfterCursor){let t=Xe.get(n.node);!t||t instanceof Ii&&t.text!=n.node.nodeValue||(o=r)}}if(t.docView.lastCompositionAfterCursor=o!=n,!o)return null;let s=e-o.offset;return{from:s,to:s+o.node.nodeValue.length,node:o.node}}let zn=class{constructor(){this.changes=[]}compareRange(t,e){Ni(t,e,this.changes)}comparePoint(t,e){Ni(t,e,this.changes)}boundChange(t){Ni(t,t,this.changes)}};function Vn(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function Gn(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function Wn(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function Un(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function Zn(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Hn(t,e,i){let n,r,o,s,a,g,l,A,C=!1;for(let I=t.firstChild;I;I=I.nextSibling){let t=Te(I);for(let h=0;h<t.length;h++){let c=t[h];r&&Wn(r,c)&&(c=Un(Zn(c,r.bottom),r.top));let d=Vn(e,c),u=Gn(i,c);if(0==d&&0==u)return 3==I.nodeType?Yn(I,e,i):Hn(I,e,i);if(!n||s>u||s==u&&o>d){n=I,r=c,o=d,s=u;let a=u?i<c.top?-1:1:d?e<c.left?-1:1:0;C=!a||(a>0?h<t.length-1:h>0)}0==d?i>c.bottom&&(!l||l.bottom<c.bottom)?(a=I,l=c):i<c.top&&(!A||A.top>c.top)&&(g=I,A=c):l&&Wn(l,c)?l=Zn(l,c.bottom):A&&Wn(A,c)&&(A=Un(A,c.top))}}if(l&&l.bottom>=i?(n=a,r=l):A&&A.top<=i&&(n=g,r=A),!n)return{node:t,offset:0};let I=Math.max(r.left,Math.min(r.right,e));return 3==n.nodeType?Yn(n,I,i):C&&"false"!=n.contentEditable?Hn(n,I,i):{node:t,offset:Array.prototype.indexOf.call(t.childNodes,n)+(e>=(r.left+r.right)/2?1:0)}}function Yn(t,e,i){let n=t.nodeValue.length,r=-1,o=1e9,s=0;for(let a=0;a<n;a++){let n=Ve(t,a,a+1).getClientRects();for(let g=0;g<n.length;g++){let l=n[g];if(l.top==l.bottom)continue;s||(s=e-l.left);let A=(l.top>i?l.top-i:i-l.bottom)-1;if(l.left-1<=e&&l.right+1>=e&&A<o){let i=e>=(l.left+l.right)/2,n=i;if((Ci.chrome||Ci.gecko)&&Ve(t,a).getBoundingClientRect().left==l.right&&(n=!i),A<=0)return{node:t,offset:a+(n?1:0)};r=a+(n?1:0),o=A}}}return{node:t,offset:r>-1?r:s>0?t.nodeValue.length:0}}function Kn(t,e,i,n=-1){var r,o;let s,a=t.contentDOM.getBoundingClientRect(),g=a.top+t.viewState.paddingTop,{docHeight:l}=t.viewState,{x:A,y:C}=e,I=C-g;if(I<0)return 0;if(I>l)return t.state.doc.length;for(let e=t.viewState.heightOracle.textHeight/2,r=!1;s=t.elementAtHeight(I),s.type!=Ei.Text;)for(;I=n>0?s.bottom+e:s.top-e,!(I>=0&&I<=l);){if(r)return i?null:0;r=!0,n=-n}C=g+I;let h=s.from;if(h<t.viewport.from)return 0==t.viewport.from?0:i?null:Xn(t,a,s,A,C);if(h>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:i?null:Xn(t,a,s,A,C);let c=t.dom.ownerDocument,d=t.root.elementFromPoint?t.root:c,u=d.elementFromPoint(A,C);u&&!t.contentDOM.contains(u)&&(u=null),u||(A=Math.max(a.left+1,Math.min(a.right-1,A)),u=d.elementFromPoint(A,C),u&&!t.contentDOM.contains(u)&&(u=null));let f,p=-1;if(u&&0!=(null===(r=t.docView.nearest(u))||void 0===r?void 0:r.isEditable)){if(c.caretPositionFromPoint){let t=c.caretPositionFromPoint(A,C);t&&({offsetNode:f,offset:p}=t)}else if(c.caretRangeFromPoint){let e=c.caretRangeFromPoint(A,C);e&&(({startContainer:f,startOffset:p}=e),(!t.contentDOM.contains(f)||Ci.safari&&function(t,e,i){let n;if(3!=t.nodeType||e!=(n=t.nodeValue.length))return!1;for(let e=t.nextSibling;e;e=e.nextSibling)if(1!=e.nodeType||"BR"!=e.nodeName)return!1;return Ve(t,n-1,n).getBoundingClientRect().left>i}(f,p,A)||Ci.chrome&&function(t,e,i){if(0!=e)return!1;for(let e=t;;){let t=e.parentNode;if(!t||1!=t.nodeType||t.firstChild!=e)return!1;if(t.classList.contains("cm-line"))break;e=t}return i-(1==t.nodeType?t.getBoundingClientRect():Ve(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect()).left>5}(f,p,A))&&(f=void 0))}f&&(p=Math.min(De(f),p))}if(!f||!t.docView.dom.contains(f)){let e=Di.find(t.docView,h);if(!e)return I>s.top+s.height/2?s.to:s.from;({node:f,offset:p}=Hn(e.dom,A,C))}let v=t.docView.nearest(f);if(!v)return null;if(v.isWidget&&1==(null===(o=v.dom)||void 0===o?void 0:o.nodeType)){let t=v.dom.getBoundingClientRect();return e.y<t.top||e.y<=t.bottom&&e.x<=(t.left+t.right)/2?v.posAtStart:v.posAtEnd}return v.localPosFromDOM(f,p)+v.posAtStart}function Xn(t,e,i,n,r){let o=Math.round((n-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&i.height>1.5*t.defaultLineHeight){let e=t.viewState.heightOracle.textHeight;o+=Math.floor((r-i.top-.5*(t.defaultLineHeight-e))/e)*t.viewState.heightOracle.lineLength}let s=t.state.sliceDoc(i.from,i.to);return i.from+function(t,e,i){for(let n=0,r=0;;){if(r>=e)return n;if(n==t.length)break;r+=9==t.charCodeAt(n)?i-r%i:1,n=tt(t,n)}return t.length}(s,o,t.state.tabSize)}function Qn(t,e,i,n){let r=t.state.doc.lineAt(e.head),o=t.bidiSpans(r),s=t.textDirectionAt(r.from);for(let a=e,g=null;;){let e=nn(r,o,s,a,i),l=en;if(!e){if(r.number==(i?t.state.doc.lines:1))return a;l="\n",r=t.state.doc.line(r.number+(i?1:-1)),o=t.bidiSpans(r),e=t.visualLineSide(r,!i)}if(g){if(!g(l))return a}else{if(!n)return e;g=n(l)}a=e}}function qn(t,e,i){for(;;){let n=0;for(let r of t)r.between(e-1,e+1,((t,r,o)=>{if(e>t&&e<r){let o=n||i||(e-t<r-e?-1:1);e=o<0?t:r,n=o}}));if(!n)return e}}function Jn(t,e,i){let n=qn(t.state.facet(_n).map((e=>e(t))),i.from,e.head>i.from?-1:1);return n==i.from?i:It.cursor(n,n<i.from?1:-1)}const $n="￿";class tr{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(Jt.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=$n}readRange(t,e){if(!t)return this;let i=t.parentNode;for(let n=t;;){this.findPointBefore(i,n);let t=this.text.length;this.readNode(n);let r=n.nextSibling;if(r==e)break;let o=Xe.get(n),s=Xe.get(r);(o&&s?o.breakAfter:(o?o.breakAfter:Re(n))||Re(r)&&("BR"!=n.nodeName||n.cmIgnore)&&this.text.length>t)&&this.lineBreak(),n=r}return this.findPointBefore(i,e),this}readTextNode(t){let e=t.nodeValue;for(let i of this.points)i.node==t&&(i.pos=this.text.length+Math.min(i.offset,e.length));for(let i=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let r,o=-1,s=1;if(this.lineSeparator?(o=e.indexOf(this.lineSeparator,i),s=this.lineSeparator.length):(r=n.exec(e))&&(o=r.index,s=r[0].length),this.append(e.slice(i,o<0?e.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let e of this.points)e.node==t&&e.pos>this.text.length&&(e.pos-=s-1);i=o+s}}readNode(t){if(t.cmIgnore)return;let e=Xe.get(t),i=e&&e.overrideDOMText;if(null!=i){this.findPointInside(t,i.length);for(let t=i.iter();!t.next().done;)t.lineBreak?this.lineBreak():this.append(t.value)}else 3==t.nodeType?this.readTextNode(t):"BR"==t.nodeName?t.nextSibling&&this.lineBreak():1==t.nodeType&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let i of this.points)i.node==t&&t.childNodes[i.offset]==e&&(i.pos=this.text.length)}findPointInside(t,e){for(let i of this.points)(3==t.nodeType?i.node==t:t.contains(i.node))&&(i.pos=this.text.length+(er(t,i.node,i.offset)?e:0))}}function er(t,e,i){for(;;){if(!e||i<De(e))return!1;if(e==t)return!0;i=_e(e)+1,e=e.parentNode}}class ir{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class nr{constructor(t,e,i,n){this.typeOver=n,this.bounds=null,this.text="",this.domChanged=e>-1;let{impreciseHead:r,impreciseAnchor:o}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=t.docView.domBoundsAround(e,i,0))){let e=r||o?[]:function(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:i,anchorOffset:n,focusNode:r,focusOffset:o}=t.observer.selectionRange;return i&&(e.push(new ir(i,n)),r==i&&o==n||e.push(new ir(r,o))),e}(t),i=new tr(e,t.state);i.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=i.text,this.newSel=function(t,e){if(0==t.length)return null;let i=t[0].pos,n=2==t.length?t[1].pos:i;return i>-1&&n>-1?It.single(i+e,n+e):null}(e,this.bounds.from)}else{let e=t.observer.selectionRange,i=r&&r.node==e.focusNode&&r.offset==e.focusOffset||!Ee(t.contentDOM,e.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(e.focusNode,e.focusOffset),n=o&&o.node==e.anchorNode&&o.offset==e.anchorOffset||!Ee(t.contentDOM,e.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(e.anchorNode,e.anchorOffset),s=t.viewport;if((Ci.ios||Ci.chrome)&&t.state.selection.main.empty&&i!=n&&(s.from>0||s.to<t.state.doc.length)){let e=Math.min(i,n),r=Math.max(i,n),o=s.from-e,a=s.to-r;0!=o&&1!=o&&0!=e||0!=a&&-1!=a&&r!=t.state.doc.length||(i=0,n=t.state.doc.length)}this.newSel=It.single(n,i)}}}function rr(t,e){let i,{newSel:n}=e,r=t.state.selection.main,o=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:n,to:s}=e.bounds,a=r.from,g=null;(8===o||Ci.android&&e.text.length<s-n)&&(a=r.to,g="end");let l=function(t,e,i,n){let r=Math.min(t.length,e.length),o=0;for(;o<r&&t.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==r&&t.length==e.length)return null;let s=t.length,a=e.length;for(;s>0&&a>0&&t.charCodeAt(s-1)==e.charCodeAt(a-1);)s--,a--;return"end"==n&&(i-=s+Math.max(0,o-Math.min(s,a))-o),s<o&&t.length<e.length?(o-=i<=o&&i>=s?o-i:0,a=o+(a-s),s=o):a<o&&(o-=i<=o&&i>=a?o-i:0,s=o+(s-a),a=o),{from:o,toA:s,toB:a}}(t.state.doc.sliceString(n,s,$n),e.text,a-n,g);l&&(Ci.chrome&&13==o&&l.toB==l.from+2&&e.text.slice(l.from,l.toB)==$n+$n&&l.toB--,i={from:n+l.from,to:n+l.toA,insert:U.of(e.text.slice(l.from,l.toB).split($n))})}else n&&(!t.hasFocus&&t.state.facet(yn)||n.main.eq(r))&&(n=null);if(!i&&!n)return!1;if(!i&&e.typeOver&&!r.empty&&n&&n.main.empty?i={from:r.from,to:r.to,insert:t.state.doc.slice(r.from,r.to)}:(Ci.mac||Ci.android)&&i&&i.from==i.to&&i.from==r.head-1&&/^\. ?$/.test(i.insert.toString())&&"off"==t.contentDOM.getAttribute("autocorrect")?(n&&2==i.insert.length&&(n=It.single(n.main.anchor-1,n.main.head-1)),i={from:i.from,to:i.to,insert:U.of([i.insert.toString().replace("."," ")])}):i&&i.from>=r.from&&i.to<=r.to&&(i.from!=r.from||i.to!=r.to)&&r.to-r.from-(i.to-i.from)<=4?i={from:r.from,to:r.to,insert:t.state.doc.slice(r.from,i.from).append(i.insert).append(t.state.doc.slice(i.to,r.to))}:Ci.chrome&&i&&i.from==i.to&&i.from==r.head&&"\n "==i.insert.toString()&&t.lineWrapping&&(n&&(n=It.single(n.main.anchor-1,n.main.head-1)),i={from:r.from,to:r.to,insert:U.of([" "])}),i)return or(t,i,n,o);if(n&&!n.main.eq(r)){let e=!1,i="select";return t.inputState.lastSelectionTime>Date.now()-50&&("select"==t.inputState.lastSelectionOrigin&&(e=!0),i=t.inputState.lastSelectionOrigin),t.dispatch({selection:n,scrollIntoView:e,userEvent:i}),!0}return!1}function or(t,e,i,n=-1){if(Ci.ios&&t.inputState.flushIOSKey(e))return!0;let r=t.state.selection.main;if(Ci.android&&(e.to==r.to&&(e.from==r.from||e.from==r.from-1&&" "==t.state.sliceDoc(e.from,r.from))&&1==e.insert.length&&2==e.insert.lines&&Ge(t.contentDOM,"Enter",13)||(e.from==r.from-1&&e.to==r.to&&0==e.insert.length||8==n&&e.insert.length<e.to-e.from&&e.to>r.head)&&Ge(t.contentDOM,"Backspace",8)||e.from==r.from&&e.to==r.to+1&&0==e.insert.length&&Ge(t.contentDOM,"Delete",46)))return!0;let o,s=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let a=()=>o||(o=function(t,e,i){let n,r=t.state,o=r.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!i||i.main.empty&&i.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let i=o.from<e.from?r.sliceDoc(o.from,e.from):"",s=o.to>e.to?r.sliceDoc(e.to,o.to):"";n=r.replaceSelection(t.state.toText(i+e.insert.sliceString(0,void 0,t.state.lineBreak)+s))}else{let s=r.changes(e),a=i&&i.main.to<=s.newLength?i.main:void 0;if(r.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let g,l=t.state.sliceDoc(e.from,e.to),A=i&&Fn(t,i.main.head);if(A){let t=e.insert.length-(e.to-e.from);g={from:A.from,to:A.to-t}}else g=t.state.doc.lineAt(o.head);let C=o.to-e.to,I=o.to-o.from;n=r.changeByRange((i=>{if(i.from==o.from&&i.to==o.to)return{changes:s,range:a||i.map(s)};let n=i.to-C,A=n-l.length;if(i.to-i.from!=I||t.state.sliceDoc(A,n)!=l||i.to>=g.from&&i.from<=g.to)return{range:i};let h=r.changes({from:A,to:n,insert:e.insert}),c=i.to-o.to;return{changes:h,range:a?It.range(Math.max(0,a.anchor+c),Math.max(0,a.head+c)):i.map(h)}}))}else n={changes:s,selection:a&&r.selection.replaceRange(a)}}let s="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,s+=".compose",t.inputState.compositionFirstChange&&(s+=".start",t.inputState.compositionFirstChange=!1)),r.update(n,{userEvent:s,scrollIntoView:!0})}(t,e,i));return t.state.facet(An).some((i=>i(t,e.from,e.to,s,a)))||t.dispatch(a()),!0}class sr{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,Ci.safari&&t.contentDOM.addEventListener("input",(()=>null)),Ci.gecko&&function(t){Dr.has(t)||(Dr.add(t),t.addEventListener("copy",(()=>{})),t.addEventListener("cut",(()=>{})))}(t.contentDOM.ownerDocument)}handleEvent(t){(function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let i,n=e.target;n!=t.contentDOM;n=n.parentNode)if(!n||11==n.nodeType||(i=Xe.get(n))&&i.ignoreEvent(e))return!1;return!0})(this.view,t)&&!this.ignoreDuringComposition(t)&&("keydown"==t.type&&this.keydown(t)||(0!=this.view.updateState?Promise.resolve().then((()=>this.runHandlers(t.type,t))):this.runHandlers(t.type,t)))}runHandlers(t,e){let i=this.handlers[t];if(i){for(let t of i.observers)t(this.view,e);for(let t of i.handlers){if(e.defaultPrevented)break;if(t(this.view,e)){e.preventDefault();break}}}}ensureHandlers(t){let e=gr(t),i=this.handlers,n=this.view.contentDOM;for(let t in e)if("scroll"!=t){let r=!e[t].handlers.length,o=i[t];o&&r!=!o.handlers.length&&(n.removeEventListener(t,this.handleEvent),o=null),o||n.addEventListener(t,this.handleEvent,{passive:r})}for(let t in i)"scroll"==t||e[t]||n.removeEventListener(t,this.handleEvent);this.handlers=e}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&27!=t.keyCode&&Cr.indexOf(t.keyCode)<0&&(this.tabFocusMode=-1),Ci.android&&Ci.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let e;return!Ci.ios||t.synthetic||t.altKey||t.metaKey||!((e=lr.find((e=>e.keyCode==t.keyCode)))&&!t.ctrlKey||Ar.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(229!=t.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=e||t,setTimeout((()=>this.flushIOSKey()),250),!0)}flushIOSKey(t){let e=this.pendingIOSKey;return!!e&&!("Enter"==e.key&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString()))&&(this.pendingIOSKey=void 0,Ge(this.view.contentDOM,e.key,e.keyCode,e instanceof KeyboardEvent?e:void 0))}ignoreDuringComposition(t){return!!/^key/.test(t.type)&&(this.composing>0||!!(Ci.safari&&!Ci.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.view.observer.update(t),this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function ar(t,e){return(i,n)=>{try{return e.call(t,n,i)}catch(t){mn(i.state,t)}}}function gr(t){let e=Object.create(null);function i(t){return e[t]||(e[t]={observers:[],handlers:[]})}for(let e of t){let t=e.spec;if(t&&t.domEventHandlers)for(let n in t.domEventHandlers){let r=t.domEventHandlers[n];r&&i(n).handlers.push(ar(e.value,r))}if(t&&t.domEventObservers)for(let n in t.domEventObservers){let r=t.domEventObservers[n];r&&i(n).observers.push(ar(e.value,r))}}for(let t in cr)i(t).handlers.push(cr[t]);for(let t in dr)i(t).observers.push(dr[t]);return e}const lr=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Ar="dthko",Cr=[16,17,18,20,91,92,224,225];function Ir(t){return.7*Math.max(0,t)+8}class hr{constructor(t,e,i,n){this.view=t,this.startEvent=e,this.style=i,this.mustSelect=n,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParents=function(t){let e,i,n=t.ownerDocument;for(let r=t.parentNode;r&&!(r==n.body||e&&i);)if(1==r.nodeType)!i&&r.scrollHeight>r.clientHeight&&(i=r),!e&&r.scrollWidth>r.clientWidth&&(e=r),r=r.assignedSlot||r.parentNode;else{if(11!=r.nodeType)break;r=r.host}return{x:e,y:i}}(t.contentDOM),this.atoms=t.state.facet(_n).map((e=>e(t)));let r=t.contentDOM.ownerDocument;r.addEventListener("mousemove",this.move=this.move.bind(this)),r.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(Jt.allowMultipleSelections)&&function(t,e){let i=t.state.facet(on);return i.length?i[0](e):Ci.mac?e.metaKey:e.ctrlKey}(t,e),this.dragging=!(!function(t,e){let{main:i}=t.state.selection;if(i.empty)return!1;let n=ke(t.root);if(!n||0==n.rangeCount)return!0;let r=n.getRangeAt(0).getClientRects();for(let t=0;t<r.length;t++){let i=r[t];if(i.left<=e.clientX&&i.right>=e.clientX&&i.top<=e.clientY&&i.bottom>=e.clientY)return!0}return!1}(t,e)||1!=Sr(e))&&null}start(t){!1===this.dragging&&this.select(t)}move(t){if(0==t.buttons)return this.destroy();if(this.dragging||null==this.dragging&&(e=this.startEvent,i=t,Math.max(Math.abs(e.clientX-i.clientX),Math.abs(e.clientY-i.clientY))<10))return;var e,i;this.select(this.lastEvent=t);let n=0,r=0,o=0,s=0,a=this.view.win.innerWidth,g=this.view.win.innerHeight;this.scrollParents.x&&({left:o,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:g}=this.scrollParents.y.getBoundingClientRect());let l=Pn(this.view);t.clientX-l.left<=o+6?n=-Ir(o-t.clientX):t.clientX+l.right>=a-6&&(n=Ir(t.clientX-a)),t.clientY-l.top<=s+6?r=-Ir(s-t.clientY):t.clientY+l.bottom>=g-6&&(r=Ir(t.clientY-g)),this.setScrollSpeed(n,r)}up(t){null==this.dragging&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval((()=>this.scroll()),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:t,y:e}=this.scrollSpeed;t&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=t,t=0),e&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=e,e=0),(t||e)&&this.view.win.scrollBy(t,e),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(t){let e=null;for(let i=0;i<t.ranges.length;i++){let n=t.ranges[i],r=null;if(n.empty){let t=qn(this.atoms,n.from,0);t!=n.from&&(r=It.cursor(t,-1))}else{let t=qn(this.atoms,n.from,-1),e=qn(this.atoms,n.to,1);t==n.from&&e==n.to||(r=It.range(n.from==n.anchor?t:e,n.from==n.head?t:e))}r&&(e||(e=t.ranges.slice()),e[i]=r)}return e?It.create(e,t.mainIndex):t}select(t){let{view:e}=this,i=this.skipAtoms(this.style.get(t,this.extend,this.multiple));!this.mustSelect&&i.eq(e.state.selection,!1===this.dragging)||this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.transactions.some((t=>t.isUserEvent("input.type")))?this.destroy():this.style.update(t)&&setTimeout((()=>this.select(this.lastEvent)),20)}}const cr=Object.create(null),dr=Object.create(null),ur=Ci.ie&&Ci.ie_version<15||Ci.ios&&Ci.webkit_version<604;function fr(t,e,i){for(let n of t.facet(e))i=n(i,t);return i}function pr(t,e){e=fr(t.state,In,e);let i,{state:n}=t,r=1,o=n.toText(e),s=o.lines==n.selection.ranges.length;if(null!=Or&&n.selection.ranges.every((t=>t.empty))&&Or==o.toString()){let t=-1;i=n.changeByRange((i=>{let a=n.doc.lineAt(i.from);if(a.from==t)return{range:i};t=a.from;let g=n.toText((s?o.line(r++).text:e)+n.lineBreak);return{changes:{from:a.from,insert:g},range:It.cursor(i.from+g.length)}}))}else i=s?n.changeByRange((t=>{let e=o.line(r++);return{changes:{from:t.from,to:t.to,insert:e.text},range:It.cursor(t.from+e.length)}})):n.replaceSelection(o);t.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}function vr(t,e,i,n){if(1==n)return It.cursor(e,i);if(2==n)return function(t,e,i=1){let n=t.charCategorizer(e),r=t.doc.lineAt(e),o=e-r.from;if(0==r.length)return It.cursor(e);0==o?i=1:o==r.length&&(i=-1);let s=o,a=o;i<0?s=tt(r.text,o,!1):a=tt(r.text,o);let g=n(r.text.slice(s,a));for(;s>0;){let t=tt(r.text,s,!1);if(n(r.text.slice(t,s))!=g)break;s=t}for(;a<r.length;){let t=tt(r.text,a);if(n(r.text.slice(a,t))!=g)break;a=t}return It.range(s+r.from,a+r.from)}(t.state,e,i);{let i=Di.find(t.docView,e),n=t.state.doc.lineAt(i?i.posAtEnd:e),r=i?i.posAtStart:n.from,o=i?i.posAtEnd:n.to;return o<t.state.doc.length&&o==n.to&&o++,It.range(r,o)}}dr.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft},cr.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),27==e.keyCode&&0!=t.inputState.tabFocusMode&&(t.inputState.tabFocusMode=Date.now()+2e3),!1),dr.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},dr.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")},cr.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let i=null;for(let n of t.state.facet(an))if(i=n(t,e),i)break;if(i||0!=e.button||(i=function(t,e){let i=br(t,e),n=Sr(e),r=t.state.selection;return{update(t){t.docChanged&&(i.pos=t.changes.mapPos(i.pos),r=r.map(t.changes))},get(e,o,s){let a,g=br(t,e),l=vr(t,g.pos,g.bias,n);if(i.pos!=g.pos&&!o){let e=vr(t,i.pos,i.bias,n),r=Math.min(e.from,l.from),o=Math.max(e.to,l.to);l=r<l.from?It.range(r,o):It.range(o,r)}return o?r.replaceRange(r.main.extend(l.from,l.to)):s&&1==n&&r.ranges.length>1&&(a=function(t,e){for(let i=0;i<t.ranges.length;i++){let{from:n,to:r}=t.ranges[i];if(n<=e&&r>=e)return It.create(t.ranges.slice(0,i).concat(t.ranges.slice(i+1)),t.mainIndex==i?0:t.mainIndex-(t.mainIndex>i?1:0))}return null}(r,g.pos))?a:s?r.addRange(l):It.create([l])}}}(t,e)),i){let n=!t.hasFocus;t.inputState.startMouseSelection(new hr(t,e,i,n)),n&&t.observer.ignore((()=>{ze(t.contentDOM);let e=t.root.activeElement;e&&!e.contains(t.contentDOM)&&e.blur()}));let r=t.inputState.mouseSelection;if(r)return r.start(e),!1===r.dragging}return!1};let mr=(t,e,i)=>e>=i.top&&e<=i.bottom&&t>=i.left&&t<=i.right;function yr(t,e,i,n){let r=Di.find(t.docView,e);if(!r)return 1;let o=e-r.posAtStart;if(0==o)return 1;if(o==r.length)return-1;let s=r.coordsAt(o,-1);if(s&&mr(i,n,s))return-1;let a=r.coordsAt(o,1);return a&&mr(i,n,a)?1:s&&s.bottom>=n?-1:1}function br(t,e){let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:i,bias:yr(t,i,e.clientX,e.clientY)}}const wr=Ci.ie&&Ci.ie_version<=11;let xr=null,kr=0,Er=0;function Sr(t){if(!wr)return t.detail;let e=xr,i=Er;return xr=t,Er=Date.now(),kr=!e||i>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(kr+1)%3:1}function Tr(t,e,i,n){if(!(i=fr(t.state,In,i)))return;let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=t.inputState,s=n&&o&&function(t,e){let i=t.state.facet(sn);return i.length?i[0](e):Ci.mac?!e.altKey:!e.ctrlKey}(t,e)?{from:o.from,to:o.to}:null,a={from:r,insert:i},g=t.state.changes(s?[s,a]:a);t.focus(),t.dispatch({changes:g,selection:{anchor:g.mapPos(r,-1),head:g.mapPos(r,1)},userEvent:s?"move.drop":"input.drop"}),t.inputState.draggedContent=null}cr.dragstart=(t,e)=>{let{selection:{main:i}}=t.state;if(e.target.draggable){let n=t.docView.nearest(e.target);if(n&&n.isWidget){let t=n.posAtStart,e=t+n.length;(t>=i.to||e<=i.from)&&(i=It.range(t,e))}}let{inputState:n}=t;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=i,e.dataTransfer&&(e.dataTransfer.setData("Text",fr(t.state,hn,t.state.sliceDoc(i.from,i.to))),e.dataTransfer.effectAllowed="copyMove"),!1},cr.dragend=t=>(t.inputState.draggedContent=null,!1),cr.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let i=e.dataTransfer.files;if(i&&i.length){let n=Array(i.length),r=0,o=()=>{++r==i.length&&Tr(t,e,n.filter((t=>null!=t)).join(t.state.lineBreak),!1)};for(let t=0;t<i.length;t++){let e=new FileReader;e.onerror=o,e.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(e.result)||(n[t]=e.result),o()},e.readAsText(i[t])}return!0}{let i=e.dataTransfer.getData("Text");if(i)return Tr(t,e,i,!0),!0}return!1},cr.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let i=ur?null:e.clipboardData;return i?(pr(t,i.getData("text/plain")||i.getData("text/uri-list")),!0):(function(t){let e=t.dom.parentNode;if(!e)return;let i=e.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout((()=>{t.focus(),i.remove(),pr(t,i.value)}),50)}(t),!1)};let Or=null;cr.copy=cr.cut=(t,e)=>{let{text:i,ranges:n,linewise:r}=function(t){let e=[],i=[],n=!1;for(let n of t.selection.ranges)n.empty||(e.push(t.sliceDoc(n.from,n.to)),i.push(n));if(!e.length){let r=-1;for(let{from:n}of t.selection.ranges){let o=t.doc.lineAt(n);o.number>r&&(e.push(o.text),i.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),r=o.number}n=!0}return{text:fr(t,hn,e.join(t.lineBreak)),ranges:i,linewise:n}}(t.state);if(!i&&!r)return!1;Or=r?i:null,"cut"!=e.type||t.state.readOnly||t.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let o=ur?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",i),!0):(function(t,e){let i=t.dom.parentNode;if(!i)return;let n=i.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout((()=>{n.remove(),t.focus()}),50)}(t,i),!1)};const _r=Bt.define();function Rr(t,e){let i=[];for(let n of t.facet(Cn)){let r=n(t,e);r&&i.push(r)}return i?t.update({effects:i,annotations:_r.of(!0)}):null}function Nr(t){setTimeout((()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let i=Rr(t.state,e);i?t.dispatch(i):t.update([])}}),10)}dr.focus=t=>{t.inputState.lastFocusTime=Date.now(),t.scrollDOM.scrollTop||!t.inputState.lastScrollTop&&!t.inputState.lastScrollLeft||(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),Nr(t)},dr.blur=t=>{t.observer.clearSelectionRange(),Nr(t)},dr.compositionstart=dr.compositionupdate=t=>{t.observer.editContext||(null==t.inputState.compositionFirstChange&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))},dr.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Ci.chrome&&Ci.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then((()=>t.observer.flush())):setTimeout((()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])}),50))},dr.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()},cr.beforeinput=(t,e)=>{var i,n;if("insertReplacementText"==e.inputType&&t.observer.editContext){let n=null===(i=e.dataTransfer)||void 0===i?void 0:i.getData("text/plain"),r=e.getTargetRanges();if(n&&r.length){let e=r[0],i=t.posAtDOM(e.startContainer,e.startOffset),o=t.posAtDOM(e.endContainer,e.endOffset);return or(t,{from:i,to:o,insert:t.state.toText(n)},null),!0}}let r;if(Ci.chrome&&Ci.android&&(r=lr.find((t=>t.inputType==e.inputType)))&&(t.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){let e=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((()=>{var i;((null===(i=window.visualViewport)||void 0===i?void 0:i.height)||0)>e+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())}),100)}return Ci.ios&&"deleteContentForward"==e.inputType&&t.observer.flushSoon(),Ci.safari&&"insertText"==e.inputType&&t.inputState.composing>=0&&setTimeout((()=>dr.compositionend(t,e)),20),!1};const Dr=new Set,Pr=["pre-wrap","normal","pre-line","break-spaces"];let Mr=!1;function jr(){Mr=!1}class Lr{constructor(t){this.lineWrapping=t,this.doc=U.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(t,e){let i=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((e-t-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return Pr.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let i=0;i<t.length;i++){let n=t[i];n<0?i++:this.heightSamples[Math.floor(10*n)]||(e=!0,this.heightSamples[Math.floor(10*n)]=!0)}return e}refresh(t,e,i,n,r,o){let s=Pr.indexOf(t)>-1,a=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=e,this.charWidth=i,this.textHeight=n,this.lineLength=r,a){this.heightSamples={};for(let t=0;t<o.length;t++){let e=o[t];e<0?t++:this.heightSamples[Math.floor(10*e)]=!0}}return a}}class Br{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class Fr{constructor(t,e,i,n,r){this.from=t,this.length=e,this.top=i,this.height=n,this._content=r}get type(){return"number"==typeof this._content?Ei.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof _i?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(t){let e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new Fr(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var zr=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(zr||(zr={}));const Vr=.001;class Gr{constructor(t,e,i=2){this.length=t,this.height=e,this.flags=i}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t){this.height!=t&&(Math.abs(this.height-t)>Vr&&(Mr=!0),this.height=t)}replace(t,e,i){return Gr.of(i)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,i,n){let r=this,o=i.doc;for(let s=n.length-1;s>=0;s--){let{fromA:a,toA:g,fromB:l,toB:A}=n[s],C=r.lineAt(a,zr.ByPosNoHeight,i.setDoc(e),0,0),I=C.to>=g?C:r.lineAt(g,zr.ByPosNoHeight,i,0,0);for(A+=I.to-g,g=I.to;s>0&&C.from<=n[s-1].toA;)a=n[s-1].fromA,l=n[s-1].fromB,s--,a<C.from&&(C=r.lineAt(a,zr.ByPosNoHeight,i,0,0));l+=C.from-a,a=C.from;let h=Xr.build(i.setDoc(o),t,l,A);r=Wr(r,r.replace(a,g,h))}return r.updateHeight(i,0)}static empty(){return new Zr(0,0)}static of(t){if(1==t.length)return t[0];let e=0,i=t.length,n=0,r=0;for(;;)if(e==i)if(n>2*r){let r=t[e-1];r.break?t.splice(--e,1,r.left,null,r.right):t.splice(--e,1,r.left,r.right),i+=1+r.break,n-=r.size}else{if(!(r>2*n))break;{let e=t[i];e.break?t.splice(i,1,e.left,null,e.right):t.splice(i,1,e.left,e.right),i+=2+e.break,r-=e.size}}else if(n<r){let i=t[e++];i&&(n+=i.size)}else{let e=t[--i];e&&(r+=e.size)}let o=0;return null==t[e-1]?(o=1,e--):null==t[e]&&(o=1,i++),new Yr(Gr.of(t.slice(0,e)),o,Gr.of(t.slice(i)))}}function Wr(t,e){return t==e?t:(t.constructor!=e.constructor&&(Mr=!0),e)}Gr.prototype.size=1;class Ur extends Gr{constructor(t,e,i){super(t,e),this.deco=i}blockAt(t,e,i,n){return new Fr(n,this.length,i,this.height,this.deco||0)}lineAt(t,e,i,n,r){return this.blockAt(0,i,n,r)}forEachLine(t,e,i,n,r,o){t<=r+this.length&&e>=r&&o(this.blockAt(0,i,n,r))}updateHeight(t,e=0,i=!1,n){return n&&n.from<=e&&n.more&&this.setHeight(n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Zr extends Ur{constructor(t,e){super(t,e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,e,i,n){return new Fr(n,this.length,i,this.height,this.breaks)}replace(t,e,i){let n=i[0];return 1==i.length&&(n instanceof Zr||n instanceof Hr&&4&n.flags)&&Math.abs(this.length-n.length)<10?(n instanceof Hr?n=new Zr(n.length,this.height):n.height=this.height,this.outdated||(n.outdated=!1),n):Gr.of(i)}updateHeight(t,e=0,i=!1,n){return n&&n.from<=e&&n.more?this.setHeight(n.heights[n.index++]):(i||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Hr extends Gr{constructor(t){super(t,0)}heightMetrics(t,e){let i,n=t.doc.lineAt(e).number,r=t.doc.lineAt(e+this.length).number,o=r-n+1,s=0;if(t.lineWrapping){let e=Math.min(this.height,t.lineHeight*o);i=e/o,this.length>o+1&&(s=(this.height-e)/(this.length-o-1))}else i=this.height/o;return{firstLine:n,lastLine:r,perLine:i,perChar:s}}blockAt(t,e,i,n){let{firstLine:r,lastLine:o,perLine:s,perChar:a}=this.heightMetrics(e,n);if(e.lineWrapping){let r=n+(t<e.lineHeight?0:Math.round(Math.max(0,Math.min(1,(t-i)/this.height))*this.length)),o=e.doc.lineAt(r),g=s+o.length*a,l=Math.max(i,t-g/2);return new Fr(o.from,o.length,l,g,0)}{let n=Math.max(0,Math.min(o-r,Math.floor((t-i)/s))),{from:a,length:g}=e.doc.line(r+n);return new Fr(a,g,i+s*n,s,0)}}lineAt(t,e,i,n,r){if(e==zr.ByHeight)return this.blockAt(t,i,n,r);if(e==zr.ByPosNoHeight){let{from:e,to:n}=i.doc.lineAt(t);return new Fr(e,n-e,0,0,0)}let{firstLine:o,perLine:s,perChar:a}=this.heightMetrics(i,r),g=i.doc.lineAt(t),l=s+g.length*a,A=g.number-o,C=n+s*A+a*(g.from-r-A);return new Fr(g.from,g.length,Math.max(n,Math.min(C,n+this.height-l)),l,0)}forEachLine(t,e,i,n,r,o){t=Math.max(t,r),e=Math.min(e,r+this.length);let{firstLine:s,perLine:a,perChar:g}=this.heightMetrics(i,r);for(let l=t,A=n;l<=e;){let e=i.doc.lineAt(l);if(l==t){let i=e.number-s;A+=a*i+g*(t-r-i)}let n=a+g*e.length;o(new Fr(e.from,e.length,A,n,0)),A+=n,l=e.to+1}}replace(t,e,i){let n=this.length-e;if(n>0){let t=i[i.length-1];t instanceof Hr?i[i.length-1]=new Hr(t.length+n):i.push(null,new Hr(n-1))}if(t>0){let e=i[0];e instanceof Hr?i[0]=new Hr(t+e.length):i.unshift(new Hr(t-1),null)}return Gr.of(i)}decomposeLeft(t,e){e.push(new Hr(t-1),null)}decomposeRight(t,e){e.push(null,new Hr(this.length-t-1))}updateHeight(t,e=0,i=!1,n){let r=e+this.length;if(n&&n.from<=e+this.length&&n.more){let i=[],o=Math.max(e,n.from),s=-1;for(n.from>e&&i.push(new Hr(n.from-e-1).updateHeight(t,e));o<=r&&n.more;){let e=t.doc.lineAt(o).length;i.length&&i.push(null);let r=n.heights[n.index++];-1==s?s=r:Math.abs(r-s)>=Vr&&(s=-2);let a=new Zr(e,r);a.outdated=!1,i.push(a),o+=e+1}o<=r&&i.push(null,new Hr(r-o).updateHeight(t,o));let a=Gr.of(i);return(s<0||Math.abs(a.height-this.height)>=Vr||Math.abs(s-this.heightMetrics(t,e).perLine)>=Vr)&&(Mr=!0),Wr(this,a)}return(i||this.outdated)&&(this.setHeight(t.heightForGap(e,e+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class Yr extends Gr{constructor(t,e,i){super(t.length+e+i.length,t.height+i.height,e|(t.outdated||i.outdated?2:0)),this.left=t,this.right=i,this.size=t.size+i.size}get break(){return 1&this.flags}blockAt(t,e,i,n){let r=i+this.left.height;return t<r?this.left.blockAt(t,e,i,n):this.right.blockAt(t,e,r,n+this.left.length+this.break)}lineAt(t,e,i,n,r){let o=n+this.left.height,s=r+this.left.length+this.break,a=e==zr.ByHeight?t<o:t<s,g=a?this.left.lineAt(t,e,i,n,r):this.right.lineAt(t,e,i,o,s);if(this.break||(a?g.to<s:g.from>s))return g;let l=e==zr.ByPosNoHeight?zr.ByPosNoHeight:zr.ByPos;return a?g.join(this.right.lineAt(s,l,i,o,s)):this.left.lineAt(s,l,i,n,r).join(g)}forEachLine(t,e,i,n,r,o){let s=n+this.left.height,a=r+this.left.length+this.break;if(this.break)t<a&&this.left.forEachLine(t,e,i,n,r,o),e>=a&&this.right.forEachLine(t,e,i,s,a,o);else{let g=this.lineAt(a,zr.ByPos,i,n,r);t<g.from&&this.left.forEachLine(t,g.from-1,i,n,r,o),g.to>=t&&g.from<=e&&o(g),e>g.to&&this.right.forEachLine(g.to+1,e,i,s,a,o)}}replace(t,e,i){let n=this.left.length+this.break;if(e<n)return this.balanced(this.left.replace(t,e,i),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-n,e-n,i));let r=[];t>0&&this.decomposeLeft(t,r);let o=r.length;for(let t of i)r.push(t);if(t>0&&Kr(r,o-1),e<this.length){let t=r.length;this.decomposeRight(e,r),Kr(r,t)}return Gr.of(r)}decomposeLeft(t,e){let i=this.left.length;if(t<=i)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(i++,t>=i&&e.push(null)),t>i&&this.right.decomposeLeft(t-i,e)}decomposeRight(t,e){let i=this.left.length,n=i+this.break;if(t>=n)return this.right.decomposeRight(t-n,e);t<i&&this.left.decomposeRight(t,e),this.break&&t<n&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?Gr.of(this.break?[t,null,e]:[t,e]):(this.left=Wr(this.left,t),this.right=Wr(this.right,e),this.setHeight(t.height+e.height),this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,i=!1,n){let{left:r,right:o}=this,s=e+r.length+this.break,a=null;return n&&n.from<=e+r.length&&n.more?a=r=r.updateHeight(t,e,i,n):r.updateHeight(t,e,i),n&&n.from<=s+o.length&&n.more?a=o=o.updateHeight(t,s,i,n):o.updateHeight(t,s,i),a?this.balanced(r,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Kr(t,e){let i,n;null==t[e]&&(i=t[e-1])instanceof Hr&&(n=t[e+1])instanceof Hr&&t.splice(e-1,3,new Hr(i.length+1+n.length))}class Xr{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let t=Math.min(e,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Zr?i.length+=t-this.pos:(t>this.pos||!this.isCovered)&&this.nodes.push(new Zr(t-this.pos,-1)),this.writtenTo=t,e>t&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,i){if(t<e||i.heightRelevant){let n=i.widget?i.widget.estimatedHeight:0,r=i.widget?i.widget.lineBreaks:0;n<0&&(n=this.oracle.lineHeight);let o=e-t;i.block?this.addBlock(new Ur(o,n,i)):(o||r||n>=5)&&this.addLineDeco(n,r,o)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Zr(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let i=new Hr(e-t);return this.oracle.doc.lineAt(t).to==e&&(i.flags|=4),i}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof Zr)return t;let e=new Zr(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine();let e=t.deco;e&&e.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,e&&e.endSide>0&&(this.covering=t)}addLineDeco(t,e,i){let n=this.ensureLine();n.length+=i,n.collapsed+=i,n.widgetHeight=Math.max(n.widgetHeight,t),n.breaks+=e,this.writtenTo=this.pos=this.pos+i}finish(t){let e=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||e instanceof Zr||this.isCovered?(this.writtenTo<this.pos||null==e)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Zr(0,-1));let i=t;for(let t of this.nodes)t instanceof Zr&&t.updateHeight(this.oracle,i),i+=t?t.length:1;return this.nodes}static build(t,e,i,n){let r=new Xr(i,t);return ne.spans(e,i,n,r,0),r.finish(i)}}class Qr{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,i,n){(t<e||i&&i.heightRelevant||n&&n.heightRelevant)&&Ni(t,e,this.changes,5)}}function qr(t,e){let i=t.getBoundingClientRect(),n=t.ownerDocument,r=n.defaultView||window,o=Math.max(0,i.left),s=Math.min(r.innerWidth,i.right),a=Math.max(0,i.top),g=Math.min(r.innerHeight,i.bottom);for(let e=t.parentNode;e&&e!=n.body;)if(1==e.nodeType){let i=e,n=window.getComputedStyle(i);if((i.scrollHeight>i.clientHeight||i.scrollWidth>i.clientWidth)&&"visible"!=n.overflow){let n=i.getBoundingClientRect();o=Math.max(o,n.left),s=Math.min(s,n.right),a=Math.max(a,n.top),g=Math.min(e==t.parentNode?r.innerHeight:g,n.bottom)}e="absolute"==n.position||"fixed"==n.position?i.offsetParent:i.parentNode}else{if(11!=e.nodeType)break;e=e.host}return{left:o-i.left,right:Math.max(o,s)-i.left,top:a-(i.top+e),bottom:Math.max(a,g)-(i.top+e)}}function Jr(t,e){let i=t.getBoundingClientRect();return{left:0,right:i.right-i.left,top:e,bottom:i.bottom-(i.top+e)}}class $r{constructor(t,e,i,n){this.from=t,this.to=e,this.size=i,this.displaySize=n}static same(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++){let n=t[i],r=e[i];if(n.from!=r.from||n.to!=r.to||n.size!=r.size)return!1}return!0}draw(t,e){return Si.replace({widget:new to(this.displaySize*(e?t.scaleY:t.scaleX),e)}).range(this.from,this.to)}}class to extends ki{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class eo{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=oo,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Fi.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(Sn).some((t=>"function"!=typeof t&&"cm-lineWrapping"==t.class));this.heightOracle=new Lr(e),this.stateDeco=t.facet(Tn).filter((t=>"function"!=typeof t)),this.heightMap=Gr.empty().applyChanges(this.stateDeco,U.empty,this.heightOracle.setDoc(t.doc),[new jn(0,0,0,t.doc.length)]);for(let t=0;t<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());t++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Si.set(this.lineGaps.map((t=>t.draw(this,!1)))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let i=0;i<=1;i++){let n=i?e.head:e.anchor;if(!t.some((({from:t,to:e})=>n>=t&&n<=e))){let{from:e,to:i}=this.lineBlockAt(n);t.push(new io(e,i))}}return this.viewports=t.sort(((t,e)=>t.from-e.from)),this.updateScaler()}updateScaler(){let t=this.scaler;return this.scaler=this.heightMap.height<=7e6?oo:new so(this.heightOracle,this.heightMap,this.viewports),t.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(t=>{this.viewportLines.push(ao(t,this.scaler))}))}update(t,e=null){this.state=t.state;let i=this.stateDeco;this.stateDeco=this.state.facet(Tn).filter((t=>"function"!=typeof t));let n=t.changedRanges,r=jn.extendWithRanges(n,function(t,e,i){let n=new Qr;return ne.compare(t,e,i,n,0),n.changes}(i,this.stateDeco,t?t.changes:rt.empty(this.state.doc.length))),o=this.heightMap.height,s=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);jr(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),r),(this.heightMap.height!=o||Mr)&&(t.flags|=2),s?(this.scrollAnchorPos=t.changes.mapPos(s.from,-1),this.scrollAnchorHeight=s.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let a=r.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<a.from||e.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,e));let g=a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,t.flags|=this.updateForViewport(),(g||!t.changes.empty||2&t.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(t.changes),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(dn)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,i=window.getComputedStyle(e),n=this.heightOracle,r=i.whiteSpace;this.defaultTextDirection="rtl"==i.direction?Fi.RTL:Fi.LTR;let o=this.heightOracle.mustRefreshForWrapping(r),s=e.getBoundingClientRect(),a=o||this.mustMeasureContent||this.contentDOMHeight!=s.height;this.contentDOMHeight=s.height,this.mustMeasureContent=!1;let g=0,l=0;if(s.width&&s.height){let{scaleX:t,scaleY:i}=je(e,s);(t>.005&&Math.abs(this.scaleX-t)>.005||i>.005&&Math.abs(this.scaleY-i)>.005)&&(this.scaleX=t,this.scaleY=i,g|=16,o=a=!0)}let A=(parseInt(i.paddingTop)||0)*this.scaleY,C=(parseInt(i.paddingBottom)||0)*this.scaleY;this.paddingTop==A&&this.paddingBottom==C||(this.paddingTop=A,this.paddingBottom=C,g|=18),this.editorWidth!=t.scrollDOM.clientWidth&&(n.lineWrapping&&(a=!0),this.editorWidth=t.scrollDOM.clientWidth,g|=16);let I=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=I&&(this.scrollAnchorHeight=-1,this.scrollTop=I),this.scrolledToBottom=Ue(t.scrollDOM);let h=(this.printing?Jr:qr)(e,this.paddingTop),c=h.top-this.pixelViewport.top,d=h.bottom-this.pixelViewport.bottom;this.pixelViewport=h;let u=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(u!=this.inView&&(this.inView=u,u&&(a=!0)),!this.inView&&!this.scrollTarget&&!function(t){let e=t.getBoundingClientRect(),i=t.ownerDocument.defaultView||window;return e.left<i.innerWidth&&e.right>0&&e.top<i.innerHeight&&e.bottom>0}(t.dom))return 0;let f=s.width;if(this.contentDOMWidth==f&&this.editorHeight==t.scrollDOM.clientHeight||(this.contentDOMWidth=s.width,this.editorHeight=t.scrollDOM.clientHeight,g|=16),a){let e=t.docView.measureVisibleLineHeights(this.viewport);if(n.mustRefreshForHeights(e)&&(o=!0),o||n.lineWrapping&&Math.abs(f-this.contentDOMWidth)>n.charWidth){let{lineHeight:i,charWidth:s,textHeight:a}=t.docView.measureTextSize();o=i>0&&n.refresh(r,i,s,a,f/s,e),o&&(t.docView.minWidth=0,g|=16)}c>0&&d>0?l=Math.max(c,d):c<0&&d<0&&(l=Math.min(c,d)),jr();for(let i of this.viewports){let r=i.from==this.viewport.from?e:t.docView.measureVisibleLineHeights(i);this.heightMap=(o?Gr.empty().applyChanges(this.stateDeco,U.empty,this.heightOracle,[new jn(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(n,0,o,new Br(i.from,r))}Mr&&(g|=2)}let p=!this.viewportIsAppropriate(this.viewport,l)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return p&&(2&g&&(g|=this.updateScaler()),this.viewport=this.getViewport(l,this.scrollTarget),g|=this.updateForViewport()),(2&g||p)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,t)),g|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),g}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let i=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),n=this.heightMap,r=this.heightOracle,{visibleTop:o,visibleBottom:s}=this,a=new io(n.lineAt(o-1e3*i,zr.ByHeight,r,0,0).from,n.lineAt(s+1e3*(1-i),zr.ByHeight,r,0,0).to);if(e){let{head:t}=e.range;if(t<a.from||t>a.to){let i,o=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),s=n.lineAt(t,zr.ByPos,r,0,0);i="center"==e.y?(s.top+s.bottom)/2-o/2:"start"==e.y||"nearest"==e.y&&t<a.from?s.top:s.bottom-o,a=new io(n.lineAt(i-500,zr.ByHeight,r,0,0).from,n.lineAt(i+o+500,zr.ByHeight,r,0,0).to)}}return a}mapViewport(t,e){let i=e.mapPos(t.from,-1),n=e.mapPos(t.to,1);return new io(this.heightMap.lineAt(i,zr.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(n,zr.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:e},i=0){if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(t,zr.ByPos,this.heightOracle,0,0),{bottom:r}=this.heightMap.lineAt(e,zr.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:s}=this;return(0==t||n<=o-Math.max(10,Math.min(-i,250)))&&(e==this.state.doc.length||r>=s+Math.max(10,Math.min(i,250)))&&n>o-2e3&&r<s+2e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let i=[];for(let n of t)e.touchesRange(n.from,n.to)||i.push(new $r(e.mapPos(n.from),e.mapPos(n.to),n.size,n.displaySize));return i}ensureLineGaps(t,e){let i=this.heightOracle.lineWrapping,n=i?1e4:2e3,r=n>>1,o=n<<1;if(this.defaultTextDirection!=Fi.LTR&&!i)return[];let s=[],a=(n,o,g,l)=>{if(o-n<r)return;let A=this.state.selection.main,C=[A.from];A.empty||C.push(A.to);for(let t of C)if(t>n&&t<o)return a(n,t-10,g,l),void a(t+10,o,g,l);let I=function(t,e){for(let i of t)if(e(i))return i}(t,(t=>t.from>=g.from&&t.to<=g.to&&Math.abs(t.from-n)<r&&Math.abs(t.to-o)<r&&!C.some((e=>t.from<e&&t.to>e))));if(!I){if(o<g.to&&e&&i&&e.visibleRanges.some((t=>t.from<=o&&t.to>=o))){let t=e.moveToLineBoundary(It.cursor(o),!1,!0).head;t>n&&(o=t)}let t=this.gapSize(g,n,o,l);I=new $r(n,o,t,i||t<2e6?t:2e6)}s.push(I)},g=e=>{if(e.length<o||e.type!=Ei.Text)return;let r=function(t,e,i){let n=[],r=t,o=0;return ne.spans(i,t,e,{span(){},point(t,e){t>r&&(n.push({from:r,to:t}),o+=t-r),r=e}},20),r<e&&(n.push({from:r,to:e}),o+=e-r),{total:o,ranges:n}}(e.from,e.to,this.stateDeco);if(r.total<o)return;let s,g,l=this.scrollTarget?this.scrollTarget.range.head:null;if(i){let t,i,o=n/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=l){let n=ro(r,l),s=((this.visibleBottom-this.visibleTop)/2+o)/e.height;t=n-s,i=n+s}else t=(this.visibleTop-e.top-o)/e.height,i=(this.visibleBottom-e.top+o)/e.height;s=no(r,t),g=no(r,i)}else{let i=r.total*this.heightOracle.charWidth,o=n*this.heightOracle.charWidth,a=0;if(i>2e6)for(let i of t)i.from>=e.from&&i.from<e.to&&i.size!=i.displaySize&&i.from*this.heightOracle.charWidth+a<this.pixelViewport.left&&(a=i.size-i.displaySize);let A,C,I=this.pixelViewport.left+a,h=this.pixelViewport.right+a;if(null!=l){let t=ro(r,l),e=((h-I)/2+o)/i;A=t-e,C=t+e}else A=(I-o)/i,C=(h+o)/i;s=no(r,A),g=no(r,C)}s>e.from&&a(e.from,s,e,r),g<e.to&&a(g,e.to,e,r)};for(let t of this.viewportLines)Array.isArray(t.type)?t.type.forEach(g):g(t);return s}gapSize(t,e,i,n){let r=ro(n,i)-ro(n,e);return this.heightOracle.lineWrapping?t.height*r:n.total*this.heightOracle.charWidth*r}updateLineGaps(t){$r.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=Si.set(t.map((t=>t.draw(this,this.heightOracle.lineWrapping)))))}computeVisibleRanges(t){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let i=[];ne.spans(e,this.viewport.from,this.viewport.to,{span(t,e){i.push({from:t,to:e})},point(){}},20);let n=0;if(i.length!=this.visibleRanges.length)n=12;else for(let e=0;e<i.length&&!(8&n);e++){let r=this.visibleRanges[e],o=i[e];r.from==o.from&&r.to==o.to||(n|=4,t&&t.mapPos(r.from,-1)==o.from&&t.mapPos(r.to,1)==o.to||(n|=8))}return this.visibleRanges=i,n}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find((e=>e.from<=t&&e.to>=t))||ao(this.heightMap.lineAt(t,zr.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return t>=this.viewportLines[0].top&&t<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find((e=>e.top<=t&&e.bottom>=t))||ao(this.heightMap.lineAt(this.scaler.fromDOM(t),zr.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let e=this.lineBlockAtHeight(t+8);return e.from>=this.viewport.from||this.viewportLines[0].top-t>200?e:this.viewportLines[0]}elementAtHeight(t){return ao(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class io{constructor(t,e){this.from=t,this.to=e}}function no({total:t,ranges:e},i){if(i<=0)return e[0].from;if(i>=1)return e[e.length-1].to;let n=Math.floor(t*i);for(let t=0;;t++){let{from:i,to:r}=e[t],o=r-i;if(n<=o)return i+n;n-=o}}function ro(t,e){let i=0;for(let{from:n,to:r}of t.ranges){if(e<=r){i+=e-n;break}i+=r-n}return i/t.total}const oo={toDOM:t=>t,fromDOM:t=>t,scale:1,eq(t){return t==this}};class so{constructor(t,e,i){let n=0,r=0,o=0;this.viewports=i.map((({from:i,to:r})=>{let o=e.lineAt(i,zr.ByPos,t,0,0).top,s=e.lineAt(r,zr.ByPos,t,0,0).bottom;return n+=s-o,{from:i,to:r,top:o,bottom:s,domTop:0,domBottom:0}})),this.scale=(7e6-n)/(e.height-n);for(let t of this.viewports)t.domTop=o+(t.top-r)*this.scale,o=t.domBottom=t.domTop+(t.bottom-t.top),r=t.bottom}toDOM(t){for(let e=0,i=0,n=0;;e++){let r=e<this.viewports.length?this.viewports[e]:null;if(!r||t<r.top)return n+(t-i)*this.scale;if(t<=r.bottom)return r.domTop+(t-r.top);i=r.bottom,n=r.domBottom}}fromDOM(t){for(let e=0,i=0,n=0;;e++){let r=e<this.viewports.length?this.viewports[e]:null;if(!r||t<r.domTop)return i+(t-n)/this.scale;if(t<=r.domBottom)return r.top+(t-r.domTop);i=r.bottom,n=r.domBottom}}eq(t){return t instanceof so&&this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every(((e,i)=>e.from==t.viewports[i].from&&e.to==t.viewports[i].to))}}function ao(t,e){if(1==e.scale)return t;let i=e.toDOM(t.top),n=e.toDOM(t.bottom);return new Fr(t.from,t.length,i,n-i,Array.isArray(t._content)?t._content.map((t=>ao(t,e))):t._content)}const go=dt.define({combine:t=>t.join(" ")}),lo=dt.define({combine:t=>t.indexOf(!0)>-1}),Ao=pe.newName(),Co=pe.newName(),Io=pe.newName(),ho={"&light":"."+Co,"&dark":"."+Io};function co(t,e,i){return new pe(e,{finish:e=>/&/.test(e)?e.replace(/&\w*/,(e=>{if("&"==e)return t;if(!i||!i[e])throw new RangeError(`Unsupported selector: ${e}`);return i[e]})):t+" "+e})}const uo=co("."+Ao,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},ho),fo={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},po=Ci.ie&&Ci.ie_version<=11;class vo{constructor(t){this.view=t,this.active=!1,this.editContext=null,this.selectionRange=new Le,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver((e=>{for(let t of e)this.queue.push(t);(Ci.ie&&Ci.ie_version<=11||Ci.ios&&t.composing)&&e.some((t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length))?this.flushSoon():this.flush()})),!window.EditContext||!1===t.constructor.EDIT_CONTEXT||Ci.chrome&&Ci.chrome_version<126||(this.editContext=new bo(t),t.state.facet(yn)&&(t.contentDOM.editContext=this.editContext.editContext)),po&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((()=>{var t;(null===(t=this.view.docView)||void 0===t?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()})),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(t){("change"!=t.type&&t.type||t.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some(((e,i)=>e!=t[i])))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,n=this.selectionRange;if(i.state.facet(yn)?i.root.activeElement!=this.dom:!Se(this.dom,n))return;let r=n.anchorNode&&i.docView.nearest(n.anchorNode);r&&r.ignoreEvent(t)?e||(this.selectionChanged=!1):(Ci.ie&&Ci.ie_version<=11||Ci.android&&Ci.chrome)&&!i.state.selection.main.empty&&n.focusNode&&Oe(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=ke(t.root);if(!e)return!1;let i=Ci.safari&&11==t.root.nodeType&&t.root.activeElement==this.dom&&function(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return yo(t,i)}let i=null;function n(t){t.preventDefault(),t.stopImmediatePropagation(),i=t.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),i?yo(t,i):null}(this.view,e)||e;if(!i||this.selectionRange.eq(i))return!1;let n=Se(this.dom,i);return n&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&function(t,e){let i=e.focusNode,n=e.focusOffset;if(!i||e.anchorNode!=i||e.anchorOffset!=n)return!1;for(n=Math.min(n,De(i));;)if(n){if(1!=i.nodeType)return!1;let t=i.childNodes[n-1];"false"==t.contentEditable?n--:(i=t,n=De(i))}else{if(i==t)return!0;n=_e(i),i=i.parentNode}}(this.dom,i)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(i),n&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let i=this.dom;i;)if(1==i.nodeType)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==i?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(i),i=i.assignedSlot||i.parentNode;else{if(11!=i.nodeType)break;i=i.host}if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);for(let t of this.scrollTargets=e)t.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,fo),po&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),po&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var i;if(!this.delayedAndroidKey){let t=()=>{let t=this.delayedAndroidKey;t&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=t.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&t.force&&Ge(this.dom,t.key,t.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(t)}this.delayedAndroidKey&&"Enter"!=t||(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!!(null===(i=this.delayedAndroidKey)||void 0===i?void 0:i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((()=>{this.delayedFlush=-1,this.flush()})))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,i=-1,n=!1;for(let r of t){let t=this.readMutation(r);t&&(t.typeOver&&(n=!0),-1==e?({from:e,to:i}=t):(e=Math.min(t.from,e),i=Math.max(t.to,i)))}return{from:e,to:i,typeOver:n}}readChange(){let{from:t,to:e,typeOver:i}=this.processRecords(),n=this.selectionChanged&&Se(this.dom,this.selectionRange);if(t<0&&!n)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let r=new nr(this.view,t,e,i);return this.view.docView.domChanged={newSel:r.newSel?r.newSel.main:null},r}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return this.view.requestMeasure(),!1;let i=this.view.state,n=rr(this.view,e);return this.view.state==i&&(e.domChanged||e.newSel&&!e.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),n}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty("attributes"==t.type),"attributes"==t.type&&(e.flags|=4),"childList"==t.type){let i=mo(e,t.previousSibling||t.target.previousSibling,-1),n=mo(e,t.nextSibling||t.target.nextSibling,1);return{from:i?e.posAfter(i):e.posAtStart,to:n?e.posBefore(n):e.posAtEnd,typeOver:!1}}return"characterData"==t.type?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}update(t){this.editContext&&(this.editContext.update(t),t.startState.facet(yn)!=t.state.facet(yn)&&(t.view.contentDOM.editContext=t.state.facet(yn)?this.editContext.editContext:null))}destroy(){var t,e,i;this.stop(),null===(t=this.intersection)||void 0===t||t.disconnect(),null===(e=this.gapIntersection)||void 0===e||e.disconnect(),null===(i=this.resizeScroll)||void 0===i||i.disconnect();for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function mo(t,e,i){for(;e;){let n=Xe.get(e);if(n&&n.parent==t)return n;let r=e.parentNode;e=r!=t.dom?r:i>0?e.nextSibling:e.previousSibling}return null}function yo(t,e){let i=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset,s=t.docView.domAtPos(t.state.selection.main.anchor);return Oe(s.node,s.offset,r,o)&&([i,n,r,o]=[r,o,i,n]),{anchorNode:i,anchorOffset:n,focusNode:r,focusOffset:o}}class bo{constructor(t){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(t.state);let e=this.editContext=new window.EditContext({text:t.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,t.state.selection.main.anchor))),selectionEnd:this.toContextPos(t.state.selection.main.head)});this.handlers.textupdate=e=>{let i=t.state.selection.main,{anchor:n,head:r}=i,o=this.toEditorPos(e.updateRangeStart),s=this.toEditorPos(e.updateRangeEnd);t.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:e.updateRangeStart,editorBase:o,drifted:!1});let a={from:o,to:s,insert:U.of(e.text.split("\n"))};if(a.from==this.from&&n<this.from?a.from=n:a.to==this.to&&n>this.to&&(a.to=n),a.from!=a.to||a.insert.length){if((Ci.mac||Ci.android)&&a.from==r-1&&/^\. ?$/.test(e.text)&&"off"==t.contentDOM.getAttribute("autocorrect")&&(a={from:o,to:s,insert:U.of([e.text.replace("."," ")])}),this.pendingContextChange=a,!t.state.readOnly){let i=this.to-this.from+(a.to-a.from+a.insert.length);or(t,a,It.single(this.toEditorPos(e.selectionStart,i),this.toEditorPos(e.selectionEnd,i)))}this.pendingContextChange&&(this.revertPending(t.state),this.setSelection(t.state))}else{let n=It.single(this.toEditorPos(e.selectionStart),this.toEditorPos(e.selectionEnd));n.main.eq(i)||t.dispatch({selection:n,userEvent:"select"})}},this.handlers.characterboundsupdate=i=>{let n=[],r=null;for(let e=this.toEditorPos(i.rangeStart),o=this.toEditorPos(i.rangeEnd);e<o;e++){let i=t.coordsForChar(e);r=i&&new DOMRect(i.left,i.top,i.right-i.left,i.bottom-i.top)||r||new DOMRect,n.push(r)}e.updateCharacterBounds(i.rangeStart,n)},this.handlers.textformatupdate=e=>{let i=[];for(let t of e.getTextFormats()){let e=t.underlineStyle,n=t.underlineThickness;if("None"!=e&&"None"!=n){let r=this.toEditorPos(t.rangeStart),o=this.toEditorPos(t.rangeEnd);if(r<o){let t=`text-decoration: underline ${"Dashed"==e?"dashed ":"Squiggle"==e?"wavy ":""}${"Thin"==n?1:2}px`;i.push(Si.mark({attributes:{style:t}}).range(r,o))}}}t.dispatch({effects:vn.of(Si.set(i))})},this.handlers.compositionstart=()=>{t.inputState.composing<0&&(t.inputState.composing=0,t.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(t.inputState.composing=-1,t.inputState.compositionFirstChange=null,this.composing){let{drifted:e}=this.composing;this.composing=null,e&&this.reset(t.state)}};for(let t in this.handlers)e.addEventListener(t,this.handlers[t]);this.measureReq={read:t=>{this.editContext.updateControlBounds(t.contentDOM.getBoundingClientRect());let e=ke(t.root);e&&e.rangeCount&&this.editContext.updateSelectionBounds(e.getRangeAt(0).getBoundingClientRect())}}}applyEdits(t){let e=0,i=!1,n=this.pendingContextChange;return t.changes.iterChanges(((r,o,s,a,g)=>{if(i)return;let l=g.length-(o-r);if(n&&o>=n.to){if(n.from==r&&n.to==o&&n.insert.eq(g))return n=this.pendingContextChange=null,e+=l,void(this.to+=l);n=null,this.revertPending(t.state)}if(r+=e,(o+=e)<=this.from)this.from+=l,this.to+=l;else if(r<this.to){if(r<this.from||o>this.to||this.to-this.from+g.length>3e4)return void(i=!0);this.editContext.updateText(this.toContextPos(r),this.toContextPos(o),g.toString()),this.to+=l}e+=l})),n&&!i&&this.revertPending(t.state),!i}update(t){let e=this.pendingContextChange,i=t.startState.selection.main;this.composing&&(this.composing.drifted||!t.changes.touchesRange(i.from,i.to)&&t.transactions.some((t=>!t.isUserEvent("input.type")&&t.changes.touchesRange(this.from,this.to))))?(this.composing.drifted=!0,this.composing.editorBase=t.changes.mapPos(this.composing.editorBase)):this.applyEdits(t)&&this.rangeIsValid(t.state)?(t.docChanged||t.selectionSet||e)&&this.setSelection(t.state):(this.pendingContextChange=null,this.reset(t.state)),(t.geometryChanged||t.docChanged||t.selectionSet)&&t.view.requestMeasure(this.measureReq)}resetRange(t){let{head:e}=t.selection.main;this.from=Math.max(0,e-1e4),this.to=Math.min(t.doc.length,e+1e4)}reset(t){this.resetRange(t),this.editContext.updateText(0,this.editContext.text.length,t.doc.sliceString(this.from,this.to)),this.setSelection(t)}revertPending(t){let e=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(e.from),this.toContextPos(e.from+e.insert.length),t.doc.sliceString(e.from,e.to))}setSelection(t){let{main:e}=t.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,e.anchor))),n=this.toContextPos(e.head);this.editContext.selectionStart==i&&this.editContext.selectionEnd==n||this.editContext.updateSelection(i,n)}rangeIsValid(t){let{head:e}=t.selection.main;return!(this.from>0&&e-this.from<500||this.to<t.doc.length&&this.to-e<500||this.to-this.from>3e4)}toEditorPos(t,e=this.to-this.from){t=Math.min(t,e);let i=this.composing;return i&&i.drifted?i.editorBase+(t-i.contextBase):t+this.from}toContextPos(t){let e=this.composing;return e&&e.drifted?e.contextBase+(t-e.editorBase):t-this.from}destroy(){for(let t in this.handlers)this.editContext.removeEventListener(t,this.handlers[t])}}class wo{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(t={}){var e;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),t.parent&&t.parent.appendChild(this.dom);let{dispatch:i}=t;this.dispatchTransactions=t.dispatchTransactions||i&&(t=>t.forEach((t=>i(t,this))))||(t=>this.update(t)),this.dispatch=this.dispatch.bind(this),this._root=t.root||function(t){for(;t;){if(t&&(9==t.nodeType||11==t.nodeType&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}(t.parent)||document,this.viewState=new eo(t.state||Jt.create(t)),t.scrollTo&&t.scrollTo.is(pn)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(wn).map((t=>new kn(t)));for(let t of this.plugins)t.update(this);this.observer=new vo(this),this.inputState=new sr(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Bn(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),(null===(e=document.fonts)||void 0===e?void 0:e.ready)&&document.fonts.ready.then((()=>this.requestMeasure()))}dispatch(...t){let e=1==t.length&&t[0]instanceof Gt?t:1==t.length&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(e,this)}update(t){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e,i=!1,n=!1,r=this.state;for(let e of t){if(e.startState!=r)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");r=e.state}if(this.destroyed)return void(this.viewState.state=r);let o=this.hasFocus,s=0,a=null;t.some((t=>t.annotation(_r)))?(this.inputState.notifiedFocused=o,s=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,a=Rr(r,o),a||(s=1));let g=this.observer.delayedAndroidKey,l=null;if(g?(this.observer.clearDelayedAndroidKey(),l=this.observer.readChange(),(l&&!this.state.doc.eq(r.doc)||!this.state.selection.eq(r.selection))&&(l=null)):this.observer.clear(),r.facet(Jt.phrases)!=this.state.facet(Jt.phrases))return this.setState(r);e=Ln.create(this,r,t),e.flags|=s;let A=this.viewState.scrollTarget;try{this.updateState=2;for(let e of t){if(A&&(A=A.map(e.changes)),e.scrollIntoView){let{main:t}=e.state.selection;A=new fn(t.empty?t:It.cursor(t.head,t.head>t.anchor?-1:1))}for(let t of e.effects)t.is(pn)&&(A=t.value.clip(this.state))}this.viewState.update(e,A),this.bidiCache=Eo.update(this.bidiCache,e.changes),e.empty||(this.updatePlugins(e),this.inputState.update(e)),i=this.docView.update(e),this.state.facet(Mn)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(i,t.some((t=>t.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(e.startState.facet(go)!=e.state.facet(go)&&(this.viewState.mustMeasureContent=!0),(i||n||A||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),i&&this.docViewUpdate(),!e.empty)for(let t of this.state.facet(ln))try{t(e)}catch(t){mn(this.state,t,"update listener")}(a||l)&&Promise.resolve().then((()=>{a&&this.state==a.startState&&this.dispatch(a),l&&!rr(this,l)&&g.force&&Ge(this.contentDOM,g.key,g.keyCode)}))}setState(t){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=t);this.updateState=2;let e=this.hasFocus;try{for(let t of this.plugins)t.destroy(this);this.viewState=new eo(t),this.plugins=t.facet(wn).map((t=>new kn(t))),this.pluginMap.clear();for(let t of this.plugins)t.update(this);this.docView.destroy(),this.docView=new Bn(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(wn),i=t.state.facet(wn);if(e!=i){let n=[];for(let r of i){let i=e.indexOf(r);if(i<0)n.push(new kn(r));else{let e=this.plugins[i];e.mustUpdate=t,n.push(e)}}for(let e of this.plugins)e.mustUpdate!=t&&e.destroy(this);this.plugins=n,this.pluginMap.clear()}else for(let e of this.plugins)e.mustUpdate=t;for(let t=0;t<this.plugins.length;t++)this.plugins[t].update(this);e!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let t of this.plugins){let e=t.value;if(e&&e.docViewUpdate)try{e.docViewUpdate(this)}catch(t){mn(this.state,t,"doc view update listener")}}}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,i=this.scrollDOM,n=i.scrollTop*this.scaleY,{scrollAnchorPos:r,scrollAnchorHeight:o}=this.viewState;Math.abs(n-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let t=0;;t++){if(o<0)if(Ue(i))r=-1,o=this.viewState.heightMap.height;else{let t=this.viewState.scrollAnchorAt(n);r=t.from,o=t.top}this.updateState=1;let s=this.viewState.measure(this);if(!s&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(t>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let a=[];4&s||([this.measureRequests,a]=[a,this.measureRequests]);let g=a.map((t=>{try{return t.read(this)}catch(t){return mn(this.state,t),ko}})),l=Ln.create(this,this.state,[]),A=!1;l.flags|=s,e?e.flags|=s:e=l,this.updateState=2,l.empty||(this.updatePlugins(l),this.inputState.update(l),this.updateAttrs(),A=this.docView.update(l),A&&this.docViewUpdate());for(let t=0;t<a.length;t++)if(g[t]!=ko)try{let e=a[t];e.write&&e.write(g[t],this)}catch(t){mn(this.state,t)}if(A&&this.docView.updateSelection(!0),!l.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}{let t=(r<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(r).top)-o;if(t>1||t<-1){n+=t,i.scrollTop=n/this.scaleY,o=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let t of this.state.facet(ln))t(e)}get themeClasses(){return Ao+" "+(this.state.facet(lo)?Io:Co)+" "+this.state.facet(go)}updateAttrs(){let t=So(this,En,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(yn)?"true":"false",class:"cm-content",style:`${Ci.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),So(this,Sn,e);let i=this.observer.ignore((()=>{let i=wi(this.contentDOM,this.contentAttrs,e),n=wi(this.dom,this.editorAttrs,t);return i||n}));return this.editorAttrs=t,this.contentAttrs=e,i}showAnnouncements(t){let e=!0;for(let i of t)for(let t of i.effects)t.is(wo.announce)&&(e&&(this.announceDOM.textContent=""),e=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=t.value)}mountStyles(){this.styleModules=this.state.facet(Mn);let t=this.state.facet(wo.cspNonce);pe.mount(this.root,this.styleModules.concat(uo).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((()=>this.measure()))),t){if(this.measureRequests.indexOf(t)>-1)return;if(null!=t.key)for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key)return void(this.measureRequests[e]=t);this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(void 0===e||e&&e.spec!=t)&&this.pluginMap.set(t,e=this.plugins.find((e=>e.spec==t))||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,i){return Jn(this,t,Qn(this,t,e,i))}moveByGroup(t,e){return Jn(this,t,Qn(this,t,e,(e=>function(t,e,i){let n=t.state.charCategorizer(e),r=n(i);return t=>{let e=n(t);return r==Xt.Space&&(r=e),r==e}}(this,t.head,e))))}visualLineSide(t,e){let i=this.bidiSpans(t),n=this.textDirectionAt(t.from),r=i[e?i.length-1:0];return It.cursor(r.side(e,n)+t.from,r.forward(!e,n)?1:-1)}moveToLineBoundary(t,e,i=!0){return function(t,e,i,n){let r=function(t,e){let i=t.lineBlockAt(e);if(Array.isArray(i.type))for(let t of i.type)if(t.to>e||t.to==e&&(t.to==i.to||t.type==Ei.Text))return t;return i}(t,e.head),o=n&&r.type==Ei.Text&&(t.lineWrapping||r.widgetLineBreaks)?t.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head):null;if(o){let e=t.dom.getBoundingClientRect(),n=t.textDirectionAt(r.from),s=t.posAtCoords({x:i==(n==Fi.LTR)?e.right-1:e.left+1,y:(o.top+o.bottom)/2});if(null!=s)return It.cursor(s,i?-1:1)}return It.cursor(i?r.to:r.from,i?-1:1)}(this,t,e,i)}moveVertically(t,e,i){return Jn(this,t,function(t,e,i,n){let r=e.head,o=i?1:-1;if(r==(i?t.state.doc.length:0))return It.cursor(r,e.assoc);let s,a=e.goalColumn,g=t.contentDOM.getBoundingClientRect(),l=t.coordsAtPos(r,e.assoc||-1),A=t.documentTop;if(l)null==a&&(a=l.left-g.left),s=o<0?l.top:l.bottom;else{let e=t.viewState.lineBlockAt(r);null==a&&(a=Math.min(g.right-g.left,t.defaultCharacterWidth*(r-e.from))),s=(o<0?e.top:e.bottom)+A}let C=g.left+a,I=null!=n?n:t.viewState.heightOracle.textHeight>>1;for(let e=0;;e+=10){let i=s+(I+e)*o,n=Kn(t,{x:C,y:i},!1,o);if(i<g.top||i>g.bottom||(o<0?n<r:n>r)){let e=t.docView.coordsForChar(n),r=!e||i<e.top?-1:1;return It.cursor(n,r,void 0,a)}}}(this,t,e,i))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),Kn(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let i=this.docView.coordsAt(t,e);if(!i||i.left==i.right)return i;let n=this.state.doc.lineAt(t),r=this.bidiSpans(n);return Pe(i,r[Xi.find(r,t-n.from,-1,e)].dir==Fi.LTR==e>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(cn)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>xo)return tn(t.length);let e,i=this.textDirectionAt(t.from);for(let n of this.bidiCache)if(n.from==t.from&&n.dir==i&&(n.fresh||Qi(n.isolates,e=Nn(this,t))))return n.order;e||(e=Nn(this,t));let n=function(t,e,i){if(!t)return[new Xi(0,0,e==Vi?1:0)];if(e==zi&&!i.length&&!Ki.test(t))return tn(t.length);if(i.length)for(;t.length>qi.length;)qi[qi.length]=256;let n=[],r=e==zi?0:1;return $i(t,r,r,i,0,t.length,n),n}(t.text,i,e);return this.bidiCache.push(new Eo(t.from,t.to,i,e,!0,n)),n}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||Ci.safari&&(null===(t=this.inputState)||void 0===t?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{ze(this.contentDOM),this.docView.updateSelection()}))}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((9==t.nodeType?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return pn.of(new fn("number"==typeof t?It.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:e}=this.scrollDOM,i=this.viewState.scrollAnchorAt(t);return pn.of(new fn(It.cursor(i.from),"start","start",i.top-t,e,!0))}setTabFocusMode(t){null==t?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:"boolean"==typeof t?this.inputState.tabFocusMode=t?0:-1:0!=this.inputState.tabFocusMode&&(this.inputState.tabFocusMode=Date.now()+t)}static domEventHandlers(t){return xn.define((()=>({})),{eventHandlers:t})}static domEventObservers(t){return xn.define((()=>({})),{eventObservers:t})}static theme(t,e){let i=pe.newName(),n=[go.of(i),Mn.of(co(`.${i}`,t))];return e&&e.dark&&n.push(lo.of(!0)),n}static baseTheme(t){return xt.lowest(Mn.of(co("."+Ao,t,ho)))}static findFromDOM(t){var e;let i=t.querySelector(".cm-content"),n=i&&Xe.get(i)||Xe.get(t);return(null===(e=null==n?void 0:n.rootView)||void 0===e?void 0:e.view)||null}}wo.styleModule=Mn,wo.inputHandler=An,wo.clipboardInputFilter=In,wo.clipboardOutputFilter=hn,wo.scrollHandler=un,wo.focusChangeEffect=Cn,wo.perLineTextDirection=cn,wo.exceptionSink=gn,wo.updateListener=ln,wo.editable=yn,wo.mouseSelectionStyle=an,wo.dragMovesSelection=sn,wo.clickAddsSelectionRange=on,wo.decorations=Tn,wo.outerDecorations=On,wo.atomicRanges=_n,wo.bidiIsolatedRanges=Rn,wo.scrollMargins=Dn,wo.darkTheme=lo,wo.cspNonce=dt.define({combine:t=>t.length?t[0]:""}),wo.contentAttributes=Sn,wo.editorAttributes=En,wo.lineWrapping=wo.contentAttributes.of({class:"cm-lineWrapping"}),wo.announce=Vt.define();const xo=4096,ko={};class Eo{constructor(t,e,i,n,r,o){this.from=t,this.to=e,this.dir=i,this.isolates=n,this.fresh=r,this.order=o}static update(t,e){if(e.empty&&!t.some((t=>t.fresh)))return t;let i=[],n=t.length?t[t.length-1].dir:Fi.LTR;for(let r=Math.max(0,t.length-10);r<t.length;r++){let o=t[r];o.dir!=n||e.touchesRange(o.from,o.to)||i.push(new Eo(e.mapPos(o.from,1),e.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return i}}function So(t,e,i){for(let n=t.state.facet(e),r=n.length-1;r>=0;r--){let e=n[r],o="function"==typeof e?e(t):e;o&&mi(o,i)}return i}const To=Si.line({class:"cm-activeLine"}),Oo=xn.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,i=[];for(let n of t.state.selection.ranges){let r=t.lineBlockAt(n.head);r.from>e&&(i.push(To.range(r.from)),e=r.from)}return Si.set(i)}},{decorations:t=>t.decorations});class _o extends $t{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}_o.prototype.elementClass="",_o.prototype.toDOM=void 0,_o.prototype.mapMode=it.TrackBefore,_o.prototype.startSide=_o.prototype.endSide=-1,_o.prototype.point=!0;const Ro=dt.define(),No=dt.define(),Do={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>ne.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Po=dt.define(),Mo=dt.define({combine:t=>t.some((t=>t))});function jo(t){let e=[Lo];return t&&!1===t.fixed&&e.push(Mo.of(!0)),e}const Lo=xn.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Po).map((e=>new Vo(t,e)));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!t.state.facet(Mo),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,i=t.view.viewport,n=Math.min(e.to,i.to)-Math.max(e.from,i.from);this.syncGutters(n<.8*(i.to-i.from))}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(Mo)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let i=ne.iter(this.view.state.facet(Ro),this.view.viewport.from),n=[],r=this.gutters.map((t=>new zo(t,this.view.viewport,-this.view.documentPadding.top)));for(let t of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(t.type)){let e=!0;for(let o of t.type)if(o.type==Ei.Text&&e){Fo(i,n,o.from);for(let t of r)t.line(this.view,o,n);e=!1}else if(o.widget)for(let t of r)t.widget(this.view,o)}else if(t.type==Ei.Text){Fo(i,n,t.from);for(let e of r)e.line(this.view,t,n)}else if(t.widget)for(let e of r)e.widget(this.view,t);for(let t of r)t.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Po),i=t.state.facet(Po),n=t.docChanged||t.heightChanged||t.viewportChanged||!ne.eq(t.startState.facet(Ro),t.state.facet(Ro),t.view.viewport.from,t.view.viewport.to);if(e==i)for(let e of this.gutters)e.update(t)&&(n=!0);else{n=!0;let r=[];for(let n of i){let i=e.indexOf(n);i<0?r.push(new Vo(this.view,n)):(this.gutters[i].update(t),r.push(this.gutters[i]))}for(let t of this.gutters)t.dom.remove(),r.indexOf(t)<0&&t.destroy();for(let t of r)this.dom.appendChild(t.dom);this.gutters=r}return n}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>wo.scrollMargins.of((e=>{let i=e.plugin(t);return i&&0!=i.gutters.length&&i.fixed?e.textDirection==Fi.LTR?{left:i.dom.offsetWidth*e.scaleX}:{right:i.dom.offsetWidth*e.scaleX}:null}))});function Bo(t){return Array.isArray(t)?t:[t]}function Fo(t,e,i){for(;t.value&&t.from<=i;)t.from==i&&e.push(t.value),t.next()}class zo{constructor(t,e,i){this.gutter=t,this.height=i,this.i=0,this.cursor=ne.iter(t.markers,e.from)}addElement(t,e,i){let{gutter:n}=this,r=(e.top-this.height)/t.scaleY,o=e.height/t.scaleY;if(this.i==n.elements.length){let e=new Go(t,o,r,i);n.elements.push(e),n.dom.appendChild(e.dom)}else n.elements[this.i].update(t,o,r,i);this.height=e.bottom,this.i++}line(t,e,i){let n=[];Fo(this.cursor,n,e.from),i.length&&(n=n.concat(i));let r=this.gutter.config.lineMarker(t,e,n);r&&n.unshift(r);let o=this.gutter;(0!=n.length||o.config.renderEmptyElements)&&this.addElement(t,e,n)}widget(t,e){let i=this.gutter.config.widgetMarker(t,e.widget,e),n=i?[i]:null;for(let i of t.state.facet(No)){let r=i(t,e.widget,e);r&&(n||(n=[])).push(r)}n&&this.addElement(t,e,n)}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}}class Vo{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in e.domEventHandlers)this.dom.addEventListener(i,(n=>{let r,o=n.target;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let t=o.getBoundingClientRect();r=(t.top+t.bottom)/2}else r=n.clientY;let s=t.lineBlockAtHeight(r-t.documentTop);e.domEventHandlers[i](t,s,n)&&n.preventDefault()}));this.markers=Bo(e.markers(t)),e.initialSpacer&&(this.spacer=new Go(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=Bo(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let e=this.config.updateSpacer(this.spacer.markers[0],t);e!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[e])}let i=t.view.viewport;return!ne.eq(this.markers,e,i.from,i.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(t)}destroy(){for(let t of this.elements)t.destroy()}}class Go{constructor(t,e,i,n){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,i,n)}update(t,e,i,n){this.height!=e&&(this.height=e,this.dom.style.height=e+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),function(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!t[i].compare(e[i]))return!1;return!0}(this.markers,n)||this.setMarkers(t,n)}setMarkers(t,e){let i="cm-gutterElement",n=this.dom.firstChild;for(let r=0,o=0;;){let s=o,a=r<e.length?e[r++]:null,g=!1;if(a){let t=a.elementClass;t&&(i+=" "+t);for(let t=o;t<this.markers.length;t++)if(this.markers[t].compare(a)){s=t,g=!0;break}}else s=this.markers.length;for(;o<s;){let t=this.markers[o++];if(t.toDOM){t.destroy(n);let e=n.nextSibling;n.remove(),n=e}}if(!a)break;a.toDOM&&(g?n=n.nextSibling:this.dom.insertBefore(a.toDOM(t),n)),g&&o++}this.dom.className=i,this.markers=e}destroy(){this.setMarkers(null,[])}}const Wo=dt.define(),Uo=dt.define(),Zo=dt.define({combine:t=>function(t,e,i={}){let n={};for(let e of t)for(let t of Object.keys(e)){let r=e[t],o=n[t];if(void 0===o)n[t]=r;else if(o===r||void 0===r);else{if(!Object.hasOwnProperty.call(i,t))throw new Error("Config merge conflict for field "+t);n[t]=i[t](o,r)}}for(let t in e)void 0===n[t]&&(n[t]=e[t]);return n}(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let i=Object.assign({},t);for(let t in e){let n=i[t],r=e[t];i[t]=n?(t,e,i)=>n(t,e,i)||r(t,e,i):r}return i}})});class Ho extends _o{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function Yo(t,e){return t.state.facet(Zo).formatNumber(e,t.state)}const Ko=Po.compute([Zo],(t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:t=>t.state.facet(Wo),lineMarker:(t,e,i)=>i.some((t=>t.toDOM))?null:new Ho(Yo(t,t.state.doc.lineAt(e.from).number)),widgetMarker:(t,e,i)=>{for(let n of t.state.facet(Uo)){let r=n(t,e,i);if(r)return r}return null},lineMarkerChange:t=>t.startState.facet(Zo)!=t.state.facet(Zo),initialSpacer:t=>new Ho(Yo(t,Qo(t.state.doc.lines))),updateSpacer(t,e){let i=Yo(e.view,Qo(e.view.state.doc.lines));return i==t.number?t:new Ho(i)},domEventHandlers:t.facet(Zo).domEventHandlers})));function Xo(t={}){return[Zo.of(t),jo(),Ko]}function Qo(t){let e=9;for(;e<t;)e=10*e+9;return e}let qo=0;class Jo{constructor(t,e,i,n){this.name=t,this.set=e,this.base=i,this.modified=n,this.id=qo++}toString(){let{name:t}=this;for(let e of this.modified)e.name&&(t=`${e.name}(${t})`);return t}static define(t,e){let i="string"==typeof t?t:"?";if(t instanceof Jo&&(e=t),null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let n=new Jo(i,[],null,[]);if(n.set.push(n),e)for(let t of e.set)n.set.push(t);return n}static defineModifier(t){let e=new ts(t);return t=>t.modified.indexOf(e)>-1?t:ts.get(t.base||t,t.modified.concat(e).sort(((t,e)=>t.id-e.id)))}}let $o=0;class ts{constructor(t){this.name=t,this.instances=[],this.id=$o++}static get(t,e){if(!e.length)return t;let i=e[0].instances.find((i=>{return i.base==t&&(n=e,r=i.modified,n.length==r.length&&n.every(((t,e)=>t==r[e])));var n,r}));if(i)return i;let n=[],r=new Jo(t.name,n,t,e);for(let t of e)t.instances.push(r);let o=function(t){let e=[[]];for(let i=0;i<t.length;i++)for(let n=0,r=e.length;n<r;n++)e.push(e[n].concat(t[i]));return e.sort(((t,e)=>e.length-t.length))}(e);for(let e of t.set)if(!e.modified.length)for(let t of o)n.push(ts.get(e,t));return r}}function es(t){let e=Object.create(null);for(let i in t){let n=t[i];Array.isArray(n)||(n=[n]);for(let t of i.split(" "))if(t){let i=[],r=2,o=t;for(let e=0;;){if("..."==o&&e>0&&e+3==t.length){r=1;break}let n=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!n)throw new RangeError("Invalid path: "+t);if(i.push("*"==n[0]?"":'"'==n[0][0]?JSON.parse(n[0]):n[0]),e+=n[0].length,e==t.length)break;let s=t[e++];if(e==t.length&&"!"==s){r=0;break}if("/"!=s)throw new RangeError("Invalid path: "+t);o=t.slice(e)}let s=i.length-1,a=i[s];if(!a)throw new RangeError("Invalid path: "+t);let g=new ns(n,r,s>0?i.slice(0,s):null);e[a]=g.sort(e[a])}}return is.add(e)}const is=new r;class ns{constructor(t,e,i,n){this.tags=t,this.mode=e,this.context=i,this.next=n}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}function rs(t,e){let i=Object.create(null);for(let e of t)if(Array.isArray(e.tag))for(let t of e.tag)i[t.id]=e.class;else i[e.tag.id]=e.class;let{scope:n,all:r=null}=e||{};return{style:t=>{let e=r;for(let n of t)for(let t of n.set){let n=i[t.id];if(n){e=e?e+" "+n:n;break}}return e},scope:n}}function os(t,e,i,n=0,r=t.length){let o=new ss(n,Array.isArray(e)?e:[e],i);o.highlightRange(t.cursor(),n,r,"",o.highlighters),o.flush(r)}ns.empty=new ns([],2,null);class ss{constructor(t,e,i){this.at=t,this.highlighters=e,this.span=i,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,i,n,o){let{type:s,from:a,to:g}=t;if(a>=i||g<=e)return;s.isTop&&(o=this.highlighters.filter((t=>!t.scope||t.scope(s))));let l=n,A=function(t){let e=t.type.prop(is);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}(t)||ns.empty,C=function(t,e){let i=null;for(let n of t){let t=n.style(e);t&&(i=i?i+" "+t:t)}return i}(o,A.tags);if(C&&(l&&(l+=" "),l+=C,1==A.mode&&(n+=(n?" ":"")+C)),this.startSpan(Math.max(e,a),l),A.opaque)return;let I=t.tree&&t.tree.prop(r.mounted);if(I&&I.overlay){let r=t.node.enter(I.overlay[0].from+a,1),s=this.highlighters.filter((t=>!t.scope||t.scope(I.tree.type))),A=t.firstChild();for(let C=0,h=a;;C++){let c=C<I.overlay.length?I.overlay[C]:null,d=c?c.from+a:g,u=Math.max(e,h),f=Math.min(i,d);if(u<f&&A)for(;t.from<f&&(this.highlightRange(t,u,f,n,o),this.startSpan(Math.min(f,t.to),l),!(t.to>=d)&&t.nextSibling()););if(!c||d>i)break;h=c.to+a,h>e&&(this.highlightRange(r.cursor(),Math.max(e,c.from+a),Math.min(i,h),"",s),this.startSpan(Math.min(i,h),l))}A&&t.parent()}else if(t.firstChild()){I&&(n="");do{if(!(t.to<=e)){if(t.from>=i)break;this.highlightRange(t,e,i,n,o),this.startSpan(Math.min(i,t.to),l)}}while(t.nextSibling());t.parent()}}}const as=Jo.define,gs=as(),ls=as(),As=as(ls),Cs=as(ls),Is=as(),hs=as(Is),cs=as(Is),ds=as(),us=as(ds),fs=as(),ps=as(),vs=as(),ms=as(vs),ys=as(),bs={comment:gs,lineComment:as(gs),blockComment:as(gs),docComment:as(gs),name:ls,variableName:as(ls),typeName:As,tagName:as(As),propertyName:Cs,attributeName:as(Cs),className:as(ls),labelName:as(ls),namespace:as(ls),macroName:as(ls),literal:Is,string:hs,docString:as(hs),character:as(hs),attributeValue:as(hs),number:cs,integer:as(cs),float:as(cs),bool:as(Is),regexp:as(Is),escape:as(Is),color:as(Is),url:as(Is),keyword:fs,self:as(fs),null:as(fs),atom:as(fs),unit:as(fs),modifier:as(fs),operatorKeyword:as(fs),controlKeyword:as(fs),definitionKeyword:as(fs),moduleKeyword:as(fs),operator:ps,derefOperator:as(ps),arithmeticOperator:as(ps),logicOperator:as(ps),bitwiseOperator:as(ps),compareOperator:as(ps),updateOperator:as(ps),definitionOperator:as(ps),typeOperator:as(ps),controlOperator:as(ps),punctuation:vs,separator:as(vs),bracket:ms,angleBracket:as(ms),squareBracket:as(ms),paren:as(ms),brace:as(ms),content:ds,heading:us,heading1:as(us),heading2:as(us),heading3:as(us),heading4:as(us),heading5:as(us),heading6:as(us),contentSeparator:as(ds),list:as(ds),quote:as(ds),emphasis:as(ds),strong:as(ds),link:as(ds),monospace:as(ds),strikethrough:as(ds),inserted:as(),deleted:as(),changed:as(),invalid:as(),meta:ys,documentMeta:as(ys),annotation:as(ys),processingInstruction:as(ys),definition:Jo.defineModifier("definition"),constant:Jo.defineModifier("constant"),function:Jo.defineModifier("function"),standard:Jo.defineModifier("standard"),local:Jo.defineModifier("local"),special:Jo.defineModifier("special")};for(let t in bs){let e=bs[t];e instanceof Jo&&(e.name=t)}var ws;rs([{tag:bs.link,class:"tok-link"},{tag:bs.heading,class:"tok-heading"},{tag:bs.emphasis,class:"tok-emphasis"},{tag:bs.strong,class:"tok-strong"},{tag:bs.keyword,class:"tok-keyword"},{tag:bs.atom,class:"tok-atom"},{tag:bs.bool,class:"tok-bool"},{tag:bs.url,class:"tok-url"},{tag:bs.labelName,class:"tok-labelName"},{tag:bs.inserted,class:"tok-inserted"},{tag:bs.deleted,class:"tok-deleted"},{tag:bs.literal,class:"tok-literal"},{tag:bs.string,class:"tok-string"},{tag:bs.number,class:"tok-number"},{tag:[bs.regexp,bs.escape,bs.special(bs.string)],class:"tok-string2"},{tag:bs.variableName,class:"tok-variableName"},{tag:bs.local(bs.variableName),class:"tok-variableName tok-local"},{tag:bs.definition(bs.variableName),class:"tok-variableName tok-definition"},{tag:bs.special(bs.variableName),class:"tok-variableName2"},{tag:bs.definition(bs.propertyName),class:"tok-propertyName tok-definition"},{tag:bs.typeName,class:"tok-typeName"},{tag:bs.namespace,class:"tok-namespace"},{tag:bs.className,class:"tok-className"},{tag:bs.macroName,class:"tok-macroName"},{tag:bs.propertyName,class:"tok-propertyName"},{tag:bs.operator,class:"tok-operator"},{tag:bs.comment,class:"tok-comment"},{tag:bs.meta,class:"tok-meta"},{tag:bs.invalid,class:"tok-invalid"},{tag:bs.punctuation,class:"tok-punctuation"}]);const xs=new r;const ks=new r;class Es{constructor(t,e,i=[],n=""){this.data=t,this.name=n,Jt.prototype.hasOwnProperty("tree")||Object.defineProperty(Jt.prototype,"tree",{get(){return Ts(this)}}),this.parser=e,this.extension=[Ls.of(this),Jt.languageData.of(((t,e,i)=>{let n=Ss(t,e,i),r=n.type.prop(xs);if(!r)return[];let o=t.facet(r),s=n.type.prop(ks);if(s){let r=n.resolve(e-n.from,i);for(let e of s)if(e.test(r,t)){let i=t.facet(e.facet);return"replace"==e.type?i:i.concat(o)}}return o}))].concat(i)}isActiveAt(t,e,i=-1){return Ss(t,e,i).type.prop(xs)==this.data}findRegions(t){let e=t.facet(Ls);if((null==e?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let i=[],n=(t,e)=>{if(t.prop(xs)==this.data)return void i.push({from:e,to:e+t.length});let o=t.prop(r.mounted);if(o){if(o.tree.prop(xs)==this.data){if(o.overlay)for(let t of o.overlay)i.push({from:t.from+e,to:t.to+e});else i.push({from:e,to:e+t.length});return}if(o.overlay){let t=i.length;if(n(o.tree,o.overlay[0].from+e),i.length>t)return}}for(let i=0;i<t.children.length;i++){let r=t.children[i];r instanceof I&&n(r,t.positions[i]+e)}};return n(Ts(t),0),i}get allowsNesting(){return!0}}function Ss(t,e,i){let n=t.facet(Ls),r=Ts(t).topNode;if(!n||n.allowsNesting)for(let t=r;t;t=t.enter(e,i,C.ExcludeBuffers))t.type.isTop&&(r=t);return r}function Ts(t){let e=t.field(Es.state,!1);return e?e.tree:I.empty}Es.setState=Vt.define();class Os{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let i=this.cursorPos-this.string.length;return t<i||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-i,e-i)}}let _s=null;class Rs{constructor(t,e,i=[],n,r,o,s,a){this.parser=t,this.state=e,this.fragments=i,this.tree=n,this.treeLen=r,this.viewport=o,this.skipped=s,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(t,e,i){return new Rs(t,e,[],I.empty,0,i,[],null)}startParse(){return this.parser.startParse(new Os(this.state.doc),this.fragments)}work(t,e){return null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=I.empty&&this.isDone(null!=e?e:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var i;if("number"==typeof t){let e=Date.now()+t;t=()=>Date.now()>e}for(this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let n=this.parse.advance();if(n){if(this.fragments=this.withoutTempSkipped(_.addTree(n,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(i=this.parse.stoppedAt)&&void 0!==i?i:this.state.doc.length,this.tree=n,this.parse=null,!(this.treeLen<(null!=e?e:this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}}))}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext((()=>{for(;!(e=this.parse.advance()););})),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(_.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=_s;_s=this;try{return t()}finally{_s=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=Ns(t,e.from,e.to);return t}changes(t,e){let{fragments:i,tree:n,treeLen:r,viewport:o,skipped:s}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges(((t,i,n,r)=>e.push({fromA:t,toA:i,fromB:n,toB:r}))),i=_.applyChanges(i,e),n=I.empty,r=0,o={from:t.mapPos(o.from,-1),to:t.mapPos(o.to,1)},this.skipped.length){s=[];for(let e of this.skipped){let i=t.mapPos(e.from,1),n=t.mapPos(e.to,-1);i<n&&s.push({from:i,to:n})}}}return new Rs(this.parser,e,i,n,r,o,s,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let e=0;e<this.skipped.length;e++){let{from:i,to:n}=this.skipped[e];i<t.to&&n>t.from&&(this.fragments=Ns(this.fragments,i,n),this.skipped.splice(e--,1))}return!(this.skipped.length>=e||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends R{createParse(e,i,n){let r=n[0].from,o=n[n.length-1].to;return{parsedPos:r,advance(){let e=_s;if(e){for(let t of n)e.tempSkipped.push(t);t&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,t]):t)}return this.parsedPos=o,new I(a.none,[],[],o-r)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&0==e[0].from&&e[0].to>=t}static get(){return _s}}function Ns(t,e,i){return _.applyChanges(t,[{fromA:e,toA:i,fromB:e,toB:i}])}class Ds{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),i=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,i)||e.takeTree(),new Ds(e)}static init(t){let e=Math.min(3e3,t.doc.length),i=Rs.create(t.facet(Ls).parser,t,{from:0,to:e});return i.work(20,e)||i.takeTree(),new Ds(i)}}Es.state=bt.define({create:Ds.init,update(t,e){for(let t of e.effects)if(t.is(Es.setState))return t.value;return e.startState.facet(Ls)!=e.state.facet(Ls)?Ds.init(e.state):t.apply(e)}});let Ps=t=>{let e=setTimeout((()=>t()),500);return()=>clearTimeout(e)};"undefined"!=typeof requestIdleCallback&&(Ps=t=>{let e=-1,i=setTimeout((()=>{e=requestIdleCallback(t,{timeout:400})}),100);return()=>e<0?clearTimeout(i):cancelIdleCallback(e)});const Ms="undefined"!=typeof navigator&&(null===(ws=navigator.scheduling)||void 0===ws?void 0:ws.isInputPending)?()=>navigator.scheduling.isInputPending():null,js=xn.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(Es.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(Es.state);e.tree==e.context.tree&&e.context.isDone(t.doc.length)||(this.working=Ps(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:n}}=this.view,r=i.field(Es.state);if(r.tree==r.context.tree&&r.context.isDone(n+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,t&&!Ms?Math.max(25,t.timeRemaining()-5):1e9),s=r.context.treeLen<n&&i.doc.length>n+1e3,a=r.context.work((()=>Ms&&Ms()||Date.now()>o),n+(s?0:1e5));this.chunkBudget-=Date.now()-e,(a||this.chunkBudget<=0)&&(r.context.takeTree(),this.view.dispatch({effects:Es.setState.of(new Ds(r.context))})),this.chunkBudget>0&&(!a||s)&&this.scheduleWork(),this.checkAsyncSchedule(r.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then((()=>this.scheduleWork())).catch((t=>mn(this.view.state,t))).then((()=>this.workScheduled--)),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Ls=dt.define({combine:t=>t.length?t[0]:null,enables:t=>[Es.state,js,wo.contentAttributes.compute([t],(e=>{let i=e.facet(t);return i&&i.name?{"data-language":i.name}:{}}))]}),Bs=dt.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some((t=>t!=e[0])))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Fs(t){let e=t.facet(Bs);return 9==e.charCodeAt(0)?t.tabSize*e.length:e.length}const zs=new r;class Vs{constructor(t,e){let i;function n(t){let e=pe.newName();return(i||(i=Object.create(null)))["."+e]=t,e}this.specs=t;const r="string"==typeof e.all?e.all:e.all?n(e.all):void 0,o=e.scope;this.scope=o instanceof Es?t=>t.prop(xs)==o.data:o?t=>t==o:void 0,this.style=rs(t.map((t=>({tag:t.tag,class:t.class||n(Object.assign({},t,{tag:null}))}))),{all:r}).style,this.module=i?new pe(i):null,this.themeType=e.themeType}static define(t,e){return new Vs(t,e||{})}}const Gs=dt.define(),Ws=dt.define({combine:t=>t.length?[t[0]]:null});function Us(t){let e=t.facet(Gs);return e.length?e:t.facet(Ws)}class Zs{constructor(t){this.markCache=Object.create(null),this.tree=Ts(t.state),this.decorations=this.buildDeco(t,Us(t.state)),this.decoratedTo=t.viewport.to}update(t){let e=Ts(t.state),i=Us(t.state),n=i!=Us(t.startState),{viewport:r}=t.view,o=t.changes.mapPos(this.decoratedTo,1);e.length<r.to&&!n&&e.type==this.tree.type&&o>=r.to?(this.decorations=this.decorations.map(t.changes),this.decoratedTo=o):(e!=this.tree||t.viewportChanged||n)&&(this.tree=e,this.decorations=this.buildDeco(t.view,i),this.decoratedTo=r.to)}buildDeco(t,e){if(!e||!this.tree.length)return Si.none;let i=new re;for(let{from:n,to:r}of t.visibleRanges)os(this.tree,e,((t,e,n)=>{i.add(t,e,this.markCache[n]||(this.markCache[n]=Si.mark({class:n})))}),n,r);return i.finish()}}const Hs=xt.high(xn.fromClass(Zs,{decorations:t=>t.decorations}));function Ys(t,e,i,n=0,r=0){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);let o=r;for(let r=n;r<e;r++)9==t.charCodeAt(r)?o+=i-o%i:o++;return o}bs.meta,bs.link,bs.heading,bs.emphasis,bs.strong,bs.strikethrough,bs.keyword,bs.atom,bs.bool,bs.url,bs.contentSeparator,bs.labelName,bs.literal,bs.inserted,bs.string,bs.deleted,bs.regexp,bs.escape,bs.string,bs.variableName,bs.variableName,bs.typeName,bs.namespace,bs.className,bs.variableName,bs.macroName,bs.propertyName,bs.comment,bs.invalid;class Ks{constructor(t,e,i,n){this.string=t,this.tabSize=e,this.indentUnit=i,this.overrideIndent=n,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return 0==this.pos}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(t){let e,i=this.string.charAt(this.pos);if(e="string"==typeof t?i==t:i&&(t instanceof RegExp?t.test(i):t(i)),e)return++this.pos,i}eatWhile(t){let e=this.pos;for(;this.eat(t););return this.pos>e}eatSpace(){let t=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t}skipToEnd(){this.pos=this.string.length}skipTo(t){let e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0}backUp(t){this.pos-=t}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ys(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var t;return null!==(t=this.overrideIndent)&&void 0!==t?t:Ys(this.string,null,this.tabSize)}match(t,e,i){if("string"==typeof t){let n=t=>i?t.toLowerCase():t;return n(this.string.substr(this.pos,t.length))==n(t)?(!1!==e&&(this.pos+=t.length),!0):null}{let i=this.string.slice(this.pos).match(t);return i&&i.index>0?null:(i&&!1!==e&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}}function Xs(t){if("object"!=typeof t)return t;let e={};for(let i in t){let n=t[i];e[i]=n instanceof Array?n.slice():n}return e}const Qs=new WeakMap;class qs extends Es{constructor(t){let e,i=(o=t.languageData,dt.define({combine:o?t=>t.concat(o):void 0})),n={name:(s=t).name||"",token:s.token,blankLine:s.blankLine||(()=>{}),startState:s.startState||(()=>!0),copyState:s.copyState||Xs,indent:s.indent||(()=>null),languageData:s.languageData||{},tokenTable:s.tokenTable||ia,mergeTokens:!1!==s.mergeTokens};var o,s;super(i,new class extends R{createParse(t,i,n){return new ta(e,t,i,n)}},[],t.name),this.topNode=function(t,e){let i=a.define({id:na.length,name:"Document",props:[xs.add((()=>t)),zs.add((()=>t=>e.getIndent(t)))],top:!0});return na.push(i),i}(i,this),e=this,this.streamParser=n,this.stateAfter=new r({perNode:!0}),this.tokenTable=t.tokenTable?new ga(n.tokenTable):la}static define(t){return new qs(t)}getIndent(t){let e,{overrideIndentation:i}=t.options;i&&(e=Qs.get(t.state),null!=e&&e<t.pos-1e4&&(e=void 0));let n,r,o=Js(this,t.node.tree,t.node.from,t.node.from,null!=e?e:t.pos);if(o?(r=o.state,n=o.pos+1):(r=this.streamParser.startState(t.unit),n=t.node.from),t.pos-n>1e4)return null;for(;n<t.pos;){let e=t.state.doc.lineAt(n),o=Math.min(t.pos,e.to);if(e.length){let n=i?i(e.from):-1,s=new Ks(e.text,t.state.tabSize,t.unit,n<0?void 0:n);for(;s.pos<o-e.from;)ea(this.streamParser.token,s,r)}else this.streamParser.blankLine(r,t.unit);if(o==t.pos)break;n=e.to+1}let s=t.lineAt(t.pos);return i&&null==e&&Qs.set(t.state,s.from),this.streamParser.indent(r,/^\s*(.*)/.exec(s.text)[1],t)}get allowsNesting(){return!1}}function Js(t,e,i,n,r){let o=i>=n&&i+e.length<=r&&e.prop(t.stateAfter);if(o)return{state:t.streamParser.copyState(o),pos:i+e.length};for(let o=e.children.length-1;o>=0;o--){let s=e.children[o],a=i+e.positions[o],g=s instanceof I&&a<r&&Js(t,s,a,n,r);if(g)return g}return null}function $s(t,e,i,n,r){if(r&&i<=0&&n>=e.length)return e;r||0!=i||e.type!=t.topNode||(r=!0);for(let o=e.children.length-1;o>=0;o--){let s,a=e.positions[o],g=e.children[o];if(a<n&&g instanceof I){if(!(s=$s(t,g,i-a,n-a,r)))break;return r?new I(e.type,e.children.slice(0,o).concat(s),e.positions.slice(0,o+1),a+s.length):s}}return null}class ta{constructor(t,e,i,n){this.lang=t,this.input=e,this.fragments=i,this.ranges=n,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=n[n.length-1].to;let r=Rs.get(),o=n[0].from,{state:s,tree:a}=function(t,e,i,n,r){for(let r of e){let e,o=r.from+(r.openStart?25:0),s=r.to-(r.openEnd?25:0),a=o<=i&&s>i&&Js(t,r.tree,0-r.offset,i,s);if(a&&a.pos<=n&&(e=$s(t,r.tree,i+r.offset,a.pos+r.offset,!1)))return{state:a.state,tree:e}}return{state:t.streamParser.startState(r?Fs(r):4),tree:I.empty}}(t,i,o,this.to,null==r?void 0:r.state);this.state=s,this.parsedPos=this.chunkStart=o+a.length;for(let t=0;t<a.children.length;t++)this.chunks.push(a.children[t]),this.chunkPos.push(a.positions[t]);r&&this.parsedPos<r.viewport.from-1e5&&n.some((t=>t.from<=r.viewport.from&&t.to>=r.viewport.from))&&(this.state=this.lang.streamParser.startState(Fs(r.state)),r.skipUntilInView(this.parsedPos,r.viewport.from),this.parsedPos=r.viewport.from),this.moveRangeIndex()}advance(){let t=Rs.get(),e=null==this.stoppedAt?this.to:Math.min(this.to,this.stoppedAt),i=Math.min(e,this.chunkStart+2048);for(t&&(i=Math.min(i,t.viewport.to));this.parsedPos<i;)this.parseLine(t);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=e?this.finish():t&&this.parsedPos>=t.viewport.to?(t.skipUntilInView(this.parsedPos,e),this.finish()):null}stopAt(t){this.stoppedAt=t}lineAfter(t){let e=this.input.chunk(t);if(this.input.lineChunks)"\n"==e&&(e="");else{let t=e.indexOf("\n");t>-1&&(e=e.slice(0,t))}return t+e.length<=this.to?e:e.slice(0,this.to-t)}nextLine(){let t=this.parsedPos,e=this.lineAfter(t),i=t+e.length;for(let t=this.rangeIndex;;){let n=this.ranges[t].to;if(n>=i)break;if(e=e.slice(0,n-(i-e.length)),t++,t==this.ranges.length)break;let r=this.ranges[t].from,o=this.lineAfter(r);e+=o,i=r+o.length}return{line:e,end:i}}skipGapsTo(t,e,i){for(;;){let n=this.ranges[this.rangeIndex].to,r=t+e;if(i>0?n>r:n>=r)break;e+=this.ranges[++this.rangeIndex].from-n}return e}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(t,e,i,n){let r=4;if(this.ranges.length>1){e+=n=this.skipGapsTo(e,n,1);let t=this.chunk.length;i+=n=this.skipGapsTo(i,n,-1),r+=this.chunk.length-t}let o=this.chunk.length-4;return this.lang.streamParser.mergeTokens&&4==r&&o>=0&&this.chunk[o]==t&&this.chunk[o+2]==e?this.chunk[o+2]=i:this.chunk.push(t,e,i,r),n}parseLine(t){let{line:e,end:i}=this.nextLine(),n=0,{streamParser:r}=this.lang,o=new Ks(e,t?t.state.tabSize:4,t?Fs(t.state):2);if(o.eol())r.blankLine(this.state,o.indentUnit);else for(;!o.eol();){let t=ea(r.token,o,this.state);if(t&&(n=this.emitToken(this.lang.tokenTable.resolve(t),this.parsedPos+o.start,this.parsedPos+o.pos,n)),o.start>1e4)break}this.parsedPos=i,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let t=I.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:ra,topID:0,maxBufferLength:2048,reused:this.chunkReused});t=new I(t.type,t.children,t.positions,t.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(t),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new I(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function ea(t,e,i){e.start=e.pos;for(let n=0;n<10;n++){let n=t(e,i);if(e.pos>e.start)return n}throw new Error("Stream parser failed to advance stream.")}const ia=Object.create(null),na=[a.none],ra=new g(na),oa=[],sa=Object.create(null),aa=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])aa[t]=Ca(ia,e);class ga{constructor(t){this.extra=t,this.table=Object.assign(Object.create(null),aa)}resolve(t){return t?this.table[t]||(this.table[t]=Ca(this.extra,t)):0}}const la=new ga(ia);function Aa(t,e){oa.indexOf(t)>-1||(oa.push(t),console.warn(e))}function Ca(t,e){let i=[];for(let n of e.split(" ")){let e=[];for(let i of n.split(".")){let n=t[i]||bs[i];n?"function"==typeof n?e.length?e=e.map(n):Aa(i,`Modifier ${i} used at start of tag`):e.length?Aa(i,`Tag ${i} used as modifier`):e=Array.isArray(n)?n:[n]:Aa(i,`Unknown highlighting tag ${i}`)}for(let t of e)i.push(t)}if(!i.length)return 0;let n=e.replace(/ /g,"_"),r=n+" "+i.map((t=>t.id)),o=sa[r];if(o)return o.id;let s=sa[r]=a.define({id:na.length,name:n,props:[es({[n]:i})]});return na.push(s),s.id}Fi.RTL,Fi.LTR;const Ia=function(t){let e,i=[Hs];return t instanceof Vs&&(t.module&&i.push(wo.styleModule.of(t.module)),e=t.themeType),e?i.push(Gs.computeN([wo.darkTheme],(i=>i.facet(wo.darkTheme)==("dark"==e)?[t]:[]))):i.push(Gs.of(t)),i}(Vs.define([{tag:bs.keyword,color:"#7e57c2",fontWeight:"bold"},{tag:bs.definition,color:"#0277bd",fontWeight:"bold"},{tag:bs.string,color:"#d81b60"},{tag:bs.comment,color:"#546e7a",fontStyle:"italic"},{tag:bs.number,color:"#00796b"},{tag:bs.bool,color:"#2e7d32"},{tag:bs.operator,color:"#ff6f00",fontWeight:"bold"},{tag:bs.propertyName,color:"#6200ea",fontWeight:"bold"},{tag:bs.atom,color:"#f57c00",fontWeight:"bold"},{tag:bs.typeName,color:"#039be5"},{tag:bs.invalid,color:"#c62828",textDecoration:"wavy underline"},{tag:bs.bracket,color:"#616161"},{tag:bs.labelName,color:"#9900cc"},{tag:bs.meta,color:"#9900cc"},{tag:bs.moduleKeyword,color:"#006400",fontWeight:"bold"},{tag:[bs.special(bs.variableName)],color:"#4CAF50",fontWeight:"bold"},{tag:bs.variableName,color:"#039be5"},{tag:bs.special(bs.string),color:"#FFA500",fontWeight:"bold"}])),ha=class{constructor(t,e){this.Impl=t,this.options=e}import(t,e){const i=new this.Impl(t,{...this.options,...e});return t.on("end",(()=>{i.readable||i.emit("end")})),t.on("error",(t=>{i.emit("error",t)})),i}};class ca{constructor(t){this.value=t}equals(t){return!!t&&t.termType===this.termType&&t.value===this.value}}ca.prototype.termType="BlankNode";const da=ca;class ua{equals(t){return!!t&&t.termType===this.termType}}ua.prototype.termType="DefaultGraph",ua.prototype.value="";const fa=ua,pa=function(t,e){if(!e)return null;if("BlankNode"===e.termType)return t.blankNode(e.value);if("DefaultGraph"===e.termType)return t.defaultGraph();if("Literal"===e.termType)return t.literal(e.value,e.language||t.namedNode(e.datatype.value));if("NamedNode"===e.termType)return t.namedNode(e.value);if("Quad"===e.termType){const i=t.fromTerm(e.subject),n=t.fromTerm(e.predicate),r=t.fromTerm(e.object),o=t.fromTerm(e.graph);return t.quad(i,n,r,o)}if("Variable"===e.termType)return t.variable(e.value);throw new Error(`unknown termType ${e.termType}`)};class va{constructor(t,e,i,n=""){this.value=t,this.language=e,this.datatype=i,this.direction=n}equals(t){return!!t&&t.termType===this.termType&&t.value===this.value&&t.language===this.language&&t.datatype.equals(this.datatype)&&(t.direction||"")===this.direction}}va.prototype.termType="Literal";const ma=va;class ya{constructor(t){this.value=t}equals(t){return!!t&&t.termType===this.termType&&t.value===this.value}}ya.prototype.termType="NamedNode";const ba=ya;class wa{constructor(t,e,i,n){this.subject=t,this.predicate=e,this.object=i,this.graph=n}equals(t){return!!t&&("Quad"===t.termType||!t.termType)&&t.subject.equals(this.subject)&&t.predicate.equals(this.predicate)&&t.object.equals(this.object)&&t.graph.equals(this.graph)}}wa.prototype.termType="Quad",wa.prototype.value="";const xa=wa;class ka{constructor(t){this.value=t}equals(t){return!!t&&t.termType===this.termType&&t.value===this.value}}ka.prototype.termType="Variable";const Ea=ka,Sa=new ba("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),Ta=new ba("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),Oa=new ba("http://www.w3.org/2001/XMLSchema#string");class _a{constructor(){this.init()}init(){this._data={blankNodeCounter:0,defaultGraph:new fa}}namedNode(t){return new ba(t)}blankNode(t){return t=t||"b"+ ++this._data.blankNodeCounter,new da(t)}literal(t,e){return"string"==typeof e?new ma(t,e,Ta):"string"==typeof e?.language?new ma(t,e.language,e.direction?Sa:Ta,e.direction):new ma(t,"",e||Oa)}variable(t){return new Ea(t)}defaultGraph(){return this._data.defaultGraph}quad(t,e,i,n=this.defaultGraph()){return new xa(t,e,i,n)}fromTerm(t){return pa(this,t)}fromQuad(t){return pa(this,t)}}_a.exports=["blankNode","defaultGraph","fromQuad","fromTerm","literal","namedNode","quad","variable"];const Ra=new _a,Na=new Set(["_write","_writableState","writable"]),Da=function(t){return new Proxy(t,{has(t,e){return!Na.has(e)&&Reflect.has(...arguments)},get(t,e){if(Na.has(e))return;const i=Reflect.get(...arguments);return i&&"function"==typeof i.bind?i.bind(t):i},set(t,e,i){if(!Na.has(e))return Reflect.set(...arguments)}})};var Pa=i(9198),Ma=i(8287);const ja="http://www.w3.org/1999/02/22-rdf-syntax-ns#",La="http://www.w3.org/2001/XMLSchema#",Ba="http://www.w3.org/2000/10/swap/",Fa={xsd:{decimal:`${La}decimal`,boolean:`${La}boolean`,double:`${La}double`,integer:`${La}integer`,string:`${La}string`},rdf:{type:`${ja}type`,nil:`${ja}nil`,first:`${ja}first`,rest:`${ja}rest`,langString:`${ja}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${Ba}reify#forSome`,forAll:`${Ba}reify#forAll`},log:{implies:`${Ba}log#implies`,isImpliedBy:`${Ba}log#isImpliedBy`}},{xsd:za}=Fa,Va=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,Ga={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},Wa=/[\x00-\x20<>\\"\{\}\|\^\`]/,Ua={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},Za=/$0^/;class Ha{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._isImpliedBy=t.isImpliedBy,this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const t in this)!(t in Ua)&&this[t]instanceof RegExp&&(this[t]=Za)}else this._n3Mode=!1!==t.n3;this.comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,e){let i=this._input,n=i.length;for(;;){let t,s;for(;t=this._newline.exec(i);)this.comments&&(s=this._comment.exec(t[0]))&&r("comment",s[1],"",this._line,t[0].length),i=i.substr(t[0].length,i.length),n=i.length,this._line++;if(!t&&(t=this._whitespace.exec(i))&&(i=i.substr(t[0].length,i.length)),this._endOfFile.test(i))return e&&(this.comments&&(s=this._comment.exec(i))&&r("comment",s[1],"",this._line,i.length),i=null,r("eof","","",this._line,0)),this._input=i;const a=this._line,g=i[0];let l="",A="",C="",I=null,h=0,c=!1;switch(g){case"^":if(i.length<3)break;if("^"!==i[1]){this._n3Mode&&(h=1,l="^");break}if(this._previousMarker="^^",i=i.substr(2),"<"!==i[0]){c=!0;break}case"<":if(I=this._unescapedIri.exec(i))l="IRI",A=I[1];else if(I=this._iri.exec(i)){if(A=this._unescape(I[1]),null===A||Wa.test(A))return o(this);l="IRI"}else i.length>1&&"<"===i[1]?(l="<<",h=2):this._n3Mode&&i.length>1&&"="===i[1]&&(h=2,this._isImpliedBy?(l="abbreviation",A="<"):(l="inverse",A=">"));break;case">":i.length>1&&">"===i[1]&&(l=">>",h=2);break;case"_":((I=this._blank.exec(i))||e&&(I=this._blank.exec(`${i} `)))&&(l="blank",C="_",A=I[1]);break;case'"':if(I=this._simpleQuotedString.exec(i))A=I[1];else if(({value:A,matchLength:h}=this._parseLiteral(i)),null===A)return o(this);null===I&&0===h||(l="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(I=this._simpleApostropheString.exec(i))A=I[1];else if(({value:A,matchLength:h}=this._parseLiteral(i)),null===A)return o(this);null===I&&0===h||(l="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(I=this._variable.exec(i))&&(l="var",A=I[0]);break;case"@":"literal"===this._previousMarker&&(I=this._langcode.exec(i))?(l="langcode",A=I[1]):(I=this._keyword.exec(i))&&(l=I[0]);break;case".":if(1===i.length?e:i[1]<"0"||i[1]>"9"){l=".",h=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(I=this._number.exec(i)||e&&(I=this._number.exec(`${i} `)))&&(l="literal",A=I[0],C="string"==typeof I[1]?za.double:"string"==typeof I[2]?za.decimal:za.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(I=this._sparqlKeyword.exec(i))?l=I[0].toUpperCase():c=!0;break;case"f":case"t":(I=this._boolean.exec(i))?(l="literal",A=I[0],C=za.boolean):c=!0;break;case"a":(I=this._shortPredicates.exec(i))?(l="abbreviation",A="a"):c=!0;break;case"=":this._n3Mode&&i.length>1&&(l="abbreviation",">"!==i[1]?(h=1,A="="):(h=2,A=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(h=1,l=g);break;case"{":!this._lineMode&&i.length>=2&&("|"===i[1]?(l="{|",h=2):(l=g,h=1));break;case"|":i.length>=2&&"}"===i[1]&&(l="|}",h=2);break;default:c=!0}if(c&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(I=this._prefix.exec(i))?((I=this._prefixed.exec(i))||e&&(I=this._prefixed.exec(`${i} `)))&&(l="prefixed",C=I[1]||"",A=this._unescape(I[2])):(l="prefix",A=I[1]||"")),"^^"===this._previousMarker)switch(l){case"prefixed":l="type";break;case"IRI":l="typeIRI";break;default:l=""}if(!l)return e||!/^'''|^"""/.test(i)&&/\n|\r/.test(i)?o(this):this._input=i;const d=h||I[0].length,u=r(l,A,C,a,d);this.previousToken=u,this._previousMarker=l,i=i.substr(d,i.length)}function r(e,r,o,s,a){const g=i?n-i.length:n,l={type:e,value:r,prefix:o,line:s,start:g,end:g+a};return t(null,l),l}function o(e){t(e._syntaxError(/^\S*/.exec(i)[0]))}}_unescape(t){let e=!1;const i=t.replace(Va,((t,i,n,r)=>{if("string"==typeof i)return String.fromCharCode(Number.parseInt(i,16));if("string"==typeof n){let t=Number.parseInt(n,16);return t<=65535?String.fromCharCode(Number.parseInt(n,16)):String.fromCharCode(55296+((t-=65536)>>10),56320+(1023&t))}return r in Ga?Ga[r]:(e=!0,"")}));return e?null:i}_parseLiteral(t){if(t.length>=3){const e=t.match(/^(?:"""|"|'''|'|)/)[0],i=e.length;let n=Math.max(this._literalClosingPos,i);for(;(n=t.indexOf(e,n))>0;){let e=0;for(;"\\"===t[n-e-1];)e++;if(e%2==0){const e=t.substring(i,n),r=e.split(/\r\n|\r|\n/).length-1,o=n+i;if(1===i&&0!==r||3===i&&this._lineMode)break;return this._line+=r,{value:this._unescape(e),matchLength:o}}n++}this._literalClosingPos=t.length-i+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const e=new Error(`Unexpected "${t}" on line ${this._line}.`);return e.context={token:void 0,line:this._line,previousToken:this.previousToken},e}_readStartingBom(t){return t.startsWith("\ufeff")?t.substr(1):t}tokenize(t,e){if(this._line=1,"string"==typeof t){if(this._input=this._readStartingBom(t),"function"!=typeof e){const t=[];let e;if(this._tokenizeToEnd(((i,n)=>i?e=i:t.push(n)),!0),e)throw e;return t}queueMicrotask((()=>this._tokenizeToEnd(e,!0)))}else this._pendingBuffer=null,"function"==typeof t.setEncoding&&t.setEncoding("utf8"),t.on("data",(t=>{null!==this._input&&0!==t.length&&(this._pendingBuffer&&(t=Ma.Buffer.concat([this._pendingBuffer,t]),this._pendingBuffer=null),128&t[t.length-1]?this._pendingBuffer=t:(void 0===this._input?this._input=this._readStartingBom("string"==typeof t?t:t.toString()):this._input+=t,this._tokenizeToEnd(e,!1)))})),t.on("end",(()=>{"string"==typeof this._input&&this._tokenizeToEnd(e,!0)})),t.on("error",e)}}const{rdf:Ya,xsd:Ka}=Fa;let Xa,Qa=0;const qa={namedNode:rg,blankNode:og,variable:ag,literal:sg,defaultGraph:function(){return Xa},quad:gg,triple:gg,fromTerm:lg,fromQuad:Ag};class Ja{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof Ja?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class $a extends Ja{get termType(){return"NamedNode"}}class tg extends Ja{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let e=t.lastIndexOf('"')+1;return e<t.length&&"@"===t[e++]?t.substr(e).toLowerCase():""}get datatype(){return new $a(this.datatypeString)}get datatypeString(){const t=this.id,e=t.lastIndexOf('"')+1,i=e<t.length?t[e]:"";return"^"===i?t.substr(e+2):"@"!==i?Ka.string:Ya.langString}equals(t){return t instanceof tg?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class eg extends Ja{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class ig extends Ja{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}Xa=new class extends Ja{constructor(){return super(""),Xa||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}};class ng extends Ja{constructor(t,e,i,n){super(""),this._subject=t,this._predicate=e,this._object=i,this._graph=n||Xa}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}}function rg(t){return new $a(t)}function og(t){return new eg(t||"n3-"+Qa++)}function sg(t,e){if("string"==typeof e)return new tg(`"${t}"@${e.toLowerCase()}`);let i=e?e.value:"";return""===i&&("boolean"==typeof t?i=Ka.boolean:"number"==typeof t&&(Number.isFinite(t)?i=Number.isInteger(t)?Ka.integer:Ka.double:(i=Ka.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),""===i||i===Ka.string?new tg(`"${t}"`):new tg(`"${t}"^^${i}`)}function ag(t){return new ig(t)}function gg(t,e,i,n){return new ng(t,e,i,n)}function lg(t){if(t instanceof Ja)return t;switch(t.termType){case"NamedNode":return rg(t.value);case"BlankNode":return og(t.value);case"Variable":return ag(t.value);case"DefaultGraph":return Xa;case"Literal":return sg(t.value,t.language||t.datatype);case"Quad":return Ag(t);default:throw new Error(`Unexpected termType: ${t.termType}`)}}function Ag(t){if(t instanceof ng)return t;if("Quad"!==t.termType)throw new Error(`Unexpected termType: ${t.termType}`);return gg(lg(t.subject),lg(t.predicate),lg(t.object),lg(t.graph))}let Cg=0;class Ig{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&cg(this,t.factory);const e="string"==typeof t.format?t.format.match(/\w*$/)[0].toLowerCase():"",i=/turtle/.test(e),n=/trig/.test(e),r=/triple/.test(e),o=/quad/.test(e),s=this._n3Mode=/n3/.test(e),a=r||o;(this._supportsNamedGraphs=!(i||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(i||n||r||s),this._isImpliedBy=t.isImpliedBy,this._supportsRDFStar=""===e||/star|\*$/.test(e),a&&(this._resolveRelativeIRI=t=>null),this._blankNodePrefix="string"!=typeof t.blankNodePrefix?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new Ha({lineMode:a,n3:s,isImpliedBy:this._isImpliedBy}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){Cg=0}_setBase(t){if(t){const e=t.indexOf("#");e>=0&&(t=t.substr(0,e)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}else this._base="",this._basePath=""}_saveContext(t,e,i,n,r){const o=this._n3Mode;this._contextStack.push({type:t,subject:i,predicate:n,object:r,graph:e,inverse:!!o&&this._inversePredicate,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,e){const i=this._contextStack.pop();if(!i||i.type!==t)return this._error(`Unexpected ${e.type}`,e);this._subject=i.subject,this._predicate=i.predicate,this._object=i.object,this._graph=i.graph,this._n3Mode&&(this._inversePredicate=i.inverse,this._prefixes._=i.blankPrefix,this._quantified=i.quantified)}_readInTopContext(t){switch(t.type){case"eof":return null!==this._graph?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,e){let i;switch(t.type){case"IRI":case"typeIRI":const e=this._resolveIRI(t.value);if(null===e)return this._error("Invalid IRI",t);i=this._factory.namedNode(e);break;case"type":case"prefixed":const n=this._prefixes[t.prefix];if(void 0===n)return this._error(`Undefined prefix "${t.prefix}:"`,t);i=this._factory.namedNode(n+t.value);break;case"blank":i=this._factory.blankNode(this._prefixes[t.prefix]+t.value);break;case"var":i=this._factory.variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!e&&this._n3Mode&&i.id in this._quantified&&(i=this._quantified[i.id]),i}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(0===t.prefix.length)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if(void 0===(this._subject=this._readEntity(t)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const e=t.type;switch(e){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return null===this._predicate?this._error(`Unexpected ${e}`,t):(this._subject=null,"]"===e?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if(void 0===(this._predicate=this._readEntity(t)))return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(0===t.prefix.length)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if(void 0===(this._object=this._readEntity(t)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return"{"===t.type?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return"{"!==t.type?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return"]"===t.type?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if("]"!==t.type)return this._readBlankNodePunctuation(t);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);const e=null===this._predicate;return this._restoreContext("blank",t),null!==this._object?this._getContextEndReader():null!==this._predicate?this._readObject:e?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let e=null,i=null,n=this._readListItem;const r=this._subject,o=this._contextStack,s=o[o.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,i=this._factory.blankNode(),this.RDF_FIRST,this._subject=e=this._factory.blankNode()),n=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,i=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),0!==o.length&&"list"===o[o.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(n=this._readPredicate,this._subject===this.RDF_NIL)return n}else if(n=this._getContextEndReader(),this._object===this.RDF_NIL)return n;i=this.RDF_NIL;break;case"literal":0===t.prefix.length?(this._literalValue=t.value,n=this._readListItemDataTypeOrLang):(e=this._factory.literal(t.value,this._factory.namedNode(t.prefix)),n=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if(void 0===(e=this._readEntity(t)))return}if(null===i&&(this._subject=i=this._factory.blankNode()),null===r?null===s.predicate?s.subject=i:s.object=i:this._emit(r,this.RDF_REST,i,this._graph),null!==e){if(this._n3Mode&&("IRI"===t.type||"prefixed"===t.type))return this._saveContext("item",this._graph,i,this.RDF_FIRST,e),this._subject=e,this._predicate=null,this._getPathReader(this._readListItem);this._emit(i,this.RDF_FIRST,e,this._graph)}return n}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let e=this._factory.literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const i=this._readEntity(t);if(void 0===i)return;e=this._factory.literal(this._literalValue,i),t=null;break;case"langcode":e=this._factory.literal(this._literalValue,t.value),t=null}return{token:t,literal:e}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,e){const i=this._completeLiteral(t);if(i)return this._object=i.literal,e&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===i.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(i.token))}_readFormulaTail(t){return"}"!==t.type?this._readPunctuation(t):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let e,i=this._graph;const n=this._subject,r=this._inversePredicate;switch(t.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,e=this._contextStack.length?this._readSubject:this._readInTopContext,r&&(this._inversePredicate=!1);break;case";":e=this._readPredicate;break;case",":e=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",t);const o=this._predicate,s=this._object;this._subject=this._factory.quad(n,o,s,this.DEFAULTGRAPH),e=this._readPredicate;break;case"|}":if("Quad"!==this._subject.termType)return this._error("Unexpected asserted triple closing",t);this._subject=null,e=this._readPunctuation;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(i=this._readEntity(t))){e=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(null!==n){const t=this._predicate,e=this._object;r?this._emit(e,t,n,i):this._emit(n,t,e,i)}return e}_readBlankNodePunctuation(t){let e;switch(t.type){case";":e=this._readPredicate;break;case",":e=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),e}_readQuadPunctuation(t){return"."!==t.type?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return"prefix"!==t.type?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if("IRI"!==t.type)return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const e=this._readEntity(t);return this._prefixes[this._prefix]=e.value,this._prefixCallback(this._prefix,e),this._readDeclarationPunctuation}_readBaseIRI(t){const e="IRI"===t.type&&this._resolveIRI(t.value);return e?(this._setBase(e),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return"]"!==t.type?this._error("Invalid graph label",t):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):"."!==t.type?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let e;switch(t.type){case"IRI":case"prefixed":if(void 0!==(e=this._readEntity(t,!0)))break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,e,this.QUANTIFIERS_GRAPH)):this._quantified[e.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return","===t.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const e=this._contextStack,i=e.length&&e[e.length-1];if(i&&"item"===i.type){const e=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,e,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let e,i;const n=this._factory.blankNode();if(void 0!==(i=this._readEntity(t)))return null===this._predicate?(e=this._subject,this._subject=n):(e=this._object,this._object=n),this._emit(e,i,n,this._graph),this._readPath}_readBackwardPath(t){const e=this._factory.blankNode();let i,n;if(void 0!==(i=this._readEntity(t)))return null===this._predicate?(n=this._subject,this._subject=e):(n=this._object,this._object=e),this._emit(e,i,n,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return">>"!==t.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(t))?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(">>"!==t.type)return this._error(`Expected >> but got ${t.type}`,t);const e=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),null===this._subject?(this._subject=e,this._readPredicate):(this._object=e,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,e,i,n){this._callback(null,this._factory.quad(t,e,i,n||this.DEFAULTGRAPH))}_error(t,e){const i=new Error(`${t} on line ${e.line}.`);i.context={token:e,line:e.line,previousToken:this._lexer.previousToken},this._callback(i),this._callback=hg}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return("/"===t[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const e=t.length;let i="",n=-1,r=-1,o=0,s="/";for(;n<e;){switch(s){case":":if(r<0&&"/"===t[++n]&&"/"===t[++n])for(;(r=n+1)<e&&"/"!==t[r];)n=r;break;case"?":case"#":n=e;break;case"/":if("."===t[n+1])switch(s=t[1+ ++n],s){case"/":i+=t.substring(o,n-1),o=n+1;break;case void 0:case"?":case"#":return i+t.substring(o,n)+t.substr(n+1);case".":if(s=t[1+ ++n],void 0===s||"/"===s||"?"===s||"#"===s){if(i+=t.substring(o,n-2),(o=i.lastIndexOf("/"))>=r&&(i=i.substr(0,o)),"/"!==s)return`${i}/${t.substr(n+1)}`;o=n+1}}}s=t[++n]}return i+t.substring(o)}parse(t,e,i){let n,r,o;if(e&&(e.onQuad||e.onPrefix||e.onComment)?(n=e.onQuad,r=e.onPrefix,o=e.onComment):(n=e,r=i),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${Cg++}_`,this._prefixCallback=r||hg,this._inversePredicate=!1,this._quantified=Object.create(null),!n){const e=[];let i;if(this._callback=(t,n)=>{t?i=t:n&&e.push(n)},this._lexer.tokenize(t).every((t=>this._readCallback=this._readCallback(t))),i)throw i;return e}let s=(t,e)=>{null!==t?(this._callback(t),this._callback=hg):this._readCallback&&(this._readCallback=this._readCallback(e))};o&&(this._lexer.comments=!0,s=(t,e)=>{null!==t?(this._callback(t),this._callback=hg):this._readCallback&&("comment"===e.type?o(e.value):this._readCallback=this._readCallback(e))}),this._callback=n,this._lexer.tokenize(t,s)}}function hg(){}function cg(t,e){t._factory=e,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=e.namedNode(Fa.rdf.first),t.RDF_REST=e.namedNode(Fa.rdf.rest),t.RDF_NIL=e.namedNode(Fa.rdf.nil),t.N3_FORALL=e.namedNode(Fa.r.forAll),t.N3_FORSOME=e.namedNode(Fa.r.forSome),t.ABBREVIATIONS={a:e.namedNode(Fa.rdf.type),"=":e.namedNode(Fa.owl.sameAs),">":e.namedNode(Fa.log.implies),"<":e.namedNode(Fa.log.isImpliedBy)},t.QUANTIFIERS_GRAPH=e.namedNode("urn:n3:quantifiers")}cg(Ig.prototype,qa);class dg extends Pa.Transform{constructor(t){super({decodeStrings:!0}),this._readableState.objectMode=!0;const e=new Ig(t);let i,n;const r={onQuad:(t,e)=>{t&&this.emit("error",t)||e&&this.push(e)},onPrefix:(t,e)=>{this.emit("prefix",t,e)}};t&&t.comments&&(r.onComment=t=>{this.emit("comment",t)}),e.parse({on:(t,e)=>{switch(t){case"data":i=e;break;case"end":n=e}}},r),this._transform=(t,e,n)=>{i(t),n()},this._flush=t=>{n(),t()}}import(t){return t.on("data",(t=>{this.write(t)})),t.on("end",(()=>{this.end()})),t.on("error",(t=>{this.emit("error",t)})),this}}const ug=class{constructor(t,{baseIRI:e="",factory:i=Ra,...n}={}){const r={blankNode:i.blankNode.bind(i),defaultGraph:i.defaultGraph.bind(i),literal:i.literal.bind(i),namedNode:i.namedNode.bind(i),quad:i.quad.bind(i),variable:i.variable.bind(i)},o=new dg({baseIRI:e,factory:r,...n});return t.pipe(o),Da(o)}},fg=class extends ha{constructor(t){super(ug,t)}};class pg{constructor(t,{bind:e=!1}={}){this._factories=t.slice();for(const t of this._factories){"function"==typeof t.prototype.init&&t.prototype.init.call(this);for(const i of t.exports||[])this[i]=e?t.prototype[i].bind(this):t.prototype[i]}}clone(){const t=new pg(this._factories);for(const e of t._factories)"function"==typeof e.prototype.clone&&e.prototype.clone.call(t,this);return t}}const vg=pg;var mg=i(3141);const yg=async function(t,e){const i=new mg.StringDecoder(e);let n="";for await(const e of t)n+=i.write(e);return n+=i.end(),n},bg=async function(t,e,i){const n="PUT"===e.method?"write":"read",r="read"===n?"from":"to";if(!i.ok)throw new Error(`can't ${n} data ${r} <${t.toString()}>[${i.status}]: ${await i.text()}`)},wg=new Map([["json","application/ld+json"],["n3","text/n3"],["nq","application/n-quads"],["nt","application/n-triples"],["rdf","application/rdf+xml"],["trig","application/trig"],["ttl","text/turtle"]]),xg=function(t,e){const i=new Headers,n=t.toString().match(/\.([a-z]+)$/),r=wg.get(n&&n[1]);return r&&i.set("content-type",r),{method:"PUT",headers:i,body:e}},kg={apply:(t,e,i)=>t(i[0]),get:(t,e)=>t(e)},Eg=function(t,{factory:e=Ra}={}){const i=(i="")=>e.namedNode(`${t}${i.raw||i}`);return"undefined"==typeof Proxy?i:new Proxy(i,kg)};class Sg{namespace(t){return Eg(t,{factory:this})}}Sg.exports=["namespace"];const Tg=Sg;class Og extends Map{constructor(t=[],{factory:e}){super(t),this.factory=e}resolve(t){if(t.value.includes("://"))return null;const[e,i]=t.value.split(":",2);return void 0===i?null:this.has(e)?this.factory.namedNode(`${this.get(e).value}${i}`):null}shrink(t){if(!t)return null;const[e]=[...this].filter((([,e])=>t.value.startsWith(e.value))).sort(((t,e)=>e[1].value.length-t[1].value.length));return void 0===e?null:this.factory.namedNode(`${e[0]}:${t.value.slice(e[1].value.length)}`)}import(t){return t.on("prefix",((t,e)=>{this.set(t,e)})),new Promise(((e,i)=>{(0,Pa.finished)(t,(t=>{t?i(t):e(this)}))}))}export(t){for(const[e,i]of this)t.emit("prefix",e,i);return this}}const _g=Og;class Rg{init(){this.prefixes=new _g([],{factory:this})}clone(t){if(t.prefixes)for(const[e,i]of t.prefixes)this.prefixes.set(e,i)}prefixMap(t){return new _g(t,{factory:this})}}Rg.exports=["prefixMap"];const Ng=Rg,Dg=function({factor:t,score:e}){return({dataset:i,graph:n,terms:r=[]})=>e({dataset:i,graph:n,terms:r}).map((e=>(e.score*=t,e)))},Pg=function(t){return"<"+t.value+">"},Mg=/["\\\\\n\r]/,jg=/["\\\\\n\r]/g,Lg={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r"};function Bg(t){return Lg[t]}const Fg=function t(e){if(!e)return null;if("BlankNode"===e.termType)return function(t){return"_:"+t.value}(e);if("DefaultGraph"===e.termType)return"";if("Literal"===e.termType)return function(t){const e=(i=t.value,Mg.test(i)?i.replace(jg,Bg):i);var i;return"http://www.w3.org/2001/XMLSchema#string"===t.datatype.value?'"'+e+'"':"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"===t.datatype.value?'"'+e+'"@'+t.language:'"'+e+'"^^'+Pg(t.datatype)}(e);if("NamedNode"===e.termType)return Pg(e);if("Quad"===e.termType||e.subject&&e.predicate&&e.object&&e.graph)return function(t,e){const i=e(t.subject),n=e(t.predicate),r=e(t.object),o=e(t.graph);return`${i} ${n} ${r} ${o?o+" ":""}.`}(e,t);if("Variable"===e.termType)return function(t){return"?"+t.value}(e);if(e[Symbol.iterator])return function(t,e){return[...t].map((t=>e(t))).join("\n")+"\n"}(e,t);throw new Error(`unknown termType ${e.termType}`)};class zg extends Set{constructor(t=[]){super(),this._index=new Map;for(const e of t)this.add(e)}add(t){return this._index.set(zg.key(t),t),super.add(t)}delete(t){const e=this._index.get(zg.key(t));return super.delete(e)}has(t){return this._index.has(zg.key(t))}static key(t){return t.map((t=>t&&Fg(t)||"undefined")).join(" ")}}const Vg=zg;class Gg extends Map{constructor(t=[]){super(),this._keys=new Map;for(const[e,i]of t)this.set(e,i)}delete(t){const e=Gg.key(t);return this._keys.delete(e),super.delete(e)}get(t){return super.get(Gg.key(t))}has(t){return super.has(Gg.key(t))}keys(){return new Vg(this._keys.values())}set(t,e){const i=Gg.key(t);return this._keys.set(i,t),super.set(i,e)}static key(t){return t.map((t=>t&&Fg(t)||"undefined")).join(" ")}}const Wg=Gg,Ug=function(t){return({dataset:e,graph:i,terms:n=[]})=>{const r=new Wg;for(let o=0;o<t.length;o++){const s=(0,t[o])({dataset:e,graph:i,terms:n});for(const t of s){const e=r.get([t.term,i]);e?e.score+=t.score:r.set([t.term,i],t)}}return[...r.values()]}};function Zg(t){const e=1/t.length;return Ug(t.map((t=>Dg({factor:e,score:t}))))}Zg.prioritized=function(t){const e=2/(t.length*(t.length+1)),i=t.map(((i,n)=>{const r=(t.length-n)*e;return Dg({factor:r,score:i})}));return Ug(i)};const Hg=Zg,Yg=function(t){return({dataset:e,graph:i,terms:n=[]})=>t.flatMap((t=>t({dataset:e,graph:i,terms:n})))};class Kg{constructor(t){if(this.index=new Map,t)for(const[e,i]of t)this.set(e,i)}get size(){return this.index.size}clear(){this.index.clear()}delete(t){return this.index.delete(Fg(t))}*entries(){for(const[,{term:t,value:e}]of this.index)yield[t,e]}forEach(t,e){for(const i of this.entries())t.call(e,i[1],i[0],this)}get(t){const e=this.index.get(Fg(t));return e&&e.value}has(t){return this.index.has(Fg(t))}*keys(){for(const[,{term:t}]of this.index)yield t}set(t,e){const i=Fg(t);return this.index.set(i,{term:t,value:e}),this}*values(){for(const[,{value:t}]of this.index)yield t}[Symbol.iterator](){return this.entries()[Symbol.iterator]()}}const Xg=Kg,Qg=function({graph:t,object:e,predicate:i,subject:n=!0}={}){const r={subject:n,predicate:i,object:e,graph:t};return({dataset:t,graph:e,terms:i=[]})=>{const n=new Xg;let o=0;const s=r=>{for(const s of i){const i=["subject"===r&&s,"predicate"===r&&s,"object"===r&&s,e||"graph"===r&&s],a=t.match(...i);for(const t of a){const e=t[r],i=n.get(e)||{count:0};n.has(e)||n.set(e,i),i.count++,o++}}};for(const t of["subject","predicate","object","graph"])r[t]&&s(t);const a=[];for(const[i,r]of n)a.push({dataset:t,graph:e,term:i,score:r.count/o});return a}},qg=function(t){const e=new Wg;for(const i of t){const t=e.get([i.term,i.graph]);t?t.score<i.score&&(e.delete([i.term,i.graph]),e.set([i.term,i.graph],i)):e.set([i.term,i.graph],i)}return[...e.values()]},Jg=function({graph:t,object:e,predicate:i,subject:n}){const r={subject:n,predicate:i,object:e,graph:t};return({dataset:t,graph:e,terms:i=[]})=>{for(const n of i){const i=[{dataset:t,graph:e,term:n,score:1}];if(r.subject&&r.subject.equals(n)&&t.match(n,null,null,e).size>0)return i;if(r.predicate&&r.predicate.equals(n)&&t.match(null,n,null,e).size>0)return i;if(r.object&&r.object.equals(n)&&t.match(null,null,n,e).size>0)return i;if(r.graph&&r.graph.equals(n)&&(!e||r.graph.equals(e))&&t.match(null,null,null,e).size>0)return i}return[]}},$g=function(t){return({dataset:e,graph:i,terms:n=[]})=>{for(const r of t){const t=r({dataset:e,graph:i,terms:n});if(t.length>0)return t}return[]}},tl=function(t){const e=t;return({dataset:t,graph:i,terms:n=[]})=>{for(const r of n)if(r.equals(e))return[{dataset:t,graph:i,term:r,score:1}];return[]}},el=function(t){const e=new Map;let i;for(const[n,r]of Object.entries(t)){const o=1-n/t.length;"*"===r?i=o:e.set(r,o)}return({dataset:t,graph:n,terms:r=[]})=>{const o=[];for(const s of r){let r=e.get(s.language);void 0===r&&"string"==typeof s.language&&i&&(r=i),void 0!==r&&o.push({dataset:t,graph:n,term:s,score:r})}return o}};function il(t){try{return Fg(t)}catch(t){return null}}class nl{constructor(t){if(this.index=new Map,t)for(const e of t)this.add(e)}get size(){return this.index.size}add(t){const e=Fg(t);return this.index.has(e)||this.index.set(e,t),this}clear(){this.index.clear()}delete(t){return!!t&&this.index.delete(il(t))}entries(){return this.values().entries()}forEach(t,e){return this.values().forEach(t,e)}has(t){return!!t&&this.index.has(il(t))}values(){return new Set(this.index.values())}keys(){return this.values()}[Symbol.iterator](){return this.index.values()}}const rl=nl,ol=function({alpha:t=.85,epsilon:e=1e-6}={}){return({dataset:i,graph:n,terms:r})=>{r=new rl(r);const o=new Xg,s=1/r.size;let a=1;for(const t of r){const e=i.match(null,null,t,n);o.set(t,{weight:s,outbound:e.size,subjects:[...e].map((t=>t.subject)).filter((t=>r.has(t)))})}for(;a>e;){const e=new Xg;let i=0;for(const[t,n]of o)e.set(t,n.weight),0===n.outbound&&(i+=n.weight),n.weight=0;i*=t;for(const[n,r]of o){for(const i of r.subjects)o.get(i).weight+=t*e.get(n)/r.outbound;r.weight+=(1-t)*s+i*s}a=0;for(const[t,i]of o)a+=Math.abs(i.weight-e.get(t))}const g=[];for(const[t,e]of o)g.push({dataset:i,graph:n,term:t,score:e.weight});return g}},sl=function(){return({dataset:t,graph:e,terms:i=[]})=>{const n=[];for(const r of i){let i=Number.EPSILON;if("NamedNode"===r.termType){let t=new URL(r.value).pathname;t.endsWith("/")&&(t=t.slice(0,-1)),i=1/t.split("/").length}n.push({dataset:t,graph:e,term:r,score:i})}return n}},al=function(t){return({dataset:e,graph:i,terms:n=[]})=>{const r=[],o=2/(t.length*(t.length+1));for(let s=0;s<t.length;s++){const a=(t.length-s)*o,g=Dg({factor:a,score:t[s]});for(const t of g({dataset:e,graph:i,terms:n}))r.push(t)}return r}},gl=function(t){return({dataset:e,graph:i,terms:n=[]})=>{if(0===t.length)return[];const r=t[0]({dataset:e,graph:i,terms:n}),o=new Wg(r.map((t=>[[t.term,i],t])));for(let r=1;r<t.length;r++){const s=t[r],a=o.keys(),g=s({dataset:e,graph:i,terms:n});for(const t of g){const e=o.get([t.term,i]);e&&(e.score*=t.score),a.delete([t.term,i])}for(const t of a)o.delete(t)}return[...o.values()]}},ll=function(t){return t.slice().sort(((t,e)=>{const i=e.score-t.score;return 0!==i?i:t.term.value.localeCompare(e.term.value)}))},Al=function({dataset:t,objects:e,score:i,termCallback:n=t=>t.term}={}){const r=new Xg(e.map((t=>[n(t),t]))),o=e.map((t=>n(t)));return ll(qg(i({dataset:t,terms:o}))).map((({term:t})=>r.get(t)))},Cl=function(t){const e={rdf:{type:Ra.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")}};return({dataset:i,graph:n,terms:r=[]})=>{const o=[];for(const s of r)for(const r of i.match(s,e.rdf.type,t,n))o.push({dataset:i,graph:r.graph,term:s,score:1});return o}};class Il{termMap(t){return new Xg(t)}}Il.exports=["termMap"];const hl=Il;class cl{termSet(t){return new rl(t)}}cl.exports=["termSet"];const dl=cl;class ul{constructor(){this.quadLevel=new Map}add(t,e){this.quadLevel.set(Fg(t),e)}has(t,e){const i=this.quadLevel.get(Fg(t));return void 0!==i&&i<=e}}function fl({backward:t,callback:e,dataset:i,filter:n,forward:r,term:o,visited:s=new ul}){const a=(o,g)=>{const l=o=>{for(const l of o){if(s.has(l,g))continue;s.add(l,g);const o={dataset:i,level:g,quad:l};n(o)&&(e(o),r&&a(l.object,g+1),t&&a(l.subject,g+1))}};r&&l(i.match(o)),t&&l(i.match(null,null,o))};a(o,0)}const pl=class{constructor(t,{backward:e=!1,factory:i,forward:n=!0}){this.backward=e,this.factory=i,this.filter=t,this.forward=n}forEach({term:t,dataset:e},i){fl({backward:this.backward,callback:i,dataset:e,filter:this.filter,forward:this.forward,term:t})}match({term:t,dataset:e}){const i=this.factory.dataset();return fl({backward:this.backward,callback:({quad:t})=>i.add(t),dataset:e,filter:this.filter,forward:this.forward,term:t}),i}reduce({term:t,dataset:e},i,n){let r=n;return fl({backward:this.backward,callback:t=>{r=i(t,r)},dataset:e,filter:this.filter,forward:this.forward,term:t}),r}};class vl{traverser(t,{backward:e=!1,forward:i=!0}={}){return new pl(t,{backward:e,factory:this,forward:i})}}vl.exports=["traverser"];const ml=vl;function yl(t,{factory:e}){const i=function(t,{factory:e}){const i=bl(t,{factory:e});return t=>{const n=i(t.subject),r=i(t.predicate),o=i(t.object);return n===t.subject&&r===t.predicate&&o===t.object?t:e.quad(n,r,o,t.graph)}}(t,{factory:e});return t=>{for(const e of[...t]){const n=i(e);n!==e&&(t.delete(e),t.add(n))}}}function bl(t,{factory:e}){return i=>"NamedNode"!==i.termType||/^[a-z]+:\/\//.test(i.value)?i:e.namedNode(new URL(i.value,t.value).toString())}const wl=/^[a-z][a-z0-9+.-]*:/;function xl(t,e,{factory:i}){const n=function(t,e,{factory:i}){const n=function(t,e,{factory:i}){return n=>"NamedNode"!==n.termType?n:n.value.startsWith(t.value)?wl.test(n.value)!==wl.test(t.value)?n:i.namedNode(e.value+n.value.slice(t.value.length)):n}(t,e,{factory:i});return t=>{const e=n(t.subject),r=n(t.predicate),o=n(t.object);return e===t.subject&&r===t.predicate&&o===t.object?t:i.quad(e,r,o,t.graph)}}(t,e,{factory:i});return t=>{for(const e of[...t]){const i=n(e);i!==e&&(t.delete(e),t.add(i))}}}function kl(t,e,{factory:i}){const n=function(t,e,{factory:i}){const n=function(t,e){return i=>i.equals(t)?e:i}(t,e);return t=>{const e=n(t.subject),r=n(t.predicate),o=n(t.object);return e===t.subject&&r===t.predicate&&o===t.object?t:i.quad(e,r,o,t.graph)}}(t,e,{factory:i});return e=>{const i=[...e.match(t),...e.match(null,t),...e.match(null,null,t)];for(const t of i){const i=n(t);i!==t&&(e.delete(t),e.add(i))}}}const El=class{constructor({dataset:t,end:e,quad:i,start:n}){this.dataset=t,this.end=e,this.quad=i,this.start=n}get term(){return this.quad[this.end]}get graph(){return this.quad.graph}get startTerm(){return this.quad[this.start]}},Sl=(Eg("http://www.w3.org/2001/XMLSchema#"),Eg("http://www.w3.org/1999/02/22-rdf-syntax-ns#"));Eg("http://www.w3.org/2000/01/rdf-schema#");class Tl{static add({ptr:t,start:e,end:i,subjects:n=[null],predicates:r=[null],objects:o=[null],graphs:s,callback:a}={}){if(!t.factory)throw new Error("add operation requires a factory");let g=()=>{};a&&(g=n=>{a(new El({dataset:t.dataset,start:e,end:i,quad:n}))});for(const i of n)for(const n of r)for(const r of o)for(const o of s){const s={subject:i,predicate:n,object:r,graph:o};s[e]=t.term;const a=t.factory.quad(s.subject,s.predicate,s.object,s.graph);t.dataset.add(a),g(a)}return t}static addList({ptr:t,predicates:e,items:i,graphs:n}){if(t.isAny())throw new Error("can't attach a list to an any ptr");for(const r of e)for(const e of n){const n=i.map((()=>t.factory.blankNode()));t.dataset.add(t.factory.quad(t.term,r,n[0]||Sl.nil,e));for(let r=0;r<n.length;r++)t.dataset.add(t.factory.quad(n[r],Sl.first,i[r],e)),t.dataset.add(t.factory.quad(n[r],Sl.rest,n[r+1]||Sl.nil,e))}return t}static delete({ptr:t,start:e,subjects:i=[null],predicates:n=[null],objects:r=[null]}){for(const o of i)for(const i of n)for(const n of r){const r={subject:o,predicate:i,object:n};r[e]=t.term;const s=t.dataset.match(r.subject,r.predicate,r.object);for(const e of s)t.dataset.delete(e)}return t}static deleteList({ptr:t,predicates:e}){const i=[];for(const n of e)for(const e of t.dataset.match(t.term,n)){let n=e.object;for(i.push(e);!Sl.nil.equals(n);){n=i[i.length-1].object;const e=t.dataset.match(n);if(0===e.size)break;for(const t of e)i.push(t)}}for(const e of i)t.dataset.delete(e);return t}static execute({ptr:t,operation:e="traverse",quantifier:i,start:n,end:r,subjects:o,predicates:s,objects:a,graphs:g,items:l,callback:A}={}){if("add"===e)return Tl.add({ptr:t,start:n,end:r,subjects:o,predicates:s,objects:a,graphs:g,callback:A});if("addList"===e)return Tl.addList({ptr:t,predicates:s,items:l,graphs:g});if("delete"===e)return Tl.delete({ptr:t,start:n,subjects:o,predicates:s,objects:a});if("deleteList"===e)return Tl.deleteList({ptr:t,predicates:s});if("isList"===e)return Tl.isList({ptr:t});if("list"===e)return Tl.list({ptr:t});if("traverse"===e)return Tl.traverse({ptr:t,quantifier:i,start:n,end:r,subjects:o,predicates:s,objects:a,graphs:g});throw new Error(`unknown operation ${e}`)}static isList({ptr:t}){return!t.isAny()&&(!!Sl.nil.equals(t.term)||1===Tl.traverse({ptr:t,predicates:[Sl.first]}).length)}static list({ptr:t}){if(t.isList())return{*[Symbol.iterator](){for(;t&&!t.term.equals(Sl.nil);){const e=t.out([Sl.first]);if(1!==e.length)throw new Error(`Invalid list: rdf:first count not equals one on ${t.value}`);const i=t.out([Sl.rest]);if(1!==i.length)throw new Error(`Invalid list: rdf:rest count not equals one on ${t.value}`);yield e[0],t=i[0]}}}}static traverse({ptr:t,quantifier:e="one",start:i="subject",end:n="object",subjects:r=[null],predicates:o=[null],objects:s=[null],graphs:a=[null],callback:g}){if("one"===e)return Tl.traverseOne({ptr:t,start:i,end:n,subjects:r,predicates:o,objects:s,graphs:a,callback:g});if("oneOrMore"===e){const e=Tl.traverse({ptr:t,end:n,start:i,subjects:r,predicates:o,objects:s,graphs:a,callback:g});return Tl.traverseMore({ptrs:e,end:n,start:i,subjects:r,predicates:o,objects:s,graphs:a,callback:g})}if("zeroOrMore"===e)return Tl.traverseMore({ptrs:[t],end:n,start:i,subjects:r,predicates:o,objects:s,graphs:a,callback:g});if("zeroOrOne"===e)return[t,...Tl.traverse({ptr:t,end:n,start:i,subjects:r,predicates:o,objects:s,graphs:a,callback:g})];throw new Error(`unknown quantifier ${e}`)}static traverseMore({ptrs:t,end:e,start:i,subjects:n,predicates:r,objects:o,graphs:s,callback:a}={}){let g,l,A=[...t];do{g=[];for(const l of t)g=[...g,...Tl.traverseOne({ptr:l,end:e,start:i,subjects:n,predicates:r,objects:o,graphs:s,callback:a})];l&&(g=g.filter((t=>!l.has(t.term)))),t=g,A=[...A,...g],l=new rl(A.map((t=>t.term)))}while(g.length>0);return A}static traverseOne({ptr:t,start:e,end:i,subjects:n,predicates:r,objects:o,graphs:s,callback:a=(t,e)=>e.extend(t)}={}){const g=[];for(const l of n)for(const n of r)for(const r of o)for(const o of s){const s={subject:l,predicate:n,object:r,graph:o};s[e]=t.term;for(const n of t.dataset.match(s.subject,s.predicate,s.object,s.graph))g.push(a(new El({dataset:t.dataset,end:i,quad:n,start:e}),t))}return g}}const Ol=Tl;function _l(t,e){return e?i=>e(t.extend(i)):()=>{}}const Rl=class{constructor({dataset:t,edges:e=[],factory:i,graph:n,term:r}){if(!t&&0===e.length)throw new Error("dataset or edges is required");if(0===e.length&&void 0===r)throw new Error("edges or term must be given");if(e.length>0&&r)throw new Error("edges or term must be given");this.dataset=t||e[e.length-1].dataset,this.edges=e,this.factory=i,this._graph=n,0===e.length&&(this._term=r)}get edge(){return this.edges[this.edges.length-1]}get graph(){return"object"==typeof this._graph?this._graph:this.edge&&this.edge.graph}get length(){return void 0!==this._term?1:this.edges.length+1}get startTerm(){return this._term||this.edges[0].startTerm}get term(){return void 0!==this._term?this._term:this.edge.term}get value(){const t=this.term;return null===t?void 0:t.value}addIn(t,e,i){return Ol.add({ptr:this,start:"object",end:"subject",subjects:e,predicates:t,graphs:[this.graph||this.factory.defaultGraph()],callback:_l(this,i)})}addList(t,e){return Ol.addList({ptr:this,predicates:t,graphs:[this.graph||this.factory.defaultGraph()],items:e})}addOut(t,e,i){return Ol.add({ptr:this,start:"subject",end:"object",predicates:t,objects:e,graphs:[this.graph||this.factory.defaultGraph()],callback:_l(this,i)})}deleteIn(t,e){return Ol.delete({ptr:this,start:"object",subjects:e,predicates:t})}deleteList(t){return Ol.deleteList({ptr:this,predicates:t})}deleteOut(t,e){return Ol.delete({ptr:this,start:"subject",predicates:t,objects:e})}execute({operation:t,quantifier:e,start:i,end:n,subjects:r,predicates:o,objects:s,graphs:a,items:g,callback:l}){return Ol.execute({ptr:this,operation:t,quantifier:e,start:i,end:n,subjects:r,predicates:o,objects:s,graphs:a,items:g,callback:l})}extend(t){return new this.constructor({dataset:this.dataset,edges:[...this.edges,t],factory:this.factory,graph:this._graph})}hasIn(t,e){return Ol.traverse({ptr:this,start:"object",end:"object",subjects:e,predicates:t,graphs:[this.graph]})}hasOut(t,e){return Ol.traverse({ptr:this,start:"subject",end:"subject",predicates:t,objects:e,graphs:[this.graph]})}in(t,e){return Ol.traverse({ptr:this,start:"object",end:"subject",subjects:e,predicates:t,graphs:[this.graph]})}isAny(){return!this.term}isList(){return Ol.isList({ptr:this})}list(){return Ol.list({ptr:this})}*nodes(){for(let t=0;t<this.length;t++)void 0!==this._term?yield{dataset:this.dataset,term:this._term}:this.edges.length>t?yield{dataset:this.edges[t].dataset,term:this.edges[t].startTerm}:this.edges.length===t&&(yield{dataset:this.edges[t-1].dataset,term:this.edges[t-1].term})}out(t,e){return Ol.traverse({ptr:this,predicates:t,objects:e,graphs:[this.graph]})}*quads(){for(const{quad:t}of this.edges)yield t}trim(){return new this.constructor({dataset:this.dataset,factory:this.factory,graph:this.graph,term:this.term})}},Nl=function(t,{factory:e}){if(null===t)return null;if(void 0===t)return;if("string"==typeof t)return e.literal(t);if("URL"===t.constructor.name)return e.namedNode(t.toString());if(t.termType)return t;const i=t.term;if(void 0!==i)return i;throw new Error(`can't convert ${t.toString()} to a Term object`)},Dl=function(t,{dataset:e,factory:i,graph:n}){return null===t?null:void 0!==t?function(t){return t instanceof Rl}(t)?t:function(t){return"object"==typeof t.term&&"object"==typeof t.dataset}(t)?new Rl({dataset:t.dataset,graph:t.graph,term:t.term,factory:t.factory||i}):new Rl({dataset:e,graph:n,term:Nl(t,{factory:i}),factory:i}):void 0},Pl=function(t,{factory:e}){try{t=[Nl(t,{factory:e})]}catch(t){}return t[Symbol.iterator]&&(t=[...t]),t.map((t=>Nl(t,{factory:e})))},Ml=function(t,e){return t?t.equals(e):t===e};function jl(t,e){return e?i=>e(new t.constructor({factory:t.factory,ptrs:[i]})):()=>{}}class Ll{constructor({dataset:t,factory:e,ptrs:i,terms:n,graphs:r}){if(this.factory=e,i)this.ptrs=[...i];else{this.ptrs=[];for(const i of n||[null])for(const n of r||[null])this.ptrs.push(new Rl({dataset:t,factory:e,graph:n,term:i}))}}get dataset(){const t=new Set(this.datasets);return 1!==t.size?null:t[Symbol.iterator]().next().value}get datasets(){return this.ptrs.map((t=>t.dataset))}get term(){const t=new rl(this.terms);if(1===t.size)return t[Symbol.iterator]().next().value}get terms(){return this.ptrs.map((t=>t.term))}get value(){const t=this.term;return null==t?void 0:t.value}get values(){return this.ptrs.map((t=>t.value))}addIn(t,e,i){const n=jl(this,i);for(const i of this.ptrs)i.addIn(t,e,n);return this}addList(t,e){if(this.isAny())throw new Error("can't attach a list to an any ptr");for(const i of this.ptrs)i.addList(t,e);return this}addOut(t,e,i){const n=jl(this,i);for(const i of this.ptrs)i.addOut(t,e,n);return this}clone(t){return new this.constructor({factory:this.factory,ptrs:this.ptrs,...t})}deleteIn(t,e){for(const i of this.ptrs)i.deleteIn(t,e);return this}deleteList(t){for(const e of this.ptrs)e.deleteList(t);return this}deleteOut(t,e){for(const i of this.ptrs)i.deleteOut(t,e);return this}distinct(){const t=this.ptrs.reduce(((t,e)=>(t.some((t=>{return n=e,(i=t).dataset===n.dataset&&!!Ml(i.graph,n.graph)&&!!Ml(i.term,n.term);var i,n}))||t.push(e.trim()),t)),[]);return this.clone({ptrs:t})}execute(t){return this.clone({ptrs:this.ptrs.flatMap((e=>e.execute(t)))})}executeAll(t){let e=this;for(const i of t)e=e.execute(i);return e}filter(t){return this.clone({ptrs:[...this].filter(t).map((t=>t.ptrs[0]))})}hasIn(t,e){return this.clone({ptrs:this.ptrs.flatMap((i=>i.hasIn(t,e)))})}hasOut(t,e){return this.clone({ptrs:this.ptrs.flatMap((i=>i.hasOut(t,e)))})}in(t,e){return this.clone({ptrs:this.ptrs.flatMap((i=>i.in(t,e)))})}isAny(){return this.ptrs.length>0&&this.ptrs.some((t=>t.isAny()))}isList(){return 1===this.ptrs.length&&this.ptrs[0].isList()}list(){if(!this.isList())return;const t=this.ptrs[0].list(),e=this;return function*(){for(const i of t)yield e.clone({ptrs:[i]})}()}map(t){return[...this].map(t)}node(t){const e=this.dataset,i=[...t].map((t=>new Rl({dataset:e,factory:this.factory,term:t})));return this.clone({ptrs:i})}out(t,e){return this.clone({ptrs:this.ptrs.flatMap((i=>i.out(t,e)))})}*quads(){for(const{edges:t}of this.ptrs)for(const{quad:e}of t)yield e}trim(){return this.clone({ptrs:this.ptrs.map((t=>t.trim()))})}*[Symbol.iterator](){for(const t of this.ptrs)yield this.clone({ptrs:[t]})}}const Bl=Ll,Fl=class extends Bl{constructor({dataset:t,factory:e,ptrs:i,term:n,terms:r,graph:o,graphs:s}){(n||r)&&(r=r||n),(o||s)&&(s=s||o),!i&&r&&(i=function(t,{dataset:e,factory:i,graph:n}){try{t=[Dl(t,{dataset:e,factory:i,graph:n})]}catch(t){}return t[Symbol.iterator]&&(t=[...t]),t.flatMap((t=>Pl(n,{factory:i}).flatMap((n=>Dl(t,{dataset:e,factory:i,graph:n})))))}(r,{dataset:t,factory:e,graph:s})),super({dataset:t,factory:e,ptrs:i,graphs:s})}_toTerm(t){return Nl(t,{factory:this.factory})}_toTermArray(t){return Pl(t,{factory:this.factory})}addIn(t,e,i){return"function"==typeof e&&(i=e,e=null),e||(e=[this.factory.blankNode()]),super.addIn(this._toTermArray(t),this._toTermArray(e),i)}addList(t,e){return super.addList(this._toTermArray(t),this._toTermArray(e))}addOut(t,e,i){return"function"==typeof e&&(i=e,e=null),e||(e=[this.factory.blankNode()]),super.addOut(this._toTermArray(t),this._toTermArray(e),i)}base(t){if(!t)throw new Error("base parameter is required");t=this._toTerm(t);for(const e of this.ptrs)yl(t,{factory:this.factory})(e.dataset);return this.node(bl(t,{factory:this.factory})(this.term))}best(t){return this.score(t,{limit:1})}deleteIn(t,e){return super.deleteIn(this._toTermArray(t),this._toTermArray(e))}deleteList(t){return super.deleteList(this._toTermArray(t))}deleteOut(t,e){return super.deleteOut(this._toTermArray(t),this._toTermArray(e))}hasIn(t,e){return super.hasIn(this._toTermArray(t),this._toTermArray(e))}hasOut(t,e){return super.hasOut(this._toTermArray(t),this._toTermArray(e))}in(t,e){return super.in(this._toTermArray(t),this._toTermArray(e))}out(t,e){return super.out(this._toTermArray(t),this._toTermArray(e))}node(t=null){return super.node(this._toTermArray(t))}rebase(t){if(!t)throw new Error("base parameter is required");t=this._toTerm(t);for(const e of this.ptrs)xl(e.term,t,{factory:this.factory})(e.dataset);return this.node(t)}replace(t){if(!t)throw new Error("replacement parameter is required");t=this._toTerm(t);for(const e of this.ptrs)kl(e.term,t,{factory:this.factory})(e.dataset);return this.node(t)}score(t,{limit:e=1/0,offset:i=0}={}){const n=(r=t(this),r.slice().sort(((t,e)=>{const i=e.score-t.score;return 0!==i?i:t.term.value.localeCompare(e.term.value)}))).slice(i,i+e).map((t=>new Rl({...t,factory:this.factory})));var r;return this.clone({ptrs:n})}};class zl{grapoi({...t}={}){return t.dataset||"function"!=typeof this.dataset||(t.dataset=this.dataset()),function(t){return new Fl(t)}({...t,factory:this})}}zl.exports=["grapoi"];const Vl=zl,Gl=class extends da{toCanonical(){return Fg(this)}toString(){return this.toCanonical()}},Wl=class extends fa{toCanonical(){return Fg(this)}toString(){return this.toCanonical()}},Ul=class extends ma{toCanonical(){return Fg(this)}toString(){return this.value}},Zl=class extends ba{toCanonical(){return Fg(this)}toString(){return this.value}toURL(){return new URL(this.value)}},Hl=class extends xa{toCanonical(){return Fg(this)}toString(){return this.toCanonical()}},Yl=class extends Ea{toCanonical(){return Fg(this)}toString(){return this.toCanonical()}},Kl=new Zl("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),Xl=new Zl("http://www.w3.org/2001/XMLSchema#string");class Ql{init(){this._data={blankNodeCounter:0,defaultGraph:new Wl}}namedNode(t){return"string"!=typeof t&&(t=t.toString()),new Zl(t)}blankNode(t){return t=t||"b"+ ++this._data.blankNodeCounter,new Gl(t)}literal(t,e){return"string"==typeof e?new Ul(t,e,Kl):new Ul(t,"",e||Xl)}variable(t){return new Yl(t)}defaultGraph(){return this._data.defaultGraph}quad(t,e,i,n=this.defaultGraph()){return new Hl(t,e,i,n)}fromTerm(t){return pa(this,t)}fromQuad(t){return pa(this,t)}}Ql.exports=["namedNode","blankNode","literal","variable","defaultGraph","quad","fromTerm","fromQuad"];const ql=Ql;function Jl(t){return"string"==typeof t||t instanceof String}function $l(t){if("string"==typeof t)return t;if(!t)return"";if(void 0!==t.id&&"Quad"!==t.termType)return t.id;let e,i,n,r;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return t.language?`"${t.value}"@${t.language}`:`"${t.value}"${t.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==t.datatype.value?`^^${t.datatype.value}`:""}`;case"Quad":return e=eA($l(t.subject)),i=eA($l(t.predicate)),n=eA($l(t.object)),r="DefaultGraph"===t.graph.termType?"":` ${$l(t.graph)}`,`<<${e} ${i} ${n}${r}>>`;default:throw new Error(`Unexpected termType: ${t.termType}`)}}const tA=/^"(.*".*)(?="[^"]*$)/;function eA(t){return t.replace(tA,((t,e)=>`"${e.replace(/"/g,'""')}`))}class iA{constructor(t){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,t)for(const e of t)this.add(e)}get size(){let t=this._size;if(null!==t)return t;t=0;const e=this._graphs;let i,n;for(const r in e)for(const o in i=e[r].subjects)for(const e in n=i[o])t+=Object.keys(n[e]).length;return this._size=t,this._size}add(t){let e=$l(t.subject),i=$l(t.predicate),n=$l(t.object);const r=$l(t.graph);let o=this._graphs[r];o||(o=this._graphs[r]={subjects:{},predicates:{},objects:{}},Object.freeze(o));const s=this._ids,a=this._entities;return e=s[e]||(s[a[++this._id]=e]=this._id),i=s[i]||(s[a[++this._id]=i]=this._id),n=s[n]||(s[a[++this._id]=n]=this._id),this._addToIndex(o.subjects,e,i,n),this._addToIndex(o.predicates,i,n,e),this._addToIndex(o.objects,n,e,i),this._setQuad(e,i,n,r,t),this._size=null,this}delete(t){let e=$l(t.subject),i=$l(t.predicate),n=$l(t.object);const r=$l(t.graph),o=this._ids,s=this._graphs;let a,g,l;if(!((e=o[e])&&(i=o[i])&&(n=o[n])&&(a=s[r])&&(g=a.subjects[e])&&(l=g[i])&&n in l))return this;for(e in this._removeFromIndex(a.subjects,e,i,n),this._removeFromIndex(a.predicates,i,n,e),this._removeFromIndex(a.objects,n,e,i),null!==this._size&&this._size--,this._deleteQuad(e,i,n,r),a.subjects)return this;return delete s[r],this}has(t){const e=$l(t.subject),i=$l(t.predicate),n=$l(t.object),r=$l(t.graph),o=this._graphs[r];if(!o)return!1;const s=this._ids;let a,g,l;return!(Jl(e)&&!(a=s[e])||Jl(i)&&!(g=s[i])||Jl(n)&&!(l=s[n]))&&1===this._countInIndex(o.objects,l,a,g)}match(t,e,i,n){return this._createDataset(this._match(t,e,i,n))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(t,e,i,n){const r=t[e]||(t[e]={}),o=r[i]||(r[i]={}),s=n in o;return s||(o[n]=null),!s}_removeFromIndex(t,e,i,n){const r=t[e],o=r[i];delete o[n];for(const t in o)return;delete r[i];for(const t in r)return;delete t[e]}_findInIndex(t,e,i,n,r,o,s,a,g,l){let A,C,I;e&&((A=t,t={})[e]=A[e]);for(const e in t)if(C=t[e],C){i&&((A=C,C={})[i]=A[i]);for(const t in C)if(I=C[t],I){const i=n?n in I?[n]:[]:Object.keys(I);for(let n=0;n<i.length;n++){const A={[r]:e,[o]:t,[s]:i[n]},C=this._getQuad(A.subject,A.predicate,A.object,a);if(l)l.push(C);else if(g(C))return!0}}}return l}_countInIndex(t,e,i,n){let r,o,s,a=0;e&&((r=t,t={})[e]=r[e]);for(const e in t)if(o=t[e],o){i&&((r=o,o={})[i]=r[i]);for(const t in o)s=o[t],s&&(n?n in s&&a++:a+=Object.keys(s).length)}return a}_getGraphs(t){return Jl(t)?{[t]:this._graphs[t]}:this._graphs}_match(t,e,i,n){t=t&&$l(t),e=e&&$l(e),i=i&&$l(i),n=n&&$l(n);const r=[],o=this._getGraphs(n),s=this._ids;let a,g,l,A;if(Jl(t)&&!(g=s[t])||Jl(e)&&!(l=s[e])||Jl(i)&&!(A=s[i]))return r;for(const t in o)a=o[t],a&&(g?A?this._findInIndex(a.objects,A,g,l,"object","subject","predicate",t,null,r):this._findInIndex(a.subjects,g,l,null,"subject","predicate","object",t,null,r):l?this._findInIndex(a.predicates,l,A,null,"predicate","object","subject",t,null,r):A?this._findInIndex(a.objects,A,null,null,"object","subject","predicate",t,null,r):this._findInIndex(a.subjects,null,null,null,"subject","predicate","object",t,null,r));return r}_getQuad(t,e,i,n){return this._quads.get(this._toId(t,e,i,n))}_setQuad(t,e,i,n,r){this._quads.set(this._toId(t,e,i,n),r)}_deleteQuad(t,e,i,n){this._quads.delete(this._toId(t,e,i,n))}_createDataset(t){return new this.constructor(t)}_toId(t,e,i,n){return`${t}:${e}:${i}:${n}`}}const nA=iA;var rA=i(202);function oA(t){return"BlankNode"===t.termType?{termType:"BlankNode",value:`_:${t.value}`}:t}const sA=function(t){return new rA({maxDeepIterations:500}).main(function(t){return[...t].map((t=>function(t){return{subject:oA(t.subject),predicate:oA(t.predicate),object:oA(t.object),graph:oA(t.graph)}}(t)))}(t))};function aA(t,e){return new t.constructor(e)}const gA=class extends nA{addAll(t){for(const e of t)this.add(e);return this}clone(){return aA(this,this)}deleteMatches(t,e,i,n){for(const r of this.match(t,e,i,n))this.delete(r);return this}difference(t){return this.filter((e=>!t.has(e)))}equals(t){return this.toCanonical()===t.toCanonical()}every(t){return Array.from(this).every((e=>t(e,this)))}filter(t){return aA(this,Array.from(this).filter((e=>t(e,this))))}forEach(t){Array.from(this).forEach((e=>t(e,this)))}import(t){return t.on("data",(t=>this.add(t))),new Promise(((e,i)=>{(0,Pa.finished)(t,(t=>{t?i(t):e(this)}))}))}intersection(t){return this.filter((e=>t.has(e)))}map(t){return aA(this,Array.from(this).map((e=>t(e,this))))}merge(t){return this.clone().addAll(t)}reduce(t,e){return Array.from(this).reduce(((e,i,n)=>t(e,i,n,this)),e)}some(t){return Array.from(this).some((e=>t(e,this)))}toCanonical(){return sA(this)}toStream(){return Pa.Readable.from(this)}toString(){return Fg(this)}};class lA{dataset(t,e){const i=new gA;if(t)if(e)for(const n of t)i.add(this.quad(n.subject,n.predicate,n.object,e));else i.addAll(t);return i}}lA.exports=["dataset"];const AA=lA,CA=async function(t={}){if(!t.body||!t.body.readable)return t;const e=await async function(t){const e=[];for await(const i of t)e.push(i);return e}(t.body);return e.length>0?1===e[0].BYTES_PER_ELEMENT?t.body=function(t){const e=t.reduce(((t,e)=>t+e.length),0),i=new Uint8Array(e);let n=0;for(const e of t)i.set(e,n),n+=e.length;return i}(e):t.body=e.join(""):t.body="",t};var IA=i(8059);class hA{constructor(t,e){this.obj=t;for(const[t,i]of Object.entries(e))this[t]=i;for(const e of hA.properties(t))e in this||("function"==typeof this.obj[e]?this[e]=(...i)=>this.obj[e].call(t,i):Object.defineProperty(this,e,{get:()=>this.obj[e],set:t=>{this.obj[e]=t},enumerable:!0,configurable:!0}))}static properties(t){return Object.getOwnPropertyNames(Object.getPrototypeOf(t))}}const cA=hA,dA=function(t){if(t.bodyUsed){const e=new Pa.Readable({read:()=>e.destroy(new Error("body already in use"))});return t.body=e,t}return t.body&&t.body.readable?t:t.body&&"function"==typeof t.body.getReader?new cA(t,{body:(i=t.body.getReader(),new Pa.Readable({read:async function(){try{let t,e;do{t=await i.read(),t.done?this.push(null):e=!this.push(t.value)}while(!t.done&&!e)}catch(t){this.destroy(t)}}}))}):(t.body=(e=()=>t.arrayBuffer(),new Pa.Readable({read:IA((async function(){try{this.push(new Uint8Array(await e())),this.push(null)}catch(t){this.destroy(t)}}))})),t);var e,i},uA=window.Headers;function fA(t,e){return CA(e).then((e=>fetch(t,e).then((t=>dA(t)))))}const pA=/<(.*)>/,vA=function(t,e,i){t.quadStream=async()=>{if(!t.headers.get("content-type"))throw new Error("Content-Type header missing: couldn't determine parser");let n=t.headers.get("content-type").split(";")[0];const r=function(t,e){if("application/json"!==e)return null;if(!t.headers.has("link"))return null;const i=t.headers.get("link").split(",").map((t=>t.trim())).find((t=>t.includes('rel="http://www.w3.org/ns/json-ld#context"')));if(!i)return null;const n=(pA.exec(i)||[]).slice(-1)[0];return n?new URL(n,t.url).toString():null}(t,n);if(r&&(n="application/ld+json"),!i.has(n))return Promise.reject(new Error(`unknown content type: ${n}`));let o;return r&&(o=await e(r).then((t=>t.json()))),i.import(n,t.body,{baseIRI:t.url,context:o})}};function mA(t){const e=function(e,i={}){const n="function"==typeof t.dataset?t:null;return async function(t,e={}){const i=e.factory,n=e.fetch||fA,r=e.formats;if(!r)throw new Error("no formats given");e=function(t,e){if(t.headers=new uA(t.headers),t.headers.has("accept")||t.headers.set("accept",[...e.parsers.keys()].join(", ")),!t.body)return t;if("string"==typeof t.body)return t;let i=t.headers.get("content-type");if(i&&!e.serializers.has(i))throw new Error(`no serializer found for media type: ${t.headers.get("content-type")}`);return i||(i=e.serializers.keys().next().value,t.headers.set("content-type",i)),!function(t,{checkOpen:e=!0}={}){return function(t,{checkOpen:e=!0}={}){return null!==t&&"object"==typeof t&&(t.writable||t.readable||!e||void 0===t.writable&&void 0===t.readable)&&"function"==typeof t.pipe}(t,{checkOpen:e})&&(t.readable||!e)&&"function"==typeof t.read&&"boolean"==typeof t.readable&&"boolean"==typeof t.readableObjectMode&&"function"==typeof t.destroy&&"boolean"==typeof t.destroyed}(t.body)&&t.body[Symbol.iterator]&&(t.body=Pa.Readable.from(t.body)),t.body=e.serializers.import(i,t.body,{prefixes:t.prefixes}),t}(e,r);return function(t,e,i,n){const r=[...t.headers.keys()].some((t=>t.startsWith("content-"))),o="chunked"===t.headers.get("transfer-encoding");return(r||o)&&(vA(t,i,n),e&&function(t,e){t.dataset=async()=>{const i=await t.quadStream();return async function(t,e){for await(const i of e)t.add(i);return t}(e.dataset(),i)}}(t,e)),t}(await n(t,e),i,n,r.parsers)}(e,{fetch:t._fetch.fetch,formats:t.formats,...i,factory:n})};return e.config=function(e,i){t._fetch[e]=i},e.Headers=uA,e}const yA=class{init(){this._fetch={fetch:null},this.fetch=mA(this)}clone(t){for(const[e,i]of Object.entries(t._fetch))this._fetch[e]=i}},bA=fA;var wA=i(8690);const xA="null:";const kA=class{constructor(t,{baseIRI:e=xA,context:i=null,documentLoader:n,factory:r=Ra}={}){const o=new wA.JsonLdParser({baseIRI:e,context:i,dataFactory:r,documentLoader:n,streamingProfile:!1});t.pipe(o);const s=function(t){const e=function(t){return e=>"NamedNode"!==e.termType?null:e.value.startsWith(xA)?t.namedNode(e.value.slice(5)):null}(t);return i=>{const n=e(i.subject),r=e(i.predicate),o=e(i.object),s=e(i.graph);return n||r||o||s?t.quad(n||i.subject,r||i.predicate,o||i.object,s||i.graph):i}}(r),a=new Pa.Transform({objectMode:!0,transform:(t,e,i)=>{i(null,s(t))}});return o.on("context",(t=>{Object.entries(t).forEach((([t,e])=>{a.emit("prefix",t,r.namedNode(e))}))})),o.on("error",(t=>a.destroy(t))),o.pipe(a),Da(a)}},EA=class{constructor(t){const e=new Pa.Transform({objectMode:!0,transform:(t,e,i)=>{i(null,`${Fg(t)}\n`)}});return t.pipe(e),Da(e)}},SA=class extends ha{constructor(){super(EA)}};Eg("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),Eg("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),Eg("http://www.w3.org/2001/XMLSchema#"),Pa.Readable;class TA extends Map{import(t,e,i){const n=this.get(t);return n?n.import(e,i):null}}const OA=TA,_A=class{constructor(t){this.stream=t,this.array=[]}push(t){this.array.push(t)}end(){this.stream.push(this.array),this.stream.push(null)}},RA=class{constructor(t){this.stream=t,this.first=!0,this.stream.push("[")}push(t){this.first?this.first=!1:this.stream.push(","),this.stream.push(JSON.stringify(t))}end(){this.stream.push("]"),this.stream.push(null)}};class NA extends Pa.Readable{constructor(t,{encoding:e="object"}={}){if(super({objectMode:!0,read:()=>{}}),"object"===e&&(this.encoder=new _A(this)),"string"===e&&(this.encoder=new RA(this)),!this.encoder)throw new Error(`unknown encoding: ${e}`);t.on("data",(t=>{const e={};let i=e;"DefaultGraph"!==t.graph.termType&&(e["@id"]=t.graph.value,e["@graph"]={},i=e["@graph"]),i["@id"]=NA.subjectValue(t.subject),"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===t.predicate.value?i["@type"]=NA.subjectValue(t.object):i[t.predicate.value]=NA.objectValue(t.object),this.encoder.push(e)})),t.on("end",(()=>this.encoder.end())),t.on("error",(t=>this.emit("error",t)))}static subjectValue(t){return"BlankNode"===t.termType?"_:"+t.value:t.value}static objectValue(t){return"NamedNode"===t.termType?{"@id":t.value}:"BlankNode"===t.termType?{"@id":"_:"+t.value}:t.language?{"@language":t.language,"@value":t.value}:t.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==t.datatype.value?{"@type":t.datatype.value,"@value":t.value}:t.value}}const DA=NA,PA=class extends ha{constructor(t){super(DA,t)}};i(4841),Pa.Readable;var MA=i(5611);class jA extends MA.RdfXmlParser{constructor({factory:t,...e}={}){super({...e,dataFactory:t})}}const LA=jA,BA={parsers:new OA([["application/ld+json",new class extends ha{constructor(t){super(kA,t)}}],["application/trig",new fg],["application/n-quads",new fg],["application/n-triples",new fg],["text/n3",new fg],["text/turtle",new fg],["application/rdf+xml",new LA]]),serializers:new OA([["application/ld+json",new class extends PA{constructor({...t}={}){super({...t,encoding:"string"})}}],["application/n-quads",new SA],["application/n-triples",new SA],["text/n3",new SA],["text/turtle",new SA]])},FA=class{constructor({factory:t}){this.factory=t,this.parsers=new OA,this.serializers=new OA}import(t){if(t.parsers)for(const[e,i]of t.parsers)this.parsers.set(e,new i.constructor({factory:this.factory}));if(t.serializers)for(const[e,i]of t.serializers)this.serializers.set(e,new i.constructor({factory:this.factory}));return this}},zA=class{init(){this.formats=new FA({factory:this})}clone(t){this.formats.import(t.formats)}},VA=new vg([ql,AA,class extends yA{init(){super.init(),this.fetch.config("fetch",bA)}},class extends zA{init(){super.init(),this.formats.import(BA)}},Vl,class{init(){this.io={dataset:{fromText:(t,e,i)=>async function(t,e,{factory:i,...n}){const r=i.formats.parsers.get(t);if(!r)throw new Error(`unknown media type: ${t}`);const o=i.dataset(),s=r.import(Pa.Readable.from([e]),n);for await(const t of s)o.add(t);return o}(t,e,{...i,factory:this}),fromURL:(t,e)=>async function(t,{factory:e,mediaType:i,...n}){const r=await e.fetch(t,{...n,method:"GET"});return await bg(t,{},r),i&&r.headers.set("content-type",i),r.dataset()}(t,{...e,factory:this}),toText:(t,e,i)=>async function(t,e,{factory:i,prefixes:n,...r}){const o=i.formats.serializers.get(t);if(!o)throw new Error(`unknown media type: ${t}`);const s=o.import(Pa.Readable.from(e),{...r,prefixes:n});return yg(s,"utf-8")}(t,e,{...i,factory:this}),toURL:(t,e,i)=>async function(t,e,{factory:i,prefixes:n,...r}){const o=xg(t,Pa.Readable.from(e)),s=await i.fetch(t,{...r,...o,prefixes:n});await bg(t,o,s)}(t,e,{...i,factory:this})},stream:{fromText:(t,e,i)=>function(t,e,{factory:i,...n}){const r=i.formats.parsers.get(t);return r?r.import(Pa.Readable.from([e]),n):new Pa.Readable({read(){this.destroy(new Error(`unknown media type: ${t}`))}})}(t,e,{...i,factory:this}),fromURL:(t,e)=>function(t,{factory:e,mediaType:i,...n}){const r=new Pa.PassThrough({objectMode:!0});return setTimeout((async()=>{try{const o=await e.fetch(t,{...n,method:"GET"});await bg(t,{},o),i&&o.headers.set("content-type",i),(await o.quadStream()).on("error",(t=>r.destroy(t))).pipe(r)}catch(t){r.destroy(t)}}),0),Da(r)}(t,{...e,factory:this}),toText:(t,e,i)=>async function(t,e,{factory:i,prefixes:n,...r}){const o=i.formats.serializers.get(t);if(!o)throw new Error(`unknown media type: ${t}`);const s=o.import(e,{...r,prefixes:n});return yg(s,"utf-8")}(t,e,{...i,factory:this}),toURL:(t,e,i)=>async function(t,e,{factory:i,prefixes:n,...r}){const o=xg(t,e),s=await i.fetch(t,{...r,...o,prefixes:n});await bg(t,o,s)}(t,{...i,factory:this})}}}},Tg,Ng,class{init(){this.score={combine:Hg,concat:Yg,count:Qg,distinct:qg,exists:Jg,fallback:$g,fixed:tl,language:el,pageRank:ol,pathDepth:sl,prioritized:al,product:gl,scale:Dg,sort:ll,sortObjects:Al,sum:Ug,type:Cl}}},hl,dl,ml],{bind:!0});class GA extends Pa.Readable{constructor(t){super(),this.data=t,this.pushed=!1}_read(){this.pushed||(this.push(this.data),this.push(null),this.pushed=!0)}}class WA{constructor(t){this.logger=t,this.parser=new fg({factory:VA})}parse(t,e={}){try{const i=new GA(t),n=this.parser.import(i),r=[];let o={};n.on("data",(t=>{e.onTriple&&e.onTriple(t),r.push(t)})),n.on("prefix",((t,e)=>{o[t]=e})),n.on("error",(t=>{e.onError&&e.onError(this._formatError(t))})),n.on("end",(()=>{try{const t=VA.dataset(r);e.onComplete&&e.onComplete(o,t)}catch(t){e.onError&&e.onError(this._formatError(t))}}))}catch(t){e.onError&&e.onError(this._formatError(t))}}_formatError(t){let e=1,i=0;const n=t.message.match(/line (\d+)/i);n&&(e=parseInt(n[1],10));const r=t.message.match(/column (\d+)/i);return r&&(i=parseInt(r[1],10)),{message:t.message,line:e,column:i}}parseTriples(t){return new Promise(((e,i)=>{const n=[];let r={};this.parse(t,{onError:t=>{i(t)},onTriple:t=>{n.push(t)},onComplete:(t,i)=>{r=t||{},e({triples:n,prefixes:r})}})}))}async isValid(t){try{return await this.parseTriples(t),!0}catch(t){return!1}}}class UA{static splitNamespace(t){if(t&&"object"==typeof t&&t.value&&(t=t.value),!t||"string"!=typeof t)return{namespace:"",name:""};if(this.isLiteral(t))return{namespace:"",name:t};const e=t.lastIndexOf("#"),i=t.lastIndexOf("/"),n=Math.max(e,i)+1;return n<=0?{namespace:"",name:t}:{namespace:t.substring(0,n),name:t.substring(n)}}static isLiteral(t){if(t&&"object"==typeof t){if("Literal"===t.termType)return!0;if(!t.value)return!1;t=t.value}return!(!t||"string"!=typeof t)&&(t.startsWith('"')||t.startsWith("'")||/^[+-]?\d+(\.\d+)?$/.test(t)||"true"===t||"false"===t)}static shrinkUri(t,e){if(t&&"object"==typeof t&&t.value&&(t=t.value),!t||"string"!=typeof t||this.isLiteral(t))return t;for(const[i,n]of Object.entries(e))if(t.startsWith(n))return`${i}:${t.substring(n.length)}`;return t}static expandPrefixed(t,e){if(t&&"object"==typeof t&&t.value&&(t=t.value),!t||"string"!=typeof t||this.isLiteral(t))return t;const i=t.indexOf(":");if(-1===i)return t;const n=t.substring(0,i),r=t.substring(i+1);return"a"===n?"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":e[n]?`${e[n]}${r}`:t}static extractBaseUri(t){if(!t||"string"!=typeof t)return null;const e=t.match(/@base\s+<([^>]+)>\s*\./);return e?e[1]:null}static extractPrefixes(t){if(!t||"string"!=typeof t)return{};const e={},i=/@prefix\s+([a-zA-Z0-9_-]+):\s+<([^>]+)>\s*\./g;let n;for(;null!==(n=i.exec(t));)e[n[1]]=n[2];return e}static getLabel(t,e,i=30){if(t&&"object"==typeof t){if("Literal"===t.termType){const e=t.value||"";return e.length<=i||0===i?`"${e}"${t.language?`@${t.language}`:""}`:`"${e.substring(0,i-3)}..."${t.language?`@${t.language}`:""}`}t.value&&(t=t.value)}if(!t||"string"!=typeof t)return"";if(this.isLiteral(t))return i>0&&t.length>i?`${t.substring(0,i-3)}...`:t;const n=this.shrinkUri(t,e);return n===t?this.splitNamespace(t).name||t:i>0&&n.length>i?`${n.substring(0,i-3)}...`:n}}const ZA=qs.define({name:"turtle",tokenTable:{prefix:bs.keyword,base:bs.keyword,prefixName:bs.definition,prefixDeclaration:bs.special(bs.variableName),iri:bs.special(bs.string),a:bs.atom,semicolon:bs.operator,dot:bs.operator,comma:bs.operator,type:bs.typeName,literal:bs.string,comment:bs.comment,bracket:bs.bracket,number:bs.number,boolean:bs.bool,predicate:bs.propertyName,datatype:bs.labelName,lang:bs.meta,error:bs.invalid,namespacePrefix:bs.moduleKeyword,localName:bs.variableName},startState:function(){return{inPrefix:!1,inBase:!1,inIri:!1,inString:!1,inComment:!1,inEscapeSequence:!1,stringDelimiter:null,prefixStart:!1,triplePartCnt:0,subject:null,predicate:null,object:null,lookingFor:"subject"}},token:function(t,e){if("#"===t.peek())return t.skipToEnd(),"comment";if(t.sol()&&("object"===e.lookingFor&&null!==e.predicate||(e.lookingFor="subject")),t.eatSpace())return null;if(t.match("@prefix",!0,!0))return e.inPrefix=!0,e.prefixStart=!0,"prefix";if(t.match("@base",!0,!0))return e.inBase=!0,"base";if(e.inPrefix&&e.prefixStart&&(t.match(/[a-zA-Z0-9_-]+:/,!0)||t.match(/:/,!0)))return e.prefixStart=!1,"prefixDeclaration";if(t.match(/a\b/,!0))return"predicate"===e.lookingFor&&(e.predicate=!0,e.lookingFor="object"),"a";if("<"===t.peek()){e.inIri=!0,t.next();const i=t.string.slice(t.pos).indexOf(">");if(-1!==i){if(t.pos+=i,t.next(),e.inIri=!1,e.inPrefix||e.inBase)e.inPrefix=!1,e.inBase=!1;else if("subject"===e.lookingFor)e.subject=!0,e.lookingFor="predicate";else{if("predicate"===e.lookingFor)return e.predicate=!0,e.lookingFor="object","predicate";"object"===e.lookingFor&&(e.object=!0,e.lookingFor="predicate")}return"iri"}return t.skipToEnd(),"iri"}if('"'===t.peek()||"'"===t.peek()){for(e.stringDelimiter=t.peek(),e.inString=!0,t.next(),'"'===e.stringDelimiter&&'"'===t.peek()&&'"'===t.string.charAt(t.pos+1)&&(t.next(),t.next(),e.stringDelimiter='"""'),"'"===e.stringDelimiter&&"'"===t.peek()&&"'"===t.string.charAt(t.pos+1)&&(t.next(),t.next(),e.stringDelimiter="'''");!t.eol();)if(e.inEscapeSequence)t.next(),e.inEscapeSequence=!1;else if("\\"!==t.peek()){if('"""'===e.stringDelimiter){if('"'===t.peek()&&'"'===t.string.charAt(t.pos+1)&&'"'===t.string.charAt(t.pos+2)){t.next(),t.next(),t.next(),e.inString=!1,e.stringDelimiter=null;break}}else if("'''"===e.stringDelimiter){if("'"===t.peek()&&"'"===t.string.charAt(t.pos+1)&&"'"===t.string.charAt(t.pos+2)){t.next(),t.next(),t.next(),e.inString=!1,e.stringDelimiter=null;break}}else if(t.peek()===e.stringDelimiter){t.next(),e.inString=!1,e.stringDelimiter=null;break}t.next()}else e.inEscapeSequence=!0,t.next();return e.inString||"@"!==t.peek()?e.inString||"^"!==t.peek()||"^"!==t.string.charAt(t.pos+1)?("object"===e.lookingFor&&(e.object=!0,e.lookingFor="predicate"),"literal"):(t.next(),t.next(),"datatype"):(t.next(),t.eatWhile(/[a-zA-Z0-9-]/),"lang")}return t.match(/[a-zA-Z0-9_-]+:/,!1)?(t.string.slice(t.pos).match(/^[a-zA-Z0-9_-]+:/)[0],t.match(/[a-zA-Z0-9_-]+:/,!0),"predicate"===e.lookingFor?(e.predicate=!0,e.lookingFor="object","namespacePrefix"):"namespacePrefix"):t.match(/[a-zA-Z0-9_\-.%]+/,!0)?("subject"===e.lookingFor?(e.subject=!0,e.lookingFor="predicate"):"object"===e.lookingFor&&(e.object=!0,e.lookingFor="predicate"),"localName"):"."===t.peek()?(t.next(),e.subject=null,e.predicate=null,e.object=null,e.lookingFor="subject","dot"):";"===t.peek()?(t.next(),e.predicate=null,e.object=null,e.lookingFor="predicate","semicolon"):","===t.peek()?(t.next(),e.object=null,e.lookingFor="object","comma"):t.match(/_:[a-zA-Z0-9_-]+/,!0)?("subject"===e.lookingFor?(e.subject=!0,e.lookingFor="predicate"):"object"===e.lookingFor&&(e.object=!0,e.lookingFor="predicate"),"type"):t.match(/[+-]?[0-9]+(\.[0-9]*)?([eE][+-]?[0-9]+)?/,!0)?("object"===e.lookingFor&&(e.object=!0,e.lookingFor="predicate"),"number"):t.match(/true|false/,!0)?("object"===e.lookingFor&&(e.object=!0,e.lookingFor="predicate"),"boolean"):t.match(/[\[\]\(\)]/,!0)?"bracket":(t.next(),"error")}}),HA=Vt.define();class YA extends _o{constructor(){super()}toDOM(){const t=document.createElement("div");return t.className="cm-error-gutter",t.textContent="⚠",t.title="Syntax error",t}}const KA=bt.define({create:()=>Si.none,update(t,e){t=t.map(e.changes);for(const i of e.effects)if(i.is(HA)){const{line:n,message:r}=i.value;if(n<=0)continue;let o=0;for(let t=1;t<n;t++){const i=e.state.doc.line(t).to;if(void 0===i)break;o=i+1}const s=e.state.doc.lineAt(o);t=Si.set([Si.line({class:"cm-error-line",attributes:{title:r}}).range(s.from)])}return t},provide:t=>wo.decorations.from(t)}),XA=(QA={class:"cm-error-gutter",markers:t=>{const e=t.state.field(KA,!1);return e?e.update({filter:e=>t.state.doc.lineAt(e).from===e,map:t=>Si.set([Si.widget({widget:new YA,side:-1}).range(t)])}):Si.none},initialSpacer:()=>new YA},[jo(),Po.of(Object.assign(Object.assign({},Do),QA))]);var QA;const qA=Vt.define(),JA=bt.define({create:()=>Si.none,update(t,e){t=t.map(e.changes);for(const t of e.effects)if(t.is(qA)){const i=t.value;if(!i)return Si.none;const n=e.state.doc.toString(),r=[],o=[`<${i}>`,UA.isLiteral(i)?null:UA.shrinkUri(i,{})].filter(Boolean);for(const t of o){let e=n.indexOf(t);for(;-1!==e;)r.push(Si.mark({class:"cm-highlight",attributes:{title:"Selected node"}}).range(e,e+t.length)),e=n.indexOf(t,e+t.length)}if(UA.isLiteral(i)){const t=i.startsWith('"')?i.substring(1,i.lastIndexOf('"')):i;let e=n.indexOf(t);for(;-1!==e;){const i=n.substring(Math.max(0,e-2),e),o=n.substring(e+t.length,Math.min(n.length,e+t.length+2));(i.includes('"')||o.includes('"')||i.includes("'")||o.includes("'"))&&r.push(Si.mark({class:"cm-highlight",attributes:{title:"Selected node"}}).range(e,e+t.length)),e=n.indexOf(t,e+t.length)}}return Si.set(r)}return t},provide:t=>wo.decorations.from(t)});class $A{constructor(t,e){this.element=t,this.logger=e,this.view=null,this.parser=new WA(e),this.changeCallbacks=[],this.syntaxCheckState="pending",this.prefixes={},this.dynamicNames={},this.syntaxCheckTimeout=null}initialize(){this._addSyntaxStyles();const t=Jt.create({doc:this.element.value,extensions:[Xo(),Oo,ZA,Ia,[KA,XA],[JA],wo.updateListener.of((t=>{t.docChanged&&this._onContentChange()}))]});this.view=new wo({state:t,parent:this.element.parentNode}),this.element.style.display="none",this._onContentChange(),this.logger.debug("Editor initialized with Turtle syntax highlighting")}_addSyntaxStyles(){const t=document.createElement("style");t.textContent="\n      /* CodeMirror 6 syntax highlighting */\n      .cm-content .tok-keyword { color: #7e57c2; font-weight: bold; }\n      .cm-content .tok-definition { color: #0277bd; font-weight: bold; }\n      .cm-content .tok-string { color: #d81b60; }\n      .cm-content .tok-comment { color: #546e7a; font-style: italic; }\n      .cm-content .tok-number { color: #00796b; }\n      .cm-content .tok-bool { color: #2e7d32; }\n      .cm-content .tok-operator { color: #ff6f00; font-weight: bold; }\n      .cm-content .tok-propertyName { color: #6200ea; font-weight: bold; }\n      .cm-content .tok-atom { color: #f57c00; font-weight: bold; }\n      .cm-content .tok-typeName { color: #039be5; }\n      .cm-content .tok-invalid { color: #c62828; text-decoration: wavy underline; }\n      .cm-content .tok-bracket { color: #616161; }\n      \n      /* Override for namespace URIs */\n      .cm-iri, .cm-content .cm-iri { color: #FFA500; font-weight: bold; }\n      \n      /* Node highlighting */\n      .cm-highlight {\n        background-color: rgba(144, 238, 144, 0.4);\n        border-radius: 2px;\n        transition: background-color 0.2s ease;\n        text-decoration: underline;\n        text-decoration-style: wavy;\n        text-decoration-color: darkgreen;\n      }\n\n      .cm-highlight:hover {\n        background-color: rgba(144, 238, 144, 0.7);\n      }\n\n      @keyframes highlight-pulse {\n        0% { background-color: rgba(144, 238, 144, 0.3); }\n        50% { background-color: rgba(144, 238, 144, 0.8); }\n        100% { background-color: rgba(144, 238, 144, 0.3); }\n      }\n\n      .cm-highlight.pulse {\n        animation: highlight-pulse 1s ease;\n      }\n    ",document.head.appendChild(t)}_onContentChange(){this.element.value=this.getValue(),clearTimeout(this.syntaxCheckTimeout),this.syntaxCheckTimeout=setTimeout((()=>{this.checkSyntax()}),500),this._notifyChangeListeners()}_notifyChangeListeners(){const t=this.getValue();this.changeCallbacks.forEach((e=>e(t)))}getValue(){return this.view?this.view.state.doc.toString():this.element.value}setValue(t){this.view?(this.view.dispatch({changes:{from:0,to:this.view.state.doc.length,insert:t}}),this.prefixes={},this.dynamicNames={},this.checkSyntax()):this.element.value=t}checkSyntax(){this.changeSyntaxCheckState("working");const t=this.getValue();t.trim()?this.parser.parse(t,{onError:t=>{this.changeSyntaxCheckState("failed",t.message),this.view&&t.line&&this.view.dispatch({effects:HA.of({line:t.line,message:t.message})})},onTriple:t=>{const e=UA.splitNamespace(t.subject),i=UA.splitNamespace(t.predicate),n=UA.splitNamespace(t.object);this._addToDynamicNames(e.namespace,e.name),this._addToDynamicNames(i.namespace,i.name),this._addToDynamicNames(n.namespace,n.name)},onComplete:t=>{this.prefixes=t||{},this.changeSyntaxCheckState("passed"),this.view&&this.view.dispatch({effects:HA.of({line:0,message:""})})}}):this.changeSyntaxCheckState("passed")}_addToDynamicNames(t,e){t&&e&&(this.dynamicNames[t]=this.dynamicNames[t]||{},this.dynamicNames[t][e]=!0)}highlightNode(t){if(!t||!this.view)return;this.view.dispatch({effects:qA.of(t)}),this.logger.debug(`Highlighting node: ${t}`);const e=this.view.state.doc.toString();let i=[`<${t}>`,UA.isLiteral(t)?null:UA.shrinkUri(t,this.prefixes)].filter(Boolean);UA.isLiteral(t)&&(i.push(t),t.startsWith('"')&&t.endsWith('"')&&i.push(t.substring(1,t.length-1)));let n=-1;for(const t of i){const i=e.indexOf(t);-1!==i&&(-1===n||i<n)&&(n=i)}-1!==n&&(this.view.state.doc.lineAt(n),this.view.dispatch({effects:wo.scrollIntoView(n,{y:"center"})}),setTimeout((()=>{document.querySelectorAll(".cm-highlight").forEach((t=>{t.classList.add("pulse"),setTimeout((()=>{t.classList.remove("pulse")}),1e3)}))}),100))}changeSyntaxCheckState(t,e){if(t===this.syntaxCheckState)return;this.syntaxCheckState=t;const i=new CustomEvent("syntax-check-state-change",{detail:{state:t,error:e}});document.dispatchEvent(i)}onChange(t){this.changeCallbacks.push(t)}offChange(t){const e=this.changeCallbacks.indexOf(t);-1!==e&&this.changeCallbacks.splice(e,1)}getPrefixes(){return this.prefixes}getDynamicNames(){return this.dynamicNames}}var tC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{};function eC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iC=function(t){return t&&t.Math===Math&&t},nC=iC("object"==typeof globalThis&&globalThis)||iC("object"==typeof window&&window)||iC("object"==typeof self&&self)||iC("object"==typeof tC&&tC)||function(){return this}()||tC||Function("return this")(),rC=function(t){try{return!!t()}catch(t){return!0}},oC=!rC((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),sC=oC,aC=Function.prototype,gC=aC.apply,lC=aC.call,AC="object"==typeof Reflect&&Reflect.apply||(sC?lC.bind(gC):function(){return lC.apply(gC,arguments)}),CC=oC,IC=Function.prototype,hC=IC.call,cC=CC&&IC.bind.bind(hC,hC),dC=CC?cC:function(t){return function(){return hC.apply(t,arguments)}},uC=dC,fC=uC({}.toString),pC=uC("".slice),vC=function(t){return pC(fC(t),8,-1)},mC=vC,yC=dC,bC=function(t){if("Function"===mC(t))return yC(t)},wC="object"==typeof document&&document.all,xC={all:wC,IS_HTMLDDA:void 0===wC&&void 0!==wC},kC=xC.all,EC=xC.IS_HTMLDDA?function(t){return"function"==typeof t||t===kC}:function(t){return"function"==typeof t},SC={},TC=!rC((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),OC=oC,_C=Function.prototype.call,RC=OC?_C.bind(_C):function(){return _C.apply(_C,arguments)},NC={},DC={}.propertyIsEnumerable,PC=Object.getOwnPropertyDescriptor,MC=PC&&!DC.call({1:2},1);NC.f=MC?function(t){var e=PC(this,t);return!!e&&e.enumerable}:DC;var jC,LC,BC=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},FC=rC,zC=vC,VC=Object,GC=dC("".split),WC=FC((function(){return!VC("z").propertyIsEnumerable(0)}))?function(t){return"String"===zC(t)?GC(t,""):VC(t)}:VC,UC=function(t){return null==t},ZC=UC,HC=TypeError,YC=function(t){if(ZC(t))throw new HC("Can't call method on "+t);return t},KC=WC,XC=YC,QC=function(t){return KC(XC(t))},qC=EC,JC=xC.all,$C=xC.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:qC(t)||t===JC}:function(t){return"object"==typeof t?null!==t:qC(t)},tI={},eI=tI,iI=nC,nI=EC,rI=function(t){return nI(t)?t:void 0},oI=function(t,e){return arguments.length<2?rI(eI[t])||rI(iI[t]):eI[t]&&eI[t][e]||iI[t]&&iI[t][e]},sI=dC({}.isPrototypeOf),aI="undefined"!=typeof navigator&&String(navigator.userAgent)||"",gI=nC,lI=aI,AI=gI.process,CI=gI.Deno,II=AI&&AI.versions||CI&&CI.version,hI=II&&II.v8;hI&&(LC=(jC=hI.split("."))[0]>0&&jC[0]<4?1:+(jC[0]+jC[1])),!LC&&lI&&(!(jC=lI.match(/Edge\/(\d+)/))||jC[1]>=74)&&(jC=lI.match(/Chrome\/(\d+)/))&&(LC=+jC[1]);var cI=LC,dI=cI,uI=rC,fI=nC.String,pI=!!Object.getOwnPropertySymbols&&!uI((function(){var t=Symbol("symbol detection");return!fI(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&dI&&dI<41})),vI=pI&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,mI=oI,yI=EC,bI=sI,wI=Object,xI=vI?function(t){return"symbol"==typeof t}:function(t){var e=mI("Symbol");return yI(e)&&bI(e.prototype,wI(t))},kI=String,EI=function(t){try{return kI(t)}catch(t){return"Object"}},SI=EC,TI=EI,OI=TypeError,_I=function(t){if(SI(t))return t;throw new OI(TI(t)+" is not a function")},RI=_I,NI=UC,DI=function(t,e){var i=t[e];return NI(i)?void 0:RI(i)},PI=RC,MI=EC,jI=$C,LI=TypeError,BI={exports:{}},FI=nC,zI=Object.defineProperty,VI="__core-js_shared__",GI=nC[VI]||function(t,e){try{zI(FI,t,{value:e,configurable:!0,writable:!0})}catch(i){FI[t]=e}return e}(VI,{}),WI=GI;(BI.exports=function(t,e){return WI[t]||(WI[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.0",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"});var UI=BI.exports,ZI=YC,HI=Object,YI=function(t){return HI(ZI(t))},KI=YI,XI=dC({}.hasOwnProperty),QI=Object.hasOwn||function(t,e){return XI(KI(t),e)},qI=dC,JI=0,$I=Math.random(),th=qI(1..toString),eh=function(t){return"Symbol("+(void 0===t?"":t)+")_"+th(++JI+$I,36)},ih=UI,nh=QI,rh=eh,oh=pI,sh=vI,ah=nC.Symbol,gh=ih("wks"),lh=sh?ah.for||ah:ah&&ah.withoutSetter||rh,Ah=function(t){return nh(gh,t)||(gh[t]=oh&&nh(ah,t)?ah[t]:lh("Symbol."+t)),gh[t]},Ch=RC,Ih=$C,hh=xI,ch=DI,dh=TypeError,uh=Ah("toPrimitive"),fh=function(t,e){if(!Ih(t)||hh(t))return t;var i,n=ch(t,uh);if(n){if(void 0===e&&(e="default"),i=Ch(n,t,e),!Ih(i)||hh(i))return i;throw new dh("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var i,n;if("string"===e&&MI(i=t.toString)&&!jI(n=PI(i,t)))return n;if(MI(i=t.valueOf)&&!jI(n=PI(i,t)))return n;if("string"!==e&&MI(i=t.toString)&&!jI(n=PI(i,t)))return n;throw new LI("Can't convert object to primitive value")}(t,e)},ph=xI,vh=function(t){var e=fh(t,"string");return ph(e)?e:e+""},mh=$C,yh=nC.document,bh=mh(yh)&&mh(yh.createElement),wh=function(t){return bh?yh.createElement(t):{}},xh=wh,kh=!TC&&!rC((function(){return 7!==Object.defineProperty(xh("div"),"a",{get:function(){return 7}}).a})),Eh=TC,Sh=RC,Th=NC,Oh=BC,_h=QC,Rh=vh,Nh=QI,Dh=kh,Ph=Object.getOwnPropertyDescriptor;SC.f=Eh?Ph:function(t,e){if(t=_h(t),e=Rh(e),Dh)try{return Ph(t,e)}catch(t){}if(Nh(t,e))return Oh(!Sh(Th.f,t,e),t[e])};var Mh=rC,jh=EC,Lh=/#|\.prototype\./,Bh=function(t,e){var i=zh[Fh(t)];return i===Gh||i!==Vh&&(jh(e)?Mh(e):!!e)},Fh=Bh.normalize=function(t){return String(t).replace(Lh,".").toLowerCase()},zh=Bh.data={},Vh=Bh.NATIVE="N",Gh=Bh.POLYFILL="P",Wh=Bh,Uh=_I,Zh=oC,Hh=bC(bC.bind),Yh=function(t,e){return Uh(t),void 0===e?t:Zh?Hh(t,e):function(){return t.apply(e,arguments)}},Kh={},Xh=TC&&rC((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Qh=$C,qh=String,Jh=TypeError,$h=function(t){if(Qh(t))return t;throw new Jh(qh(t)+" is not an object")},tc=TC,ec=kh,ic=Xh,nc=$h,rc=vh,oc=TypeError,sc=Object.defineProperty,ac=Object.getOwnPropertyDescriptor,gc="enumerable",lc="configurable",Ac="writable";Kh.f=tc?ic?function(t,e,i){if(nc(t),e=rc(e),nc(i),"function"==typeof t&&"prototype"===e&&"value"in i&&Ac in i&&!i[Ac]){var n=ac(t,e);n&&n[Ac]&&(t[e]=i.value,i={configurable:lc in i?i[lc]:n[lc],enumerable:gc in i?i[gc]:n[gc],writable:!1})}return sc(t,e,i)}:sc:function(t,e,i){if(nc(t),e=rc(e),nc(i),ec)try{return sc(t,e,i)}catch(t){}if("get"in i||"set"in i)throw new oc("Accessors not supported");return"value"in i&&(t[e]=i.value),t};var Cc=Kh,Ic=BC,hc=TC?function(t,e,i){return Cc.f(t,e,Ic(1,i))}:function(t,e,i){return t[e]=i,t},cc=nC,dc=AC,uc=bC,fc=EC,pc=SC.f,vc=Wh,mc=tI,yc=Yh,bc=hc,wc=QI,xc=function(t){var e=function(i,n,r){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(i);case 2:return new t(i,n)}return new t(i,n,r)}return dc(t,this,arguments)};return e.prototype=t.prototype,e},kc=function(t,e){var i,n,r,o,s,a,g,l,A,C=t.target,I=t.global,h=t.stat,c=t.proto,d=I?cc:h?cc[C]:(cc[C]||{}).prototype,u=I?mc:mc[C]||bc(mc,C,{})[C],f=u.prototype;for(o in e)n=!(i=vc(I?o:C+(h?".":"#")+o,t.forced))&&d&&wc(d,o),a=u[o],n&&(g=t.dontCallGetSet?(A=pc(d,o))&&A.value:d[o]),s=n&&g?g:e[o],n&&typeof a==typeof s||(l=t.bind&&n?yc(s,cc):t.wrap&&n?xc(s):c&&fc(s)?uc(s):s,(t.sham||s&&s.sham||a&&a.sham)&&bc(l,"sham",!0),bc(u,o,l),c&&(wc(mc,r=C+"Prototype")||bc(mc,r,{}),bc(mc[r],o,s),t.real&&f&&(i||!f[o])&&bc(f,o,s)))},Ec=Math.ceil,Sc=Math.floor,Tc=Math.trunc||function(t){var e=+t;return(e>0?Sc:Ec)(e)},Oc=function(t){var e=+t;return e!=e||0===e?0:Tc(e)},_c=Oc,Rc=Math.max,Nc=Math.min,Dc=function(t,e){var i=_c(t);return i<0?Rc(i+e,0):Nc(i,e)},Pc=Oc,Mc=Math.min,jc=function(t){return(e=t.length)>0?Mc(Pc(e),9007199254740991):0;var e},Lc=QC,Bc=Dc,Fc=jc,zc=function(t){return function(e,i,n){var r,o=Lc(e),s=Fc(o),a=Bc(n,s);if(t&&i!=i){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===i)return t||a||0;return!t&&-1}},Vc={includes:zc(!0),indexOf:zc(!1)},Gc={},Wc=QI,Uc=QC,Zc=Vc.indexOf,Hc=Gc,Yc=dC([].push),Kc=function(t,e){var i,n=Uc(t),r=0,o=[];for(i in n)!Wc(Hc,i)&&Wc(n,i)&&Yc(o,i);for(;e.length>r;)Wc(n,i=e[r++])&&(~Zc(o,i)||Yc(o,i));return o},Xc=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Qc=Kc,qc=Xc,Jc=Object.keys||function(t){return Qc(t,qc)},$c={};$c.f=Object.getOwnPropertySymbols;var td=TC,ed=dC,id=RC,nd=rC,rd=Jc,od=$c,sd=NC,ad=YI,gd=WC,ld=Object.assign,Ad=Object.defineProperty,Cd=ed([].concat),Id=!ld||nd((function(){if(td&&1!==ld({b:1},ld(Ad({},"a",{enumerable:!0,get:function(){Ad(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol("assign detection"),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach((function(t){e[t]=t})),7!==ld({},t)[i]||rd(ld({},e)).join("")!==n}))?function(t,e){for(var i=ad(t),n=arguments.length,r=1,o=od.f,s=sd.f;n>r;)for(var a,g=gd(arguments[r++]),l=o?Cd(rd(g),o(g)):rd(g),A=l.length,C=0;A>C;)a=l[C++],td&&!id(s,g,a)||(i[a]=g[a]);return i}:ld;kc({target:"Object",stat:!0,arity:2,forced:Object.assign!==Id},{assign:Id});var hd=eC(tI.Object.assign),cd=dC([].slice),dd=dC,ud=_I,fd=$C,pd=QI,vd=cd,md=oC,yd=Function,bd=dd([].concat),wd=dd([].join),xd={},kd=md?yd.bind:function(t){var e=ud(this),i=e.prototype,n=vd(arguments,1),r=function(){var i=bd(n,vd(arguments));return this instanceof r?function(t,e,i){if(!pd(xd,e)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";xd[e]=yd("C,a","return new C("+wd(n,",")+")")}return xd[e](t,i)}(e,i.length,i):e.apply(t,i)};return fd(i)&&(r.prototype=i),r},Ed=kd;kc({target:"Function",proto:!0,forced:Function.bind!==Ed},{bind:Ed});var Sd=tI,Td=function(t){return Sd[t+"Prototype"]},Od=Td("Function").bind,_d=sI,Rd=Od,Nd=Function.prototype,Dd=function(t){var e=t.bind;return t===Nd||_d(Nd,t)&&e===Nd.bind?Rd:e},Pd=eC(Dd);function Md(t,e,i,n){t.beginPath(),t.arc(e,i,n,0,2*Math.PI,!1),t.closePath()}function jd(t,e,i,n,r,o){var s=Math.PI/180;n-2*o<0&&(o=n/2),r-2*o<0&&(o=r/2),t.beginPath(),t.moveTo(e+o,i),t.lineTo(e+n-o,i),t.arc(e+n-o,i+o,o,270*s,360*s,!1),t.lineTo(e+n,i+r-o),t.arc(e+n-o,i+r-o,o,0,90*s,!1),t.lineTo(e+o,i+r),t.arc(e+o,i+r-o,o,90*s,180*s,!1),t.lineTo(e,i+o),t.arc(e+o,i+o,o,180*s,270*s,!1),t.closePath()}function Ld(t,e,i,n,r){var o=.5522848,s=n/2*o,a=r/2*o,g=e+n,l=i+r,A=e+n/2,C=i+r/2;t.beginPath(),t.moveTo(e,C),t.bezierCurveTo(e,C-a,A-s,i,A,i),t.bezierCurveTo(A+s,i,g,C-a,g,C),t.bezierCurveTo(g,C+a,A+s,l,A,l),t.bezierCurveTo(A-s,l,e,C+a,e,C),t.closePath()}function Bd(t,e,i,n,r){var o=r*(1/3),s=.5522848,a=n/2*s,g=o/2*s,l=e+n,A=i+o,C=e+n/2,I=i+o/2,h=i+(r-o/2),c=i+r;t.beginPath(),t.moveTo(l,I),t.bezierCurveTo(l,I+g,C+a,A,C,A),t.bezierCurveTo(C-a,A,e,I+g,e,I),t.bezierCurveTo(e,I-g,C-a,i,C,i),t.bezierCurveTo(C+a,i,l,I-g,l,I),t.lineTo(l,h),t.bezierCurveTo(l,h+g,C+a,c,C,c),t.bezierCurveTo(C-a,c,e,h+g,e,h),t.lineTo(e,I)}function Fd(t,e,i,n,r,o){t.beginPath(),t.moveTo(e,i);for(var s=o.length,a=n-e,g=r-i,l=g/a,A=Math.sqrt(a*a+g*g),C=0,I=!0,h=0,c=+o[0];A>=.1;)(c=+o[C++%s])>A&&(c=A),h=Math.sqrt(c*c/(1+l*l)),e+=h=a<0?-h:h,i+=l*h,!0===I?t.lineTo(e,i):t.moveTo(e,i),A-=c,I=!I}var zd={circle:Md,dashedLine:Fd,database:Bd,diamond:function(t,e,i,n){t.beginPath(),t.lineTo(e,i+n),t.lineTo(e+n,i),t.lineTo(e,i-n),t.lineTo(e-n,i),t.closePath()},ellipse:Ld,ellipse_vis:Ld,hexagon:function(t,e,i,n){t.beginPath();var r=2*Math.PI/6;t.moveTo(e+n,i);for(var o=1;o<6;o++)t.lineTo(e+n*Math.cos(r*o),i+n*Math.sin(r*o));t.closePath()},roundRect:jd,square:function(t,e,i,n){t.beginPath(),t.rect(e-n,i-n,2*n,2*n),t.closePath()},star:function(t,e,i,n){t.beginPath(),i+=.1*(n*=.82);for(var r=0;r<10;r++){var o=r%2==0?1.3*n:.5*n;t.lineTo(e+o*Math.sin(2*r*Math.PI/10),i-o*Math.cos(2*r*Math.PI/10))}t.closePath()},triangle:function(t,e,i,n){t.beginPath(),i+=.275*(n*=1.15);var r=2*n,o=r/2,s=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-o*o);t.moveTo(e,i-(a-s)),t.lineTo(e+o,i+s),t.lineTo(e-o,i+s),t.lineTo(e,i-(a-s)),t.closePath()},triangleDown:function(t,e,i,n){t.beginPath(),i-=.275*(n*=1.15);var r=2*n,o=r/2,s=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-o*o);t.moveTo(e,i+(a-s)),t.lineTo(e+o,i-s),t.lineTo(e-o,i-s),t.lineTo(e,i+(a-s)),t.closePath()}};function Vd(t,e){void 0===e&&(e={});var i=e.insertAt;if(t&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===i&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}Vd(".vis-overlay {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n\n  /* Must be displayed above for example selected Timeline items */\n  z-index: 10;\n}\n\n.vis-active {\n  box-shadow: 0 0 10px #86d5f8;\n}\n"),Vd('/* override some bootstrap styles screwing up the timelines css */\n\n.vis [class*="span"] {\n  min-height: 0;\n  width: auto;\n}\n'),Vd("div.vis-color-picker {\n  position: absolute;\n  top: 0px;\n  left: 30px;\n  margin-top: -140px;\n  margin-left: 30px;\n  width: 310px;\n  height: 444px;\n  z-index: 1;\n  padding: 10px;\n  border-radius: 15px;\n  background-color: #ffffff;\n  display: none;\n  box-shadow: rgba(0, 0, 0, 0.5) 0px 0px 10px 0px;\n}\n\ndiv.vis-color-picker div.vis-arrow {\n  position: absolute;\n  top: 147px;\n  left: 5px;\n}\n\ndiv.vis-color-picker div.vis-arrow::after,\ndiv.vis-color-picker div.vis-arrow::before {\n  right: 100%;\n  top: 50%;\n  border: solid transparent;\n  content: \" \";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\ndiv.vis-color-picker div.vis-arrow:after {\n  border-color: rgba(255, 255, 255, 0);\n  border-right-color: #ffffff;\n  border-width: 30px;\n  margin-top: -30px;\n}\n\ndiv.vis-color-picker div.vis-color {\n  position: absolute;\n  width: 289px;\n  height: 289px;\n  cursor: pointer;\n}\n\ndiv.vis-color-picker div.vis-brightness {\n  position: absolute;\n  top: 313px;\n}\n\ndiv.vis-color-picker div.vis-opacity {\n  position: absolute;\n  top: 350px;\n}\n\ndiv.vis-color-picker div.vis-selector {\n  position: absolute;\n  top: 137px;\n  left: 137px;\n  width: 15px;\n  height: 15px;\n  border-radius: 15px;\n  border: 1px solid #ffffff;\n  background: #4c4c4c; /* Old browsers */\n  background: -moz-linear-gradient(\n    top,\n    #4c4c4c 0%,\n    #595959 12%,\n    #666666 25%,\n    #474747 39%,\n    #2c2c2c 50%,\n    #000000 51%,\n    #111111 60%,\n    #2b2b2b 76%,\n    #1c1c1c 91%,\n    #131313 100%\n  ); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #4c4c4c),\n    color-stop(12%, #595959),\n    color-stop(25%, #666666),\n    color-stop(39%, #474747),\n    color-stop(50%, #2c2c2c),\n    color-stop(51%, #000000),\n    color-stop(60%, #111111),\n    color-stop(76%, #2b2b2b),\n    color-stop(91%, #1c1c1c),\n    color-stop(100%, #131313)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #4c4c4c 0%,\n    #595959 12%,\n    #666666 25%,\n    #474747 39%,\n    #2c2c2c 50%,\n    #000000 51%,\n    #111111 60%,\n    #2b2b2b 76%,\n    #1c1c1c 91%,\n    #131313 100%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #4c4c4c 0%,\n    #595959 12%,\n    #666666 25%,\n    #474747 39%,\n    #2c2c2c 50%,\n    #000000 51%,\n    #111111 60%,\n    #2b2b2b 76%,\n    #1c1c1c 91%,\n    #131313 100%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(\n    top,\n    #4c4c4c 0%,\n    #595959 12%,\n    #666666 25%,\n    #474747 39%,\n    #2c2c2c 50%,\n    #000000 51%,\n    #111111 60%,\n    #2b2b2b 76%,\n    #1c1c1c 91%,\n    #131313 100%\n  ); /* IE10+ */\n  background: linear-gradient(\n    to bottom,\n    #4c4c4c 0%,\n    #595959 12%,\n    #666666 25%,\n    #474747 39%,\n    #2c2c2c 50%,\n    #000000 51%,\n    #111111 60%,\n    #2b2b2b 76%,\n    #1c1c1c 91%,\n    #131313 100%\n  ); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#4c4c4c', endColorstr='#131313',GradientType=0 ); /* IE6-9 */\n}\n\ndiv.vis-color-picker div.vis-new-color {\n  position: absolute;\n  width: 140px;\n  height: 20px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  top: 380px;\n  left: 159px;\n  text-align: right;\n  padding-right: 2px;\n  font-size: 10px;\n  color: rgba(0, 0, 0, 0.4);\n  vertical-align: middle;\n  line-height: 20px;\n}\n\ndiv.vis-color-picker div.vis-initial-color {\n  position: absolute;\n  width: 140px;\n  height: 20px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  top: 380px;\n  left: 10px;\n  text-align: left;\n  padding-left: 2px;\n  font-size: 10px;\n  color: rgba(0, 0, 0, 0.4);\n  vertical-align: middle;\n  line-height: 20px;\n}\n\ndiv.vis-color-picker div.vis-label {\n  position: absolute;\n  width: 300px;\n  left: 10px;\n}\n\ndiv.vis-color-picker div.vis-label.vis-brightness {\n  top: 300px;\n}\n\ndiv.vis-color-picker div.vis-label.vis-opacity {\n  top: 338px;\n}\n\ndiv.vis-color-picker div.vis-button {\n  position: absolute;\n  width: 68px;\n  height: 25px;\n  border-radius: 10px;\n  vertical-align: middle;\n  text-align: center;\n  line-height: 25px;\n  top: 410px;\n  border: 2px solid #d9d9d9;\n  background-color: #f7f7f7;\n  cursor: pointer;\n}\n\ndiv.vis-color-picker div.vis-button.vis-cancel {\n  /*border:2px solid #ff4e33;*/\n  /*background-color: #ff7761;*/\n  left: 5px;\n}\ndiv.vis-color-picker div.vis-button.vis-load {\n  /*border:2px solid #a153e6;*/\n  /*background-color: #cb8dff;*/\n  left: 82px;\n}\ndiv.vis-color-picker div.vis-button.vis-apply {\n  /*border:2px solid #4588e6;*/\n  /*background-color: #82b6ff;*/\n  left: 159px;\n}\ndiv.vis-color-picker div.vis-button.vis-save {\n  /*border:2px solid #45e655;*/\n  /*background-color: #6dff7c;*/\n  left: 236px;\n}\n\ndiv.vis-color-picker input.vis-range {\n  width: 290px;\n  height: 20px;\n}\n\n/* TODO: is this redundant?\ndiv.vis-color-picker input.vis-range-brightness {\n  width: 289px !important;\n}\n\n\ndiv.vis-color-picker input.vis-saturation-range {\n  width: 289px !important;\n}*/\n"),Vd("div.vis-configuration {\n  position: relative;\n  display: block;\n  float: left;\n  font-size: 12px;\n}\n\ndiv.vis-configuration-wrapper {\n  display: block;\n  width: 700px;\n}\n\ndiv.vis-configuration-wrapper::after {\n  clear: both;\n  content: \"\";\n  display: block;\n}\n\ndiv.vis-configuration.vis-config-option-container {\n  display: block;\n  width: 495px;\n  background-color: #ffffff;\n  border: 2px solid #f7f8fa;\n  border-radius: 4px;\n  margin-top: 20px;\n  left: 10px;\n  padding-left: 5px;\n}\n\ndiv.vis-configuration.vis-config-button {\n  display: block;\n  width: 495px;\n  height: 25px;\n  vertical-align: middle;\n  line-height: 25px;\n  background-color: #f7f8fa;\n  border: 2px solid #ceced0;\n  border-radius: 4px;\n  margin-top: 20px;\n  left: 10px;\n  padding-left: 5px;\n  cursor: pointer;\n  margin-bottom: 30px;\n}\n\ndiv.vis-configuration.vis-config-button.hover {\n  background-color: #4588e6;\n  border: 2px solid #214373;\n  color: #ffffff;\n}\n\ndiv.vis-configuration.vis-config-item {\n  display: block;\n  float: left;\n  width: 495px;\n  height: 25px;\n  vertical-align: middle;\n  line-height: 25px;\n}\n\ndiv.vis-configuration.vis-config-item.vis-config-s2 {\n  left: 10px;\n  background-color: #f7f8fa;\n  padding-left: 5px;\n  border-radius: 3px;\n}\ndiv.vis-configuration.vis-config-item.vis-config-s3 {\n  left: 20px;\n  background-color: #e4e9f0;\n  padding-left: 5px;\n  border-radius: 3px;\n}\ndiv.vis-configuration.vis-config-item.vis-config-s4 {\n  left: 30px;\n  background-color: #cfd8e6;\n  padding-left: 5px;\n  border-radius: 3px;\n}\n\ndiv.vis-configuration.vis-config-header {\n  font-size: 18px;\n  font-weight: bold;\n}\n\ndiv.vis-configuration.vis-config-label {\n  width: 120px;\n  height: 25px;\n  line-height: 25px;\n}\n\ndiv.vis-configuration.vis-config-label.vis-config-s3 {\n  width: 110px;\n}\ndiv.vis-configuration.vis-config-label.vis-config-s4 {\n  width: 100px;\n}\n\ndiv.vis-configuration.vis-config-colorBlock {\n  top: 1px;\n  width: 30px;\n  height: 19px;\n  border: 1px solid #444444;\n  border-radius: 2px;\n  padding: 0px;\n  margin: 0px;\n  cursor: pointer;\n}\n\ninput.vis-configuration.vis-config-checkbox {\n  left: -5px;\n}\n\ninput.vis-configuration.vis-config-rangeinput {\n  position: relative;\n  top: -5px;\n  width: 60px;\n  /*height:13px;*/\n  padding: 1px;\n  margin: 0;\n  pointer-events: none;\n}\n\ninput.vis-configuration.vis-config-range {\n  /*removes default webkit styles*/\n  -webkit-appearance: none;\n\n  /*fix for FF unable to apply focus style bug */\n  border: 0px solid white;\n  background-color: rgba(0, 0, 0, 0);\n\n  /*required for proper track sizing in FF*/\n  width: 300px;\n  height: 20px;\n}\ninput.vis-configuration.vis-config-range::-webkit-slider-runnable-track {\n  width: 300px;\n  height: 5px;\n  background: #dedede; /* Old browsers */\n  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #dedede),\n    color-stop(99%, #c8c8c8)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #dedede 0%,\n    #c8c8c8 99%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #dedede 0%,\n    #c8c8c8 99%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */\n  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */\n\n  border: 1px solid #999999;\n  box-shadow: #aaaaaa 0px 0px 3px 0px;\n  border-radius: 3px;\n}\ninput.vis-configuration.vis-config-range::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  border: 1px solid #14334b;\n  height: 17px;\n  width: 17px;\n  border-radius: 50%;\n  background: #3876c2; /* Old browsers */\n  background: -moz-linear-gradient(top, #3876c2 0%, #385380 100%); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #3876c2),\n    color-stop(100%, #385380)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #3876c2 0%,\n    #385380 100%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #3876c2 0%,\n    #385380 100%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(top, #3876c2 0%, #385380 100%); /* IE10+ */\n  background: linear-gradient(to bottom, #3876c2 0%, #385380 100%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#3876c2', endColorstr='#385380',GradientType=0 ); /* IE6-9 */\n  box-shadow: #111927 0px 0px 1px 0px;\n  margin-top: -7px;\n}\ninput.vis-configuration.vis-config-range:focus {\n  outline: none;\n}\ninput.vis-configuration.vis-config-range:focus::-webkit-slider-runnable-track {\n  background: #9d9d9d; /* Old browsers */\n  background: -moz-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #9d9d9d),\n    color-stop(99%, #c8c8c8)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #9d9d9d 0%,\n    #c8c8c8 99%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #9d9d9d 0%,\n    #c8c8c8 99%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* IE10+ */\n  background: linear-gradient(to bottom, #9d9d9d 0%, #c8c8c8 99%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#9d9d9d', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */\n}\n\ninput.vis-configuration.vis-config-range::-moz-range-track {\n  width: 300px;\n  height: 10px;\n  background: #dedede; /* Old browsers */\n  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #dedede),\n    color-stop(99%, #c8c8c8)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #dedede 0%,\n    #c8c8c8 99%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #dedede 0%,\n    #c8c8c8 99%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */\n  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */\n\n  border: 1px solid #999999;\n  box-shadow: #aaaaaa 0px 0px 3px 0px;\n  border-radius: 3px;\n}\ninput.vis-configuration.vis-config-range::-moz-range-thumb {\n  border: none;\n  height: 16px;\n  width: 16px;\n\n  border-radius: 50%;\n  background: #385380;\n}\n\n/*hide the outline behind the border*/\ninput.vis-configuration.vis-config-range:-moz-focusring {\n  outline: 1px solid white;\n  outline-offset: -1px;\n}\n\ninput.vis-configuration.vis-config-range::-ms-track {\n  width: 300px;\n  height: 5px;\n\n  /*remove bg colour from the track, we'll use ms-fill-lower and ms-fill-upper instead */\n  background: transparent;\n\n  /*leave room for the larger thumb to overflow with a transparent border */\n  border-color: transparent;\n  border-width: 6px 0;\n\n  /*remove default tick marks*/\n  color: transparent;\n}\ninput.vis-configuration.vis-config-range::-ms-fill-lower {\n  background: #777;\n  border-radius: 10px;\n}\ninput.vis-configuration.vis-config-range::-ms-fill-upper {\n  background: #ddd;\n  border-radius: 10px;\n}\ninput.vis-configuration.vis-config-range::-ms-thumb {\n  border: none;\n  height: 16px;\n  width: 16px;\n  border-radius: 50%;\n  background: #385380;\n}\ninput.vis-configuration.vis-config-range:focus::-ms-fill-lower {\n  background: #888;\n}\ninput.vis-configuration.vis-config-range:focus::-ms-fill-upper {\n  background: #ccc;\n}\n\n.vis-configuration-popup {\n  position: absolute;\n  background: rgba(57, 76, 89, 0.85);\n  border: 2px solid #f2faff;\n  line-height: 30px;\n  height: 30px;\n  width: 150px;\n  text-align: center;\n  color: #ffffff;\n  font-size: 14px;\n  border-radius: 4px;\n  -webkit-transition: opacity 0.3s ease-in-out;\n  -moz-transition: opacity 0.3s ease-in-out;\n  transition: opacity 0.3s ease-in-out;\n}\n.vis-configuration-popup:after,\n.vis-configuration-popup:before {\n  left: 100%;\n  top: 50%;\n  border: solid transparent;\n  content: \" \";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.vis-configuration-popup:after {\n  border-color: rgba(136, 183, 213, 0);\n  border-left-color: rgba(57, 76, 89, 0.85);\n  border-width: 8px;\n  margin-top: -8px;\n}\n.vis-configuration-popup:before {\n  border-color: rgba(194, 225, 245, 0);\n  border-left-color: #f2faff;\n  border-width: 12px;\n  margin-top: -12px;\n}\n"),Vd("div.vis-tooltip {\n  position: absolute;\n  visibility: hidden;\n  padding: 5px;\n  white-space: nowrap;\n\n  font-family: verdana;\n  font-size: 14px;\n  color: #000000;\n  background-color: #f5f4ed;\n\n  -moz-border-radius: 3px;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  border: 1px solid #808074;\n\n  box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);\n  pointer-events: none;\n\n  z-index: 5;\n}\n");var Gd={exports:{}};!function(t){function e(t){if(t)return function(t){for(var i in e.prototype)t[i]=e.prototype[i];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<n.length;r++)if((i=n[r])===e||i.fn===e){n.splice(r,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),i=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(i){n=0;for(var r=(i=i.slice(0)).length;n<r;++n)i[n].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}(Gd);var Wd=eC(Gd.exports),Ud={};Ud[Ah("toStringTag")]="z";var Zd,Hd,Yd,Kd="[object z]"===String(Ud),Xd=Kd,Qd=EC,qd=vC,Jd=Ah("toStringTag"),$d=Object,tu="Arguments"===qd(function(){return arguments}()),eu=Xd?qd:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=$d(t),Jd))?i:tu?qd(e):"Object"===(n=qd(e))&&Qd(e.callee)?"Arguments":n},iu=eu,nu=String,ru=function(t){if("Symbol"===iu(t))throw new TypeError("Cannot convert a Symbol value to a string");return nu(t)},ou=dC,su=Oc,au=ru,gu=YC,lu=ou("".charAt),Au=ou("".charCodeAt),Cu=ou("".slice),Iu=function(t){return function(e,i){var n,r,o=au(gu(e)),s=su(i),a=o.length;return s<0||s>=a?t?"":void 0:(n=Au(o,s))<55296||n>56319||s+1===a||(r=Au(o,s+1))<56320||r>57343?t?lu(o,s):n:t?Cu(o,s,s+2):r-56320+(n-55296<<10)+65536}},hu={codeAt:Iu(!1),charAt:Iu(!0)},cu=EC,du=nC.WeakMap,uu=cu(du)&&/native code/.test(String(du)),fu=eh,pu=UI("keys"),vu=function(t){return pu[t]||(pu[t]=fu(t))},mu=uu,yu=nC,bu=$C,wu=hc,xu=QI,ku=GI,Eu=vu,Su=Gc,Tu="Object already initialized",Ou=yu.TypeError,_u=yu.WeakMap;if(mu||ku.state){var Ru=ku.state||(ku.state=new _u);Ru.get=Ru.get,Ru.has=Ru.has,Ru.set=Ru.set,Zd=function(t,e){if(Ru.has(t))throw new Ou(Tu);return e.facade=t,Ru.set(t,e),e},Hd=function(t){return Ru.get(t)||{}},Yd=function(t){return Ru.has(t)}}else{var Nu=Eu("state");Su[Nu]=!0,Zd=function(t,e){if(xu(t,Nu))throw new Ou(Tu);return e.facade=t,wu(t,Nu,e),e},Hd=function(t){return xu(t,Nu)?t[Nu]:{}},Yd=function(t){return xu(t,Nu)}}var Du={set:Zd,get:Hd,has:Yd,enforce:function(t){return Yd(t)?Hd(t):Zd(t,{})},getterFor:function(t){return function(e){var i;if(!bu(e)||(i=Hd(e)).type!==t)throw new Ou("Incompatible receiver, "+t+" required");return i}}},Pu=TC,Mu=QI,ju=Function.prototype,Lu=Pu&&Object.getOwnPropertyDescriptor,Bu=Mu(ju,"name"),Fu={EXISTS:Bu,PROPER:Bu&&"something"===function(){}.name,CONFIGURABLE:Bu&&(!Pu||Pu&&Lu(ju,"name").configurable)},zu={},Vu=TC,Gu=Xh,Wu=Kh,Uu=$h,Zu=QC,Hu=Jc;zu.f=Vu&&!Gu?Object.defineProperties:function(t,e){Uu(t);for(var i,n=Zu(e),r=Hu(e),o=r.length,s=0;o>s;)Wu.f(t,i=r[s++],n[i]);return t};var Yu,Ku=oI("document","documentElement"),Xu=$h,Qu=zu,qu=Xc,Ju=Gc,$u=Ku,tf=wh,ef="prototype",nf="script",rf=vu("IE_PROTO"),of=function(){},sf=function(t){return"<"+nf+">"+t+"</"+nf+">"},af=function(t){t.write(sf("")),t.close();var e=t.parentWindow.Object;return t=null,e},gf=function(){try{Yu=new ActiveXObject("htmlfile")}catch(t){}var t,e,i;gf="undefined"!=typeof document?document.domain&&Yu?af(Yu):(e=tf("iframe"),i="java"+nf+":",e.style.display="none",$u.appendChild(e),e.src=String(i),(t=e.contentWindow.document).open(),t.write(sf("document.F=Object")),t.close(),t.F):af(Yu);for(var n=qu.length;n--;)delete gf[ef][qu[n]];return gf()};Ju[rf]=!0;var lf,Af,Cf,If=Object.create||function(t,e){var i;return null!==t?(of[ef]=Xu(t),i=new of,of[ef]=null,i[rf]=t):i=gf(),void 0===e?i:Qu.f(i,e)},hf=!rC((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),cf=QI,df=EC,uf=YI,ff=hf,pf=vu("IE_PROTO"),vf=Object,mf=vf.prototype,yf=ff?vf.getPrototypeOf:function(t){var e=uf(t);if(cf(e,pf))return e[pf];var i=e.constructor;return df(i)&&e instanceof i?i.prototype:e instanceof vf?mf:null},bf=hc,wf=function(t,e,i,n){return n&&n.enumerable?t[e]=i:bf(t,e,i),t},xf=rC,kf=EC,Ef=$C,Sf=If,Tf=yf,Of=wf,_f=Ah("iterator"),Rf=!1;[].keys&&("next"in(Cf=[].keys())?(Af=Tf(Tf(Cf)))!==Object.prototype&&(lf=Af):Rf=!0);var Nf=!Ef(lf)||xf((function(){var t={};return lf[_f].call(t)!==t}));kf((lf=Nf?{}:Sf(lf))[_f])||Of(lf,_f,(function(){return this}));var Df={IteratorPrototype:lf,BUGGY_SAFARI_ITERATORS:Rf},Pf=eu,Mf=Kd?{}.toString:function(){return"[object "+Pf(this)+"]"},jf=Kd,Lf=Kh.f,Bf=hc,Ff=QI,zf=Mf,Vf=Ah("toStringTag"),Gf=function(t,e,i,n){if(t){var r=i?t:t.prototype;Ff(r,Vf)||Lf(r,Vf,{configurable:!0,value:e}),n&&!jf&&Bf(r,"toString",zf)}},Wf={},Uf=Df.IteratorPrototype,Zf=If,Hf=BC,Yf=Gf,Kf=Wf,Xf=function(){return this},Qf=dC,qf=_I,Jf=EC,$f=String,tp=TypeError,ep=$h,ip=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=function(t,e,i){try{return Qf(qf(Object.getOwnPropertyDescriptor(t,e)[i]))}catch(t){}}(Object.prototype,"__proto__","set"))(i,[]),e=i instanceof Array}catch(t){}return function(i,n){return ep(i),function(t){if("object"==typeof t||Jf(t))return t;throw new tp("Can't set "+$f(t)+" as a prototype")}(n),e?t(i,n):i.__proto__=n,i}}():void 0),np=kc,rp=RC,op=yf,sp=Gf,ap=wf,gp=Wf,lp=Fu.PROPER,Ap=Df.BUGGY_SAFARI_ITERATORS,Cp=Ah("iterator"),Ip="keys",hp="values",cp="entries",dp=function(){return this},up=function(t,e,i,n,r,o,s){!function(t,e,i,n){var r=e+" Iterator";t.prototype=Zf(Uf,{next:Hf(+!n,i)}),Yf(t,r,!1,!0),Kf[r]=Xf}(i,e,n);var a,g,l,A=function(t){if(t===r&&d)return d;if(!Ap&&t&&t in h)return h[t];switch(t){case Ip:case hp:case cp:return function(){return new i(this,t)}}return function(){return new i(this)}},C=e+" Iterator",I=!1,h=t.prototype,c=h[Cp]||h["@@iterator"]||r&&h[r],d=!Ap&&c||A(r),u="Array"===e&&h.entries||c;if(u&&(a=op(u.call(new t)))!==Object.prototype&&a.next&&(sp(a,C,!0,!0),gp[C]=dp),lp&&r===hp&&c&&c.name!==hp&&(I=!0,d=function(){return rp(c,this)}),r)if(g={values:A(hp),keys:o?d:A(Ip),entries:A(cp)},s)for(l in g)(Ap||I||!(l in h))&&ap(h,l,g[l]);else np({target:e,proto:!0,forced:Ap||I},g);return s&&h[Cp]!==d&&ap(h,Cp,d,{name:r}),gp[e]=d,g},fp=function(t,e){return{value:t,done:e}},pp=hu.charAt,vp=ru,mp=Du,yp=up,bp=fp,wp="String Iterator",xp=mp.set,kp=mp.getterFor(wp);yp(String,"String",(function(t){xp(this,{type:wp,string:vp(t),index:0})}),(function(){var t,e=kp(this),i=e.string,n=e.index;return n>=i.length?bp(void 0,!0):(t=pp(i,n),e.index+=t.length,bp(t,!1))}));var Ep=RC,Sp=$h,Tp=DI,Op=function(t,e,i){var n,r;Sp(t);try{if(!(n=Tp(t,"return"))){if("throw"===e)throw i;return i}n=Ep(n,t)}catch(t){r=!0,n=t}if("throw"===e)throw i;if(r)throw n;return Sp(n),i},_p=$h,Rp=Op,Np=Wf,Dp=Ah("iterator"),Pp=Array.prototype,Mp=function(t){return void 0!==t&&(Np.Array===t||Pp[Dp]===t)},jp=EC,Lp=GI,Bp=dC(Function.toString);jp(Lp.inspectSource)||(Lp.inspectSource=function(t){return Bp(t)});var Fp=Lp.inspectSource,zp=dC,Vp=rC,Gp=EC,Wp=eu,Up=Fp,Zp=function(){},Hp=[],Yp=oI("Reflect","construct"),Kp=/^\s*(?:class|function)\b/,Xp=zp(Kp.exec),Qp=!Kp.test(Zp),qp=function(t){if(!Gp(t))return!1;try{return Yp(Zp,Hp,t),!0}catch(t){return!1}},Jp=function(t){if(!Gp(t))return!1;switch(Wp(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Qp||!!Xp(Kp,Up(t))}catch(t){return!0}};Jp.sham=!0;var $p=!Yp||Vp((function(){var t;return qp(qp.call)||!qp(Object)||!qp((function(){t=!0}))||t}))?Jp:qp,tv=vh,ev=Kh,iv=BC,nv=function(t,e,i){var n=tv(e);n in t?ev.f(t,n,iv(0,i)):t[n]=i},rv=eu,ov=DI,sv=UC,av=Wf,gv=Ah("iterator"),lv=function(t){if(!sv(t))return ov(t,gv)||ov(t,"@@iterator")||av[rv(t)]},Av=RC,Cv=_I,Iv=$h,hv=EI,cv=lv,dv=TypeError,uv=function(t,e){var i=arguments.length<2?cv(t):e;if(Cv(i))return Iv(Av(i,t));throw new dv(hv(t)+" is not iterable")},fv=Yh,pv=RC,vv=YI,mv=function(t,e,i,n){try{return n?e(_p(i)[0],i[1]):e(i)}catch(e){Rp(t,"throw",e)}},yv=Mp,bv=$p,wv=jc,xv=nv,kv=uv,Ev=lv,Sv=Array,Tv=Ah("iterator"),Ov=!1;try{var _v=0,Rv={next:function(){return{done:!!_v++}},return:function(){Ov=!0}};Rv[Tv]=function(){return this},Array.from(Rv,(function(){throw 2}))}catch(t){}var Nv=function(t,e){try{if(!e&&!Ov)return!1}catch(t){return!1}var i=!1;try{var n={};n[Tv]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch(t){}return i};kc({target:"Array",stat:!0,forced:!Nv((function(t){Array.from(t)}))},{from:function(t){var e=vv(t),i=bv(this),n=arguments.length,r=n>1?arguments[1]:void 0,o=void 0!==r;o&&(r=fv(r,n>2?arguments[2]:void 0));var s,a,g,l,A,C,I=Ev(e),h=0;if(!I||this===Sv&&yv(I))for(s=wv(e),a=i?new this(s):Sv(s);s>h;h++)C=o?r(e[h],h):e[h],xv(a,h,C);else for(A=(l=kv(e,I)).next,a=i?new this:[];!(g=pv(A,l)).done;h++)C=o?mv(l,r,[g.value,h],!0):g.value,xv(a,h,C);return a.length=h,a}});var Dv=tI.Array.from,Pv=eC(Dv),Mv=QC,jv=Wf,Lv=Du;Kh.f;var Bv=up,Fv=fp,zv="Array Iterator",Vv=Lv.set,Gv=Lv.getterFor(zv);Bv(Array,"Array",(function(t,e){Vv(this,{type:zv,target:Mv(t),index:0,kind:e})}),(function(){var t=Gv(this),e=t.target,i=t.kind,n=t.index++;if(!e||n>=e.length)return t.target=void 0,Fv(void 0,!0);switch(i){case"keys":return Fv(n,!1);case"values":return Fv(e[n],!1)}return Fv([n,e[n]],!1)}),"values"),jv.Arguments=jv.Array;var Wv=lv,Uv=nC,Zv=eu,Hv=hc,Yv=Wf,Kv=Ah("toStringTag");for(var Xv in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Qv=Uv[Xv],qv=Qv&&Qv.prototype;qv&&Zv(qv)!==Kv&&Hv(qv,Kv,Xv),Yv[Xv]=Yv.Array}var Jv=Wv,$v=eC(Jv),tm=eC(Jv);function em(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var im={exports:{}},nm=kc,rm=TC,om=Kh.f;nm({target:"Object",stat:!0,forced:Object.defineProperty!==om,sham:!rm},{defineProperty:om});var sm=tI.Object,am=im.exports=function(t,e,i){return sm.defineProperty(t,e,i)};sm.defineProperty.sham&&(am.sham=!0);var gm=im.exports,lm=gm,Am=eC(lm),Cm=vC,Im=Array.isArray||function(t){return"Array"===Cm(t)},hm=TypeError,cm=function(t){if(t>9007199254740991)throw hm("Maximum allowed index exceeded");return t},dm=Im,um=$p,fm=$C,pm=Ah("species"),vm=Array,mm=function(t,e){return new(function(t){var e;return dm(t)&&(e=t.constructor,(um(e)&&(e===vm||dm(e.prototype))||fm(e)&&null===(e=e[pm]))&&(e=void 0)),void 0===e?vm:e}(t))(0===e?0:e)},ym=rC,bm=cI,wm=Ah("species"),xm=function(t){return bm>=51||!ym((function(){var e=[];return(e.constructor={})[wm]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},km=kc,Em=rC,Sm=Im,Tm=$C,Om=YI,_m=jc,Rm=cm,Nm=nv,Dm=mm,Pm=xm,Mm=cI,jm=Ah("isConcatSpreadable"),Lm=Mm>=51||!Em((function(){var t=[];return t[jm]=!1,t.concat()[0]!==t})),Bm=function(t){if(!Tm(t))return!1;var e=t[jm];return void 0!==e?!!e:Sm(t)};km({target:"Array",proto:!0,arity:1,forced:!Lm||!Pm("concat")},{concat:function(t){var e,i,n,r,o,s=Om(this),a=Dm(s,0),g=0;for(e=-1,n=arguments.length;e<n;e++)if(Bm(o=-1===e?s:arguments[e]))for(r=_m(o),Rm(g+r),i=0;i<r;i++,g++)i in o&&Nm(a,g,o[i]);else Rm(g+1),Nm(a,g++,o);return a.length=g,a}});var Fm={},zm=Kc,Vm=Xc.concat("length","prototype");Fm.f=Object.getOwnPropertyNames||function(t){return zm(t,Vm)};var Gm={},Wm=Dc,Um=jc,Zm=nv,Hm=Array,Ym=Math.max,Km=function(t,e,i){for(var n=Um(t),r=Wm(e,n),o=Wm(void 0===i?n:i,n),s=Hm(Ym(o-r,0)),a=0;r<o;r++,a++)Zm(s,a,t[r]);return s.length=a,s},Xm=vC,Qm=QC,qm=Fm.f,Jm=Km,$m="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Gm.f=function(t){return $m&&"Window"===Xm(t)?function(t){try{return qm(t)}catch(t){return Jm($m)}}(t):qm(Qm(t))};var ty=Kh,ey=function(t,e,i){return ty.f(t,e,i)},iy={},ny=Ah;iy.f=ny;var ry=tI,oy=QI,sy=iy,ay=Kh.f,gy=function(t){var e=ry.Symbol||(ry.Symbol={});oy(e,t)||ay(e,t,{value:sy.f(t)})},ly=RC,Ay=oI,Cy=Ah,Iy=wf,hy=function(){var t=Ay("Symbol"),e=t&&t.prototype,i=e&&e.valueOf,n=Cy("toPrimitive");e&&!e[n]&&Iy(e,n,(function(t){return ly(i,this)}),{arity:1})},cy=Yh,dy=WC,uy=YI,fy=jc,py=mm,vy=dC([].push),my=function(t){var e=1===t,i=2===t,n=3===t,r=4===t,o=6===t,s=7===t,a=5===t||o;return function(g,l,A,C){for(var I,h,c=uy(g),d=dy(c),u=cy(l,A),f=fy(d),p=0,v=C||py,m=e?v(g,f):i||s?v(g,0):void 0;f>p;p++)if((a||p in d)&&(h=u(I=d[p],p,c),t))if(e)m[p]=h;else if(h)switch(t){case 3:return!0;case 5:return I;case 6:return p;case 2:vy(m,I)}else switch(t){case 4:return!1;case 7:vy(m,I)}return o?-1:n||r?r:m}},yy={forEach:my(0),map:my(1),filter:my(2),some:my(3),every:my(4),find:my(5),findIndex:my(6),filterReject:my(7)},by=kc,wy=nC,xy=RC,ky=dC,Ey=TC,Sy=pI,Ty=rC,Oy=QI,_y=sI,Ry=$h,Ny=QC,Dy=vh,Py=ru,My=BC,jy=If,Ly=Jc,By=Fm,Fy=Gm,zy=$c,Vy=SC,Gy=Kh,Wy=zu,Uy=NC,Zy=wf,Hy=ey,Yy=UI,Ky=Gc,Xy=eh,Qy=Ah,qy=iy,Jy=gy,$y=hy,tb=Gf,eb=Du,ib=yy.forEach,nb=vu("hidden"),rb="Symbol",ob="prototype",sb=eb.set,ab=eb.getterFor(rb),gb=Object[ob],lb=wy.Symbol,Ab=lb&&lb[ob],Cb=wy.RangeError,Ib=wy.TypeError,hb=wy.QObject,cb=Vy.f,db=Gy.f,ub=Fy.f,fb=Uy.f,pb=ky([].push),vb=Yy("symbols"),mb=Yy("op-symbols"),yb=Yy("wks"),bb=!hb||!hb[ob]||!hb[ob].findChild,wb=function(t,e,i){var n=cb(gb,e);n&&delete gb[e],db(t,e,i),n&&t!==gb&&db(gb,e,n)},xb=Ey&&Ty((function(){return 7!==jy(db({},"a",{get:function(){return db(this,"a",{value:7}).a}})).a}))?wb:db,kb=function(t,e){var i=vb[t]=jy(Ab);return sb(i,{type:rb,tag:t,description:e}),Ey||(i.description=e),i},Eb=function(t,e,i){t===gb&&Eb(mb,e,i),Ry(t);var n=Dy(e);return Ry(i),Oy(vb,n)?(i.enumerable?(Oy(t,nb)&&t[nb][n]&&(t[nb][n]=!1),i=jy(i,{enumerable:My(0,!1)})):(Oy(t,nb)||db(t,nb,My(1,{})),t[nb][n]=!0),xb(t,n,i)):db(t,n,i)},Sb=function(t,e){Ry(t);var i=Ny(e),n=Ly(i).concat(Rb(i));return ib(n,(function(e){Ey&&!xy(Tb,i,e)||Eb(t,e,i[e])})),t},Tb=function(t){var e=Dy(t),i=xy(fb,this,e);return!(this===gb&&Oy(vb,e)&&!Oy(mb,e))&&(!(i||!Oy(this,e)||!Oy(vb,e)||Oy(this,nb)&&this[nb][e])||i)},Ob=function(t,e){var i=Ny(t),n=Dy(e);if(i!==gb||!Oy(vb,n)||Oy(mb,n)){var r=cb(i,n);return!r||!Oy(vb,n)||Oy(i,nb)&&i[nb][n]||(r.enumerable=!0),r}},_b=function(t){var e=ub(Ny(t)),i=[];return ib(e,(function(t){Oy(vb,t)||Oy(Ky,t)||pb(i,t)})),i},Rb=function(t){var e=t===gb,i=ub(e?mb:Ny(t)),n=[];return ib(i,(function(t){!Oy(vb,t)||e&&!Oy(gb,t)||pb(n,vb[t])})),n};Sy||(Zy(Ab=(lb=function(){if(_y(Ab,this))throw new Ib("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?Py(arguments[0]):void 0,e=Xy(t),i=function(t){this===gb&&xy(i,mb,t),Oy(this,nb)&&Oy(this[nb],e)&&(this[nb][e]=!1);var n=My(1,t);try{xb(this,e,n)}catch(t){if(!(t instanceof Cb))throw t;wb(this,e,n)}};return Ey&&bb&&xb(gb,e,{configurable:!0,set:i}),kb(e,t)})[ob],"toString",(function(){return ab(this).tag})),Zy(lb,"withoutSetter",(function(t){return kb(Xy(t),t)})),Uy.f=Tb,Gy.f=Eb,Wy.f=Sb,Vy.f=Ob,By.f=Fy.f=_b,zy.f=Rb,qy.f=function(t){return kb(Qy(t),t)},Ey&&Hy(Ab,"description",{configurable:!0,get:function(){return ab(this).description}})),by({global:!0,constructor:!0,wrap:!0,forced:!Sy,sham:!Sy},{Symbol:lb}),ib(Ly(yb),(function(t){Jy(t)})),by({target:rb,stat:!0,forced:!Sy},{useSetter:function(){bb=!0},useSimple:function(){bb=!1}}),by({target:"Object",stat:!0,forced:!Sy,sham:!Ey},{create:function(t,e){return void 0===e?jy(t):Sb(jy(t),e)},defineProperty:Eb,defineProperties:Sb,getOwnPropertyDescriptor:Ob}),by({target:"Object",stat:!0,forced:!Sy},{getOwnPropertyNames:_b}),$y(),tb(lb,rb),Ky[nb]=!0;var Nb=pI&&!!Symbol.for&&!!Symbol.keyFor,Db=kc,Pb=oI,Mb=QI,jb=ru,Lb=UI,Bb=Nb,Fb=Lb("string-to-symbol-registry"),zb=Lb("symbol-to-string-registry");Db({target:"Symbol",stat:!0,forced:!Bb},{for:function(t){var e=jb(t);if(Mb(Fb,e))return Fb[e];var i=Pb("Symbol")(e);return Fb[e]=i,zb[i]=e,i}});var Vb=kc,Gb=QI,Wb=xI,Ub=EI,Zb=Nb,Hb=UI("symbol-to-string-registry");Vb({target:"Symbol",stat:!0,forced:!Zb},{keyFor:function(t){if(!Wb(t))throw new TypeError(Ub(t)+" is not a symbol");if(Gb(Hb,t))return Hb[t]}});var Yb=Im,Kb=EC,Xb=vC,Qb=ru,qb=dC([].push),Jb=kc,$b=oI,tw=AC,ew=RC,iw=dC,nw=rC,rw=EC,ow=xI,sw=cd,aw=pI,gw=String,lw=$b("JSON","stringify"),Aw=iw(/./.exec),Cw=iw("".charAt),Iw=iw("".charCodeAt),hw=iw("".replace),cw=iw(1..toString),dw=/[\uD800-\uDFFF]/g,uw=/^[\uD800-\uDBFF]$/,fw=/^[\uDC00-\uDFFF]$/,pw=!aw||nw((function(){var t=$b("Symbol")("stringify detection");return"[null]"!==lw([t])||"{}"!==lw({a:t})||"{}"!==lw(Object(t))})),vw=nw((function(){return'"\\udf06\\ud834"'!==lw("\udf06\ud834")||'"\\udead"'!==lw("\udead")})),mw=function(t,e){var i=sw(arguments),n=function(t){if(Kb(t))return t;if(Yb(t)){for(var e=t.length,i=[],n=0;n<e;n++){var r=t[n];"string"==typeof r?qb(i,r):"number"!=typeof r&&"Number"!==Xb(r)&&"String"!==Xb(r)||qb(i,Qb(r))}var o=i.length,s=!0;return function(t,e){if(s)return s=!1,e;if(Yb(this))return e;for(var n=0;n<o;n++)if(i[n]===t)return e}}}(e);if(rw(n)||void 0!==t&&!ow(t))return i[1]=function(t,e){if(rw(n)&&(e=ew(n,this,gw(t),e)),!ow(e))return e},tw(lw,null,i)},yw=function(t,e,i){var n=Cw(i,e-1),r=Cw(i,e+1);return Aw(uw,t)&&!Aw(fw,r)||Aw(fw,t)&&!Aw(uw,n)?"\\u"+cw(Iw(t,0),16):t};lw&&Jb({target:"JSON",stat:!0,arity:3,forced:pw||vw},{stringify:function(t,e,i){var n=sw(arguments),r=tw(pw?mw:lw,null,n);return vw&&"string"==typeof r?hw(r,dw,yw):r}});var bw=$c,ww=YI;kc({target:"Object",stat:!0,forced:!pI||rC((function(){bw.f(1)}))},{getOwnPropertySymbols:function(t){var e=bw.f;return e?e(ww(t)):[]}}),gy("asyncIterator"),gy("hasInstance"),gy("isConcatSpreadable"),gy("iterator"),gy("match"),gy("matchAll"),gy("replace"),gy("search"),gy("species"),gy("split");var xw=hy;gy("toPrimitive"),xw();var kw=oI,Ew=Gf;gy("toStringTag"),Ew(kw("Symbol"),"Symbol"),gy("unscopables"),Gf(nC.JSON,"JSON",!0);var Sw=tI.Symbol,Tw=Ah,Ow=Kh.f,_w=Tw("metadata"),Rw=Function.prototype;void 0===Rw[_w]&&Ow(Rw,_w,{value:null}),gy("asyncDispose"),gy("dispose"),gy("metadata");var Nw=Sw,Dw=dC,Pw=oI("Symbol"),Mw=Pw.keyFor,jw=Dw(Pw.prototype.valueOf),Lw=Pw.isRegisteredSymbol||function(t){try{return void 0!==Mw(jw(t))}catch(t){return!1}};kc({target:"Symbol",stat:!0},{isRegisteredSymbol:Lw});for(var Bw=UI,Fw=oI,zw=dC,Vw=xI,Gw=Ah,Ww=Fw("Symbol"),Uw=Ww.isWellKnownSymbol,Zw=Fw("Object","getOwnPropertyNames"),Hw=zw(Ww.prototype.valueOf),Yw=Bw("wks"),Kw=0,Xw=Zw(Ww),Qw=Xw.length;Kw<Qw;Kw++)try{var qw=Xw[Kw];Vw(Ww[qw])&&Gw(qw)}catch(t){}var Jw=function(t){if(Uw&&Uw(t))return!0;try{for(var e=Hw(t),i=0,n=Zw(Yw),r=n.length;i<r;i++)if(Yw[n[i]]==e)return!0}catch(t){}return!1};kc({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:Jw}),gy("matcher"),gy("observable"),kc({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Lw}),kc({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:Jw}),gy("metadataKey"),gy("patternMatch"),gy("replaceAll");var $w=Nw,tx=eC($w),ex=iy.f("iterator"),ix=ex,nx=eC(ix);function rx(t){return rx="function"==typeof tx&&"symbol"==typeof nx?function(t){return typeof t}:function(t){return t&&"function"==typeof tx&&t.constructor===tx&&t!==tx.prototype?"symbol":typeof t},rx(t)}var ox=eC(iy.f("toPrimitive"));function sx(t){var e=function(t){if("object"!==rx(t)||null===t)return t;var e=t[ox];if(void 0!==e){var i=e.call(t,"string");if("object"!==rx(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===rx(e)?e:String(e)}function ax(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Am(t,sx(n.key),n)}}function gx(t,e,i){return e&&ax(t.prototype,e),i&&ax(t,i),Am(t,"prototype",{writable:!1}),t}kc({target:"Array",stat:!0},{isArray:Im});var lx=tI.Array.isArray,Ax=eC(lx),Cx=TC,Ix=Im,hx=TypeError,cx=Object.getOwnPropertyDescriptor,dx=Cx&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}()?function(t,e){if(Ix(t)&&!cx(t,"length").writable)throw new hx("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},ux=YI,fx=jc,px=dx,vx=cm;kc({target:"Array",proto:!0,arity:1,forced:rC((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=ux(this),i=fx(e),n=arguments.length;vx(i+n);for(var r=0;r<n;r++)e[i]=arguments[r],i++;return px(e,i),i}});var mx=Td("Array").push,yx=sI,bx=mx,wx=Array.prototype,xx=function(t){var e=t.push;return t===wx||yx(wx,t)&&e===wx.push?bx:e},kx=eC(xx),Ex=kc,Sx=Im,Tx=$p,Ox=$C,_x=Dc,Rx=jc,Nx=QC,Dx=nv,Px=Ah,Mx=cd,jx=xm("slice"),Lx=Px("species"),Bx=Array,Fx=Math.max;Ex({target:"Array",proto:!0,forced:!jx},{slice:function(t,e){var i,n,r,o=Nx(this),s=Rx(o),a=_x(t,s),g=_x(void 0===e?s:e,s);if(Sx(o)&&(i=o.constructor,(Tx(i)&&(i===Bx||Sx(i.prototype))||Ox(i)&&null===(i=i[Lx]))&&(i=void 0),i===Bx||void 0===i))return Mx(o,a,g);for(n=new(void 0===i?Bx:i)(Fx(g-a,0)),r=0;a<g;a++,r++)a in o&&Dx(n,r,o[a]);return n.length=r,n}});var zx=Td("Array").slice,Vx=sI,Gx=zx,Wx=Array.prototype,Ux=function(t){var e=t.slice;return t===Wx||Vx(Wx,t)&&e===Wx.slice?Gx:e},Zx=Ux,Hx=eC(Zx),Yx=eC(Dv);function Kx(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Xx(t,e){var i;if(t){if("string"==typeof t)return Kx(t,e);var n=Hx(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Yx(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kx(t,e):void 0}}function Qx(t,e){return function(t){if(Ax(t))return t}(t)||function(t,e){var i=null==t?null:void 0!==tx&&$v(t)||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],g=!0,l=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;g=!1}else for(;!(g=(n=o.call(i)).done)&&(kx(a).call(a,n.value),a.length!==e);g=!0);}catch(t){l=!0,r=t}finally{try{if(!g&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(l)throw r}}return a}}(t,e)||Xx(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qx(t){return function(t){if(Ax(t))return Kx(t)}(t)||function(t){if(void 0!==tx&&null!=$v(t)||null!=t["@@iterator"])return Yx(t)}(t)||Xx(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Jx=eC(Sw),$x=Td("Array").concat,tk=sI,ek=$x,ik=Array.prototype,nk=eC((function(t){var e=t.concat;return t===ik||tk(ik,t)&&e===ik.concat?ek:e})),rk=eC(Ux),ok=oI,sk=Fm,ak=$c,gk=$h,lk=dC([].concat),Ak=ok("Reflect","ownKeys")||function(t){var e=sk.f(gk(t)),i=ak.f;return i?lk(e,i(t)):e};kc({target:"Reflect",stat:!0},{ownKeys:Ak});var Ck=eC(tI.Reflect.ownKeys),Ik=eC(lx),hk=yy.map;kc({target:"Array",proto:!0,forced:!xm("map")},{map:function(t){return hk(this,t,arguments.length>1?arguments[1]:void 0)}});var ck=Td("Array").map,dk=sI,uk=ck,fk=Array.prototype,pk=eC((function(t){var e=t.map;return t===fk||dk(fk,t)&&e===fk.map?uk:e})),vk=YI,mk=Jc;kc({target:"Object",stat:!0,forced:rC((function(){mk(1)}))},{keys:function(t){return mk(vk(t))}});var yk=eC(tI.Object.keys),bk=kc,wk=Date,xk=dC(wk.prototype.getTime);bk({target:"Date",stat:!0},{now:function(){return xk(new wk)}});var kk=eC(tI.Date.now),Ek=rC,Sk=function(t,e){var i=[][t];return!!i&&Ek((function(){i.call(null,e||function(){return 1},1)}))},Tk=yy.forEach,Ok=Sk("forEach")?[].forEach:function(t){return Tk(this,t,arguments.length>1?arguments[1]:void 0)};kc({target:"Array",proto:!0,forced:[].forEach!==Ok},{forEach:Ok});var _k=Td("Array").forEach,Rk=eu,Nk=QI,Dk=sI,Pk=_k,Mk=Array.prototype,jk={DOMTokenList:!0,NodeList:!0},Lk=function(t){var e=t.forEach;return t===Mk||Dk(Mk,t)&&e===Mk.forEach||Nk(jk,Rk(t))?Pk:e},Bk=eC(Lk),Fk=kc,zk=Im,Vk=dC([].reverse),Gk=[1,2];Fk({target:"Array",proto:!0,forced:String(Gk)===String(Gk.reverse())},{reverse:function(){return zk(this)&&(this.length=this.length),Vk(this)}});var Wk=Td("Array").reverse,Uk=sI,Zk=Wk,Hk=Array.prototype,Yk=function(t){var e=t.reverse;return t===Hk||Uk(Hk,t)&&e===Hk.reverse?Zk:e},Kk=eC(Yk),Xk=EI,Qk=TypeError,qk=function(t,e){if(!delete t[e])throw new Qk("Cannot delete property "+Xk(e)+" of "+Xk(t))},Jk=kc,$k=YI,tE=Dc,eE=Oc,iE=jc,nE=dx,rE=cm,oE=mm,sE=nv,aE=qk,gE=xm("splice"),lE=Math.max,AE=Math.min;Jk({target:"Array",proto:!0,forced:!gE},{splice:function(t,e){var i,n,r,o,s,a,g=$k(this),l=iE(g),A=tE(t,l),C=arguments.length;for(0===C?i=n=0:1===C?(i=0,n=l-A):(i=C-2,n=AE(lE(eE(e),0),l-A)),rE(l+i-n),r=oE(g,n),o=0;o<n;o++)(s=A+o)in g&&sE(r,o,g[s]);if(r.length=n,i<n){for(o=A;o<l-n;o++)a=o+i,(s=o+n)in g?g[a]=g[s]:aE(g,a);for(o=l;o>l-n+i;o--)aE(g,o-1)}else if(i>n)for(o=l-n;o>A;o--)a=o+i-1,(s=o+n-1)in g?g[a]=g[s]:aE(g,a);for(o=0;o<i;o++)g[o+A]=arguments[o+2];return nE(g,l-n+i),r}});var CE=Td("Array").splice,IE=sI,hE=CE,cE=Array.prototype,dE=eC((function(t){var e=t.splice;return t===cE||IE(cE,t)&&e===cE.splice?hE:e})),uE=Vc.includes;kc({target:"Array",proto:!0,forced:rC((function(){return!Array(1).includes()}))},{includes:function(t){return uE(this,t,arguments.length>1?arguments[1]:void 0)}});var fE=Td("Array").includes,pE=$C,vE=vC,mE=Ah("match"),yE=TypeError,bE=Ah("match"),wE=kc,xE=function(t){if(function(t){var e;return pE(t)&&(void 0!==(e=t[mE])?!!e:"RegExp"===vE(t))}(t))throw new yE("The method doesn't accept regular expressions");return t},kE=YC,EE=ru,SE=dC("".indexOf);wE({target:"String",proto:!0,forced:!function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[bE]=!1,"/./"[t](e)}catch(t){}}return!1}("includes")},{includes:function(t){return!!~SE(EE(kE(this)),EE(xE(t)),arguments.length>1?arguments[1]:void 0)}});var TE=Td("String").includes,OE=sI,_E=fE,RE=TE,NE=Array.prototype,DE=String.prototype,PE=eC((function(t){var e=t.includes;return t===NE||OE(NE,t)&&e===NE.includes?_E:"string"==typeof t||t===DE||OE(DE,t)&&e===DE.includes?RE:e})),ME=YI,jE=yf,LE=hf;kc({target:"Object",stat:!0,forced:rC((function(){jE(1)})),sham:!LE},{getPrototypeOf:function(t){return jE(ME(t))}});var BE=tI.Object.getPrototypeOf,FE=eC(BE),zE=yy.filter;kc({target:"Array",proto:!0,forced:!xm("filter")},{filter:function(t){return zE(this,t,arguments.length>1?arguments[1]:void 0)}});var VE=Td("Array").filter,GE=sI,WE=VE,UE=Array.prototype,ZE=eC((function(t){var e=t.filter;return t===UE||GE(UE,t)&&e===UE.filter?WE:e})),HE="\t\n\v\f\r                　\u2028\u2029\ufeff",YE=YC,KE=ru,XE=HE,QE=dC("".replace),qE=RegExp("^["+XE+"]+"),JE=RegExp("(^|[^"+XE+"])["+XE+"]+$"),$E=function(t){return function(e){var i=KE(YE(e));return 1&t&&(i=QE(i,qE,"")),2&t&&(i=QE(i,JE,"$1")),i}},tS={start:$E(1),end:$E(2),trim:$E(3)},eS=nC,iS=rC,nS=dC,rS=ru,oS=tS.trim,sS=HE,aS=eS.parseInt,gS=eS.Symbol,lS=gS&&gS.iterator,AS=/^[+-]?0x/i,CS=nS(AS.exec),IS=8!==aS(sS+"08")||22!==aS(sS+"0x16")||lS&&!iS((function(){aS(Object(lS))}))?function(t,e){var i=oS(rS(t));return aS(i,e>>>0||(CS(AS,i)?16:10))}:aS;kc({global:!0,forced:parseInt!==IS},{parseInt:IS});var hS=eC(tI.parseInt),cS=kc,dS=Vc.indexOf,uS=Sk,fS=bC([].indexOf),pS=!!fS&&1/fS([1],1,-0)<0;cS({target:"Array",proto:!0,forced:pS||!uS("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return pS?fS(this,t,e)||0:dS(this,t,e)}});var vS=Td("Array").indexOf,mS=sI,yS=vS,bS=Array.prototype,wS=eC((function(t){var e=t.indexOf;return t===bS||mS(bS,t)&&e===bS.indexOf?yS:e}));kc({target:"Object",stat:!0,sham:!TC},{create:If});var xS=tI.Object,kS=function(t,e){return xS.create(t,e)},ES=eC(kS),SS=tI,TS=AC;SS.JSON||(SS.JSON={stringify:JSON.stringify});var OS=eC((function(t,e,i){return TS(SS.JSON.stringify,null,arguments)})),_S="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,RS=TypeError,NS=function(t,e){if(t<e)throw new RS("Not enough arguments");return t},DS=nC,PS=AC,MS=EC,jS=_S,LS=aI,BS=cd,FS=NS,zS=DS.Function,VS=/MSIE .\./.test(LS)||jS&&function(){var t=DS.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}(),GS=function(t,e){var i=e?2:1;return VS?function(n,r){var o=FS(arguments.length,1)>i,s=MS(n)?n:zS(n),a=o?BS(arguments,i):[],g=o?function(){PS(s,this,a)}:s;return e?t(g,r):t(g)}:t},WS=kc,US=nC,ZS=GS(US.setInterval,!0);WS({global:!0,bind:!0,forced:US.setInterval!==ZS},{setInterval:ZS});var HS=kc,YS=nC,KS=GS(YS.setTimeout,!0);HS({global:!0,bind:!0,forced:YS.setTimeout!==KS},{setTimeout:KS});var XS=eC(tI.setTimeout),QS=YI,qS=Dc,JS=jc;kc({target:"Array",proto:!0},{fill:function(t){for(var e=QS(this),i=JS(e),n=arguments.length,r=qS(n>1?arguments[1]:void 0,i),o=n>2?arguments[2]:void 0,s=void 0===o?i:qS(o,i);s>r;)e[r++]=t;return e}});var $S=Td("Array").fill,tT=sI,eT=$S,iT=Array.prototype,nT=eC((function(t){var e=t.fill;return t===iT||tT(iT,t)&&e===iT.fill?eT:e}));function rT(){return rT=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},rT.apply(this,arguments)}function oT(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function sT(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var aT,gT="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}:Object.assign,lT=["","webkit","Moz","MS","ms","o"],AT="undefined"==typeof document?{style:{}}:document.createElement("div"),CT=Math.round,IT=Math.abs,hT=Date.now;function cT(t,e){for(var i,n,r=e[0].toUpperCase()+e.slice(1),o=0;o<lT.length;){if((n=(i=lT[o])?i+r:e)in t)return n;o++}}aT="undefined"==typeof window?{}:window;var dT=cT(AT.style,"touchAction"),uT=void 0!==dT,fT="compute",pT="auto",vT="manipulation",mT="none",yT="pan-x",bT="pan-y",wT=function(){if(!uT)return!1;var t={},e=aT.CSS&&aT.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(i){return t[i]=!e||aT.CSS.supports("touch-action",i)})),t}(),xT="ontouchstart"in aT,kT=void 0!==cT(aT,"PointerEvent"),ET=xT&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ST="touch",TT="mouse",OT=["x","y"],_T=["clientX","clientY"];function RT(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function NT(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function DT(t,e){return t.indexOf(e)>-1}var PT=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===fT&&(t=this.compute()),uT&&this.manager.element.style&&wT[t]&&(this.manager.element.style[dT]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return RT(this.manager.recognizers,(function(e){NT(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(DT(t,mT))return mT;var e=DT(t,yT),i=DT(t,bT);return e&&i?mT:e||i?e?yT:bT:DT(t,vT)?vT:pT}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,r=DT(n,mT)&&!wT[mT],o=DT(n,bT)&&!wT[bT],s=DT(n,yT)&&!wT[yT];if(r){var a=1===t.pointers.length,g=t.distance<2,l=t.deltaTime<250;if(a&&g&&l)return}if(!s||!o)return r||o&&6&i||s&&24&i?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function MT(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function jT(t){var e=t.length;if(1===e)return{x:CT(t[0].clientX),y:CT(t[0].clientY)};for(var i=0,n=0,r=0;r<e;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:CT(i/e),y:CT(n/e)}}function LT(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:CT(t.pointers[i].clientX),clientY:CT(t.pointers[i].clientY)},i++;return{timeStamp:hT(),pointers:e,center:jT(e),deltaX:t.deltaX,deltaY:t.deltaY}}function BT(t,e,i){i||(i=OT);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}function FT(t,e,i){i||(i=OT);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return 180*Math.atan2(r,n)/Math.PI}function zT(t,e){return t===e?1:IT(t)>=IT(e)?t<0?2:4:e<0?8:16}function VT(t,e,i){return{x:e/t||0,y:i/t||0}}function GT(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,o=1&e&&n-r==0,s=12&e&&n-r==0;i.isFirst=!!o,i.isFinal=!!s,o&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=LT(e)),r>1&&!i.firstMultiple?i.firstMultiple=LT(e):1===r&&(i.firstMultiple=!1);var o=i.firstInput,s=i.firstMultiple,a=s?s.center:o.center,g=e.center=jT(n);e.timeStamp=hT(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=FT(a,g),e.distance=BT(a,g),function(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}(i,e),e.offsetDirection=zT(e.deltaX,e.deltaY);var l,A,C=VT(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=C.x,e.overallVelocityY=C.y,e.overallVelocity=IT(C.x)>IT(C.y)?C.x:C.y,e.scale=s?(l=s.pointers,BT((A=n)[0],A[1],_T)/BT(l[0],l[1],_T)):1,e.rotation=s?function(t,e){return FT(e[1],e[0],_T)+FT(t[1],t[0],_T)}(s.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,n,r,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(8!==e.eventType&&(a>25||void 0===s.velocity)){var g=e.deltaX-s.deltaX,l=e.deltaY-s.deltaY,A=VT(a,g,l);n=A.x,r=A.y,i=IT(A.x)>IT(A.y)?A.x:A.y,o=zT(g,l),t.lastInterval=e}else i=s.velocity,n=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=i,e.velocityX=n,e.velocityY=r,e.direction=o}(i,e);var I,h=t.element,c=e.srcEvent;MT(I=c.composedPath?c.composedPath()[0]:c.path?c.path[0]:c.target,h)&&(h=I),e.target=h}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function WT(t){return t.trim().split(/\s+/g)}function UT(t,e,i){RT(WT(e),(function(e){t.addEventListener(e,i,!1)}))}function ZT(t,e,i){RT(WT(e),(function(e){t.removeEventListener(e,i,!1)}))}function HT(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var YT=function(){function t(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){NT(t.options.enable,[t])&&i.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&UT(this.element,this.evEl,this.domHandler),this.evTarget&&UT(this.target,this.evTarget,this.domHandler),this.evWin&&UT(HT(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&ZT(this.element,this.evEl,this.domHandler),this.evTarget&&ZT(this.target,this.evTarget,this.domHandler),this.evWin&&ZT(HT(this.element),this.evWin,this.domHandler)},t}();function KT(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}var XT={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},QT={2:ST,3:"pen",4:TT,5:"kinect"},qT="pointerdown",JT="pointermove pointerup pointercancel";aT.MSPointerEvent&&!aT.PointerEvent&&(qT="MSPointerDown",JT="MSPointerMove MSPointerUp MSPointerCancel");var $T=function(t){function e(){var i,n=e.prototype;return n.evEl=qT,n.evWin=JT,(i=t.apply(this,arguments)||this).store=i.manager.session.pointerEvents=[],i}return oT(e,t),e.prototype.handler=function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=XT[n],o=QT[t.pointerType]||t.pointerType,s=o===ST,a=KT(e,t.pointerId,"pointerId");1&r&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):12&r&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(a,1))},e}(YT);function tO(t){return Array.prototype.slice.call(t,0)}function eO(t,e,i){for(var n=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];KT(r,s)<0&&n.push(t[o]),r[o]=s,o++}return i&&(n=e?n.sort((function(t,i){return t[e]>i[e]})):n.sort()),n}var iO={touchstart:1,touchmove:2,touchend:4,touchcancel:8},nO=function(t){function e(){var i;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(i=t.apply(this,arguments)||this).targetIds={},i}return oT(e,t),e.prototype.handler=function(t){var e=iO[t.type],i=rO.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:ST,srcEvent:t})},e}(YT);function rO(t,e){var i,n,r=tO(t.touches),o=this.targetIds;if(3&e&&1===r.length)return o[r[0].identifier]=!0,[r,r];var s=tO(t.changedTouches),a=[],g=this.target;if(n=r.filter((function(t){return MT(t.target,g)})),1===e)for(i=0;i<n.length;)o[n[i].identifier]=!0,i++;for(i=0;i<s.length;)o[s[i].identifier]&&a.push(s[i]),12&e&&delete o[s[i].identifier],i++;return a.length?[eO(n.concat(a),"identifier",!0),a]:void 0}var oO={mousedown:1,mousemove:2,mouseup:4},sO=function(t){function e(){var i,n=e.prototype;return n.evEl="mousedown",n.evWin="mousemove mouseup",(i=t.apply(this,arguments)||this).pressed=!1,i}return oT(e,t),e.prototype.handler=function(t){var e=oO[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:TT,srcEvent:t}))},e}(YT);function aO(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},n=this.lastTouches;this.lastTouches.push(i),setTimeout((function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)}),2500)}}function gO(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,aO.call(this,e)):12&t&&aO.call(this,e)}function lO(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],o=Math.abs(e-r.x),s=Math.abs(i-r.y);if(o<=25&&s<=25)return!0}return!1}var AO=function(){return function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).handler=function(t,e,i){var r=i.pointerType===ST,o=i.pointerType===TT;if(!(o&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(r)gO.call(sT(sT(n)),e,i);else if(o&&lO.call(sT(sT(n)),i))return;n.callback(t,e,i)}},n.touch=new nO(n.manager,n.handler),n.mouse=new sO(n.manager,n.handler),n.primaryTouch=null,n.lastTouches=[],n}return oT(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(YT)}();function CO(t,e,i){return!!Array.isArray(t)&&(RT(t,i[e],i),!0)}var IO=32,hO=1;function cO(t,e){var i=e.manager;return i?i.get(t):t}function dO(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var uO=function(){function t(t){void 0===t&&(t={}),this.options=rT({enable:!0},t),this.id=hO++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return gT(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(CO(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=cO(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return CO(t,"dropRecognizeWith",this)||(t=cO(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(CO(t,"requireFailure",this))return this;var e=this.requireFail;return-1===KT(e,t=cO(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(CO(t,"dropRequireFailure",this))return this;t=cO(t,this);var e=KT(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<8&&n(e.options.event+dO(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=8&&n(e.options.event+dO(i))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=IO},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=gT({},t);if(!NT(this.options.enable,[this,e]))return this.reset(),void(this.state=IO);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),fO=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,rT({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}oT(e,t);var i=e.prototype;return i.getTouchAction=function(){return[vT]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,r=t.distance<i.threshold,o=t.deltaTime<i.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&o&&n){if(4!==t.eventType)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<i.interval,a=!this.pCenter||BT(this.pCenter,t.center)<i.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0==this.count%i.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),i.interval),2):8}return IO},i.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=IO}),this.options.interval),IO},i.reset=function(){clearTimeout(this._timer)},i.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(uO),pO=function(t){function e(e){return void 0===e&&(e={}),t.call(this,rT({pointers:1},e))||this}oT(e,t);var i=e.prototype;return i.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},i.process=function(t){var e=this.state,i=t.eventType,n=6&e,r=this.attrTest(t);return n&&(8&i||!r)?16|e:n||r?4&i?8|e:2&e?4|e:2:IO},e}(uO);function vO(t){return 16===t?"down":8===t?"up":2===t?"left":4===t?"right":""}var mO=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,rT({event:"pan",threshold:10,pointers:1,direction:30},e))||this).pX=null,i.pY=null,i}oT(e,t);var i=e.prototype;return i.getTouchAction=function(){var t=this.options.direction,e=[];return 6&t&&e.push(bT),24&t&&e.push(yT),e},i.directionTest=function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(6&e.direction?(r=0===o?1:o<0?2:4,i=o!==this.pX,n=Math.abs(t.deltaX)):(r=0===s?1:s<0?8:16,i=s!==this.pY,n=Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},i.attrTest=function(t){return pO.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},i.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var i=vO(e.direction);i&&(e.additionalEvent=this.options.event+i),t.prototype.emit.call(this,e)},e}(pO),yO=function(t){function e(e){return void 0===e&&(e={}),t.call(this,rT({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},e))||this}oT(e,t);var i=e.prototype;return i.getTouchAction=function(){return mO.prototype.getTouchAction.call(this)},i.attrTest=function(e){var i,n=this.options.direction;return 30&n?i=e.overallVelocity:6&n?i=e.overallVelocityX:24&n&&(i=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&IT(i)>this.options.velocity&&4&e.eventType},i.emit=function(t){var e=vO(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(pO),bO=function(t){function e(e){return void 0===e&&(e={}),t.call(this,rT({event:"pinch",threshold:0,pointers:2},e))||this}oT(e,t);var i=e.prototype;return i.getTouchAction=function(){return[mT]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},i.emit=function(e){if(1!==e.scale){var i=e.scale<1?"in":"out";e.additionalEvent=this.options.event+i}t.prototype.emit.call(this,e)},e}(pO),wO=function(t){function e(e){return void 0===e&&(e={}),t.call(this,rT({event:"rotate",threshold:0,pointers:2},e))||this}oT(e,t);var i=e.prototype;return i.getTouchAction=function(){return[mT]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(pO),xO=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,rT({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,i._input=null,i}oT(e,t);var i=e.prototype;return i.getTouchAction=function(){return[pT]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,r=t.distance<i.threshold,o=t.deltaTime>i.time;if(this._input=t,!r||!n||12&t.eventType&&!o)this.reset();else if(1&t.eventType)this.reset(),this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),i.time);else if(4&t.eventType)return 8;return IO},i.reset=function(){clearTimeout(this._timer)},i.emit=function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=hT(),this.manager.emit(this.options.event,this._input)))},e}(uO),kO={domEvents:!1,touchAction:fT,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},EO=[[wO,{enable:!1}],[bO,{enable:!1},["rotate"]],[yO,{direction:6}],[mO,{direction:6},["swipe"]],[fO],[fO,{event:"doubletap",taps:2},["tap"]],[xO]];function SO(t,e){var i,n=t.element;n.style&&(RT(t.options.cssProps,(function(r,o){i=cT(n.style,o),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""})),e||(t.oldCssProps={}))}var TO=function(){function t(t,e){var i=this;this.options=gT({},kO,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new(this.options.inputClass||(kT?$T:ET?nO:xT?AO:sO))(this,GT),this.touchAction=new PT(this,this.options.touchAction),SO(this,!0),RT(this.options.recognizers,(function(t){var e=i.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return gT(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(e.curRecognizer=null,r=null);for(var o=0;o<n.length;)i=n[o],2===e.stopped||r&&i!==r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&14&i.state&&(e.curRecognizer=i,r=i),o++}},e.get=function(t){if(t instanceof uO)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event===t)return e[i];return null},e.add=function(t){if(CO(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(CO(t,"remove",this))return this;var e=this.get(t);if(t){var i=this.recognizers,n=KT(i,e);-1!==n&&(i.splice(n,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var i=this.handlers;return RT(WT(t),(function(t){i[t]=i[t]||[],i[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var i=this.handlers;return RT(WT(t),(function(t){e?i[t]&&i[t].splice(KT(i[t],e),1):delete i[t]})),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var i=document.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},e.destroy=function(){this.element&&SO(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),OO={touchstart:1,touchmove:2,touchend:4,touchcancel:8},_O=function(t){function e(){var i,n=e.prototype;return n.evTarget="touchstart",n.evWin="touchstart touchmove touchend touchcancel",(i=t.apply(this,arguments)||this).started=!1,i}return oT(e,t),e.prototype.handler=function(t){var e=OO[t.type];if(1===e&&(this.started=!0),this.started){var i=RO.call(this,t,e);12&e&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:ST,srcEvent:t})}},e}(YT);function RO(t,e){var i=tO(t.touches),n=tO(t.changedTouches);return 12&e&&(i=eO(i.concat(n),"identifier",!0)),[i,n]}function NO(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,n,i),t.apply(this,arguments)}}var DO=NO((function(t,e,i){for(var n=Object.keys(e),r=0;r<n.length;)(!i||i&&void 0===t[n[r]])&&(t[n[r]]=e[n[r]]),r++;return t}),"extend","Use `assign`."),PO=NO((function(t,e){return DO(t,e,!0)}),"merge","Use `assign`.");function MO(t,e,i){var n,r=e.prototype;(n=t.prototype=Object.create(r)).constructor=t,n._super=r,i&&gT(n,i)}function jO(t,e){return function(){return t.apply(e,arguments)}}var LO=function(){var t=function(t,e){return void 0===e&&(e={}),new TO(t,rT({recognizers:EO.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=30,t.DIRECTION_DOWN=16,t.DIRECTION_LEFT=2,t.DIRECTION_RIGHT=4,t.DIRECTION_UP=8,t.DIRECTION_HORIZONTAL=6,t.DIRECTION_VERTICAL=24,t.DIRECTION_NONE=1,t.DIRECTION_DOWN=16,t.INPUT_START=1,t.INPUT_MOVE=2,t.INPUT_END=4,t.INPUT_CANCEL=8,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=IO,t.Manager=TO,t.Input=YT,t.TouchAction=PT,t.TouchInput=nO,t.MouseInput=sO,t.PointerEventInput=$T,t.TouchMouseInput=AO,t.SingleTouchInput=_O,t.Recognizer=uO,t.AttrRecognizer=pO,t.Tap=fO,t.Pan=mO,t.Swipe=yO,t.Pinch=bO,t.Rotate=wO,t.Press=xO,t.on=UT,t.off=ZT,t.each=RT,t.merge=PO,t.extend=DO,t.bindFn=jO,t.assign=gT,t.inherit=MO,t.bindFn=jO,t.prefixed=cT,t.toArray=tO,t.inArray=KT,t.uniqueArray=eO,t.splitStr=WT,t.boolOrFn=NT,t.hasParent=MT,t.addEventListeners=UT,t.removeEventListeners=ZT,t.defaults=gT({},kO,{preset:EO}),t}();LO.defaults;var BO=LO;function FO(t,e){var i=void 0!==Jx&&tm(t)||t["@@iterator"];if(!i){if(Ik(t)||(i=function(t,e){var i;if(t){if("string"==typeof t)return zO(t,e);var n=rk(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Pv(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zO(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw o}}}}function zO(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var VO=Jx("DELETE");function GO(){var t=WO.apply(void 0,arguments);return ZO(t),t}function WO(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(e.length<2)return e[0];var n;if(e.length>2)return WO.apply(void 0,nk(n=[GO(e[0],e[1])]).call(n,qx(rk(e).call(e,2))));var r=e[0],o=e[1];if(r instanceof Date&&o instanceof Date)return r.setTime(o.getTime()),r;var s,a=FO(Ck(o));try{for(a.s();!(s=a.n()).done;){var g=s.value;Object.prototype.propertyIsEnumerable.call(o,g)&&(o[g]===VO?delete r[g]:null===r[g]||null===o[g]||"object"!==rx(r[g])||"object"!==rx(o[g])||Ik(r[g])||Ik(o[g])?r[g]=UO(o[g]):r[g]=WO(r[g],o[g]))}}catch(t){a.e(t)}finally{a.f()}return r}function UO(t){return Ik(t)?pk(t).call(t,(function(t){return UO(t)})):"object"===rx(t)&&null!==t?t instanceof Date?new Date(t.getTime()):WO({},t):t}function ZO(t){for(var e=0,i=yk(t);e<i.length;e++){var n=i[e];t[n]===VO?delete t[n]:"object"===rx(t[n])&&null!==t[n]&&ZO(t[n])}}function HO(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){var e=function(){for(var t=function(){var t=4022871197;return function(e){for(var i=e.toString(),n=0;n<i.length;n++){var r=.02519603282416938*(t+=i.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)}}(),e=t(" "),i=t(" "),n=t(" "),r=0;r<arguments.length;r++)(e-=t(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(e+=1),(i-=t(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(i+=1),(n-=t(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(n+=1);return[e,i,n]}(t),i=Qx(e,3),n=i[0],r=i[1],o=i[2],s=1,a=function(){var t=2091639*n+2.3283064365386963e-10*s;return n=r,r=o,o=t-(s=0|t)};return a.uint32=function(){return 4294967296*a()},a.fract53=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.algorithm="Alea",a.seed=t,a.version="0.9",a}(e.length?e:[kk()])}var YO="undefined"!=typeof window?window.Hammer||BO:function(){return function(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:function(){return{set:t}}}}()};function KO(t){var e,i=this;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push((function(){i._dom.overlay.parentNode.removeChild(i._dom.overlay)}));var n=YO(this._dom.overlay);n.on("tap",Pd(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push((function(){n.destroy()}));var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Bk(r).call(r,(function(t){n.on(t,(function(t){t.srcEvent.stopPropagation()}))})),document&&document.body&&(this._onClick=function(e){(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(e.target,t)||i.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push((function(){document.body.removeEventListener("click",i._onClick)}))),this._escListener=function(t){("key"in t?"Escape"===t.key:27===t.keyCode)&&i.deactivate()}}Wd(KO.prototype),KO.current=null,KO.prototype.destroy=function(){var t,e;this.deactivate();var i,n=FO(Kk(t=dE(e=this._cleanupQueue).call(e,0)).call(t));try{for(n.s();!(i=n.n()).done;)(0,i.value)()}catch(t){n.e(t)}finally{n.f()}},KO.prototype.activate=function(){KO.current&&KO.current.deactivate(),KO.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},KO.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},KO.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var XO=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,QO=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,qO=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,JO=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function $O(t){if(t)for(;!0===t.hasChildNodes();){var e=t.firstChild;e&&($O(e),t.removeChild(e))}}function t_(t){return t instanceof String||"string"==typeof t}function e_(t){return"object"===rx(t)&&null!==t}function i_(t,e,i,n){var r=!1;!0===n&&(r=null===e[i]&&void 0!==t[i]),r?delete t[i]:t[i]=e[i]}function n_(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var n in t)if(void 0!==e[n])if(null===e[n]||"object"!==rx(e[n]))i_(t,e,n,i);else{var r=t[n],o=e[n];e_(r)&&e_(o)&&n_(r,o,i)}}function r_(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Ik(i))throw new TypeError("Arrays are not supported by deepExtend");for(var r=0;r<t.length;r++){var o=t[r];if(Object.prototype.hasOwnProperty.call(i,o))if(i[o]&&i[o].constructor===Object)void 0===e[o]&&(e[o]={}),e[o].constructor===Object?s_(e[o],i[o],!1,n):i_(e,i,o,n);else{if(Ik(i[o]))throw new TypeError("Arrays are not supported by deepExtend");i_(e,i,o,n)}}return e}function o_(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Ik(i))throw new TypeError("Arrays are not supported by deepExtend");for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)&&!PE(t).call(t,r))if(i[r]&&i[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?s_(e[r],i[r]):i_(e,i,r,n);else if(Ik(i[r])){e[r]=[];for(var o=0;o<i[r].length;o++)e[r].push(i[r][o])}else i_(e,i,r,n);return e}function s_(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)||!0===i)if("object"===rx(e[r])&&null!==e[r]&&FE(e[r])===Object.prototype)void 0===t[r]?t[r]=s_({},e[r],i):"object"===rx(t[r])&&null!==t[r]&&FE(t[r])===Object.prototype?s_(t[r],e[r],i):i_(t,e,r,n);else if(Ik(e[r])){var o;t[r]=rk(o=e[r]).call(o)}else i_(t,e,r,n);return t}function a_(t,e){var i;return nk(i=[]).call(i,qx(t),[e])}function g_(t){return t.getBoundingClientRect().top}function l_(t,e){if(Ik(t))for(var i=t.length,n=0;n<i;n++)e(t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function A_(t){var e;switch(t.length){case 3:case 4:return(e=QO.exec(t))?{r:hS(e[1]+e[1],16),g:hS(e[2]+e[2],16),b:hS(e[3]+e[3],16)}:null;case 6:case 7:return(e=XO.exec(t))?{r:hS(e[1],16),g:hS(e[2],16),b:hS(e[3],16)}:null;default:return null}}function C_(t,e){if(PE(t).call(t,"rgba"))return t;if(PE(t).call(t,"rgb")){var i=t.substr(wS(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+i[0]+","+i[1]+","+i[2]+","+e+")"}var n=A_(t);return null==n?t:"rgba("+n.r+","+n.g+","+n.b+","+e+")"}function I_(t,e,i){var n;return"#"+rk(n=((1<<24)+(t<<16)+(e<<8)+i).toString(16)).call(n,1)}function h_(t,e){if(t_(t)){var i=t;if(p_(i)){var n,r=pk(n=i.substr(4).substr(0,i.length-5).split(",")).call(n,(function(t){return hS(t)}));i=I_(r[0],r[1],r[2])}if(!0===f_(i)){var o=function(t){var e=A_(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return c_(e.r,e.g,e.b)}(i),s={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},a={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},g=u_(a.h,a.s,a.v),l=u_(s.h,s.s,s.v);return{background:i,border:g,highlight:{background:l,border:g},hover:{background:l,border:g}}}return{background:i,border:i,highlight:{background:i,border:i},hover:{background:i,border:i}}}return e?{background:t.background||e.background,border:t.border||e.border,highlight:t_(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||e.highlight.background,border:t.highlight&&t.highlight.border||e.highlight.border},hover:t_(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||e.hover.border,background:t.hover&&t.hover.background||e.hover.background}}:{background:t.background||void 0,border:t.border||void 0,highlight:t_(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:t_(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function c_(t,e,i){t/=255,e/=255,i/=255;var n=Math.min(t,Math.min(e,i)),r=Math.max(t,Math.max(e,i));return n===r?{h:0,s:0,v:n}:{h:60*((t===n?3:i===n?1:5)-(t===n?e-i:i===n?t-e:i-t)/(r-n))/360,s:(r-n)/r,v:r}}function d_(t,e,i){var n,r,o,s=Math.floor(6*t),a=6*t-s,g=i*(1-e),l=i*(1-a*e),A=i*(1-(1-a)*e);switch(s%6){case 0:n=i,r=A,o=g;break;case 1:n=l,r=i,o=g;break;case 2:n=g,r=i,o=A;break;case 3:n=g,r=l,o=i;break;case 4:n=A,r=g,o=i;break;case 5:n=i,r=g,o=l}return{r:Math.floor(255*n),g:Math.floor(255*r),b:Math.floor(255*o)}}function u_(t,e,i){var n=d_(t,e,i);return I_(n.r,n.g,n.b)}function f_(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function p_(t){return qO.test(t)}function v_(t){if(null===t||"object"!==rx(t))return null;if(t instanceof Element)return t;var e=ES(t);for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&"object"==rx(t[i])&&(e[i]=v_(t[i]));return e}function m_(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=function(t){return null!=t},o=function(t){return null!==t&&"object"===rx(t)};if(!o(t))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!r(i))throw new Error("Parameter option must have a value");if(!o(n))throw new Error("Parameter globalOptions must be an object");var s=e[i],a=o(n)&&!function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(n)?n[i]:void 0,g=a?a.enabled:void 0;if(void 0!==s){if("boolean"==typeof s)return o(t[i])||(t[i]={}),void(t[i].enabled=s);if(null===s&&!o(t[i])){if(!r(a))return;t[i]=ES(a)}if(o(s)){var l=!0;void 0!==s.enabled?l=s.enabled:void 0!==g&&(l=a.enabled),function(t,e,i){o(t[i])||(t[i]={});var n=e[i],r=t[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}(t,e,i),t[i].enabled=l}}}var y_={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function b_(t,e){var i;Ik(e)||(e=[e]);var n,r=FO(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o){i=o[e[0]];for(var s=1;s<e.length;s++)i&&(i=i[e[s]]);if(void 0!==i)break}}}catch(t){r.e(t)}finally{r.f()}return i}var w_={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},x_=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;em(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return gx(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return w_[t]}},{key:"setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==t){var i,n=this._isColorString(t);if(void 0!==n&&(t=n),!0===t_(t)){if(!0===p_(t)){var r=t.substr(4).substr(0,t.length-5).split(",");i={r:r[0],g:r[1],b:r[2],a:1}}else if(!0===function(t){return JO.test(t)}(t)){var o=t.substr(5).substr(0,t.length-6).split(",");i={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(!0===f_(t)){var s=A_(t);i={r:s.r,g:s.g,b:s.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var a=void 0!==t.a?t.a:"1.0";i={r:t.r,g:t.g,b:t.b,a}}if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+OS(t));this._setColor(i,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=hd({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",XS((function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)}),0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=hd({},t)),this.color=t;var e=c_(t.r,t.g,t.b),i=2*Math.PI,n=this.r*e.s,r=this.centerCoordinates.x+n*Math.sin(i*e.h),o=this.centerCoordinates.y+n*Math.cos(i*e.h);this.colorPickerSelector.style.left=r-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=c_(this.color.r,this.color.g,this.color.b);e.v=t/100;var i=d_(e.h,e.s,e.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,e=c_(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,r),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),nT(i).call(i),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var t,e,i,n;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var r=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Pd(t=this._hide).call(t,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Pd(e=this._apply).call(e,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Pd(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Pd(n=this._loadLast).call(n,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new YO(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",(function(e){e.isFirst&&t._moveSelector(e)})),this.hammer.on("tap",(function(e){t._moveSelector(e)})),this.hammer.on("panstart",(function(e){t._moveSelector(e)})),this.hammer.on("panmove",(function(e){t._moveSelector(e)})),this.hammer.on("panend",(function(e){t._moveSelector(e)}))}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e,i,n,r,o=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,o,s),this.centerCoordinates={x:.5*o,y:.5*s},this.r=.49*o;var a,g=2*Math.PI/360,l=1/360,A=1/this.r;for(n=0;n<360;n++)for(r=0;r<this.r;r++)e=this.centerCoordinates.x+r*Math.sin(g*n),i=this.centerCoordinates.y+r*Math.cos(g*n),a=d_(n*l,r*A,1),t.fillStyle="rgb("+a.r+","+a.g+","+a.b+")",t.fillRect(e-.5,i-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,o,s)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,n=t.center.y-e.top,r=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,s=i-o,a=n-r,g=Math.atan2(s,a),l=.98*Math.min(Math.sqrt(s*s+a*a),o),A=Math.cos(g)*l+r,C=Math.sin(g)*l+o;this.colorPickerSelector.style.top=A-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=C-.5*this.colorPickerSelector.clientWidth+"px";var I=g/(2*Math.PI);I=I<0?I+1:I;var h=l/this.r,c=c_(this.color.r,this.color.g,this.color.b);c.h=I,c.s=h;var d=d_(c.h,c.s,c.v);d.a=this.color.a,this.color=d,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}();function k_(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(e.length<1)throw new TypeError("Invalid arguments.");if(1===e.length)return document.createTextNode(e[0]);var n=document.createElement(e[0]);return n.appendChild(k_.apply(void 0,qx(rk(e).call(e,1)))),n}var E_,S_=function(){function t(e,i,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!1};em(this,t),this.parent=e,this.changedOptions=[],this.container=i,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},hd(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new x_(r),this.wrapper=void 0}return gx(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;if("string"==typeof t)this.options.filter=t;else if(Ik(t))this.options.filter=t.join();else if("object"===rx(t)){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==ZE(t)&&(this.options.filter=ZE(t)),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0);!1===ZE(this.options)&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var t=ZE(this.options),e=0,i=!1;for(var n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,i=!1,"function"==typeof t?i=(i=t(n,[]))||this._handleObject(this.configureOptions[n],[n],!0):!0!==t&&-1===wS(t).call(t,n)||(i=!0),!1!==i&&(this.allowCreation=!0,e>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),e++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return Bk(n).call(n,(function(t){e.appendChild(t)})),this.domElements.push(e),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerText=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+e.length,!0===i){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(k_("i","b",t))}else n.innerText=t+":";return n}},{key:"_makeDropdown",value:function(t,e,i){var n=document.createElement("select");n.className="vis-configuration vis-config-select";var r=0;void 0!==e&&-1!==wS(t).call(t,e)&&(r=wS(t).call(t,e));for(var o=0;o<t.length;o++){var s=document.createElement("option");s.value=t[o],o===r&&(s.selected="selected"),s.innerText=t[o],n.appendChild(s)}var a=this;n.onchange=function(){a._update(this.value,i)};var g=this._makeLabel(i[i.length-1],i);this._makeItem(i,g,n)}},{key:"_makeRange",value:function(t,e,i){var n=t[0],r=t[1],o=t[2],s=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=r,a.max=o}catch(t){}a.step=s;var g="",l=0;if(void 0!==e){var A=1.2;e<0&&e*A<r?(a.min=Math.ceil(e*A),l=a.min,g="range increased"):e/A<r&&(a.min=Math.ceil(e/A),l=a.min,g="range increased"),e*A>o&&1!==o&&(a.max=Math.ceil(e*A),l=a.max,g="range increased"),a.value=e}else a.value=n;var C=document.createElement("input");C.className="vis-configuration vis-config-rangeinput",C.value=a.value;var I=this;a.onchange=function(){C.value=this.value,I._update(Number(this.value),i)},a.oninput=function(){C.value=this.value};var h=this._makeLabel(i[i.length-1],i),c=this._makeItem(i,h,a,C);""!==g&&this.popupHistory[c]!==l&&(this.popupHistory[c]=l,this._setupPopup(g,c))}},{key:"_makeButton",value:function(){var t=this;if(!0===this.options.showButton){var e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=function(){t._printOptions()},e.onmouseover=function(){e.className="vis-configuration vis-config-button hover"},e.onmouseout=function(){e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}},{key:"_setupPopup",value:function(t,e){var i=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=t,n.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=e.left+"px",this.popupDiv.html.style.top=e.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=XS((function(){t.popupDiv.html.style.opacity=0}),1500),this.popupDiv.deleteTimeout=XS((function(){t._removePopup()}),1800)}}},{key:"_makeCheckbox",value:function(t,e,i){var n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=t,void 0!==e&&(n.checked=e,e!==t&&("object"===rx(t)?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));var r=this;n.onchange=function(){r._update(this.checked,i)};var o=this._makeLabel(i[i.length-1],i);this._makeItem(i,o,n)}},{key:"_makeTextInput",value:function(t,e,i){var n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=e,e!==t&&this.changedOptions.push({path:i,value:e});var r=this;n.onchange=function(){r._update(this.value,i)};var o=this._makeLabel(i[i.length-1],i);this._makeItem(i,o,n)}},{key:"_makeColorField",value:function(t,e,i){var n=this,r=t[1],o=document.createElement("div");"none"!==(e=void 0===e?r:e)?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=e):o.className="vis-configuration vis-config-colorBlock none",e=void 0===e?r:e,o.onclick=function(){n._showColorPicker(e,o,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,o)}},{key:"_showColorPicker",value:function(t,e,i){var n=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback((function(t){var r="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=r,n._update(r,i)})),this.colorPicker.setCloseCallback((function(){e.onclick=function(){n._showColorPicker(t,e,i)}}))}},{key:"_handleObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1,r=ZE(this.options),o=!1;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){n=!0;var a=t[s],g=a_(e,s);if("function"==typeof r&&!1===(n=r(s,e))&&!Ik(a)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,n=this._handleObject(a,g,!0),this.allowCreation=!1===i),!1!==n){o=!0;var l=this._getValue(g);if(Ik(a))this._handleArray(a,l,g);else if("string"==typeof a)this._makeTextInput(a,l,g);else if("boolean"==typeof a)this._makeCheckbox(a,l,g);else if(a instanceof Object){if(!this.hideOption(e,s,this.moduleOptions))if(void 0!==a.enabled){var A=a_(g,"enabled"),C=this._getValue(A);if(!0===C){var I=this._makeLabel(s,g,!0);this._makeItem(g,I),o=this._handleObject(a,g)||o}else this._makeCheckbox(a,C,g)}else{var h=this._makeLabel(s,g,!0);this._makeItem(g,h),o=this._handleObject(a,g)||o}}else console.error("dont know how to handle",a,s,g)}}return o}},{key:"_handleArray",value:function(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}},{key:"_update",value:function(t,e){var i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i;t="false"!==(t="true"===t||t)&&t;for(var r=0;r<e.length;r++)"global"!==e[r]&&(void 0===n[e[r]]&&(n[e[r]]={}),r!==e.length-1?n=n[e[r]]:n[e[r]]=t);return i}},{key:"_printOptions",value:function(){for(var t=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(k_("pre","const options = "+OS(t,null,2)))}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),t}(),T_=function(){function t(e,i){em(this,t),this.container=e,this.overflowMethod=i||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return gx(t,[{key:"setPosition",value:function(t,e){this.x=hS(t),this.y=hS(e)}},{key:"setText",value:function(t){if(t instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(t)}else this.frame.innerText=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,i=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,r=this.frame.parentNode.clientWidth,o=0,s=0;if("flip"==this.overflowMethod){var a=!1,g=!0;this.y-e<this.padding&&(g=!1),this.x+i>r-this.padding&&(a=!0),o=a?this.x-i:this.x,s=g?this.y-e:this.y}else(s=this.y-e)+e+this.padding>n&&(s=n-e-this.padding),s<this.padding&&(s=this.padding),(o=this.x)+i+this.padding>r&&(o=r-i-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}(),O_=!1,__="background: #FFeeee; color: #dd0000",R_=function(){function t(){em(this,t)}return gx(t,null,[{key:"validate",value:function(e,i,n){O_=!1,E_=i;var r=i;return void 0!==n&&(r=i[n]),t.parse(e,r,[]),O_}},{key:"parse",value:function(e,i,n){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.check(r,e,i,n)}},{key:"check",value:function(e,i,n,r){if(void 0!==n[e]||void 0!==n.__any__){var o=e,s=!0;void 0===n[e]&&void 0!==n.__any__&&(o="__any__",s="object"===t.getType(i[e]));var a=n[o];s&&void 0!==a.__type__&&(a=a.__type__),t.checkFields(e,i,n,o,a,r)}else t.getSuggestion(e,n,r)}},{key:"checkFields",value:function(e,i,n,r,o,s){var a=function(i){console.error("%c"+i+t.printLocation(s,e),__)},g=t.getType(i[e]),l=o[g];void 0!==l?"array"===t.getType(l)&&-1===wS(l).call(l,i[e])?(a('Invalid option detected in "'+e+'". Allowed values are:'+t.print(l)+' not "'+i[e]+'". '),O_=!0):"object"===g&&"__any__"!==r&&(s=a_(s,e),t.parse(i[e],n[r],s)):void 0===o.any&&(a('Invalid type received for "'+e+'". Expected: '+t.print(yk(o))+". Received ["+g+'] "'+i[e]+'"'),O_=!0)}},{key:"getType",value:function(t){var e=rx(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Ik(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,i,n){var r,o=t.findInOptions(e,i,n,!1),s=t.findInOptions(e,E_,[],!0);r=void 0!==o.indexMatch?" in "+t.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':s.distance<=4&&o.distance>s.distance?" in "+t.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(s.path,s.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+t.printLocation(o.path,e):". Did you mean one of these: "+t.print(yk(i))+t.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+r,__),O_=!0}},{key:"findInOptions",value:function(e,i,n){var r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=1e9,a="",g=[],l=e.toLowerCase(),A=void 0;for(var C in i){var I=void 0;if(void 0!==i[C].__type__&&!0===o){var h=t.findInOptions(e,i[C],a_(n,C));s>h.distance&&(a=h.closestMatch,g=h.path,s=h.distance,A=h.indexMatch)}else{var c;-1!==wS(c=C.toLowerCase()).call(c,l)&&(A=C),s>(I=t.levenshteinDistance(e,C))&&(a=C,g=rk(r=n).call(r),s=I)}}return{closestMatch:a,path:g,distance:s,indexMatch:A}}},{key:"printLocation",value:function(t,e){for(var i="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",n=0;n<t.length;n++){for(var r=0;r<n+1;r++)i+="  ";i+=t[n]+": {\n"}for(var o=0;o<t.length+1;o++)i+="  ";i+=e+"\n";for(var s=0;s<t.length+1;s++){for(var a=0;a<t.length-s;a++)i+="  ";i+="}\n"}return i+"\n\n"}},{key:"print",value:function(t){return OS(t).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var i,n,r=[];for(i=0;i<=e.length;i++)r[i]=[i];for(n=0;n<=t.length;n++)r[0][n]=n;for(i=1;i<=e.length;i++)for(n=1;n<=t.length;n++)e.charAt(i-1)==t.charAt(n-1)?r[i][n]=r[i-1][n-1]:r[i][n]=Math.min(r[i-1][n-1]+1,Math.min(r[i][n-1]+1,r[i-1][n]+1));return r[e.length][t.length]}}]),t}(),N_=KO,D_=S_,P_=YO,M_=T_,j_=__,L_=R_;var B_={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},F_=ES(B_);F_.color="color.color",F_.style="dashes";var z_={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},V_={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},G_="",W_=0,U_="",Z_="",H_=z_.NULL;function Y_(){W_++,U_=G_.charAt(W_)}function K_(){return G_.charAt(W_+1)}function X_(t){var e=t.charCodeAt(0);return e<47?35===e||46===e:e<59?e>47:e<91?e>64:e<96?95===e:e<123&&e>96}function Q_(t,e){if(t||(t={}),e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function q_(t,e,i){for(var n=e.split("."),r=t;n.length;){var o=n.shift();n.length?(r[o]||(r[o]={}),r=r[o]):r[o]=i}}function J_(t,e){for(var i,n,r=null,o=[t],s=t;s.parent;)o.push(s.parent),s=s.parent;if(s.nodes)for(i=0,n=s.nodes.length;i<n;i++)if(e.id===s.nodes[i].id){r=s.nodes[i];break}for(r||(r={id:e.id},t.node&&(r.attr=Q_(r.attr,t.node))),i=o.length-1;i>=0;i--){var a,g=o[i];g.nodes||(g.nodes=[]),-1===wS(a=g.nodes).call(a,r)&&g.nodes.push(r)}e.attr&&(r.attr=Q_(r.attr,e.attr))}function $_(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=Q_({},t.edge);e.attr=Q_(i,e.attr)}}function tR(t,e,i,n,r){var o={from:e,to:i,type:n};return t.edge&&(o.attr=Q_({},t.edge)),o.attr=Q_(o.attr||{},r),null!=r&&r.hasOwnProperty("arrows")&&null!=r.arrows&&(o.arrows={to:{enabled:!0,type:r.arrows.type}},r.arrows=null),o}function eR(){for(H_=z_.NULL,Z_="";" "===U_||"\t"===U_||"\n"===U_||"\r"===U_;)Y_();do{var t=!1;if("#"===U_){for(var e=W_-1;" "===G_.charAt(e)||"\t"===G_.charAt(e);)e--;if("\n"===G_.charAt(e)||""===G_.charAt(e)){for(;""!=U_&&"\n"!=U_;)Y_();t=!0}}if("/"===U_&&"/"===K_()){for(;""!=U_&&"\n"!=U_;)Y_();t=!0}if("/"===U_&&"*"===K_()){for(;""!=U_;){if("*"===U_&&"/"===K_()){Y_(),Y_();break}Y_()}t=!0}for(;" "===U_||"\t"===U_||"\n"===U_||"\r"===U_;)Y_()}while(t);if(""!==U_){var i=U_+K_();if(V_[i])return H_=z_.DELIMITER,Z_=i,Y_(),void Y_();if(V_[U_])return H_=z_.DELIMITER,Z_=U_,void Y_();if(X_(U_)||"-"===U_){for(Z_+=U_,Y_();X_(U_);)Z_+=U_,Y_();return"false"===Z_?Z_=!1:"true"===Z_?Z_=!0:isNaN(Number(Z_))||(Z_=Number(Z_)),void(H_=z_.IDENTIFIER)}if('"'===U_){for(Y_();""!=U_&&('"'!=U_||'"'===U_&&'"'===K_());)'"'===U_?(Z_+=U_,Y_()):"\\"===U_&&"n"===K_()?(Z_+="\n",Y_()):Z_+=U_,Y_();if('"'!=U_)throw aR('End of string " expected');return Y_(),void(H_=z_.IDENTIFIER)}for(H_=z_.UNKNOWN;""!=U_;)Z_+=U_,Y_();throw new SyntaxError('Syntax error in part "'+gR(Z_,30)+'"')}H_=z_.DELIMITER}function iR(t){for(;""!==Z_&&"}"!=Z_;)nR(t),";"===Z_&&eR()}function nR(t){var e=rR(t);if(e)oR(t,e);else{var i=function(t){return"node"===Z_?(eR(),t.node=sR(),"node"):"edge"===Z_?(eR(),t.edge=sR(),"edge"):"graph"===Z_?(eR(),t.graph=sR(),"graph"):null}(t);if(!i){if(H_!=z_.IDENTIFIER)throw aR("Identifier expected");var n=Z_;if(eR(),"="===Z_){if(eR(),H_!=z_.IDENTIFIER)throw aR("Identifier expected");t[n]=Z_,eR()}else!function(t,e){var i={id:e},n=sR();n&&(i.attr=n),J_(t,i),oR(t,e)}(t,n)}}}function rR(t){var e=null;if("subgraph"===Z_&&((e={}).type="subgraph",eR(),H_===z_.IDENTIFIER&&(e.id=Z_,eR())),"{"===Z_){if(eR(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,iR(e),"}"!=Z_)throw aR("Angle bracket } expected");eR(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function oR(t,e){for(;"->"===Z_||"--"===Z_;){var i,n=Z_;eR();var r=rR(t);if(r)i=r;else{if(H_!=z_.IDENTIFIER)throw aR("Identifier or subgraph expected");J_(t,{id:i=Z_}),eR()}$_(t,tR(t,e,i,n,sR())),e=i}}function sR(){for(var t,e,i=null,n={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},o=new Array,s=new Array;"["===Z_;){for(eR(),i={};""!==Z_&&"]"!=Z_;){if(H_!=z_.IDENTIFIER)throw aR("Attribute name expected");var a=Z_;if(eR(),"="!=Z_)throw aR("Equal sign = expected");if(eR(),H_!=z_.IDENTIFIER)throw aR("Attribute value expected");var g=Z_;"style"===a&&(g=n[g]),"arrowhead"===a&&(a="arrows",g={to:{enabled:!0,type:r[g]}}),"arrowtail"===a&&(a="arrows",g={from:{enabled:!0,type:r[g]}}),o.push({attr:i,name:a,value:g}),s.push(a),eR(),","==Z_&&eR()}if("]"!=Z_)throw aR("Bracket ] expected");eR()}if(PE(s).call(s,"dir")){var l={arrows:{}};for(t=0;t<o.length;t++)if("arrows"===o[t].name)if(null!=o[t].value.to)l.arrows.to=t;else{if(null==o[t].value.from)throw aR("Invalid value of arrows");l.arrows.from=t}else"dir"===o[t].name&&(l.dir=t);var A,C,I=o[l.dir].value;if(!PE(s).call(s,"arrows"))if("both"===I)o.push({attr:o[l.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),l.arrows.to=o.length-1,o.push({attr:o[l.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),l.arrows.from=o.length-1;else if("forward"===I)o.push({attr:o[l.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),l.arrows.to=o.length-1;else if("back"===I)o.push({attr:o[l.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),l.arrows.from=o.length-1;else{if("none"!==I)throw aR('Invalid dir type "'+I+'"');o.push({attr:o[l.dir].attr,name:"arrows",value:""}),l.arrows.to=o.length-1}if("both"===I)l.arrows.to&&l.arrows.from?(C=o[l.arrows.to].value.to.type,A=o[l.arrows.from].value.from.type,o[l.arrows.to]={attr:o[l.arrows.to].attr,name:o[l.arrows.to].name,value:{to:{enabled:!0,type:C},from:{enabled:!0,type:A}}},dE(o).call(o,l.arrows.from,1)):l.arrows.to?(C=o[l.arrows.to].value.to.type,A="arrow",o[l.arrows.to]={attr:o[l.arrows.to].attr,name:o[l.arrows.to].name,value:{to:{enabled:!0,type:C},from:{enabled:!0,type:A}}}):l.arrows.from&&(C="arrow",A=o[l.arrows.from].value.from.type,o[l.arrows.from]={attr:o[l.arrows.from].attr,name:o[l.arrows.from].name,value:{to:{enabled:!0,type:C},from:{enabled:!0,type:A}}});else if("back"===I)l.arrows.to&&l.arrows.from?(C="",A=o[l.arrows.from].value.from.type,o[l.arrows.from]={attr:o[l.arrows.from].attr,name:o[l.arrows.from].name,value:{to:{enabled:!0,type:C},from:{enabled:!0,type:A}}}):l.arrows.to?(C="",A="arrow",l.arrows.from=l.arrows.to,o[l.arrows.from]={attr:o[l.arrows.from].attr,name:o[l.arrows.from].name,value:{to:{enabled:!0,type:C},from:{enabled:!0,type:A}}}):l.arrows.from&&(C="",A=o[l.arrows.from].value.from.type,o[l.arrows.to]={attr:o[l.arrows.from].attr,name:o[l.arrows.from].name,value:{to:{enabled:!0,type:C},from:{enabled:!0,type:A}}}),o[l.arrows.from]={attr:o[l.arrows.from].attr,name:o[l.arrows.from].name,value:{from:{enabled:!0,type:o[l.arrows.from].value.from.type}}};else if("none"===I){var h;o[h=l.arrows.to?l.arrows.to:l.arrows.from]={attr:o[h].attr,name:o[h].name,value:""}}else{if("forward"!==I)throw aR('Invalid dir type "'+I+'"');l.arrows.to&&l.arrows.from||l.arrows.to?(C=o[l.arrows.to].value.to.type,A="",o[l.arrows.to]={attr:o[l.arrows.to].attr,name:o[l.arrows.to].name,value:{to:{enabled:!0,type:C},from:{enabled:!0,type:A}}}):l.arrows.from&&(C="arrow",A="",l.arrows.to=l.arrows.from,o[l.arrows.to]={attr:o[l.arrows.to].attr,name:o[l.arrows.to].name,value:{to:{enabled:!0,type:C},from:{enabled:!0,type:A}}}),o[l.arrows.to]={attr:o[l.arrows.to].attr,name:o[l.arrows.to].name,value:{to:{enabled:!0,type:o[l.arrows.to].value.to.type}}}}dE(o).call(o,l.dir,1)}if(PE(s).call(s,"penwidth")){var c=[];for(e=o.length,t=0;t<e;t++)"width"!==o[t].name&&("penwidth"===o[t].name&&(o[t].name="width"),c.push(o[t]));o=c}for(e=o.length,t=0;t<e;t++)q_(o[t].attr,o[t].name,o[t].value);return i}function aR(t){return new SyntaxError(t+', got "'+gR(Z_,30)+'" (char '+W_+")")}function gR(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function lR(t,e,i){for(var n=e.split("."),r=n.pop(),o=t,s=0;s<n.length;s++){var a=n[s];a in o||(o[a]={}),o=o[a]}return o[r]=i,t}function AR(t,e){var i={};for(var n in t)if(t.hasOwnProperty(n)){var r=e[n];Ik(r)?Bk(r).call(r,(function(e){lR(i,e,t[n])})):lR(i,"string"==typeof r?r:n,t[n])}return i}function CR(t){var e,i=function(t){return G_=t,function(){var t={};if(W_=0,U_=G_.charAt(0),eR(),"strict"===Z_&&(t.strict=!0,eR()),"graph"!==Z_&&"digraph"!==Z_||(t.type=Z_,eR()),H_===z_.IDENTIFIER&&(t.id=Z_,eR()),"{"!=Z_)throw aR("Angle bracket { expected");if(eR(),iR(t),"}"!=Z_)throw aR("Angle bracket } expected");if(eR(),""!==Z_)throw aR("End of file expected");return eR(),delete t.node,delete t.edge,delete t.graph,t}()}(t),n={nodes:[],edges:[],options:{}};if(i.nodes&&Bk(e=i.nodes).call(e,(function(t){var e={id:t.id,label:String(t.label||t.id)};Q_(e,AR(t.attr,B_)),e.image&&(e.shape="image"),n.nodes.push(e)})),i.edges){var r,o=function(t){var e={from:t.from,to:t.to};return Q_(e,AR(t.attr,F_)),null==e.arrows&&"->"===t.type&&(e.arrows="to"),e};Bk(r=i.edges).call(r,(function(t){var e,i,r,s,a,g,l;e=t.from instanceof Object?t.from.nodes:{id:t.from},i=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&Bk(r=t.from.edges).call(r,(function(t){var e=o(t);n.edges.push(e)})),a=i,g=function(e,i){var r=tR(n,e.id,i.id,t.type,t.attr),s=o(r);n.edges.push(s)},Ik(s=e)?Bk(s).call(s,(function(t){Ik(a)?Bk(a).call(a,(function(e){g(t,e)})):g(t,a)})):Ik(a)?Bk(a).call(a,(function(t){g(s,t)})):g(s,a),t.to instanceof Object&&t.to.edges&&Bk(l=t.to.edges).call(l,(function(t){var e=o(t);n.edges.push(e)}))}))}return i.attr&&(n.options=i.attr),n}var IR=Object.freeze({__proto__:null,cn:{addDescription:"单击空白处放置新节点。",addEdge:"添加连接线",addNode:"添加节点",back:"返回",close:"關閉",createEdgeError:"无法将连接线连接到群集。",del:"删除选定",deleteClusterError:"无法删除群集。",edgeDescription:"单击某个节点并将该连接线拖动到另一个节点以连接它们。",edit:"编辑",editClusterError:"无法编辑群集。",editEdge:"编辑连接线",editEdgeDescription:"单击控制节点并将它们拖到节点上连接。",editNode:"编辑节点"},cs:{addDescription:"Kluknutím do prázdného prostoru můžete přidat nový vrchol.",addEdge:"Přidat hranu",addNode:"Přidat vrchol",back:"Zpět",close:"Zavřít",createEdgeError:"Nelze připojit hranu ke shluku.",del:"Smazat výběr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Přetažením z jednoho vrcholu do druhého můžete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Přetažením kontrolního vrcholu hrany ji můžete připojit k jinému vrcholu.",editNode:"Upravit vrchol"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufügen",addNode:"Knoten hinzufügen",back:"Zurück",close:"Schließen",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",del:"Lösche Auswahl",deleteClusterError:"Cluster können nicht gelöscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster können nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},es:{addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",addEdge:"Añadir arista",addNode:"Añadir nodo",back:"Atrás",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selección",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un nœud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nœud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de créer un lien vers un cluster.",del:"Effacer la sélection",deleteClusterError:"Les clusters ne peuvent pas être effacés.",edgeDescription:"Cliquez sur un nœud et glissez le lien vers un autre nœud pour les connecter.",edit:"Éditer",editClusterError:"Les clusters ne peuvent pas être édités.",editEdge:"Éditer le lien",editEdgeDescription:"Cliquez sur les points de contrôle et glissez-les pour connecter un nœud.",editNode:"Éditer le nœud"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espaço em branco para adicionar um novo nó",addEdge:"Adicionar aresta",addNode:"Adicionar nó",back:"Voltar",close:"Fechar",createEdgeError:"Não foi possível linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters não puderam ser removidos.",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",edit:"Editar",editClusterError:"Clusters não puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",editNode:"Editar nó"},ru:{addDescription:"Кликните в свободное место, чтобы добавить новый узел.",addEdge:"Добавить ребро",addNode:"Добавить узел",back:"Назад",close:"Закрывать",createEdgeError:"Невозможно соединить ребра в кластер.",del:"Удалить выбранное",deleteClusterError:"Кластеры не могут быть удалены",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",edit:"Редактировать",editClusterError:"Кластеры недоступны для редактирования.",editEdge:"Редактировать ребро",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",editNode:"Редактировать узел"},uk:{addDescription:"Kлікніть на вільне місце, щоб додати новий вузол.",addEdge:"Додати край",addNode:"Додати вузол",back:"Назад",close:"Закрити",createEdgeError:"Не можливо об'єднати краї в групу.",del:"Видалити обране",deleteClusterError:"Групи не можуть бути видалені.",edgeDescription:"Клікніть на вузол і перетягніть край до іншого вузла, щоб їх з'єднати.",edit:"Редагувати",editClusterError:"Групи недоступні для редагування.",editEdge:"Редагувати край",editEdgeDescription:"Клікніть на контрольні точки і перетягніть їх у вузол, щоб підключитися до нього.",editNode:"Редагувати вузол"}}),hR=function(){function t(){em(this,t),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return gx(t,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,e=this.image.height;this.width=t,this.height=e;var i=Math.floor(e/2),n=Math.floor(e/4),r=Math.floor(e/8),o=Math.floor(e/16),s=Math.floor(t/2),a=Math.floor(t/4),g=Math.floor(t/8),l=Math.floor(t/16);this.canvas.width=3*a,this.canvas.height=i,this.coordinates=[[0,0,s,i],[s,0,a,n],[s,n,g,r],[5*g,n,l,o]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(var i=1;i<this.NUM_ITERATIONS;i++){var n=this.coordinates[i-1],r=this.coordinates[i];t.drawImage(this.canvas,n[0],n[1],n[2],n[3],r[0],r[1],r[2],r[3])}}},{key:"drawImageAtPosition",value:function(t,e,i,n,r,o){if(this.initialized())if(e>2){e*=.5;for(var s=0;e>2&&s<this.NUM_ITERATIONS;)e*=.5,s+=1;s>=this.NUM_ITERATIONS&&(s=this.NUM_ITERATIONS-1);var a=this.coordinates[s];t.drawImage(this.canvas,a[0],a[1],a[2],a[3],i,n,r,o)}else t.drawImage(this.image,i,n,r,o)}}]),t}(),cR=function(){function t(e){em(this,t),this.images={},this.imageBroken={},this.callback=e}return gx(t,[{key:"_tryloadBrokenUrl",value:function(t,e,i){void 0!==t&&void 0!==i&&(void 0!==e?(i.image.onerror=function(){console.error("Could not load brokenImage:",e)},i.image.src=e):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e){var i=this,n=this.images[t];if(n)return n;var r=new hR;return this.images[t]=r,r.image.onload=function(){i._fixImageCoordinates(r.image),r.init(),i._redrawWithImage(r)},r.image.onerror=function(){console.error("Could not load image:",t),i._tryloadBrokenUrl(t,e,r)},r.image.src=t,r}},{key:"_fixImageCoordinates",value:function(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),t}(),dR={exports:{}},uR=rC((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),fR=rC,pR=$C,vR=vC,mR=uR,yR=Object.isExtensible,bR=fR((function(){yR(1)}))||mR?function(t){return!!pR(t)&&(!mR||"ArrayBuffer"!==vR(t))&&(!yR||yR(t))}:yR,wR=!rC((function(){return Object.isExtensible(Object.preventExtensions({}))})),xR=kc,kR=dC,ER=Gc,SR=$C,TR=QI,OR=Kh.f,_R=Fm,RR=Gm,NR=bR,DR=wR,PR=!1,MR=eh("meta"),jR=0,LR=function(t){OR(t,MR,{value:{objectID:"O"+jR++,weakData:{}}})},BR=dR.exports={enable:function(){BR.enable=function(){},PR=!0;var t=_R.f,e=kR([].splice),i={};i[MR]=1,t(i).length&&(_R.f=function(i){for(var n=t(i),r=0,o=n.length;r<o;r++)if(n[r]===MR){e(n,r,1);break}return n},xR({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:RR.f}))},fastKey:function(t,e){if(!SR(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!TR(t,MR)){if(!NR(t))return"F";if(!e)return"E";LR(t)}return t[MR].objectID},getWeakData:function(t,e){if(!TR(t,MR)){if(!NR(t))return!0;if(!e)return!1;LR(t)}return t[MR].weakData},onFreeze:function(t){return DR&&PR&&NR(t)&&!TR(t,MR)&&LR(t),t}};ER[MR]=!0;var FR=dR.exports,zR=Yh,VR=RC,GR=$h,WR=EI,UR=Mp,ZR=jc,HR=sI,YR=uv,KR=lv,XR=Op,QR=TypeError,qR=function(t,e){this.stopped=t,this.result=e},JR=qR.prototype,$R=function(t,e,i){var n,r,o,s,a,g,l,A=i&&i.that,C=!(!i||!i.AS_ENTRIES),I=!(!i||!i.IS_RECORD),h=!(!i||!i.IS_ITERATOR),c=!(!i||!i.INTERRUPTED),d=zR(e,A),u=function(t){return n&&XR(n,"normal",t),new qR(!0,t)},f=function(t){return C?(GR(t),c?d(t[0],t[1],u):d(t[0],t[1])):c?d(t,u):d(t)};if(I)n=t.iterator;else if(h)n=t;else{if(!(r=KR(t)))throw new QR(WR(t)+" is not iterable");if(UR(r)){for(o=0,s=ZR(t);s>o;o++)if((a=f(t[o]))&&HR(JR,a))return a;return new qR(!1)}n=YR(t,r)}for(g=I?t.next:n.next;!(l=VR(g,n)).done;){try{a=f(l.value)}catch(t){XR(n,"throw",t)}if("object"==typeof a&&a&&HR(JR,a))return a}return new qR(!1)},tN=sI,eN=TypeError,iN=function(t,e){if(tN(e,t))return t;throw new eN("Incorrect invocation")},nN=kc,rN=nC,oN=FR,sN=rC,aN=hc,gN=$R,lN=iN,AN=EC,CN=$C,IN=UC,hN=Gf,cN=Kh.f,dN=yy.forEach,uN=TC,fN=Du.set,pN=Du.getterFor,vN=function(t,e,i){var n,r=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),s=r?"set":"add",a=rN[t],g=a&&a.prototype,l={};if(uN&&AN(a)&&(o||g.forEach&&!sN((function(){(new a).entries().next()})))){var A=(n=e((function(e,i){fN(lN(e,A),{type:t,collection:new a}),IN(i)||gN(i,e[s],{that:e,AS_ENTRIES:r})}))).prototype,C=pN(t);dN(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"===t||"set"===t;!(t in g)||o&&"clear"===t||aN(A,t,(function(i,n){var r=C(this).collection;if(!e&&o&&!CN(i))return"get"===t&&void 0;var s=r[t](0===i?0:i,n);return e?this:s}))})),o||cN(A,"size",{configurable:!0,get:function(){return C(this).collection.size}})}else n=i.getConstructor(e,t,r,s),oN.enable();return hN(n,t,!1,!0),l[t]=n,nN({global:!0,forced:!0},l),o||i.setStrong(n,t,r),n},mN=wf,yN=function(t,e,i){for(var n in e)i&&i.unsafe&&t[n]?t[n]=e[n]:mN(t,n,e[n],i);return t},bN=oI,wN=ey,xN=TC,kN=Ah("species"),EN=function(t){var e=bN(t);xN&&e&&!e[kN]&&wN(e,kN,{configurable:!0,get:function(){return this}})},SN=If,TN=ey,ON=yN,_N=Yh,RN=iN,NN=UC,DN=$R,PN=up,MN=fp,jN=EN,LN=TC,BN=FR.fastKey,FN=Du.set,zN=Du.getterFor,VN={getConstructor:function(t,e,i,n){var r=t((function(t,r){RN(t,o),FN(t,{type:e,index:SN(null),first:void 0,last:void 0,size:0}),LN||(t.size=0),NN(r)||DN(r,t[n],{that:t,AS_ENTRIES:i})})),o=r.prototype,s=zN(e),a=function(t,e,i){var n,r,o=s(t),a=g(t,e);return a?a.value=i:(o.last=a={index:r=BN(e,!0),key:e,value:i,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=a),n&&(n.next=a),LN?o.size++:t.size++,"F"!==r&&(o.index[r]=a)),t},g=function(t,e){var i,n=s(t),r=BN(e);if("F"!==r)return n.index[r];for(i=n.first;i;i=i.next)if(i.key===e)return i};return ON(o,{clear:function(){for(var t=s(this),e=t.index,i=t.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete e[i.index],i=i.next;t.first=t.last=void 0,LN?t.size=0:this.size=0},delete:function(t){var e=this,i=s(e),n=g(e,t);if(n){var r=n.next,o=n.previous;delete i.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),i.first===n&&(i.first=r),i.last===n&&(i.last=o),LN?i.size--:e.size--}return!!n},forEach:function(t){for(var e,i=s(this),n=_N(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:i.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!g(this,t)}}),ON(o,i?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),LN&&TN(o,"size",{configurable:!0,get:function(){return s(this).size}}),r},setStrong:function(t,e,i){var n=e+" Iterator",r=zN(e),o=zN(n);PN(t,e,(function(t,e){FN(this,{type:n,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?MN("keys"===e?i.key:"values"===e?i.value:[i.key,i.value],!1):(t.target=void 0,MN(void 0,!0))}),i?"entries":"values",!i,!0),jN(e)}};vN("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),VN);var GN=eC(tI.Map),WN=function(){function t(){em(this,t),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},hd(this.options,this.defaultOptions)}return gx(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&-1===wS(e).call(e,i)){var n=t[i];this.add(i,n)}}},{key:"clear",value:function(){this._groups=new GN,this._groupNames=[]}},{key:"get",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._groups.get(t);if(void 0===i&&e)if(!1===this.options.useDefaultGroups&&this._groupNames.length>0){var n=this._groupIndex%this._groupNames.length;++this._groupIndex,(i={}).color=this._groups.get(this._groupNames[n]),this._groups.set(t,i)}else{var r=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,(i={}).color=this._defaultGroups[r],this._groups.set(t,i)}return i}},{key:"add",value:function(t,e){return this._groups.has(t)||this._groupNames.push(t),this._groups.set(t,e),e}}]),t}();kc({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var UN=eC(tI.Number.isNaN),ZN=nC.isFinite;kc({target:"Number",stat:!0},{isFinite:Number.isFinite||function(t){return"number"==typeof t&&ZN(t)}});var HN=eC(tI.Number.isFinite),YN=yy.some;kc({target:"Array",proto:!0,forced:!Sk("some")},{some:function(t){return YN(this,t,arguments.length>1?arguments[1]:void 0)}});var KN=Td("Array").some,XN=sI,QN=KN,qN=Array.prototype,JN=eC((function(t){var e=t.some;return t===qN||XN(qN,t)&&e===qN.some?QN:e}));function $N(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var tD=kS,eD=eC(tD);kc({target:"Object",stat:!0},{setPrototypeOf:ip});var iD=tI.Object.setPrototypeOf,nD=eC(iD),rD=eC(Dd);function oD(t,e){var i;return oD=nD?rD(i=nD).call(i):function(t,e){return t.__proto__=e,t},oD(t,e)}function sD(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=eD(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Am(t,"prototype",{writable:!1}),e&&oD(t,e)}function aD(t,e){if(e&&("object"===rx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return $N(t)}var gD=BE,lD=eC(gD);function AD(t){var e;return AD=nD?rD(e=lD).call(e):function(t){return t.__proto__||lD(t)},AD(t)}function CD(t,e,i){return(e=sx(e))in t?Am(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var ID={exports:{}},hD={exports:{}};!function(t){var e=$w,i=ix;function n(r){return t.exports=n="function"==typeof e&&"symbol"==typeof i?function(t){return typeof t}:function(t){return t&&"function"==typeof e&&t.constructor===e&&t!==e.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(hD);var cD=hD.exports,dD=Lk,uD=QI,fD=Ak,pD=SC,vD=Kh,mD=$C,yD=hc,bD=Error,wD=dC("".replace),xD=String(new bD("zxcasd").stack),kD=/\n\s*at [^:]*:[^\n]*/,ED=kD.test(xD),SD=BC,TD=!rC((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",SD(1,7)),7!==t.stack)})),OD=hc,_D=TD,RD=Error.captureStackTrace,ND=ru,DD=kc,PD=sI,MD=yf,jD=ip,LD=If,BD=hc,FD=BC,zD=function(t,e,i,n){_D&&(RD?RD(t,e):OD(t,"stack",function(t,e){if(ED&&"string"==typeof t&&!bD.prepareStackTrace)for(;e--;)t=wD(t,kD,"");return t}(i,n)))},VD=$R,GD=Ah("toStringTag"),WD=Error,UD=[].push,ZD=function(t,e){var i,n,r,o=PD(HD,this);jD?i=jD(new WD,o?MD(this):HD):(i=o?this:LD(HD),BD(i,GD,"Error")),void 0!==e&&BD(i,"message",function(t,e){return void 0===t?arguments.length<2?"":e:ND(t)}(e)),zD(i,ZD,i.stack,1),arguments.length>2&&(n=i,mD(r=arguments[2])&&"cause"in r&&yD(n,"cause",r.cause));var s=[];return VD(t,UD,{that:s}),BD(i,"errors",s),i};jD?jD(ZD,WD):function(t,e,i){for(var n=fD(e),r=vD.f,o=pD.f,s=0;s<n.length;s++){var a=n[s];uD(t,a)||i&&uD(i,a)||r(t,a,o(e,a))}}(ZD,WD,{name:!0});var HD=ZD.prototype=LD(WD.prototype,{constructor:FD(1,ZD),message:FD(1,""),name:FD(1,"AggregateError")});DD({global:!0,constructor:!0,arity:2},{AggregateError:ZD});var YD,KD,XD,QD,qD="process"===vC(nC.process),JD=$p,$D=EI,tP=TypeError,eP=function(t){if(JD(t))return t;throw new tP($D(t)+" is not a constructor")},iP=$h,nP=eP,rP=UC,oP=Ah("species"),sP=function(t,e){var i,n=iP(t).constructor;return void 0===n||rP(i=iP(n)[oP])?e:nP(i)},aP=/(?:ipad|iphone|ipod).*applewebkit/i.test(aI),gP=nC,lP=AC,AP=Yh,CP=EC,IP=QI,hP=rC,cP=Ku,dP=cd,uP=wh,fP=NS,pP=aP,vP=qD,mP=gP.setImmediate,yP=gP.clearImmediate,bP=gP.process,wP=gP.Dispatch,xP=gP.Function,kP=gP.MessageChannel,EP=gP.String,SP=0,TP={},OP="onreadystatechange";hP((function(){YD=gP.location}));var _P=function(t){if(IP(TP,t)){var e=TP[t];delete TP[t],e()}},RP=function(t){return function(){_P(t)}},NP=function(t){_P(t.data)},DP=function(t){gP.postMessage(EP(t),YD.protocol+"//"+YD.host)};mP&&yP||(mP=function(t){fP(arguments.length,1);var e=CP(t)?t:xP(t),i=dP(arguments,1);return TP[++SP]=function(){lP(e,void 0,i)},KD(SP),SP},yP=function(t){delete TP[t]},vP?KD=function(t){bP.nextTick(RP(t))}:wP&&wP.now?KD=function(t){wP.now(RP(t))}:kP&&!pP?(QD=(XD=new kP).port2,XD.port1.onmessage=NP,KD=AP(QD.postMessage,QD)):gP.addEventListener&&CP(gP.postMessage)&&!gP.importScripts&&YD&&"file:"!==YD.protocol&&!hP(DP)?(KD=DP,gP.addEventListener("message",NP,!1)):KD=OP in uP("script")?function(t){cP.appendChild(uP("script"))[OP]=function(){cP.removeChild(this),_P(t)}}:function(t){setTimeout(RP(t),0)});var PP={set:mP,clear:yP},MP=function(){this.head=null,this.tail=null};MP.prototype={add:function(t){var e={item:t,next:null},i=this.tail;i?i.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var jP,LP,BP,FP,zP,VP=MP,GP=/ipad|iphone|ipod/i.test(aI)&&"undefined"!=typeof Pebble,WP=/web0s(?!.*chrome)/i.test(aI),UP=nC,ZP=Yh,HP=SC.f,YP=PP.set,KP=VP,XP=aP,QP=GP,qP=WP,JP=qD,$P=UP.MutationObserver||UP.WebKitMutationObserver,tM=UP.document,eM=UP.process,iM=UP.Promise,nM=HP(UP,"queueMicrotask"),rM=nM&&nM.value;if(!rM){var oM=new KP,sM=function(){var t,e;for(JP&&(t=eM.domain)&&t.exit();e=oM.get();)try{e()}catch(t){throw oM.head&&jP(),t}t&&t.enter()};XP||JP||qP||!$P||!tM?!QP&&iM&&iM.resolve?((FP=iM.resolve(void 0)).constructor=iM,zP=ZP(FP.then,FP),jP=function(){zP(sM)}):JP?jP=function(){eM.nextTick(sM)}:(YP=ZP(YP,UP),jP=function(){YP(sM)}):(LP=!0,BP=tM.createTextNode(""),new $P(sM).observe(BP,{characterData:!0}),jP=function(){BP.data=LP=!LP}),rM=function(t){oM.head||jP(),oM.add(t)}}var aM=rM,gM=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},lM=nC.Promise,AM="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,CM=!AM&&!qD&&"object"==typeof window&&"object"==typeof document,IM=nC,hM=lM,cM=EC,dM=Wh,uM=Fp,fM=Ah,pM=CM,vM=AM,mM=cI,yM=hM&&hM.prototype,bM=fM("species"),wM=!1,xM=cM(IM.PromiseRejectionEvent),kM=dM("Promise",(function(){var t=uM(hM),e=t!==String(hM);if(!e&&66===mM)return!0;if(!yM.catch||!yM.finally)return!0;if(!mM||mM<51||!/native code/.test(t)){var i=new hM((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};if((i.constructor={})[bM]=n,!(wM=i.then((function(){}))instanceof n))return!0}return!e&&(pM||vM)&&!xM})),EM={CONSTRUCTOR:kM,REJECTION_EVENT:xM,SUBCLASSING:wM},SM={},TM=_I,OM=TypeError,_M=function(t){var e,i;this.promise=new t((function(t,n){if(void 0!==e||void 0!==i)throw new OM("Bad Promise constructor");e=t,i=n})),this.resolve=TM(e),this.reject=TM(i)};SM.f=function(t){return new _M(t)};var RM,NM,DM=kc,PM=qD,MM=nC,jM=RC,LM=wf,BM=Gf,FM=EN,zM=_I,VM=EC,GM=$C,WM=iN,UM=sP,ZM=PP.set,HM=aM,YM=gM,KM=VP,XM=Du,QM=lM,qM=SM,JM="Promise",$M=EM.CONSTRUCTOR,tj=EM.REJECTION_EVENT,ej=XM.getterFor(JM),ij=XM.set,nj=QM&&QM.prototype,rj=QM,oj=nj,sj=MM.TypeError,aj=MM.document,gj=MM.process,lj=qM.f,Aj=lj,Cj=!!(aj&&aj.createEvent&&MM.dispatchEvent),Ij="unhandledrejection",hj=function(t){var e;return!(!GM(t)||!VM(e=t.then))&&e},cj=function(t,e){var i,n,r,o=e.value,s=1===e.state,a=s?t.ok:t.fail,g=t.resolve,l=t.reject,A=t.domain;try{a?(s||(2===e.rejection&&vj(e),e.rejection=1),!0===a?i=o:(A&&A.enter(),i=a(o),A&&(A.exit(),r=!0)),i===t.promise?l(new sj("Promise-chain cycle")):(n=hj(i))?jM(n,i,g,l):g(i)):l(o)}catch(t){A&&!r&&A.exit(),l(t)}},dj=function(t,e){t.notified||(t.notified=!0,HM((function(){for(var i,n=t.reactions;i=n.get();)cj(i,t);t.notified=!1,e&&!t.rejection&&fj(t)})))},uj=function(t,e,i){var n,r;Cj?((n=aj.createEvent("Event")).promise=e,n.reason=i,n.initEvent(t,!1,!0),MM.dispatchEvent(n)):n={promise:e,reason:i},!tj&&(r=MM["on"+t])?r(n):t===Ij&&function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}("Unhandled promise rejection",i)},fj=function(t){jM(ZM,MM,(function(){var e,i=t.facade,n=t.value;if(pj(t)&&(e=YM((function(){PM?gj.emit("unhandledRejection",n,i):uj(Ij,i,n)})),t.rejection=PM||pj(t)?2:1,e.error))throw e.value}))},pj=function(t){return 1!==t.rejection&&!t.parent},vj=function(t){jM(ZM,MM,(function(){var e=t.facade;PM?gj.emit("rejectionHandled",e):uj("rejectionhandled",e,t.value)}))},mj=function(t,e,i){return function(n){t(e,n,i)}},yj=function(t,e,i){t.done||(t.done=!0,i&&(t=i),t.value=e,t.state=2,dj(t,!0))},bj=function(t,e,i){if(!t.done){t.done=!0,i&&(t=i);try{if(t.facade===e)throw new sj("Promise can't be resolved itself");var n=hj(e);n?HM((function(){var i={done:!1};try{jM(n,e,mj(bj,i,t),mj(yj,i,t))}catch(e){yj(i,e,t)}})):(t.value=e,t.state=1,dj(t,!1))}catch(e){yj({done:!1},e,t)}}};$M&&(oj=(rj=function(t){WM(this,oj),zM(t),jM(RM,this);var e=ej(this);try{t(mj(bj,e),mj(yj,e))}catch(t){yj(e,t)}}).prototype,(RM=function(t){ij(this,{type:JM,done:!1,notified:!1,parent:!1,reactions:new KM,rejection:!1,state:0,value:void 0})}).prototype=LM(oj,"then",(function(t,e){var i=ej(this),n=lj(UM(this,rj));return i.parent=!0,n.ok=!VM(t)||t,n.fail=VM(e)&&e,n.domain=PM?gj.domain:void 0,0===i.state?i.reactions.add(n):HM((function(){cj(n,i)})),n.promise})),NM=function(){var t=new RM,e=ej(t);this.promise=t,this.resolve=mj(bj,e),this.reject=mj(yj,e)},qM.f=lj=function(t){return t===rj||void 0===t?new NM(t):Aj(t)}),DM({global:!0,constructor:!0,wrap:!0,forced:$M},{Promise:rj}),BM(rj,JM,!1,!0),FM(JM);var wj=lM,xj=EM.CONSTRUCTOR||!Nv((function(t){wj.all(t).then(void 0,(function(){}))})),kj=RC,Ej=_I,Sj=SM,Tj=gM,Oj=$R;kc({target:"Promise",stat:!0,forced:xj},{all:function(t){var e=this,i=Sj.f(e),n=i.resolve,r=i.reject,o=Tj((function(){var i=Ej(e.resolve),o=[],s=0,a=1;Oj(t,(function(t){var g=s++,l=!1;a++,kj(i,e,t).then((function(t){l||(l=!0,o[g]=t,--a||n(o))}),r)})),--a||n(o)}));return o.error&&r(o.value),i.promise}});var _j=kc,Rj=EM.CONSTRUCTOR;lM&&lM.prototype,_j({target:"Promise",proto:!0,forced:Rj,real:!0},{catch:function(t){return this.then(void 0,t)}});var Nj=RC,Dj=_I,Pj=SM,Mj=gM,jj=$R;kc({target:"Promise",stat:!0,forced:xj},{race:function(t){var e=this,i=Pj.f(e),n=i.reject,r=Mj((function(){var r=Dj(e.resolve);jj(t,(function(t){Nj(r,e,t).then(i.resolve,n)}))}));return r.error&&n(r.value),i.promise}});var Lj=RC,Bj=SM;kc({target:"Promise",stat:!0,forced:EM.CONSTRUCTOR},{reject:function(t){var e=Bj.f(this);return Lj(e.reject,void 0,t),e.promise}});var Fj=$h,zj=$C,Vj=SM,Gj=function(t,e){if(Fj(t),zj(e)&&e.constructor===t)return e;var i=Vj.f(t);return(0,i.resolve)(e),i.promise},Wj=kc,Uj=lM,Zj=EM.CONSTRUCTOR,Hj=Gj,Yj=oI("Promise"),Kj=!Zj;Wj({target:"Promise",stat:!0,forced:!0},{resolve:function(t){return Hj(Kj&&this===Yj?Uj:this,t)}});var Xj=RC,Qj=_I,qj=SM,Jj=gM,$j=$R;kc({target:"Promise",stat:!0,forced:xj},{allSettled:function(t){var e=this,i=qj.f(e),n=i.resolve,r=i.reject,o=Jj((function(){var i=Qj(e.resolve),r=[],o=0,s=1;$j(t,(function(t){var a=o++,g=!1;s++,Xj(i,e,t).then((function(t){g||(g=!0,r[a]={status:"fulfilled",value:t},--s||n(r))}),(function(t){g||(g=!0,r[a]={status:"rejected",reason:t},--s||n(r))}))})),--s||n(r)}));return o.error&&r(o.value),i.promise}});var tL=RC,eL=_I,iL=oI,nL=SM,rL=gM,oL=$R,sL="No one promise resolved";kc({target:"Promise",stat:!0,forced:xj},{any:function(t){var e=this,i=iL("AggregateError"),n=nL.f(e),r=n.resolve,o=n.reject,s=rL((function(){var n=eL(e.resolve),s=[],a=0,g=1,l=!1;oL(t,(function(t){var A=a++,C=!1;g++,tL(n,e,t).then((function(t){C||l||(l=!0,r(t))}),(function(t){C||l||(C=!0,s[A]=t,--g||o(new i(s,sL)))}))})),--g||o(new i(s,sL))}));return s.error&&o(s.value),n.promise}});var aL=kc,gL=lM,lL=rC,AL=oI,CL=EC,IL=sP,hL=Gj,cL=gL&&gL.prototype;aL({target:"Promise",proto:!0,real:!0,forced:!!gL&&lL((function(){cL.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=IL(this,AL("Promise")),i=CL(t);return this.then(i?function(i){return hL(e,t()).then((function(){return i}))}:t,i?function(i){return hL(e,t()).then((function(){throw i}))}:t)}});var dL=tI.Promise,uL=SM;kc({target:"Promise",stat:!0},{withResolvers:function(){var t=uL.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var fL=dL,pL=SM,vL=gM;kc({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=pL.f(this),i=vL(t);return(i.error?e.reject:e.resolve)(i.value),e.promise}});var mL=fL,yL=Yk;!function(t){var e=cD.default,i=lm,n=$w,r=tD,o=gD,s=dD,a=xx,g=iD,l=mL,A=yL,C=Zx;function I(){t.exports=I=function(){return c},t.exports.__esModule=!0,t.exports.default=t.exports;var h,c={},d=Object.prototype,u=d.hasOwnProperty,f=i||function(t,e,i){t[e]=i.value},p="function"==typeof n?n:{},v=p.iterator||"@@iterator",m=p.asyncIterator||"@@asyncIterator",y=p.toStringTag||"@@toStringTag";function b(t,e,n){return i(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{b({},"")}catch(h){b=function(t,e,i){return t[e]=i}}function w(t,e,i,n){var o=e&&e.prototype instanceof _?e:_,s=r(o.prototype),a=new G(n||[]);return f(s,"_invoke",{value:B(t,i,a)}),s}function x(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}c.wrap=w;var k="suspendedStart",E="suspendedYield",S="executing",T="completed",O={};function _(){}function R(){}function N(){}var D={};b(D,v,(function(){return this}));var P=o&&o(o(W([])));P&&P!==d&&u.call(P,v)&&(D=P);var M=N.prototype=_.prototype=r(D);function j(t){var e;s(e=["next","throw","return"]).call(e,(function(e){b(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,i){function n(r,o,s,a){var g=x(t[r],t,o);if("throw"!==g.type){var l=g.arg,A=l.value;return A&&"object"==e(A)&&u.call(A,"__await")?i.resolve(A.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):i.resolve(A).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,a)}))}a(g.arg)}var r;f(this,"_invoke",{value:function(t,e){function o(){return new i((function(i,r){n(t,e,i,r)}))}return r=r?r.then(o,o):o()}})}function B(t,e,i){var n=k;return function(r,o){if(n===S)throw new Error("Generator is already running");if(n===T){if("throw"===r)throw o;return{value:h,done:!0}}for(i.method=r,i.arg=o;;){var s=i.delegate;if(s){var a=F(s,i);if(a){if(a===O)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===k)throw n=T,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=S;var g=x(t,e,i);if("normal"===g.type){if(n=i.done?T:E,g.arg===O)continue;return{value:g.arg,done:i.done}}"throw"===g.type&&(n=T,i.method="throw",i.arg=g.arg)}}}function F(t,e){var i=e.method,n=t.iterator[i];if(n===h)return e.delegate=null,"throw"===i&&t.iterator.return&&(e.method="return",e.arg=h,F(t,e),"throw"===e.method)||"return"!==i&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+i+"' method")),O;var r=x(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,O;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=h),e.delegate=null,O):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,O)}function z(t){var e,i={tryLoc:t[0]};1 in t&&(i.catchLoc=t[1]),2 in t&&(i.finallyLoc=t[2],i.afterLoc=t[3]),a(e=this.tryEntries).call(e,i)}function V(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function G(t){this.tryEntries=[{tryLoc:"root"}],s(t).call(t,z,this),this.reset(!0)}function W(t){if(t||""===t){var i=t[v];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(u.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=h,e.done=!0,e};return r.next=r}}throw new TypeError(e(t)+" is not iterable")}return R.prototype=N,f(M,"constructor",{value:N,configurable:!0}),f(N,"constructor",{value:R,configurable:!0}),R.displayName=b(N,y,"GeneratorFunction"),c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===R||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return g?g(t,N):(t.__proto__=N,b(t,y,"GeneratorFunction")),t.prototype=r(M),t},c.awrap=function(t){return{__await:t}},j(L.prototype),b(L.prototype,m,(function(){return this})),c.AsyncIterator=L,c.async=function(t,e,i,n,r){void 0===r&&(r=l);var o=new L(w(t,e,i,n),r);return c.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},j(M),b(M,y,"Generator"),b(M,v,(function(){return this})),b(M,"toString",(function(){return"[object Generator]"})),c.keys=function(t){var e=Object(t),i=[];for(var n in e)a(i).call(i,n);return A(i).call(i),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},c.values=W,G.prototype={constructor:G,reset:function(t){var e;if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,s(e=this.tryEntries).call(e,V),!t)for(var i in this)"t"===i.charAt(0)&&u.call(this,i)&&!isNaN(+C(i).call(i,1))&&(this[i]=h)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,n){return o.type="throw",o.arg=t,e.next=i,n&&(e.method="next",e.arg=h),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],o=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=u.call(r,"catchLoc"),a=u.call(r,"finallyLoc");if(s&&a){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&u.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,O):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),O},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),V(i),O}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;V(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:W(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=h),O}},c}t.exports=I,t.exports.__esModule=!0,t.exports.default=t.exports}(ID);var bL=(0,ID.exports)(),wL=bL;try{regeneratorRuntime=bL}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=bL:Function("r","regeneratorRuntime = r")(bL)}var xL=eC(wL),kL=_I,EL=YI,SL=WC,TL=jc,OL=TypeError,_L=function(t){return function(e,i,n,r){kL(i);var o=EL(e),s=SL(o),a=TL(o),g=t?a-1:0,l=t?-1:1;if(n<2)for(;;){if(g in s){r=s[g],g+=l;break}if(g+=l,t?g<0:a<=g)throw new OL("Reduce of empty array with no initial value")}for(;t?g>=0:a>g;g+=l)g in s&&(r=i(r,s[g],g,o));return r}},RL=[_L(!1),_L(!0)][0];kc({target:"Array",proto:!0,forced:!qD&&cI>79&&cI<83||!Sk("reduce")},{reduce:function(t){var e=arguments.length;return RL(this,t,e,e>1?arguments[1]:void 0)}});var NL=Td("Array").reduce,DL=sI,PL=NL,ML=Array.prototype,jL=eC((function(t){var e=t.reduce;return t===ML||DL(ML,t)&&e===ML.reduce?PL:e})),LL=Im,BL=jc,FL=cm,zL=Yh,VL=function(t,e,i,n,r,o,s,a){for(var g,l,A=r,C=0,I=!!s&&zL(s,a);C<n;)C in i&&(g=I?I(i[C],C,e):i[C],o>0&&LL(g)?(l=BL(g),A=VL(t,e,g,l,A,o-1)-1):(FL(A+1),t[A]=g),A++),C++;return A},GL=VL,WL=_I,UL=YI,ZL=jc,HL=mm;kc({target:"Array",proto:!0},{flatMap:function(t){var e,i=UL(this),n=ZL(i);return WL(t),(e=HL(i,0)).length=GL(e,i,i,n,0,1,t,arguments.length>1?arguments[1]:void 0),e}}),Td("Array").flatMap,Array.prototype,vN("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),VN);var YL=eC(tI.Set),KL=eC(ex),XL=eC(uv),QL=Km,qL=Math.floor,JL=function(t,e){var i=t.length,n=qL(i/2);return i<8?$L(t,e):tB(t,JL(QL(t,0,n),e),JL(QL(t,n),e),e)},$L=function(t,e){for(var i,n,r=t.length,o=1;o<r;){for(n=o,i=t[o];n&&e(t[n-1],i)>0;)t[n]=t[--n];n!==o++&&(t[n]=i)}return t},tB=function(t,e,i,n){for(var r=e.length,o=i.length,s=0,a=0;s<r||a<o;)t[s+a]=s<r&&a<o?n(e[s],i[a])<=0?e[s++]:i[a++]:s<r?e[s++]:i[a++];return t},eB=JL,iB=aI.match(/firefox\/(\d+)/i),nB=!!iB&&+iB[1],rB=/MSIE|Trident/.test(aI),oB=aI.match(/AppleWebKit\/(\d+)\./),sB=!!oB&&+oB[1],aB=kc,gB=dC,lB=_I,AB=YI,CB=jc,IB=qk,hB=ru,cB=rC,dB=eB,uB=Sk,fB=nB,pB=rB,vB=cI,mB=sB,yB=[],bB=gB(yB.sort),wB=gB(yB.push),xB=cB((function(){yB.sort(void 0)})),kB=cB((function(){yB.sort(null)})),EB=uB("sort"),SB=!cB((function(){if(vB)return vB<70;if(!(fB&&fB>3)){if(pB)return!0;if(mB)return mB<603;var t,e,i,n,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)yB.push({k:e+n,v:i})}for(yB.sort((function(t,e){return e.v-t.v})),n=0;n<yB.length;n++)e=yB[n].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}}));aB({target:"Array",proto:!0,forced:xB||!kB||!EB||!SB},{sort:function(t){void 0!==t&&lB(t);var e=AB(this);if(SB)return void 0===t?bB(e):bB(e,t);var i,n,r=[],o=CB(e);for(n=0;n<o;n++)n in e&&wB(r,e[n]);for(dB(r,function(t){return function(e,i){return void 0===i?-1:void 0===e?1:void 0!==t?+t(e,i)||0:hB(e)>hB(i)?1:-1}}(t)),i=CB(r),n=0;n<i;)e[n]=r[n++];for(;n<o;)IB(e,n++);return e}});var TB=Td("Array").sort,OB=sI,_B=TB,RB=Array.prototype,NB=eC((function(t){var e=t.sort;return t===RB||OB(RB,t)&&e===RB.sort?_B:e})),DB=Td("Array").keys,PB=eu,MB=QI,jB=sI,LB=DB,BB=Array.prototype,FB={DOMTokenList:!0,NodeList:!0},zB=eC((function(t){var e=t.keys;return t===BB||jB(BB,t)&&e===BB.keys||MB(FB,PB(t))?LB:e})),VB=Td("Array").values,GB=eu,WB=QI,UB=sI,ZB=VB,HB=Array.prototype,YB={DOMTokenList:!0,NodeList:!0},KB=eC((function(t){var e=t.values;return t===HB||UB(HB,t)&&e===HB.values||WB(YB,GB(t))?ZB:e})),XB=Td("Array").entries,QB=eu,qB=QI,JB=sI,$B=XB,tF=Array.prototype,eF={DOMTokenList:!0,NodeList:!0},iF=eC((function(t){var e=t.entries;return t===tF||JB(tF,t)&&e===tF.entries||qB(eF,QB(t))?$B:e})),nF=eC(gm),rF=kc,oF=AC,sF=kd,aF=eP,gF=$h,lF=$C,AF=If,CF=rC,IF=oI("Reflect","construct"),hF=Object.prototype,cF=[].push,dF=CF((function(){function t(){}return!(IF((function(){}),[],t)instanceof t)})),uF=!CF((function(){IF((function(){}))})),fF=dF||uF;rF({target:"Reflect",stat:!0,forced:fF,sham:fF},{construct:function(t,e){aF(t),gF(e);var i=arguments.length<3?t:aF(arguments[2]);if(uF&&!dF)return IF(t,e,i);if(t===i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return oF(cF,n,e),new(oF(sF,t,n))}var r=i.prototype,o=AF(lF(r)?r:hF),s=oF(t,o,e);return lF(s)?s:o}});var pF=eC(tI.Reflect.construct),vF=eC(tI.Object.getOwnPropertySymbols),mF={exports:{}},yF=kc,bF=rC,wF=QC,xF=SC.f,kF=TC;yF({target:"Object",stat:!0,forced:!kF||bF((function(){xF(1)})),sham:!kF},{getOwnPropertyDescriptor:function(t,e){return xF(wF(t),e)}});var EF=tI.Object,SF=mF.exports=function(t,e){return EF.getOwnPropertyDescriptor(t,e)};EF.getOwnPropertyDescriptor.sham&&(SF.sham=!0);var TF=mF.exports,OF=eC(TF),_F=Ak,RF=QC,NF=SC,DF=nv;kc({target:"Object",stat:!0,sham:!TC},{getOwnPropertyDescriptors:function(t){for(var e,i,n=RF(t),r=NF.f,o=_F(n),s={},a=0;o.length>a;)void 0!==(i=r(n,e=o[a++]))&&DF(s,e,i);return s}});var PF=eC(tI.Object.getOwnPropertyDescriptors),MF={exports:{}},jF=kc,LF=TC,BF=zu.f;jF({target:"Object",stat:!0,forced:Object.defineProperties!==BF,sham:!LF},{defineProperties:BF});var FF=tI.Object,zF=MF.exports=function(t,e){return FF.defineProperties(t,e)};FF.defineProperties.sham&&(zF.sham=!0);var VF=eC(MF.exports);let GF;const WF=new Uint8Array(16);function UF(){if(!GF&&(GF="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!GF))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return GF(WF)}const ZF=[];for(let t=0;t<256;++t)ZF.push((t+256).toString(16).slice(1));var HF,YF={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function KF(t,e,i){if(YF.randomUUID&&!e&&!t)return YF.randomUUID();const n=(t=t||{}).random||(t.rng||UF)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){i=i||0;for(let t=0;t<16;++t)e[i+t]=n[t];return e}return function(t,e=0){return ZF[t[e+0]]+ZF[t[e+1]]+ZF[t[e+2]]+ZF[t[e+3]]+"-"+ZF[t[e+4]]+ZF[t[e+5]]+"-"+ZF[t[e+6]]+ZF[t[e+7]]+"-"+ZF[t[e+8]]+ZF[t[e+9]]+"-"+ZF[t[e+10]]+ZF[t[e+11]]+ZF[t[e+12]]+ZF[t[e+13]]+ZF[t[e+14]]+ZF[t[e+15]]}(n)}function XF(t,e){var i=yk(t);if(vF){var n=vF(t);e&&(n=ZE(n).call(n,(function(e){return OF(t,e).enumerable}))),i.push.apply(i,n)}return i}function QF(t){for(var e=1;e<arguments.length;e++){var i,n,r=null!=arguments[e]?arguments[e]:{};e%2?Bk(i=XF(Object(r),!0)).call(i,(function(e){CD(t,e,r[e])})):PF?VF(t,PF(r)):Bk(n=XF(Object(r))).call(n,(function(e){nF(t,e,OF(r,e))}))}return t}function qF(t,e){var i=void 0!==Jx&&tm(t)||t["@@iterator"];if(!i){if(Ik(t)||(i=function(t,e){var i;if(t){if("string"==typeof t)return JF(t,e);var n=rk(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Pv(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?JF(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw o}}}}function JF(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function $F(t){return"string"==typeof t||"number"==typeof t}var tz=function(){function t(e){em(this,t),CD(this,"delay",void 0),CD(this,"max",void 0),CD(this,"_queue",[]),CD(this,"_timeout",null),CD(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}return gx(t,[{key:"setOptions",value:function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,i=0;i<e.length;i++){var n=e[i];n.original?t[n.name]=n.original:delete t[n.name]}this._extended=null}}},{key:"replace",value:function(t,e){var i=this,n=t[e];if(!n)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];i.queue({args:e,fn:n,context:this})}}},{key:"queue",value:function(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var t=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=XS((function(){t.flush()}),this.delay))}},{key:"flush",value:function(){var t,e;Bk(t=dE(e=this._queue).call(e,0)).call(t,(function(t){t.fn.apply(t.context||t.fn,t.args||[])}))}}],[{key:"extend",value:function(e,i){var n=new t(i);if(void 0!==e.flush)throw new Error("Target object already has a property flush");e.flush=function(){n.flush()};var r=[{name:"flush",original:void 0}];if(i&&i.replace)for(var o=0;o<i.replace.length;o++){var s=i.replace[o];r.push({name:s,original:e[s]}),n.replace(e,s)}return n._extended={object:e,methods:r},n}}]),t}(),ez=function(){function t(){em(this,t),CD(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),CD(this,"subscribe",t.prototype.on),CD(this,"unsubscribe",t.prototype.off)}return gx(t,[{key:"_trigger",value:function(t,e,i){var n,r;if("*"===t)throw new Error("Cannot trigger event *");Bk(n=nk(r=[]).call(r,qx(this._subscribers[t]),qx(this._subscribers["*"]))).call(n,(function(n){n(t,e,null!=i?i:null)}))}},{key:"on",value:function(t,e){"function"==typeof e&&this._subscribers[t].push(e)}},{key:"off",value:function(t,e){var i;this._subscribers[t]=ZE(i=this._subscribers[t]).call(i,(function(t){return t!==e}))}}]),t}();HF=KL;var iz=function(){function t(e){em(this,t),CD(this,"_pairs",void 0),this._pairs=e}return gx(t,[{key:HF,value:xL.mark((function t(){var e,i,n,r,o;return xL.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=qF(this._pairs),t.prev=1,e.s();case 3:if((i=e.n()).done){t.next=9;break}return n=Qx(i.value,2),r=n[0],o=n[1],t.next=7,[r,o];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"entries",value:xL.mark((function t(){var e,i,n,r,o;return xL.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=qF(this._pairs),t.prev=1,e.s();case 3:if((i=e.n()).done){t.next=9;break}return n=Qx(i.value,2),r=n[0],o=n[1],t.next=7,[r,o];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"keys",value:xL.mark((function t(){var e,i,n,r;return xL.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=qF(this._pairs),t.prev=1,e.s();case 3:if((i=e.n()).done){t.next=9;break}return n=Qx(i.value,1),r=n[0],t.next=7,r;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"values",value:xL.mark((function t(){var e,i,n,r;return xL.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=qF(this._pairs),t.prev=1,e.s();case 3:if((i=e.n()).done){t.next=9;break}return n=Qx(i.value,2),r=n[1],t.next=7,r;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"toIdArray",value:function(){var t;return pk(t=qx(this._pairs)).call(t,(function(t){return t[0]}))}},{key:"toItemArray",value:function(){var t;return pk(t=qx(this._pairs)).call(t,(function(t){return t[1]}))}},{key:"toEntryArray",value:function(){return qx(this._pairs)}},{key:"toObjectMap",value:function(){var t,e=ES(null),i=qF(this._pairs);try{for(i.s();!(t=i.n()).done;){var n=Qx(t.value,2),r=n[0],o=n[1];e[r]=o}}catch(t){i.e(t)}finally{i.f()}return e}},{key:"toMap",value:function(){return new GN(this._pairs)}},{key:"toIdSet",value:function(){return new YL(this.toIdArray())}},{key:"toItemSet",value:function(){return new YL(this.toItemArray())}},{key:"cache",value:function(){return new t(qx(this._pairs))}},{key:"distinct",value:function(t){var e,i=new YL,n=qF(this._pairs);try{for(n.s();!(e=n.n()).done;){var r=Qx(e.value,2),o=r[0],s=r[1];i.add(t(s,o))}}catch(t){n.e(t)}finally{n.f()}return i}},{key:"filter",value:function(e){var i=this._pairs;return new t(CD({},KL,xL.mark((function t(){var n,r,o,s,a;return xL.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=qF(i),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=10;break}if(o=Qx(r.value,2),s=o[0],a=o[1],!e(a,s)){t.next=8;break}return t.next=8,[s,a];case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,12,15,18]])}))))}},{key:"forEach",value:function(t){var e,i=qF(this._pairs);try{for(i.s();!(e=i.n()).done;){var n=Qx(e.value,2),r=n[0];t(n[1],r)}}catch(t){i.e(t)}finally{i.f()}}},{key:"map",value:function(e){var i=this._pairs;return new t(CD({},KL,xL.mark((function t(){var n,r,o,s,a;return xL.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=qF(i),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=9;break}return o=Qx(r.value,2),s=o[0],a=o[1],t.next=7,[s,e(a,s)];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n.e(t.t0);case 14:return t.prev=14,n.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])}))))}},{key:"max",value:function(t){var e=XL(this._pairs),i=e.next();if(i.done)return null;for(var n=i.value[1],r=t(i.value[1],i.value[0]);!(i=e.next()).done;){var o=Qx(i.value,2),s=o[0],a=o[1],g=t(a,s);g>r&&(r=g,n=a)}return n}},{key:"min",value:function(t){var e=XL(this._pairs),i=e.next();if(i.done)return null;for(var n=i.value[1],r=t(i.value[1],i.value[0]);!(i=e.next()).done;){var o=Qx(i.value,2),s=o[0],a=o[1],g=t(a,s);g<r&&(r=g,n=a)}return n}},{key:"reduce",value:function(t,e){var i,n=qF(this._pairs);try{for(n.s();!(i=n.n()).done;){var r=Qx(i.value,2),o=r[0];e=t(e,r[1],o)}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"sort",value:function(e){var i=this;return new t(CD({},KL,(function(){var t;return XL(NB(t=qx(i._pairs)).call(t,(function(t,i){var n=Qx(t,2),r=n[0],o=n[1],s=Qx(i,2),a=s[0],g=s[1];return e(o,g,r,a)})))})))}}]),t}(),nz=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e){var i;return em(this,r),CD($N(i=n.call(this)),"flush",void 0),CD($N(i),"length",void 0),CD($N(i),"_options",void 0),CD($N(i),"_data",void 0),CD($N(i),"_idProp",void 0),CD($N(i),"_queue",null),t&&!Ik(t)&&(e=t,t=[]),i._options=e||{},i._data=new GN,i.length=0,i._idProp=i._options.fieldId||"id",t&&t.length&&i.add(t),i.setOptions(e),i}return gx(r,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=tz.extend(this,{replace:["add","update","remove"]})),t.queue&&"object"===rx(t.queue)&&this._queue.setOptions(t.queue)))}},{key:"add",value:function(t,e){var i,n=this,r=[];if(Ik(t)){var o=pk(t).call(t,(function(t){return t[n._idProp]}));if(JN(o).call(o,(function(t){return n._data.has(t)})))throw new Error("A duplicate id was found in the parameter array.");for(var s=0,a=t.length;s<a;s++)i=this._addItem(t[s]),r.push(i)}else{if(!t||"object"!==rx(t))throw new Error("Unknown dataType");i=this._addItem(t),r.push(i)}return r.length&&this._trigger("add",{items:r},e),r}},{key:"update",value:function(t,e){var i=this,n=[],r=[],o=[],s=[],a=this._idProp,g=function(t){var e=t[a];if(null!=e&&i._data.has(e)){var g=t,l=hd({},i._data.get(e)),A=i._updateItem(g);r.push(A),s.push(g),o.push(l)}else{var C=i._addItem(t);n.push(C)}};if(Ik(t))for(var l=0,A=t.length;l<A;l++)t[l]&&"object"===rx(t[l])?g(t[l]):console.warn("Ignoring input item, which is not an object at index "+l);else{if(!t||"object"!==rx(t))throw new Error("Unknown dataType");g(t)}if(n.length&&this._trigger("add",{items:n},e),r.length){var C={items:r,oldData:o,data:s};this._trigger("update",C,e)}return nk(n).call(n,r)}},{key:"updateOnly",value:function(t,e){var i,n=this;Ik(t)||(t=[t]);var r=pk(i=pk(t).call(t,(function(t){var e=n._data.get(t[n._idProp]);if(null==e)throw new Error("Updating non-existent items is not allowed.");return{oldData:e,update:t}}))).call(i,(function(t){var e=t.oldData,i=t.update,r=e[n._idProp],o=function(t){for(var e,i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return GO.apply(void 0,nk(e=[{},t]).call(e,n))}(e,i);return n._data.set(r,o),{id:r,oldData:e,updatedData:o}}));if(r.length){var o={items:pk(r).call(r,(function(t){return t.id})),oldData:pk(r).call(r,(function(t){return t.oldData})),data:pk(r).call(r,(function(t){return t.updatedData}))};return this._trigger("update",o,e),o.items}return[]}},{key:"get",value:function(t,e){var i=void 0,n=void 0,r=void 0;$F(t)?(i=t,r=e):Ik(t)?(n=t,r=e):r=t;var o,s=r&&"Object"===r.returnType?"Object":"Array",a=r&&ZE(r),g=[],l=void 0,A=void 0,C=void 0;if(null!=i)(l=this._data.get(i))&&a&&!a(l)&&(l=void 0);else if(null!=n)for(var I=0,h=n.length;I<h;I++)null==(l=this._data.get(n[I]))||a&&!a(l)||g.push(l);else for(var c,d=0,u=(A=qx(zB(c=this._data).call(c))).length;d<u;d++)C=A[d],null==(l=this._data.get(C))||a&&!a(l)||g.push(l);if(r&&r.order&&null==i&&this._sort(g,r.order),r&&r.fields){var f=r.fields;if(null!=i&&null!=l)l=this._filterFields(l,f);else for(var p=0,v=g.length;p<v;p++)g[p]=this._filterFields(g[p],f)}if("Object"==s){for(var m={},y=0,b=g.length;y<b;y++){var w=g[y];m[w[this._idProp]]=w}return m}return null!=i?null!==(o=l)&&void 0!==o?o:null:g}},{key:"getIds",value:function(t){var e=this._data,i=t&&ZE(t),n=t&&t.order,r=qx(zB(e).call(e)),o=[];if(i)if(n){for(var s=[],a=0,g=r.length;a<g;a++){var l=r[a],A=this._data.get(l);null!=A&&i(A)&&s.push(A)}this._sort(s,n);for(var C=0,I=s.length;C<I;C++)o.push(s[C][this._idProp])}else for(var h=0,c=r.length;h<c;h++){var d=r[h],u=this._data.get(d);null!=u&&i(u)&&o.push(u[this._idProp])}else if(n){for(var f=[],p=0,v=r.length;p<v;p++){var m=r[p];f.push(e.get(m))}this._sort(f,n);for(var y=0,b=f.length;y<b;y++)o.push(f[y][this._idProp])}else for(var w=0,x=r.length;w<x;w++){var k=r[w],E=e.get(k);null!=E&&o.push(E[this._idProp])}return o}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(t,e){var i=e&&ZE(e),n=this._data,r=qx(zB(n).call(n));if(e&&e.order)for(var o=this.get(e),s=0,a=o.length;s<a;s++){var g=o[s];t(g,g[this._idProp])}else for(var l=0,A=r.length;l<A;l++){var C=r[l],I=this._data.get(C);null==I||i&&!i(I)||t(I,C)}}},{key:"map",value:function(t,e){for(var i=e&&ZE(e),n=[],r=this._data,o=qx(zB(r).call(r)),s=0,a=o.length;s<a;s++){var g=o[s],l=this._data.get(g);null==l||i&&!i(l)||n.push(t(l,g))}return e&&e.order&&this._sort(n,e.order),n}},{key:"_filterFields",value:function(t,e){var i;return t?jL(i=Ik(e)?e:yk(e)).call(i,(function(e,i){return e[i]=t[i],e}),{}):t}},{key:"_sort",value:function(t,e){if("string"==typeof e){var i=e;NB(t).call(t,(function(t,e){var n=t[i],r=e[i];return n>r?1:n<r?-1:0}))}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");NB(t).call(t,e)}}},{key:"remove",value:function(t,e){for(var i=[],n=[],r=Ik(t)?t:[t],o=0,s=r.length;o<s;o++){var a=this._remove(r[o]);if(a){var g=a[this._idProp];null!=g&&(i.push(g),n.push(a))}}return i.length&&this._trigger("remove",{items:i,oldData:n},e),i}},{key:"_remove",value:function(t){var e;if($F(t)?e=t:t&&"object"===rx(t)&&(e=t[this._idProp]),null!=e&&this._data.has(e)){var i=this._data.get(e)||null;return this._data.delete(e),--this.length,i}return null}},{key:"clear",value:function(t){for(var e,i=qx(zB(e=this._data).call(e)),n=[],r=0,o=i.length;r<o;r++)n.push(this._data.get(i[r]));return this._data.clear(),this.length=0,this._trigger("remove",{items:i,oldData:n},t),i}},{key:"max",value:function(t){var e,i,n=null,r=null,o=qF(KB(e=this._data).call(e));try{for(o.s();!(i=o.n()).done;){var s=i.value,a=s[t];"number"==typeof a&&(null==r||a>r)&&(n=s,r=a)}}catch(t){o.e(t)}finally{o.f()}return n||null}},{key:"min",value:function(t){var e,i,n=null,r=null,o=qF(KB(e=this._data).call(e));try{for(o.s();!(i=o.n()).done;){var s=i.value,a=s[t];"number"==typeof a&&(null==r||a<r)&&(n=s,r=a)}}catch(t){o.e(t)}finally{o.f()}return n||null}},{key:"distinct",value:function(t){for(var e=this._data,i=qx(zB(e).call(e)),n=[],r=0,o=0,s=i.length;o<s;o++){for(var a=i[o],g=e.get(a)[t],l=!1,A=0;A<r;A++)if(n[A]==g){l=!0;break}l||void 0===g||(n[r]=g,r++)}return n}},{key:"_addItem",value:function(t){var e=function(t,e){return null==t[e]&&(t[e]=KF()),t}(t,this._idProp),i=e[this._idProp];if(this._data.has(i))throw new Error("Cannot add item: item with id "+i+" already exists");return this._data.set(i,e),++this.length,i}},{key:"_updateItem",value:function(t){var e=t[this._idProp];if(null==e)throw new Error("Cannot update item: item has no id (item: "+OS(t)+")");var i=this._data.get(e);if(!i)throw new Error("Cannot update item: no item with id "+e+" found");return this._data.set(e,QF(QF({},i),t)),e}},{key:"stream",value:function(t){if(t){var e=this._data;return new iz(CD({},KL,xL.mark((function i(){var n,r,o,s;return xL.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=qF(t),i.prev=1,n.s();case 3:if((r=n.n()).done){i.next=11;break}if(o=r.value,null==(s=e.get(o))){i.next=9;break}return i.next=9,[o,s];case 9:i.next=3;break;case 11:i.next=16;break;case 13:i.prev=13,i.t0=i.catch(1),n.e(i.t0);case 16:return i.prev=16,n.f(),i.finish(16);case 19:case"end":return i.stop()}}),i,null,[[1,13,16,19]])}))))}var i;return new iz(CD({},KL,Pd(i=iF(this._data)).call(i,this._data)))}}]),r}(ez);function rz(t,e){return"object"===rx(e)&&null!==e&&t===e.idProp&&"function"==typeof Bk(e)&&"function"==typeof e.get&&"function"==typeof e.getDataSet&&"function"==typeof e.getIds&&"number"==typeof e.length&&"function"==typeof pk(e)&&"function"==typeof e.off&&"function"==typeof e.on&&"function"==typeof e.stream&&function(t,e){return"object"===rx(e)&&null!==e&&t===e.idProp&&"function"==typeof e.add&&"function"==typeof e.clear&&"function"==typeof e.distinct&&"function"==typeof Bk(e)&&"function"==typeof e.get&&"function"==typeof e.getDataSet&&"function"==typeof e.getIds&&"number"==typeof e.length&&"function"==typeof pk(e)&&"function"==typeof e.max&&"function"==typeof e.min&&"function"==typeof e.off&&"function"==typeof e.on&&"function"==typeof e.remove&&"function"==typeof e.setOptions&&"function"==typeof e.stream&&"function"==typeof e.update&&"function"==typeof e.updateOnly}(t,e.getDataSet())}var oz=nC,sz=rC,az=ru,gz=tS.trim,lz=HE,Az=dC("".charAt),Cz=oz.parseFloat,Iz=oz.Symbol,hz=Iz&&Iz.iterator,cz=1/Cz(lz+"-0")!=-1/0||hz&&!sz((function(){Cz(Object(hz))}))?function(t){var e=gz(az(t)),i=Cz(e);return 0===i&&"-"===Az(e,0)?-0:i}:Cz;kc({global:!0,forced:parseFloat!==cz},{parseFloat:cz});var dz=eC(tI.parseFloat),uz=kc,fz=rC,pz=Gm.f;uz({target:"Object",stat:!0,forced:fz((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:pz});var vz=tI.Object,mz=eC((function(t){return vz.getOwnPropertyNames(t)}));function yz(t,e){var i=["node","edge","label"],n=!0,r=b_(e,"chosen");if("boolean"==typeof r)n=r;else if("object"===rx(r)){if(-1===wS(i).call(i,t))throw new Error("choosify: subOption '"+t+"' should be one of '"+i.join("', '")+"'");var o=b_(e,["chosen",t]);"boolean"!=typeof o&&"function"!=typeof o||(n=o)}return n}function bz(t,e,i){if(t.width<=0||t.height<=0)return!1;if(void 0!==i){var n={x:e.x-i.x,y:e.y-i.y};if(0!==i.angle){var r=-i.angle;e={x:Math.cos(r)*n.x-Math.sin(r)*n.y,y:Math.sin(r)*n.x+Math.cos(r)*n.y}}else e=n}var o=t.x+t.width,s=t.y+t.width;return t.left<e.x&&o>e.x&&t.top<e.y&&s>e.y}function wz(t){return"string"==typeof t&&""!==t}function xz(t,e,i,n){var r=n.x,o=n.y;if("function"==typeof n.distanceToBorder){var s=n.distanceToBorder(t,e),a=Math.sin(e)*s,g=Math.cos(e)*s;g===s?(r+=s,o=n.y):a===s?(r=n.x,o-=s):(r+=g,o-=a)}else n.shape.width>n.shape.height?(r=n.x+.5*n.shape.width,o=n.y-i):(r=n.x+i,o=n.y-.5*n.shape.height);return{x:r,y:o}}var kz=function(){function t(e){em(this,t),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return gx(t,[{key:"_add",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});var n=e;void 0!==e&&""!==e||(n=" ");var r=this.measureText(n,i),o=hd({},KB(r));o.text=e,o.width=r.width,o.mod=i,void 0!==e&&""!==e||(o.width=0),this.lines[t].blocks.push(o),this.lines[t].width+=o.width}},{key:"curWidth",value:function(){var t=this.lines[this.current];return void 0===t?0:t.width}},{key:"append",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e)}},{key:"newLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e),this.current++}},{key:"determineLineHeights",value:function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t],i=0;if(void 0!==e.blocks)for(var n=0;n<e.blocks.length;n++){var r=e.blocks[n];i<r.height&&(i=r.height)}e.height=i}}},{key:"determineLabelSize",value:function(){for(var t=0,e=0,i=0;i<this.lines.length;i++){var n=this.lines[i];n.width>t&&(t=n.width),e+=n.height}this.width=t,this.height=e}},{key:"removeEmptyBlocks",value:function(){for(var t=[],e=0;e<this.lines.length;e++){var i=this.lines[e];if(0!==i.blocks.length&&(e!==this.lines.length-1||0!==i.width)){var n={};hd(n,i),n.blocks=[];for(var r=void 0,o=[],s=0;s<i.blocks.length;s++){var a=i.blocks[s];0!==a.width?o.push(a):void 0===r&&(r=a)}0===o.length&&void 0!==r&&o.push(r),n.blocks=o,t.push(n)}}return t}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}]),t}(),Ez={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},Sz=function(){function t(e){em(this,t),this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return gx(t,[{key:"mod",value:function(){return 0===this.modStack.length?"normal":this.modStack[0]}},{key:"modName",value:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(t){" "===t&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}},{key:"parseWS",value:function(t){return!!/[ \t]/.test(t)&&(this.mono?this.add(t):this.spacing=!0,!0)}},{key:"setTag",value:function(t){this.emitBlock(),this[t]=!0,this.modStack.unshift(t)}},{key:"unsetTag",value:function(t){this.emitBlock(),this[t]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(t,e){return!(this.mono||this[t]||!this.match(e)||(this.setTag(t),0))}},{key:"match",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=Qx(this.prepareRegExp(t),2),n=i[0],r=i[1],o=n.test(this.text.substr(this.position,r));return o&&e&&(this.position+=r-1),o}},{key:"parseEndTag",value:function(t,e,i){var n=this.mod()===t;return!(!(n="mono"===t?n&&this.mono:n&&!this.mono)||!this.match(e)||(void 0!==i?(this.position===this.text.length-1||this.match(i,!1))&&this.unsetTag(t):this.unsetTag(t),0))}},{key:"replace",value:function(t,e){return!!this.match(t)&&(this.add(e),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(t){var e,i;if(t instanceof RegExp)i=t,e=1;else{var n=Ez[t];i=void 0!==n?n:new RegExp(t),e=t.length}return[i,e]}}]),t}(),Tz=function(){function t(e,i,n,r){var o=this;em(this,t),this.ctx=e,this.parent=i,this.selected=n,this.hover=r,this.lines=new kz((function(t,i){if(void 0===t)return 0;var s=o.parent.getFormattingValues(e,n,r,i),a=0;return""!==t&&(a=o.ctx.measureText(t).width),{width:a,values:s}}))}return gx(t,[{key:"process",value:function(t){if(!wz(t))return this.lines.finalize();var e=this.parent.fontOptions;t=(t=t.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var i=String(t).split("\n"),n=i.length;if(e.multi)for(var r=0;r<n;r++){var o=this.splitBlocks(i[r],e.multi);if(void 0!==o)if(0!==o.length){if(e.maxWdt>0)for(var s=0;s<o.length;s++){var a=o[s].mod,g=o[s].text;this.splitStringIntoLines(g,a,!0)}else for(var l=0;l<o.length;l++){var A=o[l].mod,C=o[l].text;this.lines.append(C,A)}this.lines.newLine()}else this.lines.newLine("")}else if(e.maxWdt>0)for(var I=0;I<n;I++)this.splitStringIntoLines(i[I]);else for(var h=0;h<n;h++)this.lines.newLine(i[h]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(t){var e="none";return"markdown"===t||"md"===t?e="markdown":!0!==t&&"html"!==t||(e="html"),e}},{key:"splitHtmlBlocks",value:function(t){for(var e=new Sz(t),i=function(t){return!!/&/.test(t)&&(e.replace(e.text,"&lt;","<")||e.replace(e.text,"&amp;","&")||e.add("&"),!0)};e.position<e.text.length;){var n=e.text.charAt(e.position);e.parseWS(n)||/</.test(n)&&(e.parseStartTag("bold","<b>")||e.parseStartTag("ital","<i>")||e.parseStartTag("mono","<code>")||e.parseEndTag("bold","</b>")||e.parseEndTag("ital","</i>")||e.parseEndTag("mono","</code>"))||i(n)||e.add(n),e.position++}return e.emitBlock(),e.blocks}},{key:"splitMarkdownBlocks",value:function(t){for(var e=this,i=new Sz(t),n=!0,r=function(t){return!!/\\/.test(t)&&(i.position<e.text.length+1&&(i.position++,t=e.text.charAt(i.position),/ \t/.test(t)?i.spacing=!0:(i.add(t),n=!1)),!0)};i.position<i.text.length;){var o=i.text.charAt(i.position);i.parseWS(o)||r(o)||(n||i.spacing)&&(i.parseStartTag("bold","*")||i.parseStartTag("ital","_")||i.parseStartTag("mono","`"))||i.parseEndTag("bold","*","afterBold")||i.parseEndTag("ital","_","afterItal")||i.parseEndTag("mono","`","afterMono")||(i.add(o),n=!1),i.position++}return i.emitBlock(),i.blocks}},{key:"splitBlocks",value:function(t,e){var i=this.decodeMarkupSystem(e);return"none"===i?[{text:t,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(t):"html"===i?this.splitHtmlBlocks(t):void 0}},{key:"overMaxWidth",value:function(t){var e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(t){for(var e="",i=0;i<t.length;){var n=e+(""===e?"":" ")+t[i];if(this.overMaxWidth(n))break;e=n,i++}return i}},{key:"getLongestFitWord",value:function(t){for(var e=0;e<t.length&&!this.overMaxWidth(rk(t).call(t,0,e));)e++;return e}},{key:"splitStringIntoLines",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,e);for(var n=(t=(t=t.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");n.length>0;){var r=this.getLongestFit(n);if(0===r){var o=n[0],s=this.getLongestFitWord(o);this.lines.newLine(rk(o).call(o,0,s),e),n[0]=rk(o).call(o,s)}else{var a=r;" "===n[r-1]?r--:" "===n[a]&&a++;var g=rk(n).call(n,0,r).join("");r==n.length&&i?this.lines.append(g,e):this.lines.newLine(g,e),n=rk(n).call(n,a)}}}}]),t}(),Oz=["bold","ital","boldital","mono"],_z=function(){function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];em(this,t),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(i),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}return gx(t,[{key:"setOptions",value:function(t){if(this.elementOptions=t,this.initFontOptions(t.font),wz(t.label)?this.labelDirty=!0:t.label=void 0,void 0!==t.font&&null!==t.font)if("string"==typeof t.font)this.baseSize=this.fontOptions.size;else if("object"===rx(t.font)){var e=t.font.size;void 0!==e&&(this.baseSize=e)}}},{key:"initFontOptions",value:function(e){var i=this;l_(Oz,(function(t){i.fontOptions[t]={}})),t.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:l_(e,(function(t,e){null!=t&&"object"!==rx(t)&&(i.fontOptions[e]=t)}))}},{key:"constrain",value:function(t){var e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=b_(t,"widthConstraint");if("number"==typeof i)e.maxWdt=Number(i),e.minWdt=Number(i);else if("object"===rx(i)){var n=b_(t,["widthConstraint","maximum"]);"number"==typeof n&&(e.maxWdt=Number(n));var r=b_(t,["widthConstraint","minimum"]);"number"==typeof r&&(e.minWdt=Number(r))}var o=b_(t,"heightConstraint");if("number"==typeof o)e.minHgt=Number(o);else if("object"===rx(o)){var s=b_(t,["heightConstraint","minimum"]);"number"==typeof s&&(e.minHgt=Number(s));var a=b_(t,["heightConstraint","valign"]);"string"==typeof a&&("top"!==a&&"bottom"!==a||(e.valign=a))}return e}},{key:"update",value:function(t,e){this.setOptions(t,!0),this.propagateFonts(e),s_(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=yz("label",e)}},{key:"adjustSizes",value:function(t){var e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e);var i=t?t.top+t.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=i)}},{key:"addFontOptionsToPile",value:function(t,e){for(var i=0;i<e.length;++i)this.addFontToPile(t,e[i])}},{key:"addFontToPile",value:function(t,e){if(void 0!==e&&void 0!==e.font&&null!==e.font){var i=e.font;t.push(i)}}},{key:"getBasicOptions",value:function(e){for(var i={},n=0;n<e.length;++n){var r=e[n],o={};t.parseFontString(o,r)&&(r=o),l_(r,(function(t,e){void 0!==t&&(Object.prototype.hasOwnProperty.call(i,e)||(-1!==wS(Oz).call(Oz,e)?i[e]={}:i[e]=t))}))}return i}},{key:"getFontOption",value:function(e,i,n){for(var r,o=0;o<e.length;++o){var s=e[o];if(Object.prototype.hasOwnProperty.call(s,i)){if(null==(r=s[i]))continue;var a={};if(t.parseFontString(a,r)&&(r=a),Object.prototype.hasOwnProperty.call(r,n))return r[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}},{key:"getFontOptions",value:function(t,e){for(var i={},n=["color","size","face","mod","vadjust"],r=0;r<n.length;++r){var o=n[r];i[o]=this.getFontOption(t,e,o)}return i}},{key:"propagateFonts",value:function(t){var e=this,i=[];this.addFontOptionsToPile(i,t),this.fontOptions=this.getBasicOptions(i);for(var n=function(){var t=Oz[r],n=e.fontOptions[t];l_(e.getFontOptions(i,t),(function(t,e){n[e]=t})),n.size=Number(n.size),n.vadjust=Number(n.vadjust)},r=0;r<Oz.length;++r)n()}},{key:"draw",value:function(t,e,i,n,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var s=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&s<this.elementOptions.scaling.label.drawThreshold-1||(s>=this.elementOptions.scaling.label.maxVisible&&(s=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,n,r,e,i,o),this._drawBackground(t),this._drawText(t,e,this.size.yLine,o,s))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;var e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}},{key:"_drawText",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",r=arguments.length>4?arguments[4]:void 0,o=Qx(this._setAlignment(t,e,i,n),2);e=o[0],i=o[1],t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(i-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(i+=(this.size.height-this.size.labelHeight)/2));for(var s=0;s<this.lineCount;s++){var a=this.lines[s];if(a&&a.blocks){var g=0;this.isEdgeLabel||"center"===this.fontOptions.align?g+=(this.size.width-a.width)/2:"right"===this.fontOptions.align&&(g+=this.size.width-a.width);for(var l=0;l<a.blocks.length;l++){var A=a.blocks[l];t.font=A.font;var C=Qx(this._getColor(A.color,r,A.strokeColor),2),I=C[0],h=C[1];A.strokeWidth>0&&(t.lineWidth=A.strokeWidth,t.strokeStyle=h,t.lineJoin="round"),t.fillStyle=I,A.strokeWidth>0&&t.strokeText(A.text,e+g,i+A.vadjust),t.fillText(A.text,e+g,i+A.vadjust),g+=A.width}i+=a.height}}}},{key:"_setAlignment",value:function(t,e,i,n){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(e=0,i=0,"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=4):t.textBaseline="middle"):t.textBaseline=n,[e,i]}},{key:"_getColor",value:function(t,e,i){var n=t||"#000000",r=i||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){var o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));n=C_(n,o),r=C_(r,o)}return[n,r]}},{key:"getTextSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(t,e,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var t=this.size.left,e=this.size.top-1;if(this.isEdgeLabel){var i=.5*-this.size.width;switch(this.fontOptions.align){case"middle":t=i,e=.5*-this.size.height;break;case"top":t=i,e=-(this.size.height+2);break;case"bottom":t=i,e=2}}return{left:t,top:e,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,i),this.size.left=n-.5*this.size.width,this.size.top=r-.5*this.size.height,this.size.yLine=r+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===o&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(t,e,i,n){var r=function(t,e,i){return"normal"===e?"mod"===i?"":t[i]:void 0!==t[e][i]?t[e][i]:t[i]},o={color:r(this.fontOptions,n,"color"),size:r(this.fontOptions,n,"size"),face:r(this.fontOptions,n,"face"),mod:r(this.fontOptions,n,"mod"),vadjust:r(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||i)&&("normal"===n&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?o.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(o,this.elementOptions.id,e,i));var s="";return void 0!==o.mod&&""!==o.mod&&(s+=o.mod+" "),s+=o.size+"px "+o.face,t.font=s.replace(/"/g,""),o.font=t.font,o.height=o.size,o}},{key:"differentState",value:function(t,e){return t!==this.selectedState||e!==this.hoverState}},{key:"_processLabelText",value:function(t,e,i,n){return new Tz(t,this,e,i).process(n)}},{key:"_processLabel",value:function(t,e,i){if(!1!==this.labelDirty||this.differentState(e,i)){var n=this._processLabelText(t,e,i,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=e,this.hoverState=i,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(t,e){if(!e||"string"!=typeof e)return!1;var i=e.split(" ");return t.size=+i[0].replace("px",""),t.face=i[1],t.color=i[2],!0}}]),t}(),Rz=function(){function t(e,i,n){em(this,t),this.body=i,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return gx(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&("object"==rx(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,e){var i=this.options.borderWidth;return t&&this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}},{key:"enableShadow",value:function(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){var i=e.borderDashes;!0===i&&(i=[5,15]),t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}},{key:"needsRefresh",value:function(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}},{key:"initContextForDraw",value:function(t,e){var i=e.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,i),t.strokeStyle=e.borderColor,t.fillStyle=e.color}},{key:"performStroke",value:function(t,e){var i=e.borderWidth/this.body.view.scale;t.save(),i>0&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}},{key:"performFill",value:function(t,e){t.save(),t.fillStyle=e.color,this.enableShadow(t,e),nT(t).call(t),this.disableShadow(t,e),t.restore(),this.performStroke(t,e)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,e,i,n,r){void 0!==i&&this.resize(i,n,r),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,e,i,n,r){this._updateBoundingBox(t,e,i,n,r)}},{key:"getDimensionsFromLabel",value:function(t,e,i){this.textSize=this.labelModule.getTextSize(t,e,i);var n=this.textSize.width,r=this.textSize.height;return 0===n&&(n=14,r=14),{width:n,height:r}}}]),t}();var Nz=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i){var o;return em(this,r),(o=n.call(this,t,e,i))._setMargins(i),o}return gx(r,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i);this.width=n.width+this.margin.right+this.margin.left,this.height=n.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,r,o){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,o),jd(t,this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(t,o),this.updateBoundingBox(e,i,t,n,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r)}},{key:"updateBoundingBox",value:function(t,e,i,n,r){this._updateBoundingBox(t,e,i,n,r);var o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}},{key:"distanceToBorder",value:function(t,e){t&&this.resize(t);var i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}}]),r}(Rz);var Dz=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i){var o;return em(this,r),(o=n.call(this,t,e,i)).labelOffset=0,o.selected=!1,o}return gx(r,[{key:"setOptions",value:function(t,e,i){this.options=t,void 0===e&&void 0===i||this.setImages(e,i)}},{key:"setImages",value:function(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}},{key:"switchImages",value:function(t){var e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){var i=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=i}}},{key:"_getImagePadding",value:function(){var t={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var e=this.options.imagePadding;"object"==rx(e)?(t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left):(t.top=e,t.right=e,t.bottom=e,t.left=e)}return t}},{key:"_resizeImage",value:function(){var t,e;if(!1===this.options.shapeProperties.useImageSize){var i=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?i=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),t=2*this.options.size*i,e=2*this.options.size*n}else{var r=this._getImagePadding();t=this.imageObj.width+r.left+r.right,e=this.imageObj.height+r.top+r.bottom}this.width=t,this.height=e,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(t,e,i,n){this.initContextForDraw(t,n),Md(t,e,i,n.size),this.performFill(t,n)}},{key:"_drawImageAtPosition",value:function(t,e){if(0!=this.imageObj.width){t.globalAlpha=void 0!==e.opacity?e.opacity:1,this.enableShadow(t,e);var i=1;!0===this.options.shapeProperties.interpolation&&(i=this.imageObj.width/this.width/this.body.view.scale);var n=this._getImagePadding(),r=this.left+n.left,o=this.top+n.top,s=this.width-n.left-n.right,a=this.height-n.top-n.bottom;this.imageObj.drawImageAtPosition(t,i,r,o,s,a),this.disableShadow(t,e)}}},{key:"_drawImageLabel",value:function(t,e,i,n,r){var o=0;if(void 0!==this.height){o=.5*this.height;var s=this.labelModule.getTextSize(t,n,r);s.lineCount>=1&&(o+=s.height/2)}var a=i+o;this.options.label&&(this.labelOffset=o),this.labelModule.draw(t,e,a,n,r,"hanging")}}]),r}(Rz);var Pz=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i){var o;return em(this,r),(o=n.call(this,t,e,i))._setMargins(i),o}return gx(r,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i),r=Math.max(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=r/2,this.width=r,this.height=r,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,r,o){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,o),this.updateBoundingBox(e,i),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,i,n,r)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t){return t&&this.resize(t),.5*this.width}}]),r}(Dz);var Mz=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i,o,s){var a;return em(this,r),(a=n.call(this,t,e,i)).setImages(o,s),a}return gx(r,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var n=2*this.options.size;return this.width=n,this.height=n,void(this.radius=.5*this.width)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,n,r,o){this.switchImages(n),this.resize();var s=e,a=i;"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=i,s+=this.width/2,a+=this.height/2):(this.left=e-this.width/2,this.top=i-this.height/2),this._drawRawCircle(t,s,a,o),t.save(),t.clip(),this._drawImageAtPosition(t,o),t.restore(),this._drawImageLabel(t,s,a,n,r),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){"top-left"===this.options.shapeProperties.coordinateOrigin?(this.boundingBox.top=e,this.boundingBox.left=t,this.boundingBox.right=t+2*this.options.size,this.boundingBox.bottom=e+2*this.options.size):(this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t){return t&&this.resize(t),.5*this.width}}]),r}(Dz);var jz=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i){return em(this,r),n.call(this,t,e,i)}return gx(r,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,i)){var r,o;this.labelModule.getTextSize(t,e,i);var s=2*n.size;this.width=null!==(r=this.customSizeWidth)&&void 0!==r?r:s,this.height=null!==(o=this.customSizeHeight)&&void 0!==o?o:s,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,i,n,r,o,s,a){var g,l=this;return this.resize(t,o,s,a),this.left=n-this.width/2,this.top=r-this.height/2,this.initContextForDraw(t,a),(g=e,Object.prototype.hasOwnProperty.call(zd,g)?zd[g]:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];CanvasRenderingContext2D.prototype[g].call(t,i)})(t,n,r,a.size),this.performFill(t,a),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(t.font=(o?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",t.fillText(this.options.icon.code,n,r)),{drawExternalLabel:function(){if(void 0!==l.options.label){l.labelModule.calculateLabelSize(t,o,s,n,r,"hanging");var e=r+.5*l.height+.5*l.labelModule.size.height;l.labelModule.draw(t,n,e,o,s,"hanging")}l.updateBoundingBox(n,r)}}}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),r}(Rz);function Lz(t,e){var i=yk(t);if(vF){var n=vF(t);e&&(n=ZE(n).call(n,(function(e){return OF(t,e).enumerable}))),i.push.apply(i,n)}return i}function Bz(t){for(var e=1;e<arguments.length;e++){var i,n,r=null!=arguments[e]?arguments[e]:{};e%2?Bk(i=Lz(Object(r),!0)).call(i,(function(e){CD(t,e,r[e])})):PF?VF(t,PF(r)):Bk(n=Lz(Object(r))).call(n,(function(e){nF(t,e,OF(r,e))}))}return t}var Fz=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i,o){var s;return em(this,r),(s=n.call(this,t,e,i,o)).ctxRenderer=o,s}return gx(r,[{key:"draw",value:function(t,e,i,n,r,o){this.resize(t,n,r,o),this.left=e-this.width/2,this.top=i-this.height/2,t.save();var s=this.ctxRenderer({ctx:t,id:this.options.id,x:e,y:i,state:{selected:n,hover:r},style:Bz({},o),label:this.options.label});if(null!=s.drawNode&&s.drawNode(),t.restore(),s.drawExternalLabel){var a=s.drawExternalLabel;s.drawExternalLabel=function(){t.save(),a(),t.restore()}}return s.nodeDimensions&&(this.customSizeWidth=s.nodeDimensions.width,this.customSizeHeight=s.nodeDimensions.height),s}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),r}(jz);var zz=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i){var o;return em(this,r),(o=n.call(this,t,e,i))._setMargins(i),o}return gx(r,[{key:"resize",value:function(t,e,i){if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i).width+this.margin.right+this.margin.left;this.width=n,this.height=n,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,r,o){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,o),Bd(t,e-this.width/2,i-this.height/2,this.width,this.height),this.performFill(t,o),this.updateBoundingBox(e,i,t,n,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),r}(Rz);var Vz=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i){return em(this,r),n.call(this,t,e,i)}return gx(r,[{key:"draw",value:function(t,e,i,n,r,o){return this._drawShape(t,"diamond",4,e,i,n,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),r}(jz);var Gz=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i){return em(this,r),n.call(this,t,e,i)}return gx(r,[{key:"draw",value:function(t,e,i,n,r,o){return this._drawShape(t,"circle",2,e,i,n,r,o)}},{key:"distanceToBorder",value:function(t){return t&&this.resize(t),this.options.size}}]),r}(jz);var Wz=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i){return em(this,r),n.call(this,t,e,i)}return gx(r,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i);this.height=2*n.height,this.width=n.width+n.height,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,n,r,o){this.resize(t,n,r),this.left=e-.5*this.width,this.top=i-.5*this.height,this.initContextForDraw(t,o),Ld(t,this.left,this.top,this.width,this.height),this.performFill(t,o),this.updateBoundingBox(e,i,t,n,r),this.labelModule.draw(t,e,i,n,r)}},{key:"distanceToBorder",value:function(t,e){t&&this.resize(t);var i=.5*this.width,n=.5*this.height,r=Math.sin(e)*i,o=Math.cos(e)*n;return i*n/Math.sqrt(r*r+o*o)}}]),r}(Rz);var Uz=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i){var o;return em(this,r),(o=n.call(this,t,e,i))._setMargins(i),o}return gx(r,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,n,r,o){var s=this;return this.resize(t,n,r),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=i-this.height/2,this._icon(t,e,i,n,r,o),{drawExternalLabel:function(){void 0!==s.options.label&&s.labelModule.draw(t,s.left+s.iconSize.width/2+s.margin.left,i+s.height/2+5,n),s.updateBoundingBox(e,i)}}}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(t,e,i,n,r,o){var s=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=[null!=this.options.icon.weight?this.options.icon.weight:n?"bold":"",(null!=this.options.icon.weight&&n?5:0)+s+"px",this.options.icon.face].join(" "),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,o),t.fillText(this.options.icon.code,e,i),this.disableShadow(t,o)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),r}(Rz);var Zz=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i,o,s){var a;return em(this,r),(a=n.call(this,t,e,i)).setImages(o,s),a}return gx(r,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var n=2*this.options.size;return this.width=n,void(this.height=n)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,n,r,o){t.save(),this.switchImages(n),this.resize();var s=e,a=i;if("top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=i,s+=this.width/2,a+=this.height/2):(this.left=e-this.width/2,this.top=i-this.height/2),!0===this.options.shapeProperties.useBorderWithImage){var g=this.options.borderWidth,l=this.options.borderWidthSelected||2*this.options.borderWidth,A=(n?l:g)/this.body.view.scale;t.lineWidth=Math.min(this.width,A),t.beginPath();var C=n?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border,I=n?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background;void 0!==o.opacity&&(C=C_(C,o.opacity),I=C_(I,o.opacity)),t.strokeStyle=C,t.fillStyle=I,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),nT(t).call(t),this.performStroke(t,o),t.closePath()}this._drawImageAtPosition(t,o),this._drawImageLabel(t,s,a,n,r),this.updateBoundingBox(e,i),t.restore()}},{key:"updateBoundingBox",value:function(t,e){this.resize(),"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=t,this.top=e):(this.left=t-this.width/2,this.top=e-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),r}(Dz);var Hz=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i){return em(this,r),n.call(this,t,e,i)}return gx(r,[{key:"draw",value:function(t,e,i,n,r,o){return this._drawShape(t,"square",2,e,i,n,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),r}(jz);var Yz=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i){return em(this,r),n.call(this,t,e,i)}return gx(r,[{key:"draw",value:function(t,e,i,n,r,o){return this._drawShape(t,"hexagon",4,e,i,n,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),r}(jz);var Kz=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i){return em(this,r),n.call(this,t,e,i)}return gx(r,[{key:"draw",value:function(t,e,i,n,r,o){return this._drawShape(t,"star",4,e,i,n,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),r}(jz);var Xz=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i){var o;return em(this,r),(o=n.call(this,t,e,i))._setMargins(i),o}return gx(r,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.textSize=this.labelModule.getTextSize(t,e,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,n,r,o){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r),this.disableShadow(t,o),this.updateBoundingBox(e,i,t,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),r}(Rz);var Qz=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i){return em(this,r),n.call(this,t,e,i)}return gx(r,[{key:"draw",value:function(t,e,i,n,r,o){return this._drawShape(t,"triangle",3,e,i,n,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),r}(jz);var qz=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i){return em(this,r),n.call(this,t,e,i)}return gx(r,[{key:"draw",value:function(t,e,i,n,r,o){return this._drawShape(t,"triangleDown",3,e,i,n,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),r}(jz);function Jz(t,e){var i=yk(t);if(vF){var n=vF(t);e&&(n=ZE(n).call(n,(function(e){return OF(t,e).enumerable}))),i.push.apply(i,n)}return i}function $z(t){for(var e=1;e<arguments.length;e++){var i,n,r=null!=arguments[e]?arguments[e]:{};e%2?Bk(i=Jz(Object(r),!0)).call(i,(function(e){CD(t,e,r[e])})):PF?VF(t,PF(r)):Bk(n=Jz(Object(r))).call(n,(function(e){nF(t,e,OF(r,e))}))}return t}var tV=function(){function t(e,i,n,r,o,s){em(this,t),this.options=v_(o),this.globalOptions=o,this.defaultOptions=s,this.body=i,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new _z(this.body,this.options,!1),this.setOptions(e)}return gx(t,[{key:"attachEdge",value:function(t){var e;-1===wS(e=this.edges).call(e,t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e,i,n=wS(e=this.edges).call(e,t);-1!=n&&dE(i=this.edges).call(i,n,1)}},{key:"setOptions",value:function(e){var i=this.options.shape;if(e){if(void 0!==e.color&&(this._localColor=e.color),void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");t.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=hS(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=hS(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=dz(e.value)),t.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var n=[e,this.options,this.defaultOptions];return this.chooser=yz("node",n),this._load_images(),this.updateLabelModule(e),void 0!==e.opacity&&t.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(i),void 0!==e.hidden||void 0!==e.physics}}},{key:"_load_images",value:function(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(null!=this.options.borderWidthSelected?t.borderWidth=this.options.borderWidthSelected:t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){var e=this.options.opacity;t.borderColor=C_(t.borderColor,e),t.color=C_(t.color,e),t.shadowColor=C_(t.shadowColor,e)}return t}},{key:"updateLabelModule",value:function(e){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),t.updateGroupOptions(this.options,$z($z({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);var i=this.grouplist.get(this.options.group,!1),n=[e,this.options,i,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Nz(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Pz(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new Mz(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new Fz(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new zz(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new Vz(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Gz(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new Wz(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Uz(this.options,this.body,this.labelModule);break;case"image":this.shape=new Zz(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Hz(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new Yz(this.options,this.body,this.labelModule);break;case"star":this.shape=new Kz(this.options,this.body,this.labelModule);break;case"text":this.shape=new Xz(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Qz(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new qz(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*o}this.options.size=this.options.scaling.min+n*r}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var e=this.getFormattingValues();return this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)||{}}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}},{key:"getItemsOnPoint",value:function(t){var e=[];return this.labelModule.visible()&&bz(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),bz(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"checkOpacity",value:function(t){return 0<=t&&t<=1}},{key:"checkCoordinateOrigin",value:function(t){return void 0===t||"center"===t||"top-left"===t}},{key:"updateGroupOptions",value:function(e,i,n){var r;if(void 0!==n){var o=e.group;if(void 0!==i&&void 0!==i.group&&o!==i.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof o||"string"==typeof o&&""!=o){var s=n.get(o);void 0!==s.opacity&&void 0===i.opacity&&(t.checkOpacity(s.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+s.opacity),s.opacity=void 0));var a=ZE(r=mz(i)).call(r,(function(t){return null!=i[t]}));a.push("font"),o_(a,e,s),e.color=h_(e.color)}}}},{key:"parseOptions",value:function(e,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;if(o_(["color","fixed","shadow"],e,i,n),t.checkMass(i),void 0!==e.opacity&&(t.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),void 0!==i.opacity&&(t.checkOpacity(i.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+i.opacity),i.opacity=void 0)),i.shapeProperties&&!t.checkCoordinateOrigin(i.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+i.shapeProperties.coordinateOrigin),m_(e,i,"shadow",r),void 0!==i.color&&null!==i.color){var s=h_(i.color);n_(e.color,s)}else!0===n&&null===i.color&&(e.color=v_(r.color));void 0!==i.fixed&&null!==i.fixed&&("boolean"==typeof i.fixed?(e.fixed.x=i.fixed,e.fixed.y=i.fixed):(void 0!==i.fixed.x&&"boolean"==typeof i.fixed.x&&(e.fixed.x=i.fixed.x),void 0!==i.fixed.y&&"boolean"==typeof i.fixed.y&&(e.fixed.y=i.fixed.y))),!0===n&&null===i.font&&(e.font=v_(r.font)),t.updateGroupOptions(e,i,o),void 0!==i.scaling&&m_(e.scaling,i.scaling,"label",r.scaling)}},{key:"checkMass",value:function(t,e){if(void 0!==t.mass&&t.mass<=0){var i="";void 0!==e&&(i=" in node id: "+e),console.error("%cNegative or zero mass disallowed"+i+", setting mass to 1.",j_),t.mass=1}}}]),t}();function eV(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var iV=function(){function t(e,i,n,r){var o,s=this;if(em(this,t),this.body=e,this.images=i,this.groups=n,this.layoutEngine=r,this.body.functions.createNode=Pd(o=this.create).call(o,this),this.nodesListeners={add:function(t,e){s.add(e.items)},update:function(t,e){s.update(e.items,e.data,e.oldData)},remove:function(t,e){s.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){if(e===t)return.5;var r=1/(e-t);return Math.max(0,(n-t)*r)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=v_(this.defaultOptions),this.bindEventListeners()}return gx(t,[{key:"bindEventListeners",value:function(){var t,e,i=this;this.body.emitter.on("refreshNodes",Pd(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",Pd(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",(function(){l_(i.nodesListeners,(function(t,e){i.body.data.nodes&&i.body.data.nodes.off(e,t)})),delete i.body.functions.createNode,delete i.nodesListeners.add,delete i.nodesListeners.update,delete i.nodesListeners.remove,delete i.nodesListeners}))}},{key:"setOptions",value:function(t){if(void 0!==t){if(tV.parseOptions(this.options,t),void 0!==t.opacity&&(UN(t.opacity)||!HN(t.opacity)||t.opacity<0||t.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity):this.options.opacity=t.opacity),void 0!==t.shape)for(var e in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&this.body.nodes[e].updateShape();if(void 0!==t.font||void 0!==t.widthConstraint||void 0!==t.heightConstraint)for(var i=0,n=yk(this.body.nodes);i<n.length;i++){var r=n[i];this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh()}if(void 0!==t.size)for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.body.nodes[o].needsRefresh();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.nodes;if(rz("id",t))this.body.data.nodes=t;else if(Ik(t))this.body.data.nodes=new nz,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new nz}if(i&&l_(this.nodesListeners,(function(t,e){i.off(e,t)})),this.body.nodes={},this.body.data.nodes){var n=this;l_(this.nodesListeners,(function(t,e){n.body.data.nodes.on(e,t)}));var r=this.body.data.nodes.getIds();this.add(r,!0)}!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=0;r<t.length;r++){e=t[r];var o=this.body.data.nodes.get(e),s=this.create(o);n.push(s),this.body.nodes[e]=s}this.layoutEngine.positionInitially(n),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e,i){for(var n=this.body.nodes,r=!1,o=0;o<t.length;o++){var s=t[o],a=n[s],g=e[o];void 0!==a?a.setOptions(g)&&(r=!0):(r=!0,a=this.create(g),n[s]=a)}r||void 0===i||(r=JN(e).call(e,(function(t,e){var n=i[e];return n&&n.level!==t.level}))),!0===r?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,i=0;i<t.length;i++)delete e[t[i]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:tV)(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l_(this.body.nodes,(function(i,n){var r=t.body.data.nodes.get(n);void 0!==r&&(!0===e&&i.setOptions({x:null,y:null}),i.setOptions({fixed:!1}),i.setOptions(r))}))}},{key:"getPositions",value:function(t){var e={};if(void 0!==t){if(!0===Ik(t)){for(var i=0;i<t.length;i++)if(void 0!==this.body.nodes[t[i]]){var n=this.body.nodes[t[i]];e[t[i]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(void 0!==this.body.nodes[t]){var r=this.body.nodes[t];e[t]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(var o=0;o<this.body.nodeIndices.length;o++){var s=this.body.nodes[this.body.nodeIndices[o]];e[this.body.nodeIndices[o]]={x:Math.round(s.x),y:Math.round(s.y)}}return e}},{key:"getPosition",value:function(t){if(null==t)throw new TypeError("No id was specified for getPosition method.");if(null==this.body.nodes[t])throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(t));return{x:Math.round(this.body.nodes[t].x),y:Math.round(this.body.nodes[t].y)}}},{key:"storePositions",value:function(){var t,e=[],i=this.body.data.nodes.getDataSet(),n=function(t,e){var i=void 0!==Jx&&tm(t)||t["@@iterator"];if(!i){if(Ik(t)||(i=function(t,e){var i;if(t){if("string"==typeof t)return eV(t,e);var n=rk(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Pv(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eV(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw o}}}}(i.get());try{for(n.s();!(t=n.n()).done;){var r=t.value,o=r.id,s=this.body.nodes[o],a=Math.round(s.x),g=Math.round(s.y);r.x===a&&r.y===g||e.push({id:o,x:a,y:g})}}catch(t){n.e(t)}finally{n.f()}i.update(e)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,e){var i=[];if(void 0!==this.body.nodes[t])for(var n=this.body.nodes[t],r={},o=0;o<n.edges.length;o++){var s=n.edges[o];"to"!==e&&s.toId==n.id?void 0===r[s.fromId]&&(i.push(s.fromId),r[s.fromId]=!0):"from"!==e&&s.fromId==n.id&&void 0===r[s.toId]&&(i.push(s.toId),r[s.toId]=!0)}return i}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],n=0;n<i.edges.length;n++)e.push(i.edges[n].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,i){var n=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(i),XS((function(){n.body.emitter.emit("startSimulation")}),0)):console.error("Node id supplied to moveNode does not exist. Provided: ",t)}}]),t}(),nV=QI,rV=RC,oV=$C,sV=$h,aV=SC,gV=yf;kc({target:"Reflect",stat:!0},{get:function t(e,i){var n,r,o=arguments.length<3?e:arguments[2];return sV(e)===o?e[i]:(n=aV.f(e,i))?function(t){return void 0!==t&&(nV(t,"value")||nV(t,"writable"))}(n)?n.value:void 0===n.get?void 0:rV(n.get,o):oV(r=gV(e))?t(r,i,o):void 0}});var lV=eC(tI.Reflect.get),AV=eC(TF);function CV(){var t;return CV="undefined"!=typeof Reflect&&lV?rD(t=lV).call(t):function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=AD(t)););return t}(t,e);if(n){var r=AV(n,e);return r.get?r.get.call(arguments.length<3?t:i):r.value}},CV.apply(this,arguments)}var IV=kc,hV=Math.hypot,cV=Math.abs,dV=Math.sqrt;IV({target:"Math",stat:!0,arity:2,forced:!!hV&&hV(1/0,NaN)!==1/0},{hypot:function(t,e){for(var i,n,r=0,o=0,s=arguments.length,a=0;o<s;)a<(i=cV(arguments[o++]))?(r=r*(n=a/i)*n+1,a=i):r+=i>0?(n=i/a)*n:i;return a===1/0?1/0:a*dV(r)}});var uV=eC(tI.Math.hypot);function fV(t){var e=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=AD(t);if(e){var r=AD(this).constructor;i=pF(n,arguments,r)}else i=n.apply(this,arguments);return aD(this,i)}}var pV=function(){function t(){em(this,t)}return gx(t,null,[{key:"transform",value:function(t,e){Ik(t)||(t=[t]);for(var i=e.point.x,n=e.point.y,r=e.angle,o=e.length,s=0;s<t.length;++s){var a=t[s],g=a.x*Math.cos(r)-a.y*Math.sin(r),l=a.x*Math.sin(r)+a.y*Math.cos(r);a.x=i+o*g,a.y=n+o*l}}},{key:"drawPath",value:function(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;++i)t.lineTo(e[i].x,e[i].y);t.closePath()}}]),t}(),vV=function(t){sD(i,t);var e=fV(i);function i(){return em(this,i),e.apply(this,arguments)}return gx(i,null,[{key:"draw",value:function(t,e){if(e.image){t.save(),t.translate(e.point.x,e.point.y),t.rotate(Math.PI/2+e.angle);var i=null!=e.imageWidth?e.imageWidth:e.image.width,n=null!=e.imageHeight?e.imageHeight:e.image.height;e.image.drawImageAtPosition(t,1,-i/2,0,i,n),t.restore()}return!1}}]),i}(pV),mV=function(t){sD(i,t);var e=fV(i);function i(){return em(this,i),e.apply(this,arguments)}return gx(i,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return pV.transform(i,e),pV.drawPath(t,i),!0}}]),i}(pV),yV=function(){function t(){em(this,t)}return gx(t,null,[{key:"draw",value:function(t,e){var i=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return pV.transform(i,e),pV.drawPath(t,i),!0}}]),t}(),bV=function(){function t(){em(this,t)}return gx(t,null,[{key:"draw",value:function(t,e){var i={x:-.4,y:0};pV.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var n=Math.PI,r=e.angle-n/2,o=e.angle+n/2;return t.beginPath(),t.arc(i.x,i.y,.4*e.length,r,o,!1),t.stroke(),!0}}]),t}(),wV=function(){function t(){em(this,t)}return gx(t,null,[{key:"draw",value:function(t,e){var i={x:-.3,y:0};pV.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var n=Math.PI,r=e.angle+n/2,o=e.angle+3*n/2;return t.beginPath(),t.arc(i.x,i.y,.4*e.length,r,o,!1),t.stroke(),!0}}]),t}(),xV=function(){function t(){em(this,t)}return gx(t,null,[{key:"draw",value:function(t,e){var i=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return pV.transform(i,e),pV.drawPath(t,i),!0}}]),t}(),kV=function(){function t(){em(this,t)}return gx(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return pV.transform(i,e),pV.drawPath(t,i),!0}}]),t}(),EV=function(){function t(){em(this,t)}return gx(t,null,[{key:"draw",value:function(t,e){var i={x:-.4,y:0};return pV.transform(i,e),Md(t,i.x,i.y,.4*e.length),!0}}]),t}(),SV=function(){function t(){em(this,t)}return gx(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return pV.transform(i,e),pV.drawPath(t,i),!0}}]),t}(),TV=function(){function t(){em(this,t)}return gx(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return pV.transform(i,e),pV.drawPath(t,i),!0}}]),t}(),OV=function(){function t(){em(this,t)}return gx(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return pV.transform(i,e),pV.drawPath(t,i),!0}}]),t}(),_V=function(){function t(){em(this,t)}return gx(t,null,[{key:"draw",value:function(t,e){var i=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return pV.transform(i,e),pV.drawPath(t,i),!0}}]),t}(),RV=function(){function t(){em(this,t)}return gx(t,null,[{key:"draw",value:function(t,e){var i;switch(e.type&&(i=e.type.toLowerCase()),i){case"image":return vV.draw(t,e);case"circle":return EV.draw(t,e);case"box":return TV.draw(t,e);case"crow":return yV.draw(t,e);case"curve":return bV.draw(t,e);case"diamond":return OV.draw(t,e);case"inv_curve":return wV.draw(t,e);case"triangle":return xV.draw(t,e);case"inv_triangle":return kV.draw(t,e);case"bar":return SV.draw(t,e);case"vee":return _V.draw(t,e);default:return mV.draw(t,e)}}}]),t}();function NV(t,e){var i=yk(t);if(vF){var n=vF(t);e&&(n=ZE(n).call(n,(function(e){return OF(t,e).enumerable}))),i.push.apply(i,n)}return i}function DV(t){for(var e=1;e<arguments.length;e++){var i,n,r=null!=arguments[e]?arguments[e]:{};e%2?Bk(i=NV(Object(r),!0)).call(i,(function(e){CD(t,e,r[e])})):PF?VF(t,PF(r)):Bk(n=NV(Object(r))).call(n,(function(e){nF(t,e,OF(r,e))}))}return t}var PV=function(){function t(e,i,n){em(this,t),this._body=i,this._labelModule=n,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}return gx(t,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();t.strokeStyle=this.getColor(t,e),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,r):this._drawLine(t,e,r)}},{key:"_drawLine",value:function(t,e,i,n,r){if(this.from!=this.to)this._line(t,e,i,n,r);else{var o=Qx(this._getCircleData(t),3),s=o[0],a=o[1],g=o[2];this._circle(t,e,s,a,g)}}},{key:"_drawDashedLine",value:function(t,e,i,n,r){t.lineCap="round";var o=Ik(e.dashes)?e.dashes:[5,5];if(void 0!==t.setLineDash){if(t.save(),t.setLineDash(o),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,i);else{var s=Qx(this._getCircleData(t),3),a=s[0],g=s[1],l=s[2];this._circle(t,e,a,g,l)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)Fd(t,this.from.x,this.from.y,this.to.x,this.to.y,o);else{var A=Qx(this._getCircleData(t),3),C=A[0],I=A[1],h=A[2];this._circle(t,e,C,I,h)}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}},{key:"findBorderPosition",value:function(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}},{key:"findBorderPositions",value:function(t){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,t),to:this._findBorderPosition(this.to,t)};var e,i=Qx(rk(e=this._getCircleData(t)).call(e,0,2),2),n=i[0],r=i[1];return{from:this._findBorderPositionCircle(this.from,t,{x:n,y:r,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,t,{x:n,y:r,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(t){var e=this.options.selfReference.size;void 0!==t&&void 0===this.from.shape.width&&this.from.shape.resize(t);var i=xz(t,this.options.selfReference.angle,e,this.from);return[i.x,i.y,e]}},{key:"_pointOnCircle",value:function(t,e,i,n){var r=2*n*Math.PI;return{x:t+i*Math.cos(r),y:e-i*Math.sin(r)}}},{key:"_findBorderPositionCircle",value:function(t,e,i){var n,r=i.x,o=i.y,s=i.low,a=i.high,g=i.direction,l=this.options.selfReference.size,A=.5*(s+a),C=0;!0===this.options.arrowStrikethrough&&(-1===g?C=this.options.endPointOffset.from:1===g&&(C=this.options.endPointOffset.to));var I=0;do{A=.5*(s+a),n=this._pointOnCircle(r,o,l,A);var h=Math.atan2(t.y-n.y,t.x-n.x),c=t.distanceToBorder(e,h)+C-Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2));if(Math.abs(c)<.05)break;c>0?g>0?s=A:a=A:g>0?a=A:s=A,++I}while(s<=a&&I<10);return DV(DV({},n),{},{t:A})}},{key:"getLineWidth",value:function(t,e){return!0===t?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(t,e){if(!1!==e.inheritsColor){if("both"===e.inheritsColor&&this.from.id!==this.to.id){var i=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),n=this.from.options.color.highlight.border,r=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(n=C_(this.from.options.color.border,e.opacity),r=C_(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?r=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(n=this.from.options.color.border),i.addColorStop(0,n),i.addColorStop(1,r),i}return"to"===e.inheritsColor?C_(this.to.options.color.border,e.opacity):C_(this.from.options.color.border,e.opacity)}return C_(e.color,e.opacity)}},{key:"_circle",value:function(t,e,i,n,r){this.enableShadow(t,e);var o=0,s=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){var a=this.options.selfReference.angle,g=this.options.selfReference.angle+Math.PI,l=this._findBorderPositionCircle(this.from,t,{x:i,y:n,low:a,high:g,direction:-1}),A=this._findBorderPositionCircle(this.from,t,{x:i,y:n,low:a,high:g,direction:1});o=Math.atan2(l.y-n,l.x-i),s=Math.atan2(A.y-n,A.x-i)}t.beginPath(),t.arc(i,n,r,o,s,!1),t.stroke(),this.disableShadow(t,e)}},{key:"getDistanceToEdge",value:function(t,e,i,n,r,o){if(this.from!=this.to)return this._getDistanceToEdge(t,e,i,n,r,o);var s=Qx(this._getCircleData(void 0),3),a=s[0],g=s[1],l=s[2],A=a-r,C=g-o;return Math.abs(Math.sqrt(A*A+C*C)-l)}},{key:"_getDistanceToLine",value:function(t,e,i,n,r,o){var s=i-t,a=n-e,g=((r-t)*s+(o-e)*a)/(s*s+a*a);g>1?g=1:g<0&&(g=0);var l=t+g*s-r,A=e+g*a-o;return Math.sqrt(l*l+A*A)}},{key:"getArrowData",value:function(t,e,i,n,r,o){var s,a,g,l,A,C,I,h=o.width;"from"===e?(g=this.from,l=this.to,A=o.fromArrowScale<0,C=Math.abs(o.fromArrowScale),I=o.fromArrowType):"to"===e?(g=this.to,l=this.from,A=o.toArrowScale<0,C=Math.abs(o.toArrowScale),I=o.toArrowType):(g=this.to,l=this.from,A=o.middleArrowScale<0,C=Math.abs(o.middleArrowScale),I=o.middleArrowType);var c=15*C+3*h;if(g!=l){var d=c/uV(g.x-l.x,g.y-l.y);if("middle"!==e)if(!0===this.options.smooth.enabled){var u=this._findBorderPosition(g,t,{via:i}),f=this.getPoint(u.t+d*("from"===e?1:-1),i);s=Math.atan2(u.y-f.y,u.x-f.x),a=u}else s=Math.atan2(g.y-l.y,g.x-l.x),a=this._findBorderPosition(g,t);else{var p=(A?-d:d)/2,v=this.getPoint(.5+p,i),m=this.getPoint(.5-p,i);s=Math.atan2(v.y-m.y,v.x-m.x),a=this.getPoint(.5,i)}}else{var y=Qx(this._getCircleData(t),3),b=y[0],w=y[1],x=y[2];if("from"===e){var k=this.options.selfReference.angle,E=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,t,{x:b,y:w,low:k,high:E,direction:-1});s=-2*S.t*Math.PI+1.5*Math.PI+.1*Math.PI,a=S}else if("to"===e){var T=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,_=this._findBorderPositionCircle(this.from,t,{x:b,y:w,low:T,high:O,direction:1});s=-2*_.t*Math.PI+1.5*Math.PI-1.1*Math.PI,a=_}else{var R=this.options.selfReference.angle/(2*Math.PI);a=this._pointOnCircle(b,w,x,R),s=-2*R*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:a,core:{x:a.x-.9*c*Math.cos(s),y:a.y-.9*c*Math.sin(s)},angle:s,length:c,type:I}}},{key:"drawArrowHead",value:function(t,e,i,n,r){t.strokeStyle=this.getColor(t,e),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,RV.draw(t,r)&&(this.enableShadow(t,e),nT(t).call(t),this.disableShadow(t,e))}},{key:"enableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"drawBackground",value:function(t,e){if(!1!==e.background){var i={strokeStyle:t.strokeStyle,lineWidth:t.lineWidth,dashes:t.dashes};t.strokeStyle=e.backgroundColor,t.lineWidth=e.backgroundSize,this.setStrokeDashed(t,e.backgroundDashes),t.stroke(),t.strokeStyle=i.strokeStyle,t.lineWidth=i.lineWidth,t.dashes=i.dashes,this.setStrokeDashed(t,e.dashes)}}},{key:"setStrokeDashed",value:function(t,e){if(!1!==e)if(void 0!==t.setLineDash){var i=Ik(e)?e:[5,5];t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else void 0!==t.setLineDash?t.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),t}();function MV(t,e){var i=yk(t);if(vF){var n=vF(t);e&&(n=ZE(n).call(n,(function(e){return OF(t,e).enumerable}))),i.push.apply(i,n)}return i}function jV(t){for(var e=1;e<arguments.length;e++){var i,n,r=null!=arguments[e]?arguments[e]:{};e%2?Bk(i=MV(Object(r),!0)).call(i,(function(e){CD(t,e,r[e])})):PF?VF(t,PF(r)):Bk(n=MV(Object(r))).call(n,(function(e){nF(t,e,OF(r,e))}))}return t}var LV=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i){return em(this,r),n.call(this,t,e,i)}return gx(r,[{key:"_findBorderPositionBezier",value:function(t,e){var i,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),o=!1,s=1,a=0,g=this.to,l=this.options.endPointOffset?this.options.endPointOffset.to:0;t.id===this.from.id&&(g=this.from,o=!0,l=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(l=0);var A=0;do{n=.5*(a+s),i=this.getPoint(n,r);var C=Math.atan2(g.y-i.y,g.x-i.x),I=g.distanceToBorder(e,C)+l-Math.sqrt(Math.pow(i.x-g.x,2)+Math.pow(i.y-g.y,2));if(Math.abs(I)<.2)break;I<0?!1===o?a=n:s=n:!1===o?s=n:a=n,++A}while(a<=s&&A<10);return jV(jV({},i),{},{t:n})}},{key:"_getDistanceToBezierEdge",value:function(t,e,i,n,r,o,s){var a,g,l,A,C,I=1e9,h=t,c=e;for(g=1;g<10;g++)l=.1*g,A=Math.pow(1-l,2)*t+2*l*(1-l)*s.x+Math.pow(l,2)*i,C=Math.pow(1-l,2)*e+2*l*(1-l)*s.y+Math.pow(l,2)*n,g>0&&(I=(a=this._getDistanceToLine(h,c,A,C,r,o))<I?a:I),h=A,c=C;return I}},{key:"_bezierCurve",value:function(t,e,i,n){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),null!=i&&null!=i.x?null!=n&&null!=n.x?t.bezierCurveTo(i.x,i.y,n.x,n.y,this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(t,e),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),r}(PV);var BV=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i){var o;return em(this,r),(o=n.call(this,t,e,i)).via=o.via,o._boundFunction=function(){o.positionBezierNode()},o._body.emitter.on("_repositionBezierNodes",o._boundFunction),o}return gx(r,[{key:"setOptions",value:function(t){CV(AD(r.prototype),"setOptions",this).call(this,t);var e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this._body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this._body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var i=Qx(this._getCircleData(),3),n=i[0],r=i[1],o=i[2],s=2*Math.PI*(1-t);return{x:n+o*Math.sin(s),y:r+o-o*(1-Math.cos(s))}}return{x:Math.pow(1-t,2)*this.fromPoint.x+2*t*(1-t)*e.x+Math.pow(t,2)*this.toPoint.x,y:Math.pow(1-t,2)*this.fromPoint.y+2*t*(1-t)*e.y+Math.pow(t,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,o){return this._getDistanceToBezierEdge(t,e,i,n,r,o,this.via)}}]),r}(LV);var FV=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i){return em(this,r),n.call(this,t,e,i)}return gx(r,[{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t,e,i=this.options.smooth.roundness,n=this.options.smooth.type,r=Math.abs(this.from.x-this.to.x),o=Math.abs(this.from.y-this.to.y);if("discrete"===n||"diagonalCross"===n){var s,a;s=a=r<=o?i*o:i*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);var g=this.from.x+s,l=this.from.y+a;return"discrete"===n&&(r<=o?g=r<i*o?this.from.x:g:l=o<i*r?this.from.y:l),{x:g,y:l}}if("straightCross"===n){var A=(1-i)*r,C=(1-i)*o;return r<=o?(A=0,this.from.y<this.to.y&&(C=-C)):(this.from.x<this.to.x&&(A=-A),C=0),{x:this.to.x+A,y:this.to.y+C}}if("horizontal"===n){var I=(1-i)*r;return this.from.x<this.to.x&&(I=-I),{x:this.to.x+I,y:this.from.y}}if("vertical"===n){var h=(1-i)*o;return this.from.y<this.to.y&&(h=-h),{x:this.from.x,y:this.to.y+h}}if("curvedCW"===n){r=this.to.x-this.from.x,o=this.from.y-this.to.y;var c=Math.sqrt(r*r+o*o),d=Math.PI,u=(Math.atan2(o,r)+(.5*i+.5)*d)%(2*d);return{x:this.from.x+(.5*i+.5)*c*Math.sin(u),y:this.from.y+(.5*i+.5)*c*Math.cos(u)}}if("curvedCCW"===n){r=this.to.x-this.from.x,o=this.from.y-this.to.y;var f=Math.sqrt(r*r+o*o),p=Math.PI,v=(Math.atan2(o,r)+(.5*-i+.5)*p)%(2*p);return{x:this.from.x+(.5*i+.5)*f*Math.sin(v),y:this.from.y+(.5*i+.5)*f*Math.cos(v)}}t=e=r<=o?i*o:i*r,this.from.x>this.to.x&&(t=-t),this.from.y>=this.to.y&&(e=-e);var m=this.from.x+t,y=this.from.y+e;return r<=o?m=this.from.x<=this.to.x?this.to.x<m?this.to.x:m:this.to.x>m?this.to.x:m:y=this.from.y>=this.to.y?this.to.y>y?this.to.y:y:this.to.y<y?this.to.y:y,{x:m,y}}},{key:"_findBorderPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(t,e,i.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,i,n,r,o,s)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=t;return{x:Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,y:Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y}}}]),r}(LV);var zV=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i){return em(this,r),n.call(this,t,e,i)}return gx(r,[{key:"_getDistanceToBezierEdge2",value:function(t,e,i,n,r,o,s,a){for(var g=1e9,l=t,A=e,C=[0,0,0,0],I=1;I<10;I++){var h=.1*I;C[0]=Math.pow(1-h,3),C[1]=3*h*Math.pow(1-h,2),C[2]=3*Math.pow(h,2)*(1-h),C[3]=Math.pow(h,3);var c=C[0]*t+C[1]*s.x+C[2]*a.x+C[3]*i,d=C[0]*e+C[1]*s.y+C[2]*a.y+C[3]*n;if(I>0){var u=this._getDistanceToLine(l,A,c,d,r,o);g=u<g?u:g}l=c,A=d}return g}}]),r}(LV);var VV=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i){return em(this,r),n.call(this,t,e,i)}return gx(r,[{key:"_line",value:function(t,e,i){var n=i[0],r=i[1];this._bezierCurve(t,e,n,r)}},{key:"_getViaCoordinates",value:function(){var t,e,i,n,r=this.from.x-this.to.x,o=this.from.y-this.to.y,s=this.options.smooth.roundness;return(Math.abs(r)>Math.abs(o)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(e=this.from.y,n=this.to.y,t=this.from.x-s*r,i=this.to.x+s*r):(e=this.from.y-s*o,n=this.to.y+s*o,t=this.from.x,i=this.to.x),[{x:t,y:e},{x:i,y:n}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,o){var s=Qx(arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),2),a=s[0],g=s[1];return this._getDistanceToBezierEdge2(t,e,i,n,r,o,a,g)}},{key:"getPoint",value:function(t){var e=Qx(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),2),i=e[0],n=e[1],r=t,o=[Math.pow(1-r,3),3*r*Math.pow(1-r,2),3*Math.pow(r,2)*(1-r),Math.pow(r,3)];return{x:o[0]*this.fromPoint.x+o[1]*i.x+o[2]*n.x+o[3]*this.toPoint.x,y:o[0]*this.fromPoint.y+o[1]*i.y+o[2]*n.y+o[3]*this.toPoint.y}}}]),r}(zV);var GV=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i){return em(this,r),n.call(this,t,e,i)}return gx(r,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var i=this.to,n=this.from;t.id===this.from.id&&(i=this.from,n=this.to);var r=Math.atan2(i.y-n.y,i.x-n.x),o=i.x-n.x,s=i.y-n.y,a=Math.sqrt(o*o+s*s),g=(a-t.distanceToBorder(e,r))/a;return{x:(1-g)*n.x+g*i.x,y:(1-g)*n.y+g*i.y,t:0}}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,o){return this._getDistanceToLine(t,e,i,n,r,o)}}]),r}(PV),WV=function(){function t(e,i,n,r,o){if(em(this,t),void 0===i)throw new Error("No body provided");this.options=v_(r),this.globalOptions=r,this.defaultOptions=o,this.body=i,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new _z(this.body,this.options,!0),this.setOptions(e)}return gx(t,[{key:"setOptions",value:function(e){if(e){var i=void 0!==e.physics&&this.options.physics!==e.physics||void 0!==e.hidden&&(this.options.hidden||!1)!==(e.hidden||!1)||void 0!==e.from&&this.options.from!==e.from||void 0!==e.to&&this.options.to!==e.to;t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=dz(e.value));var n=[e,this.options,this.defaultOptions];return this.chooser=yz("edge",n),this.updateLabelModule(e),i=this.updateEdgeType()||i,this._setInteractionWidths(),this.connect(),i}}},{key:"getFormattingValues",value:function(){var t=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,e=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,i=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,n=this.options.color.inherit,r={toArrow:t,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:i,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:e,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:n?void 0:this.options.color.color,inheritsColor:n,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var o=this.options.selectionWidth;"function"==typeof o?r.width=o(r.width):"number"==typeof o&&(r.width+=o),r.width=Math.max(r.width,.3/this.body.view.scale),r.color=this.options.color.highlight,r.shadow=this.options.shadow.enabled}else if(this.hover){var s=this.options.hoverWidth;"function"==typeof s?r.width=s(r.width):"number"==typeof s&&(r.width+=s),r.width=Math.max(r.width,.3/this.body.view.scale),r.color=this.options.color.hover,r.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(r,this.options.id,this.selected,this.hover),void 0!==r.color&&(r.inheritsColor=!1),!1===r.shadow&&(r.shadowColor===this.options.shadow.color&&r.shadowSize===this.options.shadow.size&&r.shadowX===this.options.shadow.x&&r.shadowY===this.options.shadow.y||(r.shadow=!0)));else r.shadow=this.options.shadow.enabled,r.width=Math.max(r.width,.3/this.body.view.scale);return r}},{key:"updateLabelModule",value:function(t){var e=[t,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,e),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,e=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof BV&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof VV&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof FV&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof GV&&!1===t.type.enabled)&&(i=!1),!0===i&&(e=this.cleanup())),!0===i?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new BV(this.options,this.body,this.labelModule)):"cubicBezier"===t.type?this.edgeType=new VV(this.options,this.body,this.labelModule):this.edgeType=new FV(this.options,this.body,this.labelModule):this.edgeType=new GV(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*o}this.options.width=this.options.scaling.min+n*r}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var i=this.edgeType.getViaNode();this.edgeType.drawLine(t,e,this.selected,this.hover,i),this.drawLabel(t,i)}}},{key:"drawArrows",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var i=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(n.from=this.edgeType.getArrowData(t,"from",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=n.from.core),e.fromArrowSrc&&(n.from.image=this.imagelist.load(e.fromArrowSrc)),e.fromArrowImageWidth&&(n.from.imageWidth=e.fromArrowImageWidth),e.fromArrowImageHeight&&(n.from.imageHeight=e.fromArrowImageHeight)),e.toArrow&&(n.to=this.edgeType.getArrowData(t,"to",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=n.to.core),e.toArrowSrc&&(n.to.image=this.imagelist.load(e.toArrowSrc)),e.toArrowImageWidth&&(n.to.imageWidth=e.toArrowImageWidth),e.toArrowImageHeight&&(n.to.imageHeight=e.toArrowImageHeight)),e.middleArrow&&(n.middle=this.edgeType.getArrowData(t,"middle",i,this.selected,this.hover,e),e.middleArrowSrc&&(n.middle.image=this.imagelist.load(e.middleArrowSrc)),e.middleArrowImageWidth&&(n.middle.imageWidth=e.middleArrowImageWidth),e.middleArrowImageHeight&&(n.middle.imageHeight=e.middleArrowImageHeight)),e.fromArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,n.from),e.middleArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,n.middle),e.toArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,n.to)}}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var i,n=this.from,r=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),n.id!=r.id){this.labelModule.pointToSelf=!1,i=this.edgeType.getPoint(.5,e),t.save();var o=this._getRotation(t);0!=o.angle&&(t.translate(o.x,o.y),t.rotate(o.angle)),this.labelModule.draw(t,i.x,i.y,this.selected,this.hover),t.restore()}else{this.labelModule.pointToSelf=!0;var s=xz(t,this.options.selfReference.angle,this.options.selfReference.size,n);i=this._pointOnCircle(s.x,s.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(t,i.x,i.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(t){var e=[];if(this.labelModule.visible()){var i=this._getRotation();bz(this.labelModule.getSize(),t,i)&&e.push({edgeId:this.id,labelId:0})}var n={left:t.x,top:t.y};return this.isOverlappingWith(n)&&e.push({edgeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){if(this.connected){var e=this.from.x,i=this.from.y,n=this.to.x,r=this.to.y,o=t.left,s=t.top;return this.edgeType.getDistanceToEdge(e,i,n,r,o,s)<10}return!1}},{key:"_getRotation",value:function(t){var e=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,i.x,i.y);var n={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return n;if("horizontal"===this.options.font.align)return n;var r=this.from.y-this.to.y,o=this.from.x-this.to.x,s=Math.atan2(r,o);return(s<-1&&o<0||s>0&&o<0)&&(s+=Math.PI),n.angle=s,n}},{key:"_pointOnCircle",value:function(t,e,i,n){return{x:t+i*Math.cos(n),y:e-i*Math.sin(n)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(r_(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],t,e,i),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.from&&(HN(e.endPointOffset.from)?t.endPointOffset.from=e.endPointOffset.from:(t.endPointOffset.from=void 0!==n.endPointOffset.from?n.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.to&&(HN(e.endPointOffset.to)?t.endPointOffset.to=e.endPointOffset.to:(t.endPointOffset.to=void 0!==n.endPointOffset.to?n.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),wz(e.label)?t.label=e.label:wz(t.label)||(t.label=void 0),m_(t,e,"smooth",n),m_(t,e,"shadow",n),m_(t,e,"background",n),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:!0===i&&null===e.dashes&&(t.dashes=ES(n.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),m_(t.scaling,e.scaling,"label",n.scaling)):!0===i&&null===e.scaling&&(t.scaling=ES(n.scaling)),void 0!==e.arrows&&null!==e.arrows)if("string"==typeof e.arrows){var o=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=wS(o).call(o,"to"),t.arrows.middle.enabled=-1!=wS(o).call(o,"middle"),t.arrows.from.enabled=-1!=wS(o).call(o,"from")}else{if("object"!==rx(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+OS(e.arrows));m_(t.arrows,e.arrows,"to",n.arrows),m_(t.arrows,e.arrows,"middle",n.arrows),m_(t.arrows,e.arrows,"from",n.arrows)}else!0===i&&null===e.arrows&&(t.arrows=ES(n.arrows));if(void 0!==e.color&&null!==e.color){var s=t_(e.color)?{color:e.color,highlight:e.color,hover:e.color,inherit:!1,opacity:1}:e.color,a=t.color;if(r)s_(a,n.color,!1,i);else for(var g in a)Object.prototype.hasOwnProperty.call(a,g)&&delete a[g];if(t_(a))a.color=a,a.highlight=a,a.hover=a,a.inherit=!1,void 0===s.opacity&&(a.opacity=1);else{var l=!1;void 0!==s.color&&(a.color=s.color,l=!0),void 0!==s.highlight&&(a.highlight=s.highlight,l=!0),void 0!==s.hover&&(a.hover=s.hover,l=!0),void 0!==s.inherit&&(a.inherit=s.inherit),void 0!==s.opacity&&(a.opacity=Math.min(1,Math.max(0,s.opacity))),!0===l?a.inherit=!1:void 0===a.inherit&&(a.inherit="from")}}else!0===i&&null===e.color&&(t.color=v_(n.color));!0===i&&null===e.font&&(t.font=v_(n.font)),Object.prototype.hasOwnProperty.call(e,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),t.selfReference.size=e.selfReferenceSize)}}]),t}(),UV=function(){function t(e,i,n){var r,o=this;em(this,t),this.body=e,this.images=i,this.groups=n,this.body.functions.createEdge=Pd(r=this.create).call(r,this),this.edgesListeners={add:function(t,e){o.add(e.items)},update:function(t,e){o.update(e.items)},remove:function(t,e){o.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){if(e===t)return.5;var r=1/(e-t);return Math.max(0,(n-t)*r)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},s_(this.options,this.defaultOptions),this.bindEventListeners()}return gx(t,[{key:"bindEventListeners",value:function(){var t,e,i=this;this.body.emitter.on("_forceDisableDynamicCurves",(function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===t&&(t="continuous");var n=!1;for(var r in i.body.edges)if(Object.prototype.hasOwnProperty.call(i.body.edges,r)){var o=i.body.edges[r],s=i.body.data.edges.get(r);if(null!=s){var a=s.smooth;void 0!==a&&!0===a.enabled&&"dynamic"===a.type&&(void 0===t?o.setOptions({smooth:!1}):o.setOptions({smooth:{type:t}}),n=!0)}}!0===e&&!0===n&&i.body.emitter.emit("_dataChanged")})),this.body.emitter.on("_dataUpdated",(function(){i.reconnectEdges()})),this.body.emitter.on("refreshEdges",Pd(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",Pd(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",(function(){l_(i.edgesListeners,(function(t,e){i.body.data.edges&&i.body.data.edges.off(e,t)})),delete i.body.functions.createEdge,delete i.edgesListeners.add,delete i.edgesListeners.update,delete i.edgesListeners.remove,delete i.edgesListeners}))}},{key:"setOptions",value:function(t){if(void 0!==t){WV.parseOptions(this.options,t,!0,this.defaultOptions,!0);var e=!1;if(void 0!==t.smooth)for(var i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&(e=this.body.edges[i].updateEdgeType()||e);if(void 0!==t.font)for(var n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.data.edges;if(rz("id",t))this.body.data.edges=t;else if(Ik(t))this.body.data.edges=new nz,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new nz}if(n&&l_(this.edgesListeners,(function(t,e){n.off(e,t)})),this.body.edges={},this.body.data.edges){l_(this.edgesListeners,(function(t,i){e.body.data.edges.on(i,t)}));var r=this.body.data.edges.getIds();this.add(r,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.edges,n=this.body.data.edges,r=0;r<t.length;r++){var o=t[r],s=i[o];s&&s.disconnect();var a=n.get(o,{showInternalIds:!0});i[o]=this.create(a)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,i=this.body.data.edges,n=!1,r=0;r<t.length;r++){var o=t[r],s=i.get(o),a=e[o];void 0!==a?(a.disconnect(),n=a.setOptions(s)||n,a.connect()):(this.body.edges[o]=this.create(s),n=!0)}!0===n?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==t.length){var i=this.body.edges;l_(t,(function(t){var e=i[t];void 0!==e&&e.remove()})),e&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var t=this;l_(this.body.edges,(function(e,i){var n=t.body.data.edges.get(i);void 0!==n&&e.setOptions(n)}))}},{key:"create",value:function(t){return new WV(t,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,i=this.body.edges;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t].edges=[]);for(t in i)if(Object.prototype.hasOwnProperty.call(i,t)){var n=i[t];n.from=null,n.to=null,n.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var i=this.body.edges[t];void 0!==i.fromId&&e.push(i.fromId),void 0!==i.toId&&e.push(i.toId)}return e}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var t=this,e=[];l_(this.body.edges,(function(i,n){var r=t.body.nodes[i.toId],o=t.body.nodes[i.fromId];void 0!==r&&!0===r.isCluster||void 0!==o&&!0===o.isCluster||void 0!==r&&void 0!==o||e.push(n)})),this.remove(e,!1)}},{key:"_addMissingEdges",value:function(){var t=this.body.data.edges;if(null!=t){var e=this.body.edges,i=[];Bk(t).call(t,(function(t,n){void 0===e[n]&&i.push(n)})),this.add(i,!0)}}}]),t}(),ZV=function(){function t(e,i,n){em(this,t),this.body=e,this.physicsBody=i,this.barnesHutTree,this.setOptions(n),this._rng=HO("BARNES HUT SOLVER")}return gx(t,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var t,e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,n=i.length,r=this._formBarnesHutTree(e,i);this.barnesHutTree=r;for(var o=0;o<n;o++)(t=e[i[o]]).options.mass>0&&this._getForceContributions(r.root,t)}}},{key:"_getForceContributions",value:function(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}},{key:"_getForceContribution",value:function(t,e){if(t.childrenCount>0){var i=t.centerOfMass.x-e.x,n=t.centerOfMass.y-e.y,r=Math.sqrt(i*i+n*n);r*t.calcSize>this.thetaInversed?this._calculateForces(r,i,n,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(r,i,n,e,t)}}},{key:"_calculateForces",value:function(t,e,i,n,r){0===t&&(e=t=.1),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));var o=this.options.gravitationalConstant*r.mass*n.options.mass/Math.pow(t,3),s=e*o,a=i*o;this.physicsBody.forces[n.id].x+=s,this.physicsBody.forces[n.id].y+=a}},{key:"_formBarnesHutTree",value:function(t,e){for(var i,n=e.length,r=t[e[0]].x,o=t[e[0]].y,s=t[e[0]].x,a=t[e[0]].y,g=1;g<n;g++){var l=t[e[g]],A=l.x,C=l.y;l.options.mass>0&&(A<r&&(r=A),A>s&&(s=A),C<o&&(o=C),C>a&&(a=C))}var I=Math.abs(s-r)-Math.abs(a-o);I>0?(o-=.5*I,a+=.5*I):(r+=.5*I,s-=.5*I);var h=Math.max(1e-5,Math.abs(s-r)),c=.5*h,d=.5*(r+s),u=.5*(o+a),f={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:d-c,maxX:d+c,minY:u-c,maxY:u+c},size:h,calcSize:1/h,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(f.root);for(var p=0;p<n;p++)(i=t[e[p]]).options.mass>0&&this._placeInTree(f.root,i);return f}},{key:"_updateBranchMass",value:function(t,e){var i=t.centerOfMass,n=t.mass+e.options.mass,r=1/n;i.x=i.x*t.mass+e.x*e.options.mass,i.x*=r,i.y=i.y*t.mass+e.y*e.options.mass,i.y*=r,t.mass=n;var o=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<o?o:t.maxWidth}},{key:"_placeInTree",value:function(t,e,i){1==i&&void 0!==i||this._updateBranchMass(t,e);var n,r=t.children.NW.range;n=r.maxX>e.x?r.maxY>e.y?"NW":"SW":r.maxY>e.y?"NE":"SE",this._placeInRegion(t,e,n)}},{key:"_placeInRegion",value:function(t,e,i){var n=t.children[i];switch(n.childrenCount){case 0:n.children.data=e,n.childrenCount=1,this._updateBranchMass(n,e);break;case 1:n.children.data.x===e.x&&n.children.data.y===e.y?(e.x+=this._rng(),e.y+=this._rng()):(this._splitBranch(n),this._placeInTree(n,e));break;case 4:this._placeInTree(n,e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var i,n,r,o,s=.5*t.size;switch(e){case"NW":i=t.range.minX,n=t.range.minX+s,r=t.range.minY,o=t.range.minY+s;break;case"NE":i=t.range.minX+s,n=t.range.maxX,r=t.range.minY,o=t.range.minY+s;break;case"SW":i=t.range.minX,n=t.range.minX+s,r=t.range.minY+s,o=t.range.maxY;break;case"SE":i=t.range.minX+s,n=t.range.maxX,r=t.range.minY+s,o=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:n,minY:r,maxY:o},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),t}(),HV=function(){function t(e,i,n){em(this,t),this._rng=HO("REPULSION SOLVER"),this.body=e,this.physicsBody=i,this.setOptions(n)}return gx(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,r,o,s,a,g=this.body.nodes,l=this.physicsBody.physicsNodeIndices,A=this.physicsBody.forces,C=this.options.nodeDistance,I=-2/3/C,h=4/3,c=0;c<l.length-1;c++){s=g[l[c]];for(var d=c+1;d<l.length;d++)t=(a=g[l[d]]).x-s.x,e=a.y-s.y,0===(i=Math.sqrt(t*t+e*e))&&(t=i=.1*this._rng()),i<2*C&&(o=i<.5*C?1:I*i+h,n=t*(o/=i),r=e*o,A[s.id].x-=n,A[s.id].y-=r,A[a.id].x+=n,A[a.id].y+=r)}}}]),t}(),YV=function(){function t(e,i,n){em(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return gx(t,[{key:"setOptions",value:function(t){this.options=t,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var t=this.body.nodes,e=this.physicsBody.physicsNodeIndices,i=this.physicsBody.forces,n=this.options.nodeDistance,r=0;r<e.length-1;r++)for(var o=t[e[r]],s=r+1;s<e.length;s++){var a=t[e[s]];if(o.level===a.level){var g=n+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(a.shape.radius||0)/2),l=a.x-o.x,A=a.y-o.y,C=Math.sqrt(l*l+A*A),I=void 0;I=C<g?-Math.pow(.05*C,2)+Math.pow(.05*g,2):0,0!==C&&(I/=C);var h=l*I,c=A*I;i[o.id].x-=h,i[o.id].y-=c,i[a.id].x+=h,i[a.id].y+=c}}}}]),t}(),KV=function(){function t(e,i,n){em(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return gx(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,r,o=this.physicsBody.physicsEdgeIndices,s=this.body.edges,a=0;a<o.length;a++)!0===(e=s[o[a]]).connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.to,n=e.edgeType.via,r=e.from,this._calculateSpringForce(i,n,.5*t),this._calculateSpringForce(n,r,.5*t)):(t=void 0===e.options.length?1.5*this.options.springLength:e.options.length,this._calculateSpringForce(e.from,e.to,t)))}},{key:"_calculateSpringForce",value:function(t,e,i){var n=t.x-e.x,r=t.y-e.y,o=Math.max(Math.sqrt(n*n+r*r),.01),s=this.options.springConstant*(i-o)/o,a=n*s,g=r*s;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=g),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=g)}}]),t}(),XV=function(){function t(e,i,n){em(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return gx(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,r,o,s,a,g,l,A=this.body.edges,C=.5,I=this.physicsBody.physicsEdgeIndices,h=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,d=0;d<h.length;d++){var u=h[d];c[u].springFx=0,c[u].springFy=0}for(var f=0;f<I.length;f++)!0===(e=A[I[f]]).connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.from.x-e.to.x,n=e.from.y-e.to.y,a=0===(a=Math.sqrt(i*i+n*n))?.01:a,r=i*(s=this.options.springConstant*(t-a)/a),o=n*s,e.to.level!=e.from.level?(void 0!==c[e.toId]&&(c[e.toId].springFx-=r,c[e.toId].springFy-=o),void 0!==c[e.fromId]&&(c[e.fromId].springFx+=r,c[e.fromId].springFy+=o)):(void 0!==c[e.toId]&&(c[e.toId].x-=C*r,c[e.toId].y-=C*o),void 0!==c[e.fromId]&&(c[e.fromId].x+=C*r,c[e.fromId].y+=C*o)));s=1;for(var p=0;p<h.length;p++){var v=h[p];g=Math.min(s,Math.max(-s,c[v].springFx)),l=Math.min(s,Math.max(-s,c[v].springFy)),c[v].x+=g,c[v].y+=l}for(var m=0,y=0,b=0;b<h.length;b++){var w=h[b];m+=c[w].x,y+=c[w].y}for(var x=m/h.length,k=y/h.length,E=0;E<h.length;E++){var S=h[E];c[S].x-=x,c[S].y-=k}}}]),t}(),QV=function(){function t(e,i,n){em(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return gx(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,r=this.body.nodes,o=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces,a=0;a<o.length;a++)t=-(n=r[o[a]]).x,e=-n.y,i=Math.sqrt(t*t+e*e),this._calculateForces(i,t,e,s,n)}},{key:"_calculateForces",value:function(t,e,i,n,r){var o=0===t?0:this.options.centralGravity/t;n[r.id].x=e*o,n[r.id].y=i*o}}]),t}();var qV=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i){var o;return em(this,r),(o=n.call(this,t,e,i))._rng=HO("FORCE ATLAS 2 BASED REPULSION SOLVER"),o}return gx(r,[{key:"_calculateForces",value:function(t,e,i,n,r){0===t&&(e=t=.1*this._rng()),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));var o=n.edges.length+1,s=this.options.gravitationalConstant*r.mass*n.options.mass*o/Math.pow(t,2),a=e*s,g=i*s;this.physicsBody.forces[n.id].x+=a,this.physicsBody.forces[n.id].y+=g}}]),r}(ZV);var JV=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i){return em(this,r),n.call(this,t,e,i)}return gx(r,[{key:"_calculateForces",value:function(t,e,i,n,r){if(t>0){var o=r.edges.length+1,s=this.options.centralGravity*o*r.options.mass;n[r.id].x=e*s,n[r.id].y=i*s}}}]),r}(QV),$V=function(){function t(e){em(this,t),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},hd(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return gx(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",(function(){t.initPhysics()})),this.body.emitter.on("_layoutFailed",(function(){t.layoutFailed=!0})),this.body.emitter.on("resetPhysics",(function(){t.stopSimulation(),t.ready=!1})),this.body.emitter.on("disablePhysics",(function(){t.physicsEnabled=!1,t.stopSimulation()})),this.body.emitter.on("restorePhysics",(function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()})),this.body.emitter.on("startSimulation",(function(){!0===t.ready&&t.startSimulation()})),this.body.emitter.on("stopSimulation",(function(){t.stopSimulation()})),this.body.emitter.on("destroy",(function(){t.stopSimulation(!1),t.body.emitter.off()})),this.body.emitter.on("_dataChanged",(function(){t.updatePhysicsData()}))}},{key:"setOptions",value:function(t){if(void 0!==t)if(!1===t)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(!0===t)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,o_(["stabilization"],this.options,t),m_(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation());var e=this.options.wind;e&&(("number"!=typeof e.x||UN(e.x))&&(e.x=0),("number"!=typeof e.y||UN(e.y))&&(e.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new qV(this.body,this.physicsBody,t),this.edgesSolver=new KV(this.body,this.physicsBody,t),this.gravitySolver=new JV(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new HV(this.body,this.physicsBody,t),this.edgesSolver=new KV(this.body,this.physicsBody,t),this.gravitySolver=new QV(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new YV(this.body,this.physicsBody,t),this.edgesSolver=new XV(this.body,this.physicsBody,t),this.gravitySolver=new QV(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new ZV(this.body,this.physicsBody,t),this.edgesSolver=new KV(this.body,this.physicsBody,t),this.gravitySolver=new QV(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var t;!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=Pd(t=this.simulationStep).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=kk();this.physicsTick(),(kk()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&XS((function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0}),0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&!0===t[i].options.physics&&this.physicsBody.physicsNodeIndices.push(t[i].id);for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&!0===e[n].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[n].id);for(var r=0;r<this.physicsBody.physicsNodeIndices.length;r++){var o=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[o]={x:0,y:0},void 0===this.physicsBody.velocities[o]&&(this.physicsBody.velocities[o]={x:0,y:0})}for(var s in this.physicsBody.velocities)void 0===t[s]&&delete this.physicsBody.velocities[s]}},{key:"revert",value:function(){var t=yk(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var n=0;n<t.length;n++){var r=t[n];void 0!==e[r]?!0===e[r].options.physics&&(this.referenceState[r]={positions:{x:e[r].x,y:e[r].y}},i[r].x=this.previousStates[r].vx,i[r].y=this.previousStates[r].vy,e[r].x=this.previousStates[r].x,e[r].y=this.previousStates[r].y):delete this.previousStates[r]}}},{key:"_evaluateStepQuality",value:function(){var t,e,i=this.body.nodes,n=this.referenceState;for(var r in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,r)&&void 0!==i[r]&&(t=i[r].x-n[r].positions.x,e=i[r].y-n[r].positions.y,Math.sqrt(Math.pow(t,2)+Math.pow(e,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=0,i=0,n=0;n<t.length;n++){var r=t[n],o=this._performStep(r);e=Math.max(e,o),i+=o}this.adaptiveTimestepEnabled=i/t.length<5,this.stabilized=e<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(t,e,i){t+=(e-this.modelOptions.damping*t)/i*this.timestep;var n=this.options.maxVelocity||1e9;return Math.abs(t)>n&&(t=t>0?n:-n),t}},{key:"_performStep",value:function(t){var e=this.body.nodes[t],i=this.physicsBody.forces[t];this.options.wind&&(i.x+=this.options.wind.x,i.y+=this.options.wind.y);var n=this.physicsBody.velocities[t];return this.previousStates[t]={x:e.x,y:e.y,vx:n.x,vy:n.y},!1===e.options.fixed.x?(n.x=this.calculateComponentVelocity(n.x,i.x,e.options.mass),e.x+=n.x*this.timestep):(i.x=0,n.x=0),!1===e.options.fixed.y?(n.y=this.calculateComponentVelocity(n.y,i.y,e.options.mass),e.y+=n.y*this.timestep):(i.y=0,n.y=0),Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e].x&&t[e].y){var i=t[e].options.fixed;this.freezeCache[e]={x:i.x,y:i.y},i.x=!0,i.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof e&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,XS((function(){return t._stabilizationBatch()}),0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var t=this,e=function(){return!1===t.stabilized&&t.stabilizationIterations<t.targetIterations},i=function(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};this._startStabilizing()&&i();for(var n,r=0;e()&&r<this.options.stabilization.updateInterval;)this.physicsTick(),r++;i(),e()?XS(Pd(n=this._stabilizationBatch).call(n,this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var i=this.physicsBody.physicsNodeIndices[e],n=this.body.nodes[i],r=this.physicsBody.forces[i],o=Math.sqrt(Math.pow(r.x,2)+Math.pow(r.x,2)),s=Math.min(Math.max(5,o),15),a=3*s,g=u_((180-180*Math.min(1,Math.max(0,.03*o)))/360,1,1),l={x:n.x+20*r.x,y:n.y+20*r.y};t.lineWidth=s,t.strokeStyle=g,t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(l.x,l.y),t.stroke();var A=Math.atan2(r.y,r.x);t.fillStyle=g,RV.draw(t,{type:"arrow",point:l,angle:A,length:a}),nT(t).call(t)}}}]),t}(),tG=function(){function t(){em(this,t)}return gx(t,null,[{key:"getRange",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,r=-1e9,o=1e9,s=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)o>(e=t[i[a]]).shape.boundingBox.left&&(o=e.shape.boundingBox.left),s<e.shape.boundingBox.right&&(s=e.shape.boundingBox.right),n>e.shape.boundingBox.top&&(n=e.shape.boundingBox.top),r<e.shape.boundingBox.bottom&&(r=e.shape.boundingBox.bottom);return 1e9===o&&-1e9===s&&1e9===n&&-1e9===r&&(n=0,r=0,o=0,s=0),{minX:o,maxX:s,minY:n,maxY:r}}},{key:"getRangeCore",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,r=-1e9,o=1e9,s=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)o>(e=t[i[a]]).x&&(o=e.x),s<e.x&&(s=e.x),n>e.y&&(n=e.y),r<e.y&&(r=e.y);return 1e9===o&&-1e9===s&&1e9===n&&-1e9===r&&(n=0,r=0,o=0,s=0),{minX:o,maxX:s,minY:n,maxY:r}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var i={};return void 0===e||"node"===e?(s_(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):s_(i,t.options,!0),i}}]),t}();var eG=function(t){sD(r,t);var e,i,n=(e=r,i=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=AD(e);if(i){var r=AD(this).constructor;t=pF(n,arguments,r)}else t=n.apply(this,arguments);return aD(this,t)});function r(t,e,i,o,s,a){var g;return em(this,r),(g=n.call(this,t,e,i,o,s,a)).isCluster=!0,g.containedNodes={},g.containedEdges={},g}return gx(r,[{key:"_openChildCluster",value:function(t){var e=this,i=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!i.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],l_(i.edges,(function(t){delete e.containedEdges[t.id]})),l_(i.containedNodes,(function(t,i){e.containedNodes[i]=t})),i.containedNodes={},l_(i.containedEdges,(function(t,i){e.containedEdges[i]=t})),i.containedEdges={},l_(i.edges,(function(t){l_(e.edges,(function(i){var n,r,o=wS(n=i.clusteringEdgeReplacingIds).call(n,t.id);-1!==o&&(l_(t.clusteringEdgeReplacingIds,(function(t){i.clusteringEdgeReplacingIds.push(t),e.body.edges[t].edgeReplacedById=i.id})),dE(r=i.clusteringEdgeReplacingIds).call(r,o,1))}))})),i.edges=[]}}]),r}(tV),iG=function(){function t(e){var i=this;em(this,t),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},hd(this.options,this.defaultOptions),this.body.emitter.on("_resetData",(function(){i.clusteredNodes={},i.clusteredEdges={}}))}return gx(t,[{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===rx(t)&&(e=this._checkOptions(t),t=this._getHubSize());for(var i=[],n=0;n<this.body.nodeIndices.length;n++){var r=this.body.nodes[this.body.nodeIndices[n]];r.edges.length>=t&&i.push(r.id)}for(var o=0;o<i.length;o++)this.clusterByConnection(i[o],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===e.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);var n={},r={};l_(this.body.nodes,(function(i,o){i.options&&!0===e.joinCondition(i.options)&&(n[o]=i,l_(i.edges,(function(e){void 0===t.clusteredEdges[e.id]&&(r[e.id]=e)})))})),this._cluster(n,r,e,i)}},{key:"clusterByEdgeCount",value:function(t,e){var i=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=this._checkOptions(e);for(var r,o,s,a=[],g={},l=function(){var n={},l={},C=i.body.nodeIndices[A],I=i.body.nodes[C];if(void 0===g[C]){s=0,o=[];for(var h=0;h<I.edges.length;h++)r=I.edges[h],void 0===i.clusteredEdges[r.id]&&(r.toId!==r.fromId&&s++,o.push(r));if(s===t){for(var c=function(t){if(void 0===e.joinCondition||null===e.joinCondition)return!0;var i=tG.cloneOptions(t);return e.joinCondition(i)},d=!0,u=0;u<o.length;u++){r=o[u];var f=i._getConnectedId(r,C);if(!c(I)){d=!1;break}l[r.id]=r,n[C]=I,n[f]=i.body.nodes[f],g[C]=!0}if(yk(n).length>0&&yk(l).length>0&&!0===d){var p=function(){for(var t=0;t<a.length;++t)for(var e in n)if(void 0!==a[t].nodes[e])return a[t]}();if(void 0!==p){for(var v in n)void 0===p.nodes[v]&&(p.nodes[v]=n[v]);for(var m in l)void 0===p.edges[m]&&(p.edges[m]=l[m])}else a.push({nodes:n,edges:l})}}}},A=0;A<this.body.nodeIndices.length;A++)l();for(var C=0;C<a.length;C++)this._cluster(a[C].nodes,a[C].edges,e,!1);!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,t,e)}},{key:"clusterBridges",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,t,e)}},{key:"clusterByConnection",value:function(t,e){var i,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var r=this.body.nodes[t];void 0===(e=this._checkOptions(e,r)).clusterNodeProperties.x&&(e.clusterNodeProperties.x=r.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=r.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=r.options.fixed.x,e.clusterNodeProperties.fixed.y=r.options.fixed.y);var o={},s={},a=r.id,g=tG.cloneOptions(r);o[a]=r;for(var l=0;l<r.edges.length;l++){var A=r.edges[l];if(void 0===this.clusteredEdges[A.id]){var C=this._getConnectedId(A,a);if(void 0===this.clusteredNodes[C])if(C!==a)if(void 0===e.joinCondition)s[A.id]=A,o[C]=this.body.nodes[C];else{var I=tG.cloneOptions(this.body.nodes[C]);!0===e.joinCondition(g,I)&&(s[A.id]=A,o[C]=this.body.nodes[C])}else s[A.id]=A}}var h=pk(i=yk(o)).call(i,(function(t){return o[t].id}));for(var c in o)if(Object.prototype.hasOwnProperty.call(o,c))for(var d=o[c],u=0;u<d.edges.length;u++){var f=d.edges[u];wS(h).call(h,this._getConnectedId(f,d.id))>-1&&(s[f.id]=f)}this._cluster(o,s,e,n)}},{key:"_createClusterEdges",value:function(t,e,i,n){for(var r,o,s,a,g,l,A=yk(t),C=[],I=0;I<A.length;I++){s=t[o=A[I]];for(var h=0;h<s.edges.length;h++)r=s.edges[h],void 0===this.clusteredEdges[r.id]&&(r.toId==r.fromId?e[r.id]=r:r.toId==o?(a=i.id,l=g=r.fromId):(a=r.toId,g=i.id,l=a),void 0===t[l]&&C.push({edge:r,fromId:g,toId:a}))}for(var c=[],d=function(t){for(var e=0;e<c.length;e++){var i=c[e],n=t.fromId===i.fromId&&t.toId===i.toId,r=t.fromId===i.toId&&t.toId===i.fromId;if(n||r)return i}return null},u=0;u<C.length;u++){var f=C[u],p=f.edge,v=d(f);null===v?(v=this._createClusteredEdge(f.fromId,f.toId,p,n),c.push(v)):v.clusteringEdgeReplacingIds.push(p.id),this.body.edges[p.id].edgeReplacedById=v.id,this._backupEdgeOptions(p),p.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=[];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&void 0!==this.clusteredNodes[o]&&r.push(o);for(var s=0;s<r.length;++s)delete t[r[s]];if(0!=yk(t).length&&(1!=yk(t).length||1==i.clusterNodeProperties.allowSingleNodeCluster)){var a=s_({},i.clusterNodeProperties);if(void 0!==i.processProperties){var g=[];for(var l in t)if(Object.prototype.hasOwnProperty.call(t,l)){var A=tG.cloneOptions(t[l]);g.push(A)}var C=[];for(var I in e)if(Object.prototype.hasOwnProperty.call(e,I)&&"clusterEdge:"!==I.substr(0,12)){var h=tG.cloneOptions(e[I],"edge");C.push(h)}if(!(a=i.processProperties(a,g,C)))throw new Error("The processProperties function does not return properties!")}void 0===a.id&&(a.id="cluster:"+KF());var c=a.id;void 0===a.label&&(a.label="cluster");var d=void 0;void 0===a.x&&(d=this._getClusterPosition(t),a.x=d.x),void 0===a.y&&(void 0===d&&(d=this._getClusterPosition(t)),a.y=d.y),a.id=c;var u=this.body.functions.createNode(a,eG);u.containedNodes=t,u.containedEdges=e,u.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[a.id]=u,this._clusterEdges(t,e,a,i.clusterEdgeProperties),a.id=void 0,!0===n&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e,i=yk(t),n=t[i[0]].x,r=t[i[0]].x,o=t[i[0]].y,s=t[i[0]].y,a=1;a<i.length;a++)n=(e=t[i[a]]).x<n?e.x:n,r=e.x>r?e.x:r,o=e.y<o?e.y:o,s=e.y>s?e.y:s;return{x:.5*(n+r),y:.5*(o+s)}}},{key:"openCluster",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");var n=this.body.nodes[t];if(void 0===n)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==n.isCluster||void 0===n.containedNodes||void 0===n.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");var r=this.findNode(t),o=wS(r).call(r,t)-1;if(o>=0){var s=r[o];return this.body.nodes[s]._openChildCluster(t),delete this.body.nodes[t],void(!0===i&&this.body.emitter.emit("_dataChanged"))}var a=n.containedNodes,g=n.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var l={},A={x:n.x,y:n.y};for(var C in a)if(Object.prototype.hasOwnProperty.call(a,C)){var I=this.body.nodes[C];l[C]={x:I.x,y:I.y}}var h=e.releaseFunction(A,l);for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=this.body.nodes[c];void 0!==h[c]&&(d.x=void 0===h[c].x?n.x:h[c].x,d.y=void 0===h[c].y?n.y:h[c].y)}}else l_(a,(function(t){!1===t.options.fixed.x&&(t.x=n.x),!1===t.options.fixed.y&&(t.y=n.y)}));for(var u in a)if(Object.prototype.hasOwnProperty.call(a,u)){var f=this.body.nodes[u];f.vx=n.vx,f.vy=n.vy,f.setOptions({physics:!0}),delete this.clusteredNodes[u]}for(var p=[],v=0;v<n.edges.length;v++)p.push(n.edges[v]);for(var m=0;m<p.length;m++){for(var y=p[m],b=this._getConnectedId(y,t),w=this.clusteredNodes[b],x=0;x<y.clusteringEdgeReplacingIds.length;x++){var k=y.clusteringEdgeReplacingIds[x],E=this.body.edges[k];if(void 0!==E)if(void 0!==w){var S=this.body.nodes[w.clusterId];S.containedEdges[E.id]=E,delete g[E.id];var T=E.fromId,O=E.toId;E.toId==b?O=w.clusterId:T=w.clusterId,this._createClusteredEdge(T,O,E,S.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(E)}y.remove()}for(var _ in g)Object.prototype.hasOwnProperty.call(g,_)&&this._restoreEdge(g[_]);delete this.body.nodes[t],!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var i=this.body.nodes[t].containedNodes;for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.push(this.body.nodes[n].id)}return e}},{key:"findNode",value:function(t){for(var e,i=[],n=0;void 0!==this.clusteredNodes[t]&&n<100;){if(void 0===(e=this.body.nodes[t]))return[];i.push(e.id),t=this.clusteredNodes[t].clusterId,n++}return void 0===(e=this.body.nodes[t])?[]:(i.push(e.id),Kk(i).call(i),i)}},{key:"updateClusteredNode",value:function(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var i=this.getClusteredEdges(t),n=0;n<i.length;n++)this.body.edges[i[n]].setOptions(e);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var e=[],i=0;void 0!==t&&void 0!==this.body.edges[t]&&i<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,i++;return Kk(e).call(e),e}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){for(var e=[t],i=[],n=[],r=0;e.length>0&&r<100;){var o=e.pop();if(void 0!==o){var s=this.body.edges[o];if(void 0!==s){r++;var a=s.clusteringEdgeReplacingIds;if(void 0===a)n.push(o);else for(var g=0;g<a.length;++g){var l=a[g];-1===wS(e).call(e,a)&&-1===wS(i).call(i,a)&&e.push(l)}i.push(o)}}}return n}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:(t.fromId,t.fromId)}},{key:"_getHubSize",value:function(){for(var t=0,e=0,i=0,n=0,r=0;r<this.body.nodeIndices.length;r++){var o=this.body.nodes[this.body.nodeIndices[r]];o.edges.length>n&&(n=o.edges.length),t+=o.edges.length,e+=Math.pow(o.edges.length,2),i+=1}t/=i;var s=(e/=i)-Math.pow(t,2),a=Math.sqrt(s),g=Math.floor(t+2*a);return g>n&&(g=n),g}},{key:"_createClusteredEdge",value:function(t,e,i,n,r){var o=tG.cloneOptions(i,"edge");s_(o,n),o.from=t,o.to=e,o.id="clusterEdge:"+KF(),void 0!==r&&s_(o,r);var s=this.body.functions.createEdge(o);return s.clusteringEdgeReplacingIds=[i.id],s.connect(),this.body.edges[s.id]=s,s}},{key:"_clusterEdges",value:function(t,e,i,n){if(e instanceof WV){var r=e,o={};o[r.id]=r,e=o}if(t instanceof tV){var s=t,a={};a[s.id]=s,t=a}if(null==i)throw new Error("_clusterEdges: parameter clusterNode required");for(var g in void 0===n&&(n=i.clusterEdgeProperties),this._createClusterEdges(t,e,i,n),e)if(Object.prototype.hasOwnProperty.call(e,g)&&void 0!==this.body.edges[g]){var l=this.body.edges[g];this._backupEdgeOptions(l),l.setOptions({physics:!1})}for(var A in t)Object.prototype.hasOwnProperty.call(t,A)&&(this.clusteredNodes[A]={clusterId:i.id,node:this.body.nodes[A]},this.body.nodes[A].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(void 0!==t){var e=this.clusteredNodes[t];if(void 0!==e){var i=e.clusterId;if(void 0!==i)return this.body.nodes[i]}}}},{key:"_filter",value:function(t,e){var i=[];return l_(t,(function(t){e(t)&&i.push(t)})),i}},{key:"_updateState",value:function(){var t,e=this,i=[],n={},r=function(t){l_(e.body.nodes,(function(e){!0===e.isCluster&&t(e)}))};for(t in this.clusteredNodes)Object.prototype.hasOwnProperty.call(this.clusteredNodes,t)&&void 0===this.body.nodes[t]&&i.push(t);r((function(t){for(var e=0;e<i.length;e++)delete t.containedNodes[i[e]]}));for(var o=0;o<i.length;o++)delete this.clusteredNodes[i[o]];l_(this.clusteredEdges,(function(t){var i=e.body.edges[t];void 0!==i&&i.endPointsValid()||(n[t]=t)})),r((function(t){l_(t.containedEdges,(function(t,e){t.endPointsValid()||n[e]||(n[e]=e)}))})),l_(this.body.edges,(function(t,i){var r=!0,o=t.clusteringEdgeReplacingIds;if(void 0!==o){var s=0;l_(o,(function(t){var i=e.body.edges[t];void 0!==i&&i.endPointsValid()&&(s+=1)})),r=s>0}t.endPointsValid()&&r||(n[i]=i)})),r((function(t){l_(n,(function(i){delete t.containedEdges[i],l_(t.edges,(function(r,o){r.id!==i?r.clusteringEdgeReplacingIds=e._filter(r.clusteringEdgeReplacingIds,(function(t){return!n[t]})):t.edges[o]=null})),t.edges=e._filter(t.edges,(function(t){return null!==t}))}))})),l_(n,(function(t){delete e.clusteredEdges[t]})),l_(n,(function(t){delete e.body.edges[t]})),l_(yk(this.body.edges),(function(t){var i=e.body.edges[t],n=e._isClusteredNode(i.fromId)||e._isClusteredNode(i.toId);if(n!==e._isClusteredEdge(i.id))if(n){var r=e._getClusterNodeForNode(i.fromId);void 0!==r&&e._clusterEdges(e.body.nodes[i.fromId],i,r);var o=e._getClusterNodeForNode(i.toId);void 0!==o&&e._clusterEdges(e.body.nodes[i.toId],i,o)}else delete e._clusterEdges[t],e._restoreEdge(i)}));for(var s=!1,a=!0,g=function(){var t=[];r((function(e){var i=yk(e.containedNodes).length,n=!0===e.options.allowSingleNodeCluster;(n&&i<1||!n&&i<2)&&t.push(e.id)}));for(var i=0;i<t.length;++i)e.openCluster(t[i],{},!1);a=t.length>0,s=s||a};a;)g();s&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return void 0!==this.clusteredNodes[t]}},{key:"_isClusteredEdge",value:function(t){return void 0!==this.clusteredEdges[t]}}]),t}(),nG=function(){function t(e,i){var n;em(this,t),void 0!==window&&(n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===n?function(t){t()}:n,this.body=e,this.canvas=i,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},hd(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return gx(t,[{key:"bindEventListeners",value:function(){var t,e=this;this.body.emitter.on("dragStart",(function(){e.dragging=!0})),this.body.emitter.on("dragEnd",(function(){e.dragging=!1})),this.body.emitter.on("zoom",(function(){e.zooming=!0,window.clearTimeout(e.zoomTimeoutId),e.zoomTimeoutId=XS((function(){var t;e.zooming=!1,Pd(t=e._requestRedraw).call(t,e)()}),250)})),this.body.emitter.on("_resizeNodes",(function(){e._resizeNodes()})),this.body.emitter.on("_redraw",(function(){!1===e.renderingActive&&e._redraw()})),this.body.emitter.on("_blockRedraw",(function(){e.allowRedraw=!1})),this.body.emitter.on("_allowRedraw",(function(){e.allowRedraw=!0,e.redrawRequested=!1})),this.body.emitter.on("_requestRedraw",Pd(t=this._requestRedraw).call(t,this)),this.body.emitter.on("_startRendering",(function(){e.renderRequests+=1,e.renderingActive=!0,e._startRendering()})),this.body.emitter.on("_stopRendering",(function(){e.renderRequests-=1,e.renderingActive=e.renderRequests>0,e.renderTimer=void 0})),this.body.emitter.on("destroy",(function(){e.renderRequests=0,e.allowRedraw=!1,e.renderingActive=!1,!0===e.requiresTimeout?clearTimeout(e.renderTimer):window.cancelAnimationFrame(e.renderTimer),e.body.emitter.off()}))}},{key:"setOptions",value:function(t){void 0!==t&&r_(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,t)}},{key:"_requestNextFrame",value:function(t,e){if("undefined"!=typeof window){var i,n=window;return!0===this.requiresTimeout?i=XS(t,e):n.requestAnimationFrame&&(i=n.requestAnimationFrame(t)),i}}},{key:"_startRendering",value:function(){var t;!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(Pd(t=this._renderStep).call(t,this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame((function(){t._redraw(!1)}),0))}},{key:"_redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var e={drawExternalLabels:null};0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var i=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,r=this.canvas.frame.canvas.clientHeight;if(i.clearRect(0,0,n,r),0===this.canvas.frame.clientWidth)return;if(i.save(),i.translate(this.body.view.translation.x,this.body.view.translation.y),i.scale(this.body.view.scale,this.body.view.scale),i.beginPath(),this.body.emitter.emit("beforeDrawing",i),i.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(i),!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag){var o=this._drawNodes(i,t).drawExternalLabels;e.drawExternalLabels=o}!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawArrows(i),null!=e.drawExternalLabels&&e.drawExternalLabels(),!1===t&&this._drawSelectionBox(i),i.beginPath(),this.body.emitter.emit("afterDrawing",i),i.closePath(),i.restore(),!0===t&&i.clearRect(0,0,n,r)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e,i=this.body.nodes;for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&((e=i[n]).resize(t),e.updateBoundingBox(t,e.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var e,i,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.body.nodes,o=this.body.nodeIndices,s=[],a=[],g=this.canvas.DOMtoCanvas({x:-20,y:-20}),l=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),A={top:g.y,left:g.x,bottom:l.y,right:l.x},C=[],I=0;I<o.length;I++)if((e=r[o[I]]).hover)a.push(o[I]);else if(e.isSelected())s.push(o[I]);else if(!0===n){var h=e.draw(t);null!=h.drawExternalLabel&&C.push(h.drawExternalLabel)}else if(!0===e.isBoundingBoxOverlappingWith(A)){var c=e.draw(t);null!=c.drawExternalLabel&&C.push(c.drawExternalLabel)}else e.updateBoundingBox(t,e.selected);var d=s.length,u=a.length;for(i=0;i<d;i++){var f=(e=r[s[i]]).draw(t);null!=f.drawExternalLabel&&C.push(f.drawExternalLabel)}for(i=0;i<u;i++){var p=(e=r[a[i]]).draw(t);null!=p.drawExternalLabel&&C.push(p.drawExternalLabel)}return{drawExternalLabels:function(){for(var t=0,e=C;t<e.length;t++)(0,e[t])()}}}},{key:"_drawEdges",value:function(t){for(var e=this.body.edges,i=this.body.edgeIndices,n=0;n<i.length;n++){var r=e[i[n]];!0===r.connected&&r.draw(t)}}},{key:"_drawArrows",value:function(t){for(var e=this.body.edges,i=this.body.edgeIndices,n=0;n<i.length;n++){var r=e[i[n]];!0===r.connected&&r.drawArrows(t)}}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=wS(t).call(t,"msie 9.0")||-1!=wS(t).call(t,"safari")&&wS(t).call(t,"chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(t){if(this.body.selectionBox.show){t.beginPath();var e=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,i=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;t.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,i),t.fillStyle="rgba(151, 194, 252, 0.2)",t.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,i),t.strokeStyle="rgba(151, 194, 252, 1)",t.stroke()}else t.closePath()}}]),t}(),rG=eC(tI.setInterval);function oG(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)}function sG(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)}var aG=function(){function t(e){em(this,t),this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},hd(this.options,this.defaultOptions),this.bindEventListeners()}return gx(t,[{key:"bindEventListeners",value:function(){var t,e=this;this.body.emitter.once("resize",(function(t){0!==t.width&&(e.body.view.translation.x=.5*t.width),0!==t.height&&(e.body.view.translation.y=.5*t.height)})),this.body.emitter.on("setSize",Pd(t=this.setSize).call(t,this)),this.body.emitter.on("destroy",(function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()}))}},{key:"setOptions",value:function(t){var e=this;if(void 0!==t&&r_(["width","height","autoResize"],this.options,t),this._cleanUp(),!0===this.options.autoResize){var i;if(window.ResizeObserver){var n=new ResizeObserver((function(){!0===e.setSize()&&e.body.emitter.emit("_requestRedraw")})),r=this.frame;n.observe(r),this._cleanupCallbacks.push((function(){n.unobserve(r)}))}else{var o=rG((function(){!0===e.setSize()&&e.body.emitter.emit("_requestRedraw")}),1e3);this._cleanupCallbacks.push((function(){clearInterval(o)}))}var s=Pd(i=this._onResize).call(i,this);window.addEventListener("resize",s),this._cleanupCallbacks.push((function(){window.removeEventListener("resize",s)}))}}},{key:"_cleanUp",value:function(){var t,e,i;Bk(t=Kk(e=dE(i=this._cleanupCallbacks).call(i,0)).call(e)).call(t,(function(t){try{t()}catch(t){console.error(t)}}))}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;1!=t&&1!=e?i=.5*this.cameraState.scale*(t+e):1!=t?i=this.cameraState.scale*t:1!=e&&(i=this.cameraState.scale*e),this.body.view.scale=i;var n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),r={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=r.x*this.body.view.scale,this.body.view.translation.y+=r.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==wS(t).call(t,"%")||-1!==wS(t).call(t,"px"))return t;if(-1===wS(t).call(t,"%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new P_(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:P_.DIRECTION_ALL}),oG(this.hammer,(function(e){t.body.eventListeners.onTouch(e)})),this.hammer.on("tap",(function(e){t.body.eventListeners.onTap(e)})),this.hammer.on("doubletap",(function(e){t.body.eventListeners.onDoubleTap(e)})),this.hammer.on("press",(function(e){t.body.eventListeners.onHold(e)})),this.hammer.on("panstart",(function(e){t.body.eventListeners.onDragStart(e)})),this.hammer.on("panmove",(function(e){t.body.eventListeners.onDrag(e)})),this.hammer.on("panend",(function(e){t.body.eventListeners.onDragEnd(e)})),this.hammer.on("pinch",(function(e){t.body.eventListeners.onPinch(e)})),this.frame.canvas.addEventListener("wheel",(function(e){t.body.eventListeners.onMouseWheel(e)})),this.frame.canvas.addEventListener("mousemove",(function(e){t.body.eventListeners.onMouseMove(e)})),this.frame.canvas.addEventListener("contextmenu",(function(e){t.body.eventListeners.onContext(e)})),this.hammerFrame=new P_(this.frame),sG(this.hammerFrame,(function(e){t.body.eventListeners.onRelease(e)}))}},{key:"setSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),e=this._prepareValue(e);var i=!1,n=this.frame.canvas.width,r=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(o),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{var s=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),a=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===s&&this.frame.canvas.height===a||this._getCameraState(o),this.frame.canvas.width!==s&&(this.frame.canvas.width=s,i=!0),this.frame.canvas.height!==a&&(this.frame.canvas.height=a,i=!0)}return!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(r/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");var e=1;return"undefined"!=typeof window&&(e=window.devicePixelRatio||1),e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),t}(),gG=function(){function t(e,i){var n,r,o=this;em(this,t),this.body=e,this.canvas=i,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",Pd(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",(function(){o.body.emitter.emit("_stopRendering")})),this.body.emitter.on("unlockNode",Pd(r=this.releaseNode).call(r,this))}return gx(t,[{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t}},{key:"fit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=function(t,e){var i=hd({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},null!=t?t:{});if(!Ik(i.nodes))throw new TypeError("Nodes has to be an array of ids.");if(0===i.nodes.length&&(i.nodes=e),!("number"==typeof i.minZoomLevel&&i.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!("number"==typeof i.maxZoomLevel&&i.minZoomLevel<=i.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return i}(t,this.body.nodeIndices);var i,n,r=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(0===r||0===o)n=1,i=tG.getRange(this.body.nodes,t.nodes);else if(!0===e){var s=0;for(var a in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,a)&&!0===this.body.nodes[a].predefinedPosition&&(s+=1);if(s>.5*this.body.nodeIndices.length)return void this.fit(t,!1);i=tG.getRange(this.body.nodes,t.nodes),n=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,n*=Math.min(r/600,o/600)}else{this.body.emitter.emit("_resizeNodes"),i=tG.getRange(this.body.nodes,t.nodes);var g=r/(1.1*Math.abs(i.maxX-i.minX)),l=o/(1.1*Math.abs(i.maxY-i.minY));n=g<=l?g:l}n>t.maxZoomLevel?n=t.maxZoomLevel:n<t.minZoomLevel&&(n=t.minZoomLevel);var A={position:tG.findCenter(i),scale:n,animation:t.animation};this.moveTo(A)}},{key:"focus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){var i={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=i,e.lockedOnNode=t,this.moveTo(e)}else console.error("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){if(void 0!==t){if(null!=t.offset){if(null!=t.offset.x){if(t.offset.x=+t.offset.x,!HN(t.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else t.offset.x=0;if(null!=t.offset.y){if(t.offset.y=+t.offset.y,!HN(t.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else t.offset.x=0}else t.offset={x:0,y:0};if(null!=t.position){if(null!=t.position.x){if(t.position.x=+t.position.x,!HN(t.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else t.position.x=0;if(null!=t.position.y){if(t.position.y=+t.position.y,!HN(t.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else t.position.x=0}else t.position=this.getViewPosition();if(null!=t.scale){if(t.scale=+t.scale,!(t.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else t.scale=this.body.view.scale;void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)}else t={}}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e,i,n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r=n.x-t.position.x,o=n.y-t.position.y;this.targetTranslation={x:this.sourceTranslation.x+r*this.targetScale+t.offset.x,y:this.sourceTranslation.y+o*this.targetScale+t.offset.y},0===t.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=Pd(e=this._lockedRedraw).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=Pd(i=this._transitionRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t=this.body.nodes[this.lockedOnNodeId].x,e=this.body.nodes[this.lockedOnNodeId].y,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n=i.x-t,r=i.y-e,o=this.body.view.translation,s={x:o.x+n*this.body.view.scale+this.lockedOnNodeOffset.x,y:o.y+r*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;var e,i=y_[this.animationEasingFunction](this.easingTime);(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*i,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*i,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*i},this.easingTime>=1)&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=Pd(e=this._lockedRedraw).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),t}();function lG(t){var e,i=t&&t.preventDefault||!1,n=t&&t.container||window,r={},o={keydown:{},keyup:{}},s={};for(e=97;e<=122;e++)s[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)s[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)s[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)s["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)s["num"+e]={code:96+e,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(t){l(t,"keydown")},g=function(t){l(t,"keyup")},l=function(t,e){if(void 0!==o[e][t.keyCode]){for(var n=o[e][t.keyCode],r=0;r<n.length;r++)(void 0===n[r].shift||1==n[r].shift&&1==t.shiftKey||0==n[r].shift&&0==t.shiftKey)&&n[r].fn(t);1==i&&t.preventDefault()}};return r.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);void 0===o[i][s[t].code]&&(o[i][s[t].code]=[]),o[i][s[t].code].push({fn:e,shift:s[t].shift})},r.bindAll=function(t,e){for(var i in void 0===e&&(e="keydown"),s)s.hasOwnProperty(i)&&r.bind(i,t,e)},r.getKey=function(t){for(var e in s)if(s.hasOwnProperty(e)){if(1==t.shiftKey&&1==s[e].shift&&t.keyCode==s[e].code)return e;if(0==t.shiftKey&&0==s[e].shift&&t.keyCode==s[e].code)return e;if(t.keyCode==s[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},r.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);if(void 0!==e){var n=[],r=o[i][s[t].code];if(void 0!==r)for(var a=0;a<r.length;a++)r[a].fn==e&&r[a].shift==s[t].shift||n.push(o[i][s[t].code][a]);o[i][s[t].code]=n}else o[i][s[t].code]=[]},r.reset=function(){o={keydown:{},keyup:{}}},r.destroy=function(){o={keydown:{},keyup:{}},n.removeEventListener("keydown",a,!0),n.removeEventListener("keyup",g,!0)},n.addEventListener("keydown",a,!0),n.addEventListener("keyup",g,!0),r}Vd("div.vis-network div.vis-navigation div.vis-button {\n  width: 34px;\n  height: 34px;\n  -moz-border-radius: 17px;\n  border-radius: 17px;\n  position: absolute;\n  display: inline-block;\n  background-position: 2px 2px;\n  background-repeat: no-repeat;\n  cursor: pointer;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\ndiv.vis-network div.vis-navigation div.vis-button:hover {\n  box-shadow: 0 0 3px 3px rgba(56, 207, 21, 0.3);\n}\n\ndiv.vis-network div.vis-navigation div.vis-button:active {\n  box-shadow: 0 0 1px 3px rgba(56, 207, 21, 0.95);\n}\n\ndiv.vis-network div.vis-navigation div.vis-button.vis-up {\n  background-image: url('data:image/png;base64,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');\n  bottom: 50px;\n  left: 55px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-down {\n  background-image: url('data:image/png;base64,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');\n  bottom: 10px;\n  left: 55px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-left {\n  background-image: url('data:image/png;base64,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');\n  bottom: 10px;\n  left: 15px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-right {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABs1JREFUeNqsl3tQlOcVxp9z3m+XygK7C4sLxkW5o4CAkYssFSkRjabjJEOSJm1IbZx2krapiZdeprW0NVVJ0pqMM0kYJQlqkoZImGioE1ItiCAgIsFwE4Es99vCslwChf36xy5EW1A0Pn9+73fO772e93kJC5EMCszFd20SbyFZNpJAAACtjWUI8KAN1CRAJTbg9LXNU+dBkG+Xkm7Zmg4OWoUdNqZXmQCZHQFsz0yOcCYGEc8mJGDnl2UTh5AO2x2DA3OxDaAsCDvQ32VF11qP9aZYz6SeFeooi17pPQEAvZNdTnWWKnWFuVhfYT7v0zza4M3EsMk2EPgnNZusby8Y7P8x/5lI/gMTYNSnNKQt/0Xtev1DfQtZlaK+M54fmDJXXhg4G8zEINBfqlLMe28L9s/lQ8Tyr5iAJ32fK/tj+OFq3IUO1O+JyGk7GgsiEPFrlQ/07bixXdwEPckHWZJ3MgG7Qw9+/mLIS/W4SyXoNvQskpyHLg1e8CNQ3NI0laoje7Tg/8CBudgGgQwSwO/DD322ze/FFnxLRWhiBzUK94GLA2f9mSTjfU+7mjqyrVe+AX8I4aGgShbA0/47Sn4ZuLcR90ih6qih0anRiVprtUEQb43bYtlXmwNZAEDAj/ACMW1M8ExpeDXyWMVCEl4yF7vntR/zLeov8JJlWfZR+Y3N92+cx/reOmu1quNrk27EWW0xvWspJcigoNNkA4C3Yk59vH7xltvu3ktDxe7PX34ilQCQfeci1j2xfn94ZrGCneY8uxcHCnW/vbr9EQD4d2ITc8AprAOAQLewroVAAaB8oMiLiRHvmVy7znNTjWCFrXKoJOSHFQ+kvnF9f+jco07s91MFdwmSkHQuYB0T8WYwIcYj0bTQdRufGlFKJMFVaCb/GvZW6aGI4yeXOwd2mr/u05zsyDY+W5X64Nm+fO85NpuJiCFJTpslIoonADEeiT2zIzIXuh+o25PQNtbsNVMOBUn2g08MiSTHN3uZjNTEDr4dnX/6H+1H/XPasmKvW+sMGfW/MXzende4K3h/ibvSYxIAItyie/K7cgCitQxCIBFjpTrKMgM+WPfrhLbxFi9iMQtlYjAJSCSBSYBAIPBNI3p86TPXj8bk56R4PVylFE626uFLQc9efiTVPDmgBIAAtzALEYNBQRITa4kYix21FwBax655CVagPLk7806Pj1qo/7MraF/FQ14/aMhszYhvGqn3KTef89rklWrSKXUTkn3mtJK9Bzf3XJA0e/PcrdgxIwSCDPmbZMQgABJkDBKzvn+yy2npIv9xAPB1Ceo2jTZ7Gc8afipIgEhAkACDwcSQQZBIIGnx5it7gg+U3wgcnbZKR1r+FnW+v2DVtDwtXCXNSKz797oAwDzZ7ySRAIBBFsTXmBh1w1+oZ4J3h+wv9lUFdbMDOrO+5IAqWIGZthuV13nC77nKRx8r7PssyibLIkoT1/h65HsfzWyu5tF6NYNB4EYJzKUETqgcLNVv0D/cDQBrNAnm9+LOfTLfNB5u2hf5z+6TMexYji+tVdrM5leMbWOtSwQx/F1C2rcuebIqwSO568a4WmuN3mEYSiUi+pRl2l1pLvYBsKArUKVwnZRYgdHpMWVG4+/WXhwoDBXE7OmkHzJ6JNemLfv51bniGqzVPoIkyLbpfK7ZMFIkE6FlrMn7Ql+BbiHg+zXGbgLjylDpyosD58KZmKM0cfWHI9//aD5o1VCZrnO83VuQQOja5PMCfwK8n3K2ChIbLVOD9KB36le3A+u/s2Q81C2yRavQmQNdVnamLnmq4nHD9jpB0rwm77jpjTW9E906Bu18fWlWCQHAox9CtGoXTwmS8IThZyXPB+29inuoE6bMsDM9ufEAMNHqJuU8ljMtAKA2B7IhzaWNiLfWjVQb3J10/SGuEZZ7Af1X7+lluZ3HkpgEQPL291M+qbzJgXQcG60ypKlVTGwsMxcFaJW6/hDXVZZvCz3RlrmRiQHwy9nRn2bM6bnas4cLfH6s1RIorsJcFDA2PToR7Z7QezfQD9qzwvI6TyTZC47ttXeiT+2c1+wBgOndoTPLt7mrmCRjvfULQ4O1xsVVchu7b9GysYUAqy3lnsdNb0aXmQuj7PYWL2etuRl6S0OfXLjiGQIdEY6K5esc2BWhjvkqXLO6x08VPKxV6iYAwuBkv5NpvNmtbrhaX2+tWdY70eVNINhtLW0/sjrv6B0/YdJlcGlR2AvE4hUlKwHQ7BU5cz8LRx0HaPY7gXb53L/67+mUfudPmP/twOWS6AQi/j6B4iWS/IlYK+yGYJDB1wWLErLRKd/omOJbAWf03wEAyO9m+/TtS3AAAAAASUVORK5CYII=');\n  bottom: 10px;\n  left: 95px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-zoomIn {\n  background-image: url('data:image/png;base64,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');\n  bottom: 10px;\n  right: 15px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-zoomOut {\n  background-image: url('data:image/png;base64,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');\n  bottom: 10px;\n  right: 55px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-zoomExtends {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABptJREFUeNqsl21QlNcVx///cx9hIipuAJHasgHlRdw0xay7yK7smg6sb2DSdtqZduLUNENmOk1tQuM4U7UzTvshSRlFZzoNCWSSSTJp+6VNkLCAeQHBoCCgqNBE0wUqL+KuwIiiZZ9+eHa3aAS3Sf8zO8/L3nt+95x7z7n3YWlpKUQEJAEgch9+Jola9xEC2ADBVgAOKqwCYAqKDgUJBIHPBWwFWQNdbyZFBwAC0GGIAHQSj3/8HHRdhzYbdDfwg4IjAsGvICgXAroYBiCEDkBBACBZoyST4gDwQqh7mQ4cEkhQD0EBIIggRMQAh2EiEvEYAGrdR3YSqIYCIEDaotVDeYnu/ryEjSOr43PHl8WmTBPA6PRQ7IWJrvhT/ubkU/7m1EvX+1KEUh7Ug+WkPEXgdUSkR+xrd0NJ4qjr8AEI9pGAI7mo78mHfnF+Y/K2K7iHUheuvJG6cOUNz/LvDwPobrpSl/Ruf2VOy9UPs4RSTSANwH4Y449EVdnt9ojHIeghCHYLgR+n/7zt4Np32tIWZU4hSpnjVk1t/caPfOO3/f++MNH5TVJcisoEoo4ksgbsXwYfdR1+kQplQuCFNS82Pp/9+158RTkTC0ce0OKutQeOp5PME0qcUBqyBmwGOC8vz4AWVOyE4CUqYO/Dh+p3pj//Bb6mHllqCyxd8ODVT69+uFKoOYTSnzFg7SJpzHFNQYWiQrUIsCN9V+uOh375zz179pSGI1FSUuK12+2+aGDt7e3muro6T/h57969lZdvDrT+ZbA6n0B1nfPVN7e0PjMjIgIIdkEAR1JR329yDvaE0+l/hQKA1Wr1bd682SsikUW7K+O3PesTNvaSAiXaLhGBvO86RFEoJ4Adac+eDxsgiZKSEm9NTY3n5MmT5mjBHR0d5vr6es+mTZu8SqnI+x+s+Ol5jRo0auX1jtepQaEAADKWWIbcy7ZGUmb79u1eu93uI+mtra31HLj5TGDs9rBJICCNn1GRCKGCUJAUuzzw6CfbTB6Px7t27VofAG/YXl6Ceyw9LmvIN3UxZUafKRACWyCELcHVP3vk4fDabDZf+2N/D9g+fsLEEFSooFGDogZNFkBRgSCsTcWm066jgRAU4et/F5u9nxRosmCLRmE+QdgSXCNzhW/s9rDJ63wVJx77V+V8YS6UNaW8BdOcqzx+3Ujt0F8Bcr1GMIMU5CzJHZ+rg6IGCYV2PimoyIK6lzIWrxkPTVGmRoqJFCyLTZmeq4MB5f3BVADnbpcQkzStUQMAk0YKBPfzxlhA95NQQe43QBotBECAFFyZHo6dz6CKCizAPFPivzUWqxm2AqIgnwkFvZNn4uczGK3Hah7wpet98UZ85R8aKScIcXYEWpMLkx8fvleHpNjlAWtTsakQa0pVKGcJQqMGUqCHBvfdjp/gTP6xwFzg85PdyaH2J4SUowKiw3889e4KBACnT582W5uKTV2uusAdUFlgzBcFQoFGDT35HwW+82mhqaenxwwA4WtYfRNnUkMZUqsJpEkn8cXU5yktYw2JjsTCMQDwer0ekt6GhgZPUVGRd3fu7qjqdU9Mj7mlpcVD0tvS0uKxWCyVANB5rS3x8s3BFEUFgTTLtuZndQHLBMSfB6pyZtfqMDQ3NzfqTcJisficTqc3BI+8bxh9L8corarM3fnDoIT+rACAU/7m7MOfHbCEwQDQ2Njo6erqinqTOHfuXNjjiI23+ystZ8c7smmkWgVJcN++fRARfLDhlacEUqVEQ1nm77xPrHjSh/+Djo3WmN/s/6OHEOgIPr2h63tVuq5Dud1ukETWoK3zorkzTiiONn/TKlNM4lj24m+Pf13o2wOVHqGA5MsAXjKPrDaqnMvlQnjTzhy0Nlw0d5oI5p3yN62amrk+ve5B5+hXgb47WGX52+V3NgoFOvQKAGUkkTqcbZy5XC7XHYf4zEFr3aXU7jih5uidPPOtvsmzixZr8VMrHjBHddLsHj+Z9Fb/n9a1+T/JDaXey0IpEzEKkHnU8Jj79++PeEwSSimQRGP+Gz8j5DVFBVKQtjBj6JGlNt/D8Y+OpMdlTphiEqcB4tqtsVjfjUtLLkx0J/dOnjWPTg+lEARIEHwaQJVQIYggACC/qxi6rn8ZHL4XETSsf0MU1HOk/CFGYgAwskUqY5eBitRxzn7/a0V1EEBwdqkN6jPI7y4xPmHmC5unbWdQRMqP2d86qANOksU6gvmArNQRNClqABnQgYuK0krI+wCOAyH3DK/vqOXhaf3PAO7mIRjDNV25AAAAAElFTkSuQmCC');\n  bottom: 50px;\n  right: 15px;\n}\n");var AG=function(){function t(e,i){var n=this;em(this,t),this.body=e,this.canvas=i,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",(function(){n.activated=!0,n.configureKeyboardBindings()})),this.body.emitter.on("deactivate",(function(){n.activated=!1,n.configureKeyboardBindings()})),this.body.emitter.on("destroy",(function(){void 0!==n.keycharm&&n.keycharm.destroy()})),this.options={}}return gx(t,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var n=0;n<e.length;n++){this.navigationDOM[e[n]]=document.createElement("div"),this.navigationDOM[e[n]].className="vis-button vis-"+e[n],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[n]]);var r,o,s=new P_(this.navigationDOM[e[n]]);oG(s,"_fit"===i[n]?Pd(r=this._fit).call(r,this):Pd(o=this.bindToRedraw).call(o,this,i[n])),this.navigationHammers.push(s)}var a=new P_(this.canvas.frame);sG(a,(function(){t._stopMovement()})),this.navigationHammers.push(a),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){var e;void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=Pd(e=this[t]).call(e,this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale,e=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=e/t,r=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,o=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=e,this.body.view.translation={x:r,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale,e=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=e/t,r=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,o=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=e,this.body.view.translation={x:r,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t,e,i,n,r,o,s,a,g,l,A,C,I,h,c,d,u,f,p,v,m,y,b,w,x=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(!0===this.options.keyboard.bindToWindow?this.keycharm=lG({container:window,preventDefault:!0}):this.keycharm=lG({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(Pd(t=this.keycharm).call(t,"up",(function(){x.bindToRedraw("_moveUp")}),"keydown"),Pd(e=this.keycharm).call(e,"down",(function(){x.bindToRedraw("_moveDown")}),"keydown"),Pd(i=this.keycharm).call(i,"left",(function(){x.bindToRedraw("_moveLeft")}),"keydown"),Pd(n=this.keycharm).call(n,"right",(function(){x.bindToRedraw("_moveRight")}),"keydown"),Pd(r=this.keycharm).call(r,"=",(function(){x.bindToRedraw("_zoomIn")}),"keydown"),Pd(o=this.keycharm).call(o,"num+",(function(){x.bindToRedraw("_zoomIn")}),"keydown"),Pd(s=this.keycharm).call(s,"num-",(function(){x.bindToRedraw("_zoomOut")}),"keydown"),Pd(a=this.keycharm).call(a,"-",(function(){x.bindToRedraw("_zoomOut")}),"keydown"),Pd(g=this.keycharm).call(g,"[",(function(){x.bindToRedraw("_zoomOut")}),"keydown"),Pd(l=this.keycharm).call(l,"]",(function(){x.bindToRedraw("_zoomIn")}),"keydown"),Pd(A=this.keycharm).call(A,"pageup",(function(){x.bindToRedraw("_zoomIn")}),"keydown"),Pd(C=this.keycharm).call(C,"pagedown",(function(){x.bindToRedraw("_zoomOut")}),"keydown"),Pd(I=this.keycharm).call(I,"up",(function(){x.unbindFromRedraw("_moveUp")}),"keyup"),Pd(h=this.keycharm).call(h,"down",(function(){x.unbindFromRedraw("_moveDown")}),"keyup"),Pd(c=this.keycharm).call(c,"left",(function(){x.unbindFromRedraw("_moveLeft")}),"keyup"),Pd(d=this.keycharm).call(d,"right",(function(){x.unbindFromRedraw("_moveRight")}),"keyup"),Pd(u=this.keycharm).call(u,"=",(function(){x.unbindFromRedraw("_zoomIn")}),"keyup"),Pd(f=this.keycharm).call(f,"num+",(function(){x.unbindFromRedraw("_zoomIn")}),"keyup"),Pd(p=this.keycharm).call(p,"num-",(function(){x.unbindFromRedraw("_zoomOut")}),"keyup"),Pd(v=this.keycharm).call(v,"-",(function(){x.unbindFromRedraw("_zoomOut")}),"keyup"),Pd(m=this.keycharm).call(m,"[",(function(){x.unbindFromRedraw("_zoomOut")}),"keyup"),Pd(y=this.keycharm).call(y,"]",(function(){x.unbindFromRedraw("_zoomIn")}),"keyup"),Pd(b=this.keycharm).call(b,"pageup",(function(){x.unbindFromRedraw("_zoomIn")}),"keyup"),Pd(w=this.keycharm).call(w,"pagedown",(function(){x.unbindFromRedraw("_zoomOut")}),"keyup")))}}]),t}();function CG(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var IG=function(){function t(e,i,n){var r,o,s,a,g,l,A,C,I,h,c,d,u;em(this,t),this.body=e,this.canvas=i,this.selectionHandler=n,this.navigationHandler=new AG(e,i),this.body.eventListeners.onTap=Pd(r=this.onTap).call(r,this),this.body.eventListeners.onTouch=Pd(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=Pd(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=Pd(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=Pd(g=this.onDragStart).call(g,this),this.body.eventListeners.onDrag=Pd(l=this.onDrag).call(l,this),this.body.eventListeners.onDragEnd=Pd(A=this.onDragEnd).call(A,this),this.body.eventListeners.onMouseWheel=Pd(C=this.onMouseWheel).call(C,this),this.body.eventListeners.onPinch=Pd(I=this.onPinch).call(I,this),this.body.eventListeners.onMouseMove=Pd(h=this.onMouseMove).call(h,this),this.body.eventListeners.onRelease=Pd(c=this.onRelease).call(c,this),this.body.eventListeners.onContext=Pd(d=this.onContext).call(d,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=Pd(u=this.getPointer).call(u,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},hd(this.options,this.defaultOptions),this.bindEventListeners()}return gx(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",(function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer}))}},{key:"setOptions",value:function(t){void 0!==t&&(o_(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),m_(this.options,t,"keyboard"),t.tooltip&&(hd(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=h_(t.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-(e=this.canvas.frame.canvas,e.getBoundingClientRect().left),y:t.y-g_(this.canvas.frame.canvas)};var e}},{key:"onTouch",value:function(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,i),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,i),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e),this.selectionHandler.generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if((new Date).valueOf()-this.touchTime>10){var e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler.generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t){!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t)}},{key:"_determineDifference",value:function(t,e){var i=function(t,e){for(var i=[],n=0;n<t.length;n++){var r=t[n];-1===wS(e).call(e,r)&&i.push(r)}return i};return{nodes:i(t.nodes,e.nodes),edges:i(t.edges,e.edges)}}},{key:"onDragStart",value:function(t){if(!this.drag.dragging){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=hd({},this.body.view.translation),this.drag.nodeId=void 0,t.srcEvent.shiftKey){this.body.selectionBox.show=!0;var i=this.getPointer(t.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)}}else if(void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&this.selectionHandler.setSelection({nodes:[e.id]}),this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer);var n,r=function(t,e){var i=void 0!==Jx&&tm(t)||t["@@iterator"];if(!i){if(Ik(t)||(i=function(t,e){var i;if(t){if("string"==typeof t)return CG(t,e);var n=rk(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Pv(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?CG(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw o}}}}(this.selectionHandler.getSelectedNodes());try{for(r.s();!(n=r.n()).done;){var o=n.value,s={id:o.id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y};o.options.fixed.x=!0,o.options.fixed.y=!0,this.drag.selection.push(s)}}catch(t){r.e(t)}finally{r.f()}}else this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(t){var e=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var i=this.getPointer(t.center),n=this.drag.selection;if(n&&n.length&&!0===this.options.dragNodes){this.selectionHandler.generateClickEvent("dragging",t,i);var r=i.x-this.drag.pointer.x,o=i.y-this.drag.pointer.y;Bk(n).call(n,(function(t){var i=t.node;!1===t.xFixed&&(i.x=e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(t.x)+r)),!1===t.yFixed&&(i.y=e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(t.y)+o))})),this.body.emitter.emit("startSimulation")}else{if(t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.emitter.emit("_requestRedraw")}if(!0===this.options.dragView&&!t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);var s=i.x-this.drag.pointer.x,a=i.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+s,y:this.drag.translation.y+a},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(t){var e=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var i;this.body.selectionBox.show=!1;var n=this.body.selectionBox.position,r={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},o=ZE(i=this.body.nodeIndices).call(i,(function(t){var i=e.body.nodes[t];return i.x>=r.minX&&i.x<=r.maxX&&i.y>=r.minY&&i.y<=r.maxY}));Bk(o).call(o,(function(t){return e.selectionHandler.selectObject(e.body.nodes[t])}));var s=this.getPointer(t.center);this.selectionHandler.commitAndEmit(s,t),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var a=this.drag.selection;a&&a.length?(Bk(a).call(a,(function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed})),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var i=this.pinch.scale*t.scale;this.zoom(i,e)}},{key:"zoom",value:function(t,e){if(!0===this.options.zoomView){var i=this.body.view.scale;t<1e-5&&(t=1e-5),t>10&&(t=10);var n=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));var r=this.body.view.translation,o=t/i,s=(1-o)*e.x+r.x*o,a=(1-o)*e.y+r.y*o;if(this.body.view.scale=t,this.body.view.translation={x:s,y:a},null!=n){var g=this.canvas.canvasToDOM(n);this.drag.pointer.x=g.x,this.drag.pointer.y=g.y}this.body.emitter.emit("_requestRedraw"),i<t?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:e}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:e})}}},{key:"onMouseWheel",value:function(t){if(!0===this.options.zoomView){if(0!==t.deltaY){var e=this.body.view.scale;e*=1+(t.deltaY<0?1:-1)*(.1*this.options.zoomSpeed);var i=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(e,i)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var e=this,i=this.getPointer({x:t.clientX,y:t.clientY}),n=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(i),!1===this.popup.hidden&&(n=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),this.options.keyboard.autoFocus&&!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===n&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=XS((function(){return e._checkShowPopup(i)}),this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,i)}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),n={left:e,top:i,right:e,bottom:i},r=void 0===this.popupObj?void 0:this.popupObj.id,o=!1,s="node";if(void 0===this.popupObj){for(var a,g=this.body.nodeIndices,l=this.body.nodes,A=[],C=0;C<g.length;C++)!0===(a=l[g[C]]).isOverlappingWith(n)&&(o=!0,void 0!==a.getTitle()&&A.push(g[C]));A.length>0&&(this.popupObj=l[A[A.length-1]],o=!0)}if(void 0===this.popupObj&&!1===o){for(var I,h=this.body.edgeIndices,c=this.body.edges,d=[],u=0;u<h.length;u++)!0===(I=c[h[u]]).isOverlappingWith(n)&&!0===I.connected&&void 0!==I.getTitle()&&d.push(h[u]);d.length>0&&(this.popupObj=c[d[d.length-1]],s="edge")}void 0!==this.popupObj?this.popupObj.id!==r&&(void 0===this.popup&&(this.popup=new M_(this.canvas.frame)),this.popup.popupTargetType=s,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e))){var n=this.selectionHandler.getNodeAt(t);i=void 0!==n&&n.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}(),hG=dC,cG=yN,dG=FR.getWeakData,uG=iN,fG=$h,pG=UC,vG=$C,mG=$R,yG=QI,bG=Du.set,wG=Du.getterFor,xG=yy.find,kG=yy.findIndex,EG=hG([].splice),SG=0,TG=function(t){return t.frozen||(t.frozen=new OG)},OG=function(){this.entries=[]},_G=function(t,e){return xG(t.entries,(function(t){return t[0]===e}))};OG.prototype={get:function(t){var e=_G(this,t);if(e)return e[1]},has:function(t){return!!_G(this,t)},set:function(t,e){var i=_G(this,t);i?i[1]=e:this.entries.push([t,e])},delete:function(t){var e=kG(this.entries,(function(e){return e[0]===t}));return~e&&EG(this.entries,e,1),!!~e}};var RG,NG={getConstructor:function(t,e,i,n){var r=t((function(t,r){uG(t,o),bG(t,{type:e,id:SG++,frozen:void 0}),pG(r)||mG(r,t[n],{that:t,AS_ENTRIES:i})})),o=r.prototype,s=wG(e),a=function(t,e,i){var n=s(t),r=dG(fG(e),!0);return!0===r?TG(n).set(e,i):r[n.id]=i,t};return cG(o,{delete:function(t){var e=s(this);if(!vG(t))return!1;var i=dG(t);return!0===i?TG(e).delete(t):i&&yG(i,e.id)&&delete i[e.id]},has:function(t){var e=s(this);if(!vG(t))return!1;var i=dG(t);return!0===i?TG(e).has(t):i&&yG(i,e.id)}}),cG(o,i?{get:function(t){var e=s(this);if(vG(t)){var i=dG(t);return!0===i?TG(e).get(t):i?i[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),r}},DG=wR,PG=nC,MG=dC,jG=yN,LG=FR,BG=vN,FG=NG,zG=$C,VG=Du.enforce,GG=rC,WG=uu,UG=Object,ZG=Array.isArray,HG=UG.isExtensible,YG=UG.isFrozen,KG=UG.isSealed,XG=UG.freeze,QG=UG.seal,qG={},JG={},$G=!PG.ActiveXObject&&"ActiveXObject"in PG,tW=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},eW=BG("WeakMap",tW,FG),iW=eW.prototype,nW=MG(iW.set);if(WG)if($G){RG=FG.getConstructor(tW,"WeakMap",!0),LG.enable();var rW=MG(iW.delete),oW=MG(iW.has),sW=MG(iW.get);jG(iW,{delete:function(t){if(zG(t)&&!HG(t)){var e=VG(this);return e.frozen||(e.frozen=new RG),rW(this,t)||e.frozen.delete(t)}return rW(this,t)},has:function(t){if(zG(t)&&!HG(t)){var e=VG(this);return e.frozen||(e.frozen=new RG),oW(this,t)||e.frozen.has(t)}return oW(this,t)},get:function(t){if(zG(t)&&!HG(t)){var e=VG(this);return e.frozen||(e.frozen=new RG),oW(this,t)?sW(this,t):e.frozen.get(t)}return sW(this,t)},set:function(t,e){if(zG(t)&&!HG(t)){var i=VG(this);i.frozen||(i.frozen=new RG),oW(this,t)?nW(this,t,e):i.frozen.set(t,e)}else nW(this,t,e);return this}})}else DG&&GG((function(){var t=XG([]);return nW(new eW,t,1),!YG(t)}))&&jG(iW,{set:function(t,e){var i;return ZG(t)&&(YG(t)?i=qG:KG(t)&&(i=JG)),nW(this,t,e),i===qG&&XG(t),i===JG&&QG(t),this}});var aW,gW,lW,AW,CW,IW=eC(tI.WeakMap);function hW(t,e,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(t):n?n.value:e.get(t)}function cW(t,e,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(t,i):r?r.value=i:e.set(t,i),i}function dW(t,e){var i=void 0!==Jx&&tm(t)||t["@@iterator"];if(!i){if(Ik(t)||(i=function(t,e){var i;if(t){if("string"==typeof t)return uW(t,e);var n=rk(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Pv(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uW(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw o}}}}function uW(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function fW(t,e){var i,n=new YL,r=dW(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;t.has(o)||n.add(o)}}catch(t){r.e(t)}finally{r.f()}return n}"function"==typeof SuppressedError&&SuppressedError;var pW=function(){function t(){em(this,t),aW.set(this,new YL),gW.set(this,new YL)}return gx(t,[{key:"size",get:function(){return hW(this,gW,"f").size}},{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var n=0,r=e;n<r.length;n++){var o=r[n];hW(this,gW,"f").add(o)}}},{key:"delete",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var n=0,r=e;n<r.length;n++){var o=r[n];hW(this,gW,"f").delete(o)}}},{key:"clear",value:function(){hW(this,gW,"f").clear()}},{key:"getSelection",value:function(){return qx(hW(this,gW,"f"))}},{key:"getChanges",value:function(){return{added:qx(fW(hW(this,aW,"f"),hW(this,gW,"f"))),deleted:qx(fW(hW(this,gW,"f"),hW(this,aW,"f"))),previous:qx(new YL(hW(this,aW,"f"))),current:qx(new YL(hW(this,gW,"f")))}}},{key:"commit",value:function(){var t=this.getChanges();cW(this,aW,hW(this,gW,"f"),"f"),cW(this,gW,new YL(hW(this,aW,"f")),"f");var e,i=dW(t.added);try{for(i.s();!(e=i.n()).done;)e.value.select()}catch(t){i.e(t)}finally{i.f()}var n,r=dW(t.deleted);try{for(r.s();!(n=r.n()).done;)n.value.unselect()}catch(t){r.e(t)}finally{r.f()}return t}}]),t}();aW=new IW,gW=new IW;var vW=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};em(this,t),lW.set(this,new pW),AW.set(this,new pW),CW.set(this,void 0),cW(this,CW,e,"f")}return gx(t,[{key:"sizeNodes",get:function(){return hW(this,lW,"f").size}},{key:"sizeEdges",get:function(){return hW(this,AW,"f").size}},{key:"getNodes",value:function(){return hW(this,lW,"f").getSelection()}},{key:"getEdges",value:function(){return hW(this,AW,"f").getSelection()}},{key:"addNodes",value:function(){var t;(t=hW(this,lW,"f")).add.apply(t,arguments)}},{key:"addEdges",value:function(){var t;(t=hW(this,AW,"f")).add.apply(t,arguments)}},{key:"deleteNodes",value:function(t){hW(this,lW,"f").delete(t)}},{key:"deleteEdges",value:function(t){hW(this,AW,"f").delete(t)}},{key:"clear",value:function(){hW(this,lW,"f").clear(),hW(this,AW,"f").clear()}},{key:"commit",value:function(){for(var t,e,i={nodes:hW(this,lW,"f").commit(),edges:hW(this,AW,"f").commit()},n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=hW(this,CW,"f")).call.apply(t,nk(e=[this,i]).call(e,r)),i}}]),t}();function mW(t,e){var i=void 0!==Jx&&tm(t)||t["@@iterator"];if(!i){if(Ik(t)||(i=function(t,e){var i;if(t){if("string"==typeof t)return yW(t,e);var n=rk(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Pv(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yW(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw o}}}}function yW(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}lW=new IW,AW=new IW,CW=new IW;var bW=function(){function t(e,i){var n=this;em(this,t),this.body=e,this.canvas=i,this._selectionAccumulator=new vW,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},hd(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",(function(){n.updateSelection()}))}return gx(t,[{key:"setOptions",value:function(t){void 0!==t&&r_(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}},{key:"selectOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(e=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&(e=!0,!0===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_initBaseEvent",value:function(t,e){var i={};return i.pointer={DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},i.event=t,i}},{key:"generateClickEvent",value:function(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this._initBaseEvent(e,i);if(!0===r)o.nodes=[],o.edges=[];else{var s=this.getSelection();o.nodes=s.nodes,o.edges=s.edges}void 0!==n&&(o.previousSelection=n),"click"==t&&(o.items=this.getClickedItems(i)),void 0!==e.controlEdge&&(o.controlEdge=e.controlEdge),this.body.emitter.emit(t,o)}},{key:"selectObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;if(void 0!==t){var i;if(t instanceof tV)!0===e&&(i=this._selectionAccumulator).addEdges.apply(i,qx(t.edges)),this._selectionAccumulator.addNodes(t);else this._selectionAccumulator.addEdges(t);return!0}return!1}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],i=this.body.nodes,n=0;n<this.body.nodeIndices.length;n++){var r=this.body.nodeIndices[n];i[r].isOverlappingWith(t)&&e.push(r)}return e}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._pointerToPositionObject(t),n=this._getAllNodesOverlappingWith(i);return n.length>0?!0===e?this.body.nodes[n[n.length-1]]:n[n.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var i=this.body.edges,n=0;n<this.body.edgeIndices.length;n++){var r=this.body.edgeIndices[n];i[r].isOverlappingWith(t)&&e.push(r)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.canvas.DOMtoCanvas(t),n=10,r=null,o=this.body.edges,s=0;s<this.body.edgeIndices.length;s++){var a=this.body.edgeIndices[s],g=o[a];if(g.connected){var l=g.from.x,A=g.from.y,C=g.to.x,I=g.to.y,h=g.edgeType.getDistanceToEdge(l,A,C,I,i.x,i.y);h<n&&(r=a,n=h)}}return null!==r?!0===e?this.body.edges[r]:r:void 0}},{key:"_addToHover",value:function(t){t instanceof tV?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){var e;t instanceof tV?(this._selectionAccumulator.deleteNodes(t),(e=this._selectionAccumulator).deleteEdges.apply(e,qx(t.edges))):this._selectionAccumulator.deleteEdges(t)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.hover=!0,this._addToHover(i)}}},{key:"emitBlurEvent",value:function(t,e,i){var n=this._initBaseEvent(t,e);!0===i.hover&&(i.hover=!1,i instanceof tV?(n.node=i.id,this.body.emitter.emit("blurNode",n)):(n.edge=i.id,this.body.emitter.emit("blurEdge",n)))}},{key:"emitHoverEvent",value:function(t,e,i){var n=this._initBaseEvent(t,e),r=!1;return!1===i.hover&&(i.hover=!0,this._addToHover(i),r=!0,i instanceof tV?(n.node=i.id,this.body.emitter.emit("hoverNode",n)):(n.edge=i.id,this.body.emitter.emit("hoverEdge",n))),r}},{key:"hoverObject",value:function(t,e){var i=this.getNodeAt(e);void 0===i&&(i=this.getEdgeAt(e));var n=!1;for(var r in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,r)&&(void 0===i||i instanceof tV&&i.id!=r||i instanceof WV)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[r]),delete this.hoverObj.nodes[r],n=!0);for(var o in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,o)&&(!0===n?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(void 0===i||i instanceof WV&&i.id!=o||i instanceof tV&&!i.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],n=!0));if(void 0!==i){var s=yk(this.hoverObj.edges).length,a=yk(this.hoverObj.nodes).length;(n||i instanceof WV&&0===s&&0===a||i instanceof tV&&0===s&&0===a)&&(n=this.emitHoverEvent(t,e,i)),i instanceof tV&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(i)}!0===n&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(t,e){var i=!1,n=this._selectionAccumulator.commit(),r={nodes:n.nodes.previous,edges:n.edges.previous};n.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",e,t,r),i=!0),n.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",e,t,r),i=!0),n.nodes.added.length>0&&(this.generateClickEvent("selectNode",e,t),i=!0),n.edges.added.length>0&&(this.generateClickEvent("selectEdge",e,t),i=!0),!0===i&&this.generateClickEvent("select",e,t)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var t;return pk(t=this._selectionAccumulator.getNodes()).call(t,(function(t){return t.id}))}},{key:"getSelectedEdgeIds",value:function(){var t;return pk(t=this._selectionAccumulator.getEdges()).call(t,(function(t){return t.id}))}},{key:"setSelection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!t.nodes&&!t.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes){var i,n=mW(t.nodes);try{for(n.s();!(i=n.n()).done;){var r=i.value,o=this.body.nodes[r];if(!o)throw new RangeError('Node with id "'+r+'" not found');this.selectObject(o,e.highlightEdges)}}catch(t){n.e(t)}finally{n.f()}}if(t.edges){var s,a=mW(t.edges);try{for(a.s();!(s=a.n()).done;){var g=s.value,l=this.body.edges[g];if(!l)throw new RangeError('Edge with id "'+g+'" not found');this.selectObject(l)}}catch(t){a.e(t)}finally{a.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,t.id)||this._selectionAccumulator.deleteNodes(t);for(var e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}},{key:"getClickedItems",value:function(t){for(var e=this.canvas.DOMtoCanvas(t),i=[],n=this.body.nodeIndices,r=this.body.nodes,o=n.length-1;o>=0;o--){var s=r[n[o]].getItemsOnPoint(e);i.push.apply(i,s)}for(var a=this.body.edgeIndices,g=this.body.edges,l=a.length-1;l>=0;l--){var A=g[a[l]].getItemsOnPoint(e);i.push.apply(i,A)}return i}}]),t}();function wW(t){var e=function(){if("undefined"==typeof Reflect||!pF)return!1;if(pF.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pF(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=AD(t);if(e){var r=AD(this).constructor;i=pF(n,arguments,r)}else i=n.apply(this,arguments);return aD(this,i)}}var xW=function(){function t(){em(this,t)}return gx(t,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(t){return this.fake_use(t),this.abstract()}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,e,i),this.abstract()}},{key:"getTreeSize",value:function(t){return this.fake_use(t),this.abstract()}},{key:"sort",value:function(t){this.fake_use(t),this.abstract()}},{key:"fix",value:function(t,e){this.fake_use(t,e),this.abstract()}},{key:"shift",value:function(t,e){this.fake_use(t,e),this.abstract()}}]),t}(),kW=function(t){sD(i,t);var e=wW(i);function i(t){var n;return em(this,i),(n=e.call(this)).layout=t,n}return gx(i,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(t){return t.x}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.x=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}},{key:"sort",value:function(t){NB(t).call(t,(function(t,e){return t.x-e.x}))}},{key:"fix",value:function(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].x+=e}}]),i}(xW),EW=function(t){sD(i,t);var e=wW(i);function i(t){var n;return em(this,i),(n=e.call(this)).layout=t,n}return gx(i,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(t){return t.y}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.y=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}},{key:"sort",value:function(t){NB(t).call(t,(function(t,e){return t.y-e.y}))}},{key:"fix",value:function(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].y+=e}}]),i}(xW),SW=yy.every;kc({target:"Array",proto:!0,forced:!Sk("every")},{every:function(t){return SW(this,t,arguments.length>1?arguments[1]:void 0)}});var TW=Td("Array").every,OW=sI,_W=TW,RW=Array.prototype,NW=eC((function(t){var e=t.every;return t===RW||OW(RW,t)&&e===RW.every?_W:e}));function DW(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function PW(t,e){var i=new YL;return Bk(t).call(t,(function(t){var e;Bk(e=t.edges).call(e,(function(t){t.connected&&i.add(t)}))})),Bk(i).call(i,(function(t){var i=t.from.id,n=t.to.id;null==e[i]&&(e[i]=0),(null==e[n]||e[i]>=e[n])&&(e[n]=e[i]+1)})),e}function MW(t,e,i,n){var r,o,s=ES(null),a=jL(r=qx(KB(n).call(n))).call(r,(function(t,e){return t+1+e.edges.length}),0),g=i+"Id",l="to"===i?1:-1,A=function(t,e){var i=void 0!==Jx&&tm(t)||t["@@iterator"];if(!i){if(Ik(t)||(i=function(t,e){var i;if(t){if("string"==typeof t)return DW(t,e);var n=rk(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Pv(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DW(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw o}}}}(n);try{var C,I=function(){var r=Qx(o.value,2),A=r[0],C=r[1];if(!n.has(A)||!t(C))return 0;s[A]=0;for(var I,h,c=[C],d=0,u=function(){var t,r;if(!n.has(A))return 0;var o=s[I.id]+l;if(Bk(t=ZE(r=I.edges).call(r,(function(t){return t.connected&&t.to!==t.from&&t[i]!==I&&n.has(t.toId)&&n.has(t.fromId)}))).call(t,(function(t){var n=t[g],r=s[n];(null==r||e(o,r))&&(s[n]=o,c.push(t[i]))})),d>a)return{v:{v:PW(n,s)}};++d};I=c.pop();)if(0!==(h=u())&&h)return h.v};for(A.s();!(o=A.n()).done;)if(0!==(C=I())&&C)return C.v}catch(t){A.e(t)}finally{A.f()}return s}var jW=function(){function t(){em(this,t),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return gx(t,[{key:"addRelation",value:function(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(this.parentReference[t].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(t,e){void 0!==e&&void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=Math.max(e,this.treeIndex))}},{key:"ensureLevel",value:function(t){void 0===this.levels[t]&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(t){var e=this,i={};return function t(n){if(void 0!==i[n])return i[n];var r=e.levels[n];if(e.childrenReference[n]){var o=e.childrenReference[n];if(o.length>0)for(var s=0;s<o.length;s++)r=Math.max(r,t(o[s]))}return i[n]=r,r}(t)}},{key:"levelDownstream",value:function(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var e=1e9;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&void 0!==this.levels[i]&&(e=Math.min(this.levels[i],e));for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&void 0!==this.levels[n]&&(this.levels[n]-=e)}},{key:"getTreeSize",value:function(t,e){var i=1e9,n=-1e9,r=1e9,o=-1e9;for(var s in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,s)&&this.trees[s]===e){var a=t[s];i=Math.min(a.x,i),n=Math.max(a.x,n),r=Math.min(a.y,r),o=Math.max(a.y,o)}return{min_x:i,max_x:n,min_y:r,max_y:o}}},{key:"hasSameParent",value:function(t,e){var i=this.parentReference[t.id],n=this.parentReference[e.id];if(void 0===i||void 0===n)return!1;for(var r=0;r<i.length;r++)for(var o=0;o<n.length;o++)if(i[r]==n[o])return!0;return!1}},{key:"inSameSubNetwork",value:function(t,e){return this.trees[t.id]===this.trees[e.id]}},{key:"getLevels",value:function(){return yk(this.distributionOrdering)}},{key:"addToOrdering",value:function(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);var i=!1,n=this.distributionOrdering[e];for(var r in n)if(n[r]===t){i=!0;break}i||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}]),t}(),LW=function(){function t(e){em(this,t),this.body=e,this._resetRNG(Math.random()+":"+kk()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},hd(this.options,this.defaultOptions),this.bindEventListeners()}return gx(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",(function(){t.setupHierarchicalLayout()})),this.body.emitter.on("_dataLoaded",(function(){t.layoutNetwork()})),this.body.emitter.on("_resetHierarchicalLayout",(function(){t.setupHierarchicalLayout()})),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",(function(){if(!0===t.options.hierarchical.enabled){var e=t.direction.curveType();t.body.emitter.emit("_forceDisableDynamicCurves",e,!1)}}))}},{key:"setOptions",value:function(t,e){if(void 0!==t){var i=this.options.hierarchical,n=i.enabled;if(r_(["randomSeed","improvedLayout","clusterThreshold"],this.options,t),m_(this.options,t,"hierarchical"),void 0!==t.randomSeed&&this._resetRNG(t.randomSeed),!0===i.enabled)return!0===n&&this.body.emitter.emit("refresh",!0),"RL"===i.direction||"DU"===i.direction?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===n)return this.body.emitter.emit("refresh"),s_(e,this.optionsBackup)}return e}},{key:"_resetRNG",value:function(t){this.initialRandomSeed=t,this._rng=HO(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(!0===this.options.hierarchical.enabled){var e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"===rx(t.physics)?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var i=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:i};else{var n=t.edges.smooth;void 0!==n.type&&"dynamic"!==n.type&&(i=n.type),this.optionsBackup.edges={smooth:{enabled:void 0===n.enabled||n.enabled,type:void 0===n.type?"dynamic":n.type,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection}},t.edges.smooth={enabled:void 0===n.enabled||n.enabled,type:i,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return t}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this._resetRNG(this.initialRandomSeed);for(var e=t.length+50,i=0;i<t.length;i++){var n=t[i],r=2*Math.PI*this._rng();void 0===n.x&&(n.x=e*Math.cos(r)),void 0===n.y&&(n.y=e*Math.sin(r))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=this.body.nodeIndices,e=0,i=0;i<t.length;i++)!0===this.body.nodes[t[i]].predefinedPosition&&(e+=1);if(e<.5*t.length){var n=0,r=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>r){for(var s=t.length;t.length>r&&n<=10;){n+=1;var a=t.length;if(n%3==0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o),a==t.length&&n%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*s)})}n>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(var g=0;g<t.length;g++){var l=this.body.nodes[t[g]];!1===l.predefinedPosition&&(l.x+=70*(.5-this._rng()),l.y+=70*(.5-this._rng()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=tG.getRangeCore(this.body.nodes,this.body.nodeIndices),e=tG.findCenter(t),i=0;i<this.body.nodeIndices.length;i++){var n=this.body.nodes[this.body.nodeIndices[i]];n.x-=e.x,n.y-=e.y}}},{key:"_declusterAll",value:function(){for(var t=!0;!0===t;){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var t,e,i=!1,n=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new jW,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&(void 0!==(t=this.body.nodes[e]).options.level?(i=!0,this.hierarchical.levels[e]=t.options.level):n=!0);if(!0===n&&!0===i)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===n){var r=this.options.hierarchical.sortMethod;"hubsize"===r?this._determineLevelsByHubsize():"directed"===r?this._determineLevelsDirected():"custom"===r&&this._determineLevelsCustomCallback()}for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);var s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,e=!1,i={},n=function(e,i){var n=t.hierarchical.trees;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&n[r]===e&&t.direction.shift(r,i)},r=function e(i,n){if(!n[i.id]&&(n[i.id]=!0,t.hierarchical.childrenReference[i.id])){var r=t.hierarchical.childrenReference[i.id];if(r.length>0)for(var o=0;o<r.length;o++)e(t.body.nodes[r[o]],n)}},o=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,n=1e9,r=1e9,o=1e9,s=-1e9;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var g=t.body.nodes[a],l=t.hierarchical.levels[g.id],A=t.direction.getPosition(g),C=Qx(t._getSpaceAroundNode(g,e),2),I=C[0],h=C[1];n=Math.min(I,n),r=Math.min(h,r),l<=i&&(o=Math.min(A,o),s=Math.max(A,s))}return[o,s,n,r]},s=function(e,i,n){for(var r=t.hierarchical,o=0;o<i.length;o++){var s=i[o],a=r.distributionOrdering[s];if(a.length>1)for(var g=0;g<a.length-1;g++){var l=a[g],A=a[g+1];r.hasSameParent(l,A)&&r.inSameSubNetwork(l,A)&&e(l,A,n)}}},a=function(i,n){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.direction.getPosition(i),g=t.direction.getPosition(n),l=Math.abs(g-a),A=t.options.hierarchical.nodeSpacing;if(l>A){var C={},I={};r(i,C),r(n,I);var h=function(e,i){var n=t.hierarchical.getMaxLevel(e.id),r=t.hierarchical.getMaxLevel(i.id);return Math.min(n,r)}(i,n),c=o(C,h),d=o(I,h),u=c[1],f=d[0],p=d[2];if(Math.abs(u-f)>A){var v=u-f+A;v<-p+A&&(v=-p+A),v<0&&(t._shiftBlock(n.id,v),e=!0,!0===s&&t._centerParent(n))}}},g=function(n,s){for(var a=s.id,g=s.edges,l=t.hierarchical.levels[s.id],A=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,C={},I=[],h=0;h<g.length;h++){var c=g[h];if(c.toId!=c.fromId){var d=c.toId==a?c.from:c.to;C[g[h].id]=d,t.hierarchical.levels[d.id]<l&&I.push(c)}}var u=function(e,i){for(var n=0,r=0;r<i.length;r++)if(void 0!==C[i[r].id]){var o=t.direction.getPosition(C[i[r].id])-e;n+=o/Math.sqrt(o*o+A)}return n},f=function(e,i){for(var n=0,r=0;r<i.length;r++)if(void 0!==C[i[r].id]){var o=t.direction.getPosition(C[i[r].id])-e;n-=A*Math.pow(o*o+A,-1.5)}return n},p=function(e,i){for(var n=t.direction.getPosition(s),r={},o=0;o<e;o++){var a=u(n,i),g=f(n,i);if(void 0!==r[n-=Math.max(-40,Math.min(40,Math.round(a/g)))])break;r[n]=o}return n},v=p(n,I);!function(n){var a=t.direction.getPosition(s);if(void 0===i[s.id]){var g={};r(s,g),i[s.id]=g}var l=o(i[s.id]),A=l[2],C=l[3],I=n-a,h=0;I>0?h=Math.min(I,C-t.options.hierarchical.nodeSpacing):I<0&&(h=-Math.min(-I,A-t.options.hierarchical.nodeSpacing)),0!=h&&(t._shiftBlock(s.id,h),e=!0)}(v),function(i){var n=t.direction.getPosition(s),r=Qx(t._getSpaceAroundNode(s),2),o=r[0],a=r[1],g=i-n,l=n;g>0?l=Math.min(n+(a-t.options.hierarchical.nodeSpacing),i):g<0&&(l=Math.max(n-(o-t.options.hierarchical.nodeSpacing),i)),l!==n&&(t.direction.setPosition(s,l),e=!0)}(v=p(n,g))};!0===this.options.hierarchical.blockShifting&&(function(){var i=t.hierarchical.getLevels();i=Kk(i).call(i);for(var n=0;n<5&&(e=!1,s(a,i,!0),!0===e);n++);}(),function(){for(var e in t.body.nodes)Object.prototype.hasOwnProperty.call(t.body.nodes,e)&&t._centerParent(t.body.nodes[e])}()),!0===this.options.hierarchical.edgeMinimization&&function(){var i=t.hierarchical.getLevels();i=Kk(i).call(i);for(var n=0;n<20;n++){e=!1;for(var r=0;r<i.length;r++)for(var o=i[r],s=t.hierarchical.distributionOrdering[o],a=0;a<s.length;a++)g(1e3,s[a]);if(!0!==e)break}}(),!0===this.options.hierarchical.parentCentralization&&function(){var e=t.hierarchical.getLevels();e=Kk(e).call(e);for(var i=0;i<e.length;i++)for(var n=e[i],r=t.hierarchical.distributionOrdering[n],o=0;o<r.length;o++)t._centerParent(r[o])}(),function(){for(var e=function(){for(var e=[],i=0;i<t.hierarchical.numTrees();i++)e.push(t.direction.getTreeSize(i));return e}(),i=0,r=0;r<e.length-1;r++)i+=e[r].max-e[r+1].min+t.options.hierarchical.treeSpacing,n(r+1,i)}()}},{key:"_getSpaceAroundNode",value:function(t,e){var i=!0;void 0===e&&(i=!1);var n=this.hierarchical.levels[t.id];if(void 0!==n){var r=this.hierarchical.distributionIndex[t.id],o=this.direction.getPosition(t),s=this.hierarchical.distributionOrdering[n],a=1e9,g=1e9;if(0!==r){var l=s[r-1];(!0===i&&void 0===e[l.id]||!1===i)&&(a=o-this.direction.getPosition(l))}if(r!=s.length-1){var A=s[r+1];if(!0===i&&void 0===e[A.id]||!1===i){var C=this.direction.getPosition(A);g=Math.min(g,C-o)}}return[a,g]}return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var e=this.hierarchical.parentReference[t.id],i=0;i<e.length;i++){var n=e[i],r=this.body.nodes[n],o=this.hierarchical.childrenReference[n];if(void 0!==o){var s=this._getCenterPosition(o),a=this.direction.getPosition(r),g=Qx(this._getSpaceAroundNode(r),2),l=g[0],A=g[1],C=a-s;(C<0&&Math.abs(C)<A-this.options.hierarchical.nodeSpacing||C>0&&Math.abs(C)<l-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(r,s)}}}},{key:"_placeNodesByHierarchy",value:function(t){for(var e in this.positionedNodes={},t)if(Object.prototype.hasOwnProperty.call(t,e)){var i,n=yk(t[e]);n=this._indexArrayToNodes(n),NB(i=this.direction).call(i,n);for(var r=0,o=0;o<n.length;o++){var s=n[o];if(void 0===this.positionedNodes[s.id]){var a=this.options.hierarchical.nodeSpacing,g=a*r;r>0&&(g=this.direction.getPosition(n[o-1])+a),this.direction.setPosition(s,g,e),this._validatePositionAndContinue(s,e,g),r++}}}}},{key:"_placeBranchNodes",value:function(t,e){var i,n=this.hierarchical.childrenReference[t];if(void 0!==n){for(var r=[],o=0;o<n.length;o++)r.push(this.body.nodes[n[o]]);NB(i=this.direction).call(i,r);for(var s=0;s<r.length;s++){var a=r[s],g=this.hierarchical.levels[a.id];if(!(g>e&&void 0===this.positionedNodes[a.id]))return;var l,A=this.options.hierarchical.nodeSpacing;l=0===s?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(r[s-1])+A,this.direction.setPosition(a,l,g),this._validatePositionAndContinue(a,g,l)}var C=this._getCenterPosition(r);this.direction.setPosition(this.body.nodes[t],C,e)}}},{key:"_validatePositionAndContinue",value:function(t,e,i){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){var n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(i-n<this.options.hierarchical.nodeSpacing){var r=n+this.options.hierarchical.nodeSpacing-i,o=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(o.withChild,r)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}},{key:"_getDistribution",value:function(){var t,e,i={};for(t in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,t)){e=this.body.nodes[t];var n=void 0===this.hierarchical.levels[t]?0:this.hierarchical.levels[t];this.direction.fix(e,n),void 0===i[n]&&(i[n]={}),i[n][t]=e}return i}},{key:"_getActiveEdges",value:function(t){var e=this,i=[];return l_(t.edges,(function(t){var n;-1!==wS(n=e.body.edgeIndices).call(n,t.id)&&i.push(t)})),i}},{key:"_getHubSizes",value:function(){var t=this,e={};l_(this.body.nodeIndices,(function(i){var n=t.body.nodes[i],r=t._getActiveEdges(n).length;e[r]=!0}));var i=[];return l_(e,(function(t){i.push(Number(t))})),NB(i).call(i,(function(t,e){return e-t})),i}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,e=function(e,i){t.hierarchical.levelDownstream(e,i)},i=this._getHubSizes(),n=function(){var n=i[r];if(0===n)return 1;l_(t.body.nodeIndices,(function(i){var r=t.body.nodes[i];n===t._getActiveEdges(r).length&&t._crawlNetwork(e,i)}))},r=0;r<i.length&&!n();++r);}},{key:"_determineLevelsCustomCallback",value:function(){var t=this;this._crawlNetwork((function(e,i,n){var r=t.hierarchical.levels[e.id];void 0===r&&(r=t.hierarchical.levels[e.id]=1e5);var o=(tG.cloneOptions(e,"node"),tG.cloneOptions(i,"node"),void tG.cloneOptions(n,"edge"));t.hierarchical.levels[i.id]=r+o})),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var t,e=this,i=jL(t=this.body.nodeIndices).call(t,(function(t,i){return t.set(i,e.body.nodes[i]),t}),new GN);"roots"===this.options.hierarchical.shakeTowards?this.hierarchical.levels=function(t){return MW((function(e){var i,n;return NW(i=ZE(n=e.edges).call(n,(function(e){return t.has(e.toId)}))).call(i,(function(t){return t.from===e}))}),(function(t,e){return e<t}),"to",t)}(i):this.hierarchical.levels=function(t){return MW((function(e){var i,n;return NW(i=ZE(n=e.edges).call(n,(function(e){return t.has(e.toId)}))).call(i,(function(t){return t.to===e}))}),(function(t,e){return e>t}),"from",t)}(i),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var t=this;this._crawlNetwork((function(e,i){t.hierarchical.levels[i.id]>t.hierarchical.levels[e.id]&&t.hierarchical.addRelation(e.id,i.id)})),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=arguments.length>1?arguments[1]:void 0,n={},r=function i(r,o){if(void 0===n[r.id]){var s;t.hierarchical.setTreeIndex(r,o),n[r.id]=!0;for(var a=t._getActiveEdges(r),g=0;g<a.length;g++){var l=a[g];!0===l.connected&&(s=l.toId==r.id?l.from:l.to,r.id!=s.id&&(e(r,s,l),i(s,o)))}}};if(void 0===i)for(var o=0,s=0;s<this.body.nodeIndices.length;s++){var a=this.body.nodeIndices[s];void 0===n[a]&&(r(this.body.nodes[a],o),o+=1)}else{var g=this.body.nodes[i];if(void 0===g)return void console.error("Node not found:",i);r(g)}}},{key:"_shiftBlock",value:function(t,e){var i=this,n={};!function t(r){if(!n[r]){n[r]=!0,i.direction.shift(r,e);var o=i.hierarchical.childrenReference[r];if(void 0!==o)for(var s=0;s<o.length;s++)t(o[s])}}(t)}},{key:"_findCommonParent",value:function(t,e){var i=this,n={};return function t(e,n){var r=i.hierarchical.parentReference[n];if(void 0!==r)for(var o=0;o<r.length;o++){var s=r[o];e[s]=!0,t(e,s)}}(n,t),function t(e,n){var r=i.hierarchical.parentReference[n];if(void 0!==r)for(var o=0;o<r.length;o++){var s=r[o];if(void 0!==e[s])return{foundParent:s,withChild:n};var a=t(e,s);if(null!==a.foundParent)return a}return{foundParent:null,withChild:n}}(n,e)}},{key:"setDirectionStrategy",value:function(){var t="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=t?new kW(this):new EW(this)}},{key:"_getCenterPosition",value:function(t){for(var e=1e9,i=-1e9,n=0;n<t.length;n++){var r=void 0;if(void 0!==t[n].id)r=t[n];else{var o=t[n];r=this.body.nodes[o]}var s=this.direction.getPosition(r);e=Math.min(e,s),i=Math.max(i,s)}return.5*(e+i)}}]),t}();function BW(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}Vd("div.vis-network div.vis-manipulation {\n  box-sizing: content-box;\n\n  border-width: 0;\n  border-bottom: 1px;\n  border-style: solid;\n  border-color: #d6d9d8;\n  background: #ffffff; /* Old browsers */\n  background: -moz-linear-gradient(\n    top,\n    #ffffff 0%,\n    #fcfcfc 48%,\n    #fafafa 50%,\n    #fcfcfc 100%\n  ); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #ffffff),\n    color-stop(48%, #fcfcfc),\n    color-stop(50%, #fafafa),\n    color-stop(100%, #fcfcfc)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #ffffff 0%,\n    #fcfcfc 48%,\n    #fafafa 50%,\n    #fcfcfc 100%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #ffffff 0%,\n    #fcfcfc 48%,\n    #fafafa 50%,\n    #fcfcfc 100%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(\n    top,\n    #ffffff 0%,\n    #fcfcfc 48%,\n    #fafafa 50%,\n    #fcfcfc 100%\n  ); /* IE10+ */\n  background: linear-gradient(\n    to bottom,\n    #ffffff 0%,\n    #fcfcfc 48%,\n    #fafafa 50%,\n    #fcfcfc 100%\n  ); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#fcfcfc',GradientType=0 ); /* IE6-9 */\n\n  padding-top: 4px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 28px;\n}\n\ndiv.vis-network div.vis-edit-mode,\ndiv.vis-network button.vis-edit-mode {\n  position: absolute;\n  left: 0;\n  top: 5px;\n  height: 30px;\n}\n\n/* FIXME: shouldn't the vis-close button be a child of the vis-manipulation div? */\n\ndiv.vis-network button.vis-close {\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 30px;\n  height: 30px;\n\n  background-color: transparent;\n  background-position: 20px 3px;\n  background-repeat: no-repeat;\n  background-image: url('data:image/png;base64,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/GMzLdsAADvGaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDItMTRUMTE6NTU6MzUrMDE6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE0LTAyLTE0VDEyOjA1OjE3KzAxOjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wMi0xNFQxMjowNToxNyswMTowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6NjU0YmM5YmQtMWI2Yi1jYjRhLTllOWQtNWY2MzgxNDVjZjk0PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjk4MmM2MGIwLWUzZjMtMDk0MC04MjU0LTFiZTliNWE0ZTE4MzwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjk4MmM2MGIwLWUzZjMtMDk0MC04MjU0LTFiZTliNWE0ZTE4MzwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo5ODJjNjBiMC1lM2YzLTA5NDAtODI1NC0xYmU5YjVhNGUxODM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMTRUMTE6NTU6MzUrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjIxODYxNmM2LTM1MWMtNDI0OS04YWFkLWJkZDQ2ZTczNWE0NDwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0xNFQxMTo1NTozNSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NjU0YmM5YmQtMWI2Yi1jYjRhLTllOWQtNWY2MzgxNDVjZjk0PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAyLTE0VDEyOjA1OjE3KzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjc8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NzwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+cZUZMwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAA2ElEQVR42gDLADT/AS0tLUQFBQUVFxcXtPHx8fPl5eUNCAgITCkpKesEHx8fGgYGBjH+/v4a+Pj4qgQEBFU6OjodMTExzwQUFBSvEBAQEfX19SD19fVqNDQ0CElJSd/9/f2vAwEBAfrn5+fkBwcHLRYWFgsXFxfz29vbo9LS0uwDDQ0NDfPz81orKysXIyMj+ODg4Avh4eEa/f391gMkJCRYPz8/KUhISOMCAgKh8fHxHRsbGx4UFBQQBDk5OeY7Ozv7CAgItPb29vMEBASaJSUlTQ0NDesDAEwpT0Ko8Ri2AAAAAElFTkSuQmCC');\n  border: none;\n  cursor: pointer;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\ndiv.vis-network button.vis-close:hover {\n  opacity: 0.6;\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button,\ndiv.vis-network div.vis-edit-mode button.vis-button {\n  float: left;\n  font-family: verdana;\n  font-size: 12px;\n  border: none;\n  box-sizing: content-box;\n  -moz-border-radius: 15px;\n  border-radius: 15px;\n  background-color: transparent;\n  background-position: 0px 0px;\n  background-repeat: no-repeat;\n  height: 24px;\n  margin-left: 10px;\n  cursor: pointer;\n  padding: 0px 8px 0px 8px;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button:hover {\n  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.2);\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button:active {\n  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.5);\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button.vis-back {\n  background-image: url('data:image/png;base64,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/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNTowMTowOSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTU6MDE6MDkrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOmI2YjQwMjVkLTAxNjQtMzU0OC1hOTdlLTQ4ZmYxMWM3NTYzMzwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDpmOWQ3OGY4ZC1lNzY0LTc1NDgtODZiNy1iNmQ1OGMzZDg2OTc8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTU6MDE6MDkrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmI2YjQwMjVkLTAxNjQtMzU0OC1hOTdlLTQ4ZmYxMWM3NTYzMzwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNTowMTowOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOmY5ZDc4ZjhkLWU3NjQtNzU0OC04NmI3LWI2ZDU4YzNkODY5Nzwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4jq1U/AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAVTSURBVHjanFVfTFNnFP+d77ve8qeVFbBrpcVgRrCRFikFByLxwSAaE32oRCHD6JMxxhhn8G2RxxH3MsOTbyYsmCAxPMmMMYtkIUYmK60OO0qAK23BFlNob0uh3x7WS5jLZPpLbm6+k/P9zrm5v9855PF4UFhYCABgjIExBgAgIqRSqRIi6gDQRkQ1RGTB3wgR0e8AHgH4Sa/XR/EBiAiJRAJ04cIF5Ofng4g2n0gkUkxENwF0c843LzHGQEQQQkCLExEA9ALotVgsUQAQQmgNQhJCbF5kjCEUCl0moj4t5na7fTU1NUpVVVXUYrEkASAcDhe8efOmxOfzWScmJqoBdBNR99LS0hWz2dynNSSEAF28eBGFhYVgjCEcDn9HRD1EhIMHD3o9Hs9kWVlZAh9BKBQqGB4edr58+dKZ+6JbJpOpBwBWV1fB6+rqIMsyIpHIFcZYL2MMra2tY5cuXRrfuXNnBtvAYDBk3G63oqpqZm5uzgrgSDKZjBoMhueZTAbc5XIhFouVEtFTxhiOHTs2dv78eS8+Efv374+oqpqZnZ21cs5PJJPJPlmWkyynnBuMMTQ0NHi7uro+mVyDx+Pxulwu71ZOlkqlSonoJhGhvb39s8k1nDx50ss5hyRJN9PpdKlERB2aWjSVaEilUvzBgwcORVEs5eXloXPnzk1sV8BkMiUdDofP7/dXZ7PZDilnIhw4cGBeS1pbW2P37t1zBwKBikQiUUREWFhYsHHO0d7evm0Ru90+/+rVq2rO+XGJiJxEhMrKyhgAjI6OWoeHh5tWVla+4JzDZrO9bW5unhwcHGzz+/32np4e+xaDbfoHAMxmc6ijo2O0oqIiJkkSNjY2HBIRmRljMJvNyWfPnln7+/tPMMZQXl6+0NbW9qK2tjYcj8floaEhqKpq+HCkbD3PzMwYBgYG0NXV9UuusFna2kEgELAQEQ4dOvSis7PzN41Ar9dnrl27NqCNkv/C3bt3zy4tLVmICJxzEBFJRBQmorLFxcWCqqqq0Pj4eO3Y2JhbUZTdra2tL2pra8OJRGLHnTt3zkqS9K+huHU4EhHMZnMoGo0W5OIh7nK5jjLGKq1W69vDhw8rRqMxMjc3t2t5eXnX5ORklc/nM+fl5SWnpqa+0uv1K/n5+Ws6nW5NluXNd15e3ppOp1uz2WyzZ86cGQ0Gg6ZAIFCZzWZ/lYjokRDiuN/vt7W0tMw3NTUpbrd78P79++5gMFgRiUTKHj58WMYYQ3V19etTp05tq6Lp6Wkb5xxCiEfc7XZPM8a6FxcXTfX19a/1en2Gcy5qamreNjY2/qGq6joRZe12+9Tp06e3JY/FYgWPHz8+mhvr3/CWlpbk+vp6PmOseWVlBS6XS9GSJUkSdrs93NDQ8Oe+ffvC/8fJIyMjddFo9Esi6pVleVjT2m0A8Hq9zqGhIefnjoknT544A4GAM/eDbxMReFNTE0pKSpKqqsaI6Pj8/LxVVdWM3W6PfCr5xMTE1zllXS0uLn6aSqXAGxsbodPpoNfrn6uqCs75EUVRrJFIZMfevXsXdTrdxseIE4mEPDIyUu/3++tynd8yGo29RIR0Og26fv06ioqKwBgD5xzv3r27zBjrIyJIkgSHwzFZWVmp7NmzJ1ZaWpoAgGg0WqgoSvHMzIw1GAw6tvjhitFo7NPW5fv370Hd3d0oKCgA53zTQMvLy+VCiKuSJH0rSdLmztZytIWv5RPRD0T0Y3Fx8dzWfby6ugopHo//w4mcc8iyPMc5v5FOp7/PZrOdQohWInIC2C2EgBBigYi8Qoifs9lsv06nWyIiaFxagXg8jr8GAGxuIe7LBeWhAAAAAElFTkSuQmCC');\n}\n\ndiv.vis-network div.vis-manipulation div.vis-none:hover {\n  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0);\n  cursor: default;\n}\ndiv.vis-network div.vis-manipulation div.vis-none:active {\n  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0);\n}\ndiv.vis-network div.vis-manipulation div.vis-none {\n  padding: 0px;\n  line-height: 23px;\n}\ndiv.vis-network div.vis-manipulation div.notification {\n  margin: 2px;\n  font-weight: bold;\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button.vis-add {\n  background-image: url('data:image/png;base64,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/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNDo0MDoyOSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTQ6NDA6MjkrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjVkNWIwNmQwLTVmMjAtOGE0NC1hMzIwLWZmMTEzMzQwNDc0YjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo2OWVmYWE1NS01ZTI5LTIzNGUtYTUzMy0xNDkxYjM1NDNmYmE8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTQ6NDA6MjkrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjVkNWIwNmQwLTVmMjAtOGE0NC1hMzIwLWZmMTEzMzQwNDc0Yjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNDo0MDoyOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjY5ZWZhYTU1LTVlMjktMjM0ZS1hNTMzLTE0OTFiMzU0M2ZiYTwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz5WKqp9AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAYXSURBVHjafFZtUFTXGX7e9z27sveuMCwYV8ElrA7YSFYHtJUPkaaI0aRqG8wP00zUzljDINNSA/2ROtpO24SxnahlxjYd7SSjmUkymcxYlDhQPzHGisEVp8HwYWCVVVgEsrsuLnL74+5uqTF9Z+7cO/d8PO95zvO851BlZSV0XQcAMDOYGQBARDhX3JRmMDYZwLPMWAzGHACYIgwS46oBNBNwtOL8CwE8EkSEUCgE2rJlC2w2G4go8Zwo/bMDgnoG6gxLfAAAYvPDMCCszKTAMIAGAhrWnf15AAAMwwARIRKJgDZv3gy73Q4iAjPjxIr9VVOMRhbAYKB8zvrO0llrfEsdKwLZek6YAPSFvtSu3GtLawu0ZJ6625SHGBQB1T88t6MxvopgMAjaunUrdF0HM+P4yv27DMYeJmB1RqW3Jnf3tQX2p0L4P9EXuqEd7PmDp+XuMU9sRbvXnnt1TxxACgoKYLVacbzsQDUJGkSATe6qi28uPtzusM6Kxie6NHLGUX3lxVUNX9StPHnn4wy3njuUYcu6n2pNi66avcEXnByP/nv8aiaIyrqz2gO5A9+9FI1GIfn5+WhZdTAdjFMkwMvZOy7uWnTAOz3L4Yk71m3t69fdfTDoUGTBeHTUfiHQ6lo7Z2OXJvpDAChKe+aOCdKRKWxZ2+1qb3yyd3GYmRkQ7GQBVs99wfv6on3eR2k4PdTkDEbH7IuS8/svld/561PJS/pDk1/bzwx94pze7xc5v/H+YPY6r5BAkdrJzODTK46lE6PeYEJt7u+8j+OZwCBiEAgAoNgKJoEQf6PvNvdrXgtZoNhSf7q0KZ3B2AQmVMze0Jmt54S/DcDCVig2NcvEUGxJAE4Pl+YOr0iv6BRSIPAmBeBZAmHlE2sH4p1uhrq1s0MnnEQMBsf8wRASAICQQCCITN1X7/sOuc0kgOVp3/fPs2WHv+coG7gQOJUnLGsUCTxEjPzUohEA+NfIWUdtx0+efzA1kSSkIGyBAQNCKgHAEBAJ3u79U7kiAcWoem/gb5Fd33nrH3kp+SMWtuAB+GllMJxMjCx9QRgA3uiqL5kwHiTlpxb3smlfMDGYGPP1hcMAkJvs8ScpfdJspdj+MK6Pf+5+u29vyb4lR4+BGEziVESAkEpw6Av1OhUpHCz4qOXbzFWz4Ncdj/v/o08Lt92ODDgZDCEFJYoUGH4mzugP92puPTf0pD3H7wvfdFZdqSxnMtWjoGAAmG9fOLxjwesdjT2/XzIQ7ks3sycYMSEwGHNtWf5bkX5NkYCJBxUBXiGV0XHvosOt54Zey33j/K+8P33++vjnbiGJbbLE+J9SANAb6nJ2B79wcUwETAwQQ7fMjPzMvfP8ja87HUIKMOiaAqMZhrGmLdAy78eZrwwsTS0eObTs+IdtgVanxBUExqGbb5VzrIISGIoUXsmqbgEhJldCQWqRf27SvPAn/o8XmgLhZsUkR4ll37mhk3n94Z4OlzY/7NLcYZfm7o1z2zT4vsvUNSXqprBCkmiTFbPX90/fh8GIT2sf+zTPdDMf4dVnNg4z+E0ixsGeBs9jd5ViSgLHjCb/peaR+MD3d4/ZJg2llyuG2Vwy7QWAs8PNnn1f7vkGSGxAzE6mk+kxkx/p/4unffSCR0hAoL1EBCYiPNdWNcwkNQTCR7feWX6g+7f/A7I8rcw/U6UEe0Ndrhc/W7mtL9ztmqlSgstSS/zTJ28dalpOpkRryrwbhwBACgsLMWPGDOT4ll3qyeqAkJTdCF7P/CrUY/GkLL1rE+2hTbSH8+0Lb/WEuhzhyaA905blf9Vd/895WnZwLHrPevir/cvOB1oLYpTtLrm6oYGIMDExAaqtrUVKSgqYGSKCk0WHq5ikkWEWtNL0imv5qUW+RclLRjJsrhBAuH1/QL8R7HR4xy5nescuP23E6hOA6mLv+sb4uTw6Ogqqq6uDpmkQkcStorX4XRcM1FjZ+kvFFjCJKU1WpkNJJUqIMtX1RyLeX3JtQ0JRhmGYZ/L27duRnJycuFGISOJ9pqh5lrB6iYgqGOxRrOaa54DcZmKvkJxk8JHC9rKh+KVhOsD4+Dj+MwADIf8n5m4xGwAAAABJRU5ErkJggg==');\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button.vis-edit,\ndiv.vis-network div.vis-edit-mode button.vis-button.vis-edit {\n  background-image: url('data:image/png;base64,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/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNVQxNDoxMjoyNSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDVUMTQ6MTI6MjUrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjY5OTM3ZGZjLTJjNzQtYTU0YS05OTIzLTQyMmZhNDNkMjljNDwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDozOWNhNzE5ZC03YzNlLTUyNGEtYmY1NS03NGVmMmM1MzE0YTc8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDVUMTQ6MTI6MjUrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjY5OTM3ZGZjLTJjNzQtYTU0YS05OTIzLTQyMmZhNDNkMjljNDwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNVQxNDoxMjoyNSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjM5Y2E3MTlkLTdjM2UtNTI0YS1iZjU1LTc0ZWYyYzUzMTRhNzwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4ykninAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAYpSURBVHjafFZtTFvnFX7Oea+NudiY2Hwam4CBlgQwXdKREDKUoYg0jbRJ29RJ2VZ1mjRFUxSpA3VTfkzJfkQbS7spU6rtx5Z2UtppScjaHxvLuiatWi2jLEoMIUDCh23g2gbj7+tPuPvhOurawPl1dc99n+c55z33fV46ceIEZFkGADAziAgAQERoe/9ZK4GPM/AcgbsIXAcABCgMvkfAqAa89eDoJyF8LogIqqqChoaGYDAYHr8kItS8uc8iIH6iAa9IkAo5EAQX8pqmgUVBCBggYFgDhv0/GAsBgKZpICJkMhnQ4OAgZFkGEYGZUXmp+0cS+CKBwWA0DVRPOg5Zl2q6zaHyJlnVAMQXVTkwHrUqH0Xsvn+tdQAAMQDgpPLS2MViFY8rkGUZzIzaS/t/xqCzGggtz9e697zsnKhoLUtim4jOq/LE6x7X0nsh16dEZ5a/O3a2SCAOHjwInU6Hujd6ThJ4mCDQ+b2G232v7v6vwarPbQn8MGlMr+X0kpE3Wr5Zt5hL5HPhqYSdQIfKJ+yhxDPKWC6Xg+jt7UXD5b5KBt1kCHS85Ljd8/On3NupfnhFaZj4rWff1B98B1R/hnUmKd36bdtCNl4g0en4edNE/cXwLq8qMTMIPAQwmo/WuHvObA8+9c58k/dKtD0TyZWXN5YGA7ej7epKxspM//7SoNOdWc/Jyq2wiwhDzPxT8cP0jys3VMM7OmL0/77zn4Ydui3b8uiK0jD7RrA77c9Wd57cefPpF+2T6bWsFPWkaiPTCWvTsZpHFU+XrS+8G3AR08F6X+1FJvBxQQzHQOWk2SmrW4FPX/U2LVwPuDZj+fJKl2khPpeyAqA9rzR/YqwuiWXX8taN/CabGkrVuq9YJlkQQDjOAJ5jAhz9Vt9W4N5/rNp8I+vtMV/aZm4zLnUNNt0urdYnF68HWoJj4Wo1mLGUNRr8LEgDgNqeCh8xQIKOsgC7iAjVe83rT9zQa8uNM28u70kspessu8q8zq/V3NcZpVzb9+0zmVhOvvvrhaMVzrJg0zeq7xMVCCwdpnWSGBqjUyJwLTFgbvxie3w31uoWR1Y74r60rdxZqrR8q85t2W2MGCp12bm/KC3hyaSTiMhxuGrKcahqpbjOaDOoEhOEoFqJQCCJvqA85I6bfTdDjQlf2lbxVNlS6wt19yy7jRHZZlDnrinNj/6sHMhnNw2Ogco7O79e5fm/xQywRBBCEAuwn4gQ96bkYj4Vyuq9N1Z3Bj4Od5bs0MXt/dZZ21ctiqFan174q985P+Lfp+U1g7XDON/1ctP458WlVjLyJhOISZE0wM0S1QfuRC3lTjkJAKKEtNC9eIOhSh9xHLZOJRZTFuXDsEoStLkR/768ummsaJG9Pb9oe+9J+xaeSVokiQDSJphAo5uaBuWjiKP4QTqS1cUWU7ayesN66wu22frD1vmVW6GW6T8u9eVjGyZzs+w78Nqu0a2mbvVu1KEJQAgeZRL0liQYyx+GOmKeQpu0rMYsAJPNEFGD2dLodLIy6c9Ys7G8yeSUl3tf2/X3rcBVJSOv34l3sCBogi7z1LH/rBHjl4IJ93/ncQFAnjeImJD0Z8zuCwu9q3djDXqTlAKID5xv+9t2R8n8VcUFBljQ8Gyfe40BYBM4DwDLt8Kue79ZcFkbzfEdbUbv+oN4c9KTtsfm1MbYQqqh+2zrVZYKs/7Ef+byimt1POYiJhDhPBFBIiIEXhxfs7/dfYoIF+auBfYTE/pebx/V8hqBP2ODvD34yvuh/WCAmU75Bx6sIgaI/v5+6PV6JLqUsYr7dpDAoehs0h73pHTWrvKgThYbRSt9UmSjef3MpaUvBz4O72UmADgTOPJguGiZor+/HyUlJWBmJFz+D8xTtlUiOpbwpmrmrweeSXrT+g11k4SBN3RGKUcAVCVdFhyP1nreDbY//NPyEXUlU/Pp4XYycGT6V0Ux2WwWdO7cOZSWlkII8diX7SPPNgDaKdbxoNAxwATBAEkEEgSWCEQAqPAMwqvMdCEwMO0tVqZpWsGTT58+DaPR+PhGIYQAAAgh0P7B3ioW/B0iGiCGiwXbCuOHFSJys6AbYFye2T+xWhT3WYJEIoH/DQBMw3kes8OJPgAAAABJRU5ErkJggg==');\n}\n\ndiv.vis-network div.vis-edit-mode button.vis-button.vis-edit.vis-edit-mode {\n  background-color: #fcfcfc;\n  border: 1px solid #cccccc;\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button.vis-connect {\n  background-image: url('data:image/png;base64,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/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNDozODo1NyswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTQ6Mzg6NTcrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjlmYjUwMDU0LWE3ODEtMWQ0OC05ZTllLTU2ZWQ5YzhlYjdjNjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo3ZWRhMjI0MC0yYTQxLTNlNDQtYWM2My1iNzNiYTE5OWI3Y2E8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTQ6Mzg6NTcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjlmYjUwMDU0LWE3ODEtMWQ0OC05ZTllLTU2ZWQ5YzhlYjdjNjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNDozODo1NyswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjdlZGEyMjQwLTJhNDEtM2U0NC1hYzYzLWI3M2JhMTk5YjdjYTwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4ubxs+AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAUtSURBVHjajJZ/bNT1Gcdfz/P53PV6B4W7VltLqdAaplIOiMOoyxxJCSs/Gv/yB4gzJroAosmmDklwkYWR0bQsdmkykoojTpcsWYLxD/lRZdMQkTHRtkLZRqG0tIVe7662vTu43n32x/VKZ/jh89cn38/zvN7P5/l88zwf2blzJz6fDwARQUSm1n8s31CM0/VAnbNmsUPuAsDpgEO+Bg4C7//iyv5hvmMiQiqVQpqamvB6vVNwEeG1JZtCBrYi/MrkAwDNgjhwAlbzICBLA0rDb0+/839C6XQaaWxspLCw8Dp86cbNmqVFJQddE6KzdjZ9D89g+B6fSyCOcyn1nxil+O9xKg5HqWFSHGXLjrP7W/ICqVQK2bNnDz6fDxFh65KNvxbHDhF4rJj2bXPo+IGfcW5h5xL4f99P+FCEMIAob75x9t0dAMlkElNXV4e1lteXbNqiQoMaeOFOjrdU868SD2luYyEP6dUh+sYmSHeOU6GO5Z8VLx5+NNZxIpPJ5AS2L3upROCoCvz8Lo7vnkf77cAHhpiz/zIL9vWz8L8p/NvupmM0Q7pjnAoLqz8tDrc8MnQqYVUVhVdF4LEg7b+rvDn8wDDlH0WoPpukLJImSBaMwjcJqmwWts2jPZLG/8kwYVFeVdXXZcFf4yVDc2cNKfBFmD9X+0ncCP58F48eG+Feo2CAUkvs4dl0V/uJvdXLiiV+ut++n7YLSfxPfMMG54ChzB3WIesVWB2i82bw1AR6fJR7C4VsfYiv6u/k3A9nEgP4zXke8DiYHyAOMK+QxPIgnZ9GqSHr1itQJ8DK2fTerDQ+S/bHRXQJaHSCwNIZ2Xh+7+S3VAmwNMBA/tuPZtErgKquUmdMWIFlRURvdamRNEXGwIWrlP47pTMzLiunxghGMwTLvcTWlHAp77s4QNSrYMQtss6ZMgWqCm5cHoDHO1nbk6K8zEN8+3zatv2Hn1b59EqJZdxmYUERg9P9KwpIiAOTdWUWBXuLzB/vZG3P1Un4PNp2d1MbmyD45TWCxuCsQm0x56bHGHFYEZwxok7toAA9Sfw3hCcoL/NOwi9QO5wmWO1j4JEgZxTkodmcWRGkf3pcX0r8xoAaBixKu4U5/xwndM+0tpAvS6mP+PZK2nb1UBvPEKwKMLDvPj4ESGc55lGy303sdJKQdZB2rkMdctAB/4gzN+/Q2ENNd4LyUi/xN+bTtquX2thk5nk4wI3gAF+OMNcA1nFQDfK+BY5GqbkwWabTY5QZhXWlnNx1ntrY1Rz87fuvw29m/Sn8J+PUGAFj5T19baA1IspuBZp7cx1x4SwG1cEf+lgRSROs8jGwb+Ht4QB/GSSsAhYano39LWIBxNEIbP14hPDuiyS2VtJuHXQlKKvxM/jiXDq/D/xPlwifGMkJZB2NIoKpr69nxeiZxLHicFSFVWfGqBidIP3LSjrWltD94CyufF/4kQgPuVz2Lz93+dDRa9eu5QQ8Hg8/iXee+Dy4CKMs7xqn4nwKz9IirhQqmVuB42m8ey+x7LMoD6iAON782eChhqmRuXfvXgKBAKqKqtI0/8nNKrQI4BVYXkzHgzPpC88gWuHL/caXrhLoGiN0apSKr0ZZRBZM7q2w5ZnLR1oAnHOMjY0hra2tFBQUYIyZmstvVT1Z6eDlAuEVq7merxmwueNPDXy9PvybjKP5mctHLk4/XTKZRJqbm/H7/VNw1VyEMYbW4FN3WNWnnchKoy5sHeVGBRX6VWi3ymFx7r11Ix8MTX/y5C2RSPC/AQB61erowbpqSwAAAABJRU5ErkJggg==');\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button.vis-delete {\n  background-image: url('data:image/png;base64,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/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNDo0MTowNCswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTQ6NDE6MDQrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjc3NDkzYmUxLTEyZGItOTg0NC1iNDYyLTg2NGVmNGIzMzM3MTwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDowNmE3NWYwMy04MDdhLWUzNGYtYjk1Zi1jZGU2MjM0Mzg4OGY8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTQ6NDE6MDQrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjc3NDkzYmUxLTEyZGItOTg0NC1iNDYyLTg2NGVmNGIzMzM3MTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNDo0MTowNCswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjA2YTc1ZjAzLTgwN2EtZTM0Zi1iOTVmLWNkZTYyMzQzODg4Zjwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4aYJzYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAYGSURBVHjalJZ7UJTnFcZ/73m/72PdJY1RbhoQp6lkXRAvmIYxdCUadLVOozPNtGObap1JsKipjiShbdoRbeKEiQHpQK3xj0xa03aamTbaTGyAYV1QGeqFi+JyiZFLAlmESBkWRmS3fyzslGkmnZ5/v/M873Oe75zzvqqoqAibzQaAiKCUAkApRdHIK/NFsx2NR91nOSILADDoJyzNaM4xxbtvPHh0iC+JiYkJ1OHDh4mJiUEpFSXPv/ziPC28TIiXDCOSrAClQDSEpsCwJPIhrEBRQpiSytXlQwDhcBilFPfu3UMVFxdjt9ujFTzfcLBADCoEEAFr1ZbrrNjch2vtEImPBgHob7fTcWE+bVXJNJ/NiFQlEGLvieXHKmYqGB8fRx05cgSbzYaIsPvywV8pKFaA7fGtLTzz61YWpo/xVTHQbufsq5lcez9zWuWhk5mvFwMEg0H0+vXrMU2Tn1wp3CtCiQ5DjGd3A/m/v8IDCZP8r4iNmyRrWx/j/5qktykZpXKzAjVDVxPzGqemptDr1q1jX3NRnIJarcDKK2hgR2ULXRfncv7UYv7xpovhnhiW5Mz+kefeSKO6LJ1A1xzEuk/Ojm4mRibpuZaMZW3OCtRUND60NmiICCIUShisx7a2sLMiQn4s77uEQgIabnqdfHIlgT1/qQeg8vs5dHhdCNB1wYn3RIiC995j26stjAbsNH+YiZJCESnS1Y/XxIXu8r4YIPv/VkVs3CTnTy2ms34xro1+sp9po6sxlTu34ultmsPVvy6is86FCHgO+DDs49zpjufBpCG+seYOC9OHaTidieicb9ouVAhKtouAseI710ma7pLuqwmgYfHqAFt+6WdLoQ/LBl11Lm7VudAa8vb72PCin9TlAWIsGGhLACD+kSAZnusYBii1XQAPYWDllt6ov2lrBkDBR2+6Ofuak2//3M+G/T4wAAPW7fPhKfRTVeqk9qQbFKRmDUTxS3N7QYGYmwzCkqklBGlPDEcTNv+sg9tNCbTXuvBWujE0bHrZj9JE1B/wU1Pm5PwJN6YBS9a2kVvQEcWnrh5GTFD3lxkYkqRMgYQlwVldUvDnen73LHTUuqitdKM0eAr9AFQfd1J/yo2aJn+2sn4Wdn5qEFODJskgBIjx5T0uCrQA08pnIjS9PERDjPnfOKXAMEBECUoGEIHBj+2zkt76UQ6dXheGAev3+cg74Kf6uJPqcicbfuond7cPy4SOiy7+tD9nFvZurx00KOk3CNEC+mE+vjSPBc7IWqgqTaPT60IMcO/xsXGa3HfKjRgRdbl7/KDg0jtubje6aHj7c7J3dgLQ2zoPwwQ91SooOQdAW1VKVMHty0kA5Bb48BycJn/LjWFGbLv4thvvb53kFvjJ+XEdWkPfjQVR/CcNKYgGMc8JWt5Fa2j+MIPPuyI2pa4IoHSkt6vLIuRaQ9q32khzt4GCxtNu6k46GeiIR2lIfDQQsafPzq1LGRGL9Gk9d+vrwewvfHPQOoexQVjxdB/auk/zmaUMdsfz6bVUtIalT7bxveP1ZHh6GPDPYeSzeD69kcpIfxymFWLNrka+ljhBTWkWwz2JiJT84YHnz2iPx0P20PkmRF5i6HYiwZFJsn/YzdezbzE3cQibY5xV266z6RfXohakb+xB9CjanCD9qTbW7Grk4WV38VZm0l6dhQiEw9taHSuDqrS0FIfDwXM3X9mHMsvRAk/sauDpQy38P+GtzOTGB9mEpkD0C2dS8n8zOjqK9ng8WJZFU+JTjasGvaCNXPpvJBPoMlm0OoDNMfWVxONfWNSUPUZ7TUQ56tCZlPwSgMnJSVRpaSmxsbFE1raw82ZxAZZRQUiBYUKGp5UlOX2krBzmoUVjiIKhHge9rfPo+Wcy3ZeXIYASgL1/X5RfMXMvj46OosrLy7HZbGitUUohIuzoem0RofALaOsghgWGjky0MiJTL8b0lOvI8hN1DKXKP0jd3TNTWDgcJhgMoo4ePYrD4Yi+KmaeLlprnrtXFo9h/AAlG1AqE8yFmBrC+jO0bgH9EVpO/1F2Dc5g//OAsbEx/j0Af+USsQynL1UAAAAASUVORK5CYII=');\n}\n/* top right bottom left */\ndiv.vis-network div.vis-manipulation div.vis-label,\ndiv.vis-network div.vis-edit-mode div.vis-label {\n  margin: 0 0 0 23px;\n  line-height: 25px;\n}\ndiv.vis-network div.vis-manipulation div.vis-separator-line {\n  float: left;\n  display: inline-block;\n  width: 1px;\n  height: 21px;\n  background-color: #bdbdbd;\n  margin: 0px 7px 0 15px; /*top right bottom left*/\n}\n\n/* TODO: is this redundant?\ndiv.network-navigation_wrapper {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n}\n*/\n");var FW=function(){function t(e,i,n,r){var o,s,a=this;em(this,t),this.body=e,this.canvas=i,this.selectionHandler=n,this.interactionHandler=r,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},hd(this.options,this.defaultOptions),this.body.emitter.on("destroy",(function(){a._clean()})),this.body.emitter.on("_dataChanged",Pd(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",Pd(s=this._restore).call(s,this))}return gx(t,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,i){void 0!==e&&(void 0!==e.locale?this.options.locale=e.locale:this.options.locale=i.locale,void 0!==e.locales?this.options.locales=e.locales:this.options.locales=i.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,s_(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){var t,e;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var i=this.selectionHandler.getSelectedNodeCount(),n=this.selectionHandler.getSelectedEdgeCount(),r=i+n,o=this.options.locales[this.options.locale],s=!1;!1!==this.options.addNode&&(this._createAddNodeButton(o),s=!0),!1!==this.options.addEdge&&(!0===s?this._createSeperator(1):s=!0,this._createAddEdgeButton(o)),1===i&&"function"==typeof this.options.editNode?(!0===s?this._createSeperator(2):s=!0,this._createEditNodeButton(o)):1===n&&0===i&&!1!==this.options.editEdge&&(!0===s?this._createSeperator(3):s=!0,this._createEditEdgeButton(o)),0!==r&&(i>0&&!1!==this.options.deleteNode||0===i&&!1!==this.options.deleteEdge)&&(!0===s&&this._createSeperator(4),this._createDeleteButton(o)),this._bindElementEvents(this.closeDiv,Pd(t=this.toggleEditMode).call(t,this)),this._temporaryBindEvent("select",Pd(e=this.showManipulatorToolbar).call(e,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var t;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var e,i=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(i),this._createSeperator(),this._createDescription(i.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,Pd(e=this.toggleEditMode).call(e,this))}this._temporaryBindEvent("click",Pd(t=this._performAddNode).call(t,this))}},{key:"editNode",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var e=this.selectionHandler.getSelectedNodes()[0];if(void 0!==e){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==e.isCluster){var i=s_({},e.options,!1);if(i.x=e.x,i.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,(function(e){null!=e&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(e),t.showManipulatorToolbar()}))}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var t,e,i,n,r;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var o,s=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(s),this._createSeperator(),this._createDescription(s.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,Pd(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",Pd(t=this._handleConnect).call(t,this)),this._temporaryBindUI("onDragEnd",Pd(e=this._finishConnect).call(e,this)),this._temporaryBindUI("onDrag",Pd(i=this._dragControlNode).call(i,this)),this._temporaryBindUI("onRelease",Pd(n=this._finishConnect).call(n,this)),this._temporaryBindUI("onDragStart",Pd(r=this._dragStartEdge).call(r,this)),this._temporaryBindUI("onHold",(function(){}))}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==rx(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var t,e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,Pd(t=this.toggleEditMode).call(t,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId){var i,n,r,o,s=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(s.from.x,s.from.y),g=this._getNewTargetNode(s.to.x,s.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(g.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[g.id]=g,this.body.nodeIndices.push(g.id),this._temporaryBindUI("onTouch",Pd(i=this._controlNodeTouch).call(i,this)),this._temporaryBindUI("onTap",(function(){})),this._temporaryBindUI("onHold",(function(){})),this._temporaryBindUI("onDragStart",Pd(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",Pd(r=this._controlNodeDrag).call(r,this)),this._temporaryBindUI("onDragEnd",Pd(o=this._controlNodeDragEnd).call(o,this)),this._temporaryBindUI("onMouseMove",(function(){})),this._temporaryBindEvent("beforeDrawing",(function(t){var e=s.edgeType.findBorderPositions(t);!1===a.selected&&(a.x=e.from.x,a.y=e.from.y),!1===g.selected&&(g.x=e.to.x,g.y=e.to.y)})),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var l=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(l.from.id,l.to.id)}}},{key:"deleteSelected",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var e=this.selectionHandler.getSelectedNodeIds(),i=this.selectionHandler.getSelectedEdgeIds(),n=void 0;if(e.length>0){for(var r=0;r<e.length;r++)if(!0===this.body.nodes[e[r]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(n=this.options.deleteNode)}else i.length>0&&"function"==typeof this.options.deleteEdge&&(n=this.options.deleteEdge);if("function"==typeof n){var o={nodes:e,edges:i};if(2!==n.length)throw new Error("The function for delete does not support two arguments (data, callback)");n(o,(function(e){null!=e&&"delete"===t.inMode?(t.body.data.edges.getDataSet().remove(e.edges),t.body.data.nodes.getDataSet().remove(e.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){var t,e;void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",null!==(t=null===(e=this.options.locales[this.options.locale])||void 0===e?void 0:e.close)&&void 0!==t?t:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var i=s_({},this.options.controlNodeStyle);i.id="targetNode"+KF(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e;var n=this.body.functions.createNode(i);return n.shape.boundingBox={left:t,right:t,top:e,bottom:e},n}},{key:"_createEditButton",value:function(){var t;this._clean(),this.manipulationDOM={},$O(this.editModeDiv);var e=this.options.locales[this.options.locale],i=this._createButton("editMode","vis-edit vis-edit-mode",e.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(i),this._bindElementEvents(i,Pd(t=this.toggleEditMode).call(t,this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&($O(this.editModeDiv),$O(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var t,e,i=function(t,e){var i=void 0!==Jx&&tm(t)||t["@@iterator"];if(!i){if(Ik(t)||(i=function(t,e){var i;if(t){if("string"==typeof t)return BW(t,e);var n=rk(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Pv(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?BW(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw o}}}}(dE(t=this._domEventListenerCleanupQueue).call(t,0));try{for(i.s();!(e=i.n()).done;)(0,e.value)()}catch(t){i.e(t)}finally{i.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),$O(this.manipulationDiv),$O(this.editModeDiv),$O(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e,i=this._createButton("addNode","vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Pd(e=this.addNodeMode).call(e,this))}},{key:"_createAddEdgeButton",value:function(t){var e,i=this._createButton("addEdge","vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Pd(e=this.addEdgeMode).call(e,this))}},{key:"_createEditNodeButton",value:function(t){var e,i=this._createButton("editNode","vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Pd(e=this.editNode).call(e,this))}},{key:"_createEditEdgeButton",value:function(t){var e,i=this._createButton("editEdge","vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Pd(e=this.editEdgeMode).call(e,this))}},{key:"_createDeleteButton",value:function(t){var e,i;i=this.options.rtl?"vis-delete-rtl":"vis-delete";var n=this._createButton("delete",i,t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Pd(e=this.deleteSelected).call(e,this))}},{key:"_createBackButton",value:function(t){var e,i=this._createButton("back","vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Pd(e=this.showManipulatorToolbar).call(e,this))}},{key:"_createButton",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("button"),this.manipulationDOM[t+"Div"].className="vis-button "+e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=n,this.manipulationDOM[t+"Label"].innerText=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=t,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+OS(yk(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var e=this.temporaryEventFunctions[t].event,i=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,i)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(t,e){var i=new P_(t,{});oG(i,e),this._domEventListenerCleanupQueue.push((function(){i.destroy()}));var n=function(t){var i=t.keyCode,n=t.key;"Enter"!==n&&" "!==n&&13!==i&&32!==i||e()};t.addEventListener("keyup",n,!1),this._domEventListenerCleanupQueue.push((function(){t.removeEventListener("keyup",n,!1)}))}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){var e;this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var i,n=wS(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[t]);-1!==n&&dE(i=this.body.edgeIndices).call(i,n,1)}for(var r=0;r<this.temporaryIds.nodes.length;r++){var o;delete this.body.nodes[this.temporaryIds.nodes[r]];var s,a=wS(o=this.body.nodeIndices).call(o,this.temporaryIds.nodes[r]);-1!==a&&dE(s=this.body.nodeIndices).call(s,a,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=hd({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var t=this.lastTouch,e=this.selectionHandler._pointerToPositionObject(t),i=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],r=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var o=i.isOverlappingWith(e),s=n.isOverlappingWith(e);!0===o?(this.selectedControlNode=i,r.edgeType.from=i):!0===s&&(this.selectedControlNode=n,r.edgeType.to=n),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(e);void 0!==this.selectedControlNode?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.interactionHandler.onDrag(t),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var r=this.selectionHandler._getAllNodesOverlappingWith(i),o=void 0,s=r.length-1;s>=0;s--)if(r[s]!==this.selectedControlNode.id){o=this.body.nodes[r[s]];break}if(void 0!==o&&void 0!==this.selectedControlNode)if(!0===o.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(o.id,n.to.id):this._performEditEdge(n.from.id,o.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=hd({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var e=this.lastTouch,i=this.selectionHandler.getNodeAt(e);if(void 0!==i)if(!0===i.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var n=this._getNewTargetNode(i.x,i.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);var r=this.body.functions.createEdge({id:"connectionEdge"+KF(),from:i.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[r.id]=r,this.body.edgeIndices.push(r.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(r.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=void 0;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(i),o=void 0,s=r.length-1;s>=0;s--){var a;if(-1===wS(a=this.temporaryIds.nodes).call(a,r[s])){o=this.body.nodes[r[s]];break}}if(t.controlEdge={from:n,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",t,e),void 0!==this.temporaryIds.nodes[0]){var g=this.body.nodes[this.temporaryIds.nodes[0]];g.x=this.canvas._XconvertDOMtoCanvas(e.x),g.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(t)}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=void 0;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(i),o=void 0,s=r.length-1;s>=0;s--){var a;if(-1===wS(a=this.temporaryIds.nodes).call(a,r[s])){o=this.body.nodes[r[s]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==o&&(!0===o.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[n]&&void 0!==this.body.nodes[o.id]&&this._performAddEdge(n,o.id)),t.controlEdge={from:n,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",t,e),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){var e=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",t,e,void 0,!0)}},{key:"_performAddNode",value:function(t){var e=this,i={id:KF(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,(function(t){null!=t&&"addNode"===e.inMode&&e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar()}))}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var i=this,n={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(n,(function(t){null!=t&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var i=this,n={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges.get(this.edgeBeingEditedId).label},r=this.options.editEdge;if("object"===rx(r)&&(r=r.editWithoutDrag),"function"==typeof r){if(2!==r.length)throw new Error("The function for edit does not support two arguments (data, callback)");r(n,(function(t){null==t||"editEdge"!==i.inMode?(i.body.edges[n.id].updateEdgeType(),i.body.emitter.emit("_redraw"),i.showManipulatorToolbar()):(i.body.data.edges.getDataSet().update(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),t}(),zW="string",VW="boolean",GW="number",WW="array",UW="object",ZW=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],HW={borderWidth:{number:GW},borderWidthSelected:{number:GW,undefined:"undefined"},brokenImage:{string:zW,undefined:"undefined"},chosen:{label:{boolean:VW,function:"function"},node:{boolean:VW,function:"function"},__type__:{object:UW,boolean:VW}},color:{border:{string:zW},background:{string:zW},highlight:{border:{string:zW},background:{string:zW},__type__:{object:UW,string:zW}},hover:{border:{string:zW},background:{string:zW},__type__:{object:UW,string:zW}},__type__:{object:UW,string:zW}},opacity:{number:GW,undefined:"undefined"},fixed:{x:{boolean:VW},y:{boolean:VW},__type__:{object:UW,boolean:VW}},font:{align:{string:zW},color:{string:zW},size:{number:GW},face:{string:zW},background:{string:zW},strokeWidth:{number:GW},strokeColor:{string:zW},vadjust:{number:GW},multi:{boolean:VW,string:zW},bold:{color:{string:zW},size:{number:GW},face:{string:zW},mod:{string:zW},vadjust:{number:GW},__type__:{object:UW,string:zW}},boldital:{color:{string:zW},size:{number:GW},face:{string:zW},mod:{string:zW},vadjust:{number:GW},__type__:{object:UW,string:zW}},ital:{color:{string:zW},size:{number:GW},face:{string:zW},mod:{string:zW},vadjust:{number:GW},__type__:{object:UW,string:zW}},mono:{color:{string:zW},size:{number:GW},face:{string:zW},mod:{string:zW},vadjust:{number:GW},__type__:{object:UW,string:zW}},__type__:{object:UW,string:zW}},group:{string:zW,number:GW,undefined:"undefined"},heightConstraint:{minimum:{number:GW},valign:{string:zW},__type__:{object:UW,boolean:VW,number:GW}},hidden:{boolean:VW},icon:{face:{string:zW},code:{string:zW},size:{number:GW},color:{string:zW},weight:{string:zW,number:GW},__type__:{object:UW}},id:{string:zW,number:GW},image:{selected:{string:zW,undefined:"undefined"},unselected:{string:zW,undefined:"undefined"},__type__:{object:UW,string:zW}},imagePadding:{top:{number:GW},right:{number:GW},bottom:{number:GW},left:{number:GW},__type__:{object:UW,number:GW}},label:{string:zW,undefined:"undefined"},labelHighlightBold:{boolean:VW},level:{number:GW,undefined:"undefined"},margin:{top:{number:GW},right:{number:GW},bottom:{number:GW},left:{number:GW},__type__:{object:UW,number:GW}},mass:{number:GW},physics:{boolean:VW},scaling:{min:{number:GW},max:{number:GW},label:{enabled:{boolean:VW},min:{number:GW},max:{number:GW},maxVisible:{number:GW},drawThreshold:{number:GW},__type__:{object:UW,boolean:VW}},customScalingFunction:{function:"function"},__type__:{object:UW}},shadow:{enabled:{boolean:VW},color:{string:zW},size:{number:GW},x:{number:GW},y:{number:GW},__type__:{object:UW,boolean:VW}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:VW,array:WW},borderRadius:{number:GW},interpolation:{boolean:VW},useImageSize:{boolean:VW},useBorderWithImage:{boolean:VW},coordinateOrigin:{string:["center","top-left"]},__type__:{object:UW}},size:{number:GW},title:{string:zW,dom:"dom",undefined:"undefined"},value:{number:GW,undefined:"undefined"},widthConstraint:{minimum:{number:GW},maximum:{number:GW},__type__:{object:UW,boolean:VW,number:GW}},x:{number:GW},y:{number:GW},__type__:{object:UW}},YW={configure:{enabled:{boolean:VW},filter:{boolean:VW,string:zW,array:WW,function:"function"},container:{dom:"dom"},showButton:{boolean:VW},__type__:{object:UW,boolean:VW,string:zW,array:WW,function:"function"}},edges:{arrows:{to:{enabled:{boolean:VW},scaleFactor:{number:GW},type:{string:ZW},imageHeight:{number:GW},imageWidth:{number:GW},src:{string:zW},__type__:{object:UW,boolean:VW}},middle:{enabled:{boolean:VW},scaleFactor:{number:GW},type:{string:ZW},imageWidth:{number:GW},imageHeight:{number:GW},src:{string:zW},__type__:{object:UW,boolean:VW}},from:{enabled:{boolean:VW},scaleFactor:{number:GW},type:{string:ZW},imageWidth:{number:GW},imageHeight:{number:GW},src:{string:zW},__type__:{object:UW,boolean:VW}},__type__:{string:["from","to","middle"],object:UW}},endPointOffset:{from:{number:GW},to:{number:GW},__type__:{object:UW,number:GW}},arrowStrikethrough:{boolean:VW},background:{enabled:{boolean:VW},color:{string:zW},size:{number:GW},dashes:{boolean:VW,array:WW},__type__:{object:UW,boolean:VW}},chosen:{label:{boolean:VW,function:"function"},edge:{boolean:VW,function:"function"},__type__:{object:UW,boolean:VW}},color:{color:{string:zW},highlight:{string:zW},hover:{string:zW},inherit:{string:["from","to","both"],boolean:VW},opacity:{number:GW},__type__:{object:UW,string:zW}},dashes:{boolean:VW,array:WW},font:{color:{string:zW},size:{number:GW},face:{string:zW},background:{string:zW},strokeWidth:{number:GW},strokeColor:{string:zW},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:GW},multi:{boolean:VW,string:zW},bold:{color:{string:zW},size:{number:GW},face:{string:zW},mod:{string:zW},vadjust:{number:GW},__type__:{object:UW,string:zW}},boldital:{color:{string:zW},size:{number:GW},face:{string:zW},mod:{string:zW},vadjust:{number:GW},__type__:{object:UW,string:zW}},ital:{color:{string:zW},size:{number:GW},face:{string:zW},mod:{string:zW},vadjust:{number:GW},__type__:{object:UW,string:zW}},mono:{color:{string:zW},size:{number:GW},face:{string:zW},mod:{string:zW},vadjust:{number:GW},__type__:{object:UW,string:zW}},__type__:{object:UW,string:zW}},hidden:{boolean:VW},hoverWidth:{function:"function",number:GW},label:{string:zW,undefined:"undefined"},labelHighlightBold:{boolean:VW},length:{number:GW,undefined:"undefined"},physics:{boolean:VW},scaling:{min:{number:GW},max:{number:GW},label:{enabled:{boolean:VW},min:{number:GW},max:{number:GW},maxVisible:{number:GW},drawThreshold:{number:GW},__type__:{object:UW,boolean:VW}},customScalingFunction:{function:"function"},__type__:{object:UW}},selectionWidth:{function:"function",number:GW},selfReferenceSize:{number:GW},selfReference:{size:{number:GW},angle:{number:GW},renderBehindTheNode:{boolean:VW},__type__:{object:UW}},shadow:{enabled:{boolean:VW},color:{string:zW},size:{number:GW},x:{number:GW},y:{number:GW},__type__:{object:UW,boolean:VW}},smooth:{enabled:{boolean:VW},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:GW},forceDirection:{string:["horizontal","vertical","none"],boolean:VW},__type__:{object:UW,boolean:VW}},title:{string:zW,undefined:"undefined"},width:{number:GW},widthConstraint:{maximum:{number:GW},__type__:{object:UW,boolean:VW,number:GW}},value:{number:GW,undefined:"undefined"},__type__:{object:UW}},groups:{useDefaultGroups:{boolean:VW},__any__:HW,__type__:{object:UW}},interaction:{dragNodes:{boolean:VW},dragView:{boolean:VW},hideEdgesOnDrag:{boolean:VW},hideEdgesOnZoom:{boolean:VW},hideNodesOnDrag:{boolean:VW},hover:{boolean:VW},keyboard:{enabled:{boolean:VW},speed:{x:{number:GW},y:{number:GW},zoom:{number:GW},__type__:{object:UW}},bindToWindow:{boolean:VW},autoFocus:{boolean:VW},__type__:{object:UW,boolean:VW}},multiselect:{boolean:VW},navigationButtons:{boolean:VW},selectable:{boolean:VW},selectConnectedEdges:{boolean:VW},hoverConnectedEdges:{boolean:VW},tooltipDelay:{number:GW},zoomView:{boolean:VW},zoomSpeed:{number:GW},__type__:{object:UW}},layout:{randomSeed:{undefined:"undefined",number:GW,string:zW},improvedLayout:{boolean:VW},clusterThreshold:{number:GW},hierarchical:{enabled:{boolean:VW},levelSeparation:{number:GW},nodeSpacing:{number:GW},treeSpacing:{number:GW},blockShifting:{boolean:VW},edgeMinimization:{boolean:VW},parentCentralization:{boolean:VW},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:UW,boolean:VW}},__type__:{object:UW}},manipulation:{enabled:{boolean:VW},initiallyActive:{boolean:VW},addNode:{boolean:VW,function:"function"},addEdge:{boolean:VW,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:UW,boolean:VW,function:"function"}},deleteNode:{boolean:VW,function:"function"},deleteEdge:{boolean:VW,function:"function"},controlNodeStyle:HW,__type__:{object:UW,boolean:VW}},nodes:HW,physics:{enabled:{boolean:VW},barnesHut:{theta:{number:GW},gravitationalConstant:{number:GW},centralGravity:{number:GW},springLength:{number:GW},springConstant:{number:GW},damping:{number:GW},avoidOverlap:{number:GW},__type__:{object:UW}},forceAtlas2Based:{theta:{number:GW},gravitationalConstant:{number:GW},centralGravity:{number:GW},springLength:{number:GW},springConstant:{number:GW},damping:{number:GW},avoidOverlap:{number:GW},__type__:{object:UW}},repulsion:{centralGravity:{number:GW},springLength:{number:GW},springConstant:{number:GW},nodeDistance:{number:GW},damping:{number:GW},__type__:{object:UW}},hierarchicalRepulsion:{centralGravity:{number:GW},springLength:{number:GW},springConstant:{number:GW},nodeDistance:{number:GW},damping:{number:GW},avoidOverlap:{number:GW},__type__:{object:UW}},maxVelocity:{number:GW},minVelocity:{number:GW},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:VW},iterations:{number:GW},updateInterval:{number:GW},onlyDynamicEdges:{boolean:VW},fit:{boolean:VW},__type__:{object:UW,boolean:VW}},timestep:{number:GW},adaptiveTimestep:{boolean:VW},wind:{x:{number:GW},y:{number:GW},__type__:{object:UW}},__type__:{object:UW,boolean:VW}},autoResize:{boolean:VW},clickToUse:{boolean:VW},locale:{string:zW},locales:{__any__:{any:"any"},__type__:{object:UW}},height:{string:zW},width:{string:zW},__type__:{object:UW}},KW={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},XW=function(t,e,i){var n;return!(!PE(t).call(t,"physics")||!PE(n=KW.physics.solver).call(n,e)||i.physics.solver===e||"wind"===e)},QW=function(){function t(){em(this,t)}return gx(t,[{key:"getDistances",value:function(t,e,i){for(var n={},r=t.edges,o=0;o<e.length;o++){var s={};n[e[o]]=s;for(var a=0;a<e.length;a++)s[e[a]]=o==a?0:1e9}for(var g=0;g<i.length;g++){var l=r[i[g]];!0===l.connected&&void 0!==n[l.fromId]&&void 0!==n[l.toId]&&(n[l.fromId][l.toId]=1,n[l.toId][l.fromId]=1)}for(var A=e.length,C=0;C<A;C++)for(var I=e[C],h=n[I],c=0;c<A-1;c++)for(var d=e[c],u=n[d],f=c+1;f<A;f++){var p=e[f],v=n[p],m=Math.min(u[p],u[I]+h[p]);u[p]=m,v[d]=m}return n}}]),t}(),qW=function(){function t(e,i,n){em(this,t),this.body=e,this.springLength=i,this.springConstant=n,this.distanceSolver=new QW}return gx(t,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();for(var r=0,o=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),s=1e9,a=0,g=0,l=0,A=0,C=0;s>.01&&r<o;){r+=1;var I=Qx(this._getHighestEnergyNode(i),4);for(a=I[0],s=I[1],g=I[2],l=I[3],A=s,C=0;A>1&&C<5;){C+=1,this._moveNode(a,g,l);var h=Qx(this._getEnergy(a),3);A=h[0],g=h[1],l=h[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,n=0,r=e[0],o=0,s=0,a=0;a<e.length;a++){var g=e[a];if(!0!==i[g].predefinedPosition||!0===i[g].isCluster&&!0===t||!0!==i[g].options.fixed.x||!0!==i[g].options.fixed.y){var l=Qx(this._getEnergy(g),3),A=l[0],C=l[1],I=l[2];n<A&&(n=A,r=g,o=C,s=I)}}return[r,n,o,s]}},{key:"_getEnergy",value:function(t){var e=Qx(this.E_sums[t],2),i=e[0],n=e[1];return[Math.sqrt(Math.pow(i,2)+Math.pow(n,2)),i,n]}},{key:"_moveNode",value:function(t,e,i){for(var n=this.body.nodeIndices,r=this.body.nodes,o=0,s=0,a=0,g=r[t].x,l=r[t].y,A=this.K_matrix[t],C=this.L_matrix[t],I=0;I<n.length;I++){var h=n[I];if(h!==t){var c=r[h].x,d=r[h].y,u=A[h],f=C[h],p=1/Math.pow(Math.pow(g-c,2)+Math.pow(l-d,2),1.5);o+=u*(1-f*Math.pow(l-d,2)*p),s+=u*(f*(g-c)*(l-d)*p),a+=u*(1-f*Math.pow(g-c,2)*p)}}var v=(e/o+i/s)/(s/o-a/s),m=-(s*v+e)/o;r[t].x+=m,r[t].y+=v,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var n=0;n<e.length;n++){this.L_matrix[e[n]]={};for(var r=0;r<e.length;r++)this.L_matrix[e[n]][e[r]]=i*t[e[n]][e[r]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var n=0;n<e.length;n++){this.K_matrix[e[n]]={};for(var r=0;r<e.length;r++)this.K_matrix[e[n]][e[r]]=i*Math.pow(t[e[n]][e[r]],-2)}}},{key:"_createE_matrix",value:function(){var t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(var i=0;i<t.length;i++)this.E_matrix[t[i]]=[];for(var n=0;n<t.length;n++){for(var r=t[n],o=e[r].x,s=e[r].y,a=0,g=0,l=n;l<t.length;l++){var A=t[l];if(A!==r){var C=e[A].x,I=e[A].y,h=1/Math.sqrt(Math.pow(o-C,2)+Math.pow(s-I,2));this.E_matrix[r][l]=[this.K_matrix[r][A]*(o-C-this.L_matrix[r][A]*(o-C)*h),this.K_matrix[r][A]*(s-I-this.L_matrix[r][A]*(s-I)*h)],this.E_matrix[A][n]=this.E_matrix[r][l],a+=this.E_matrix[r][l][0],g+=this.E_matrix[r][l][1]}}this.E_sums[r]=[a,g]}}},{key:"_updateE_matrix",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,n=this.E_matrix[t],r=this.K_matrix[t],o=this.L_matrix[t],s=i[t].x,a=i[t].y,g=0,l=0,A=0;A<e.length;A++){var C=e[A];if(C!==t){var I=n[A],h=I[0],c=I[1],d=i[C].x,u=i[C].y,f=1/Math.sqrt(Math.pow(s-d,2)+Math.pow(a-u,2)),p=r[C]*(s-d-o[C]*(s-d)*f),v=r[C]*(a-u-o[C]*(a-u)*f);n[A]=[p,v],g+=p,l+=v;var m=this.E_sums[C];m[0]+=p-h,m[1]+=v-c}}this.E_sums[t]=[g,l]}}]),t}();function JW(t,e,i){var n,r,o,s,a=this;if(!(this instanceof JW))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:IR,clickToUse:!1},hd(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:Pd(n=this.on).call(n,this),off:Pd(r=this.off).call(r,this),emit:Pd(o=this.emit).call(o,this),once:Pd(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new cR((function(){return a.body.emitter.emit("_requestRedraw")})),this.groups=new WN,this.canvas=new aG(this.body),this.selectionHandler=new bW(this.body,this.canvas),this.interactionHandler=new IG(this.body,this.canvas,this.selectionHandler),this.view=new gG(this.body,this.canvas),this.renderer=new nG(this.body,this.canvas),this.physics=new $V(this.body),this.layoutEngine=new LW(this.body),this.clustering=new iG(this.body),this.manipulation=new FW(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new iV(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new UV(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new qW(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}function $W(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Wd(JW.prototype),JW.prototype.setOptions=function(t){var e=this;if(null===t&&(t=void 0),void 0!==t){if(!0===L_.validate(t,YW)&&console.error("%cErrors have been found in the supplied options object.",j_),r_(["locale","locales","clickToUse"],this.options,t),void 0!==t.locale&&(t.locale=function(t,e){try{var i=Qx(e.split(/[-_ /]/,2),2),n=i[0],r=i[1],o=null!=n?n.toLowerCase():null,s=null!=r?r.toUpperCase():null;if(o&&s){var a,g=o+"-"+s;if(Object.prototype.hasOwnProperty.call(t,g))return g;console.warn(nk(a="Unknown variant ".concat(s," of language ")).call(a,o,"."))}if(o){var l=o;if(Object.prototype.hasOwnProperty.call(t,l))return l;console.warn("Unknown language ".concat(o))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(t){return console.error(t),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new D_(this,this.body.container,KW,this.canvas.pixelRatio,XW)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){var i={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};s_(i.nodes,this.nodesHandler.options),s_(i.edges,this.edgesHandler.options),s_(i.layout,this.layoutEngine.options),s_(i.interaction,this.selectionHandler.options),s_(i.interaction,this.renderer.options),s_(i.interaction,this.interactionHandler.options),s_(i.manipulation,this.manipulation.options),s_(i.physics,this.physics.options),s_(i.global,this.canvas.options),s_(i.global,this.options),this.configurator.setModuleOptions(i)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new N_(this.canvas.frame),this.activator.on("change",(function(){e.body.emitter.emit("activate")}))):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},JW.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;for(var i in this.body.nodeIndices=[],this.body.edgeIndices=[],t)Object.prototype.hasOwnProperty.call(t,i)&&(this.clustering._isClusteredNode(i)||!1!==t[i].options.hidden||this.body.nodeIndices.push(t[i].id));for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n],o=t[r.fromId],s=t[r.toId],a=void 0!==o&&void 0!==s;!this.clustering._isClusteredEdge(n)&&!1===r.options.hidden&&a&&!1===o.options.hidden&&!1===s.options.hidden&&this.body.edgeIndices.push(r.id)}},JW.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",(function(){t.edgesHandler._updateState(),t.body.emitter.emit("_dataUpdated")})),this.body.emitter.on("_dataUpdated",(function(){t.clustering._updateState(),t._updateVisibleIndices(),t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")}))},JW.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=CR(t.dot);this.setData(e)}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=function(t,e){var i,n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=e&&(null!=e.fixed&&(n.nodes.fixed=e.fixed),null!=e.parseColor&&(n.nodes.parseColor=e.parseColor),null!=e.inheritColor&&(n.edges.inheritColor=e.inheritColor));var r=t.edges,o=pk(r).call(r,(function(t){var e={from:t.source,id:t.id,to:t.target};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),"Directed"===t.type&&(e.arrows="to"),t.color&&!1===n.edges.inheritColor&&(e.color=t.color),e}));return{nodes:pk(i=t.nodes).call(i,(function(t){var e={id:t.id,fixed:n.nodes.fixed&&null!=t.x&&null!=t.y};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.size&&(e.size=t.size),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),null!=t.title&&(e.title=t.title),null!=t.x&&(e.x=t.x),null!=t.y&&(e.y=t.y),null!=t.color&&(!0===n.nodes.parseColor?e.color=t.color:e.color={background:t.color,border:t.color,highlight:{background:t.color,border:t.color},hover:{background:t.color,border:t.color}}),e})),edges:o}}(t.gephi);this.setData(i)}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},JW.prototype.destroy=function(){for(var t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(var e in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,e)&&delete this.body.edges[e];$O(this.body.container)},JW.prototype._updateValueRange=function(t){var e,i=void 0,n=void 0,r=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var o=t[e].getValue();void 0!==o&&(i=void 0===i?o:Math.min(o,i),n=void 0===n?o:Math.max(o,n),r+=o)}if(void 0!==i&&void 0!==n)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(i,n,r)},JW.prototype.isActive=function(){return!this.activator||this.activator.active},JW.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},JW.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},JW.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},JW.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},JW.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},JW.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},JW.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},JW.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},JW.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},JW.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},JW.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},JW.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},JW.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},JW.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},JW.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},JW.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},JW.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},JW.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},JW.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},JW.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},JW.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},JW.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},JW.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},JW.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},JW.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},JW.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},JW.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},JW.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},JW.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},JW.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},JW.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},JW.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},JW.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},JW.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},JW.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},JW.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},JW.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},JW.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},JW.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},JW.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},JW.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},JW.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},JW.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},JW.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},JW.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},JW.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},JW.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},JW.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},JW.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},JW.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},JW.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},JW.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};var tU="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{};function eU(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iU={exports:{}},nU=function(t){return t&&t.Math===Math&&t},rU=nU("object"==typeof globalThis&&globalThis)||nU("object"==typeof window&&window)||nU("object"==typeof self&&self)||nU("object"==typeof tU&&tU)||function(){return this}()||tU||Function("return this")(),oU=function(t){try{return!!t()}catch(t){return!0}},sU=!oU((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),aU=sU,gU=Function.prototype,lU=gU.apply,AU=gU.call,CU="object"==typeof Reflect&&Reflect.apply||(aU?AU.bind(lU):function(){return AU.apply(lU,arguments)}),IU=sU,hU=Function.prototype,cU=hU.call,dU=IU&&hU.bind.bind(cU,cU),uU=IU?dU:function(t){return function(){return cU.apply(t,arguments)}},fU=uU,pU=fU({}.toString),vU=fU("".slice),mU=function(t){return vU(pU(t),8,-1)},yU=mU,bU=uU,wU=function(t){if("Function"===yU(t))return bU(t)},xU="object"==typeof document&&document.all,kU={all:xU,IS_HTMLDDA:void 0===xU&&void 0!==xU},EU=kU.all,SU=kU.IS_HTMLDDA?function(t){return"function"==typeof t||t===EU}:function(t){return"function"==typeof t},TU={},OU=!oU((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),_U=sU,RU=Function.prototype.call,NU=_U?RU.bind(RU):function(){return RU.apply(RU,arguments)},DU={},PU={}.propertyIsEnumerable,MU=Object.getOwnPropertyDescriptor,jU=MU&&!PU.call({1:2},1);DU.f=jU?function(t){var e=MU(this,t);return!!e&&e.enumerable}:PU;var LU,BU,FU=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},zU=oU,VU=mU,GU=Object,WU=uU("".split),UU=zU((function(){return!GU("z").propertyIsEnumerable(0)}))?function(t){return"String"===VU(t)?WU(t,""):GU(t)}:GU,ZU=function(t){return null==t},HU=ZU,YU=TypeError,KU=function(t){if(HU(t))throw new YU("Can't call method on "+t);return t},XU=UU,QU=KU,qU=function(t){return XU(QU(t))},JU=SU,$U=kU.all,tZ=kU.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:JU(t)||t===$U}:function(t){return"object"==typeof t?null!==t:JU(t)},eZ={},iZ=eZ,nZ=rU,rZ=SU,oZ=function(t){return rZ(t)?t:void 0},sZ=function(t,e){return arguments.length<2?oZ(iZ[t])||oZ(nZ[t]):iZ[t]&&iZ[t][e]||nZ[t]&&nZ[t][e]},aZ=uU({}.isPrototypeOf),gZ="undefined"!=typeof navigator&&String(navigator.userAgent)||"",lZ=rU,AZ=gZ,CZ=lZ.process,IZ=lZ.Deno,hZ=CZ&&CZ.versions||IZ&&IZ.version,cZ=hZ&&hZ.v8;cZ&&(BU=(LU=cZ.split("."))[0]>0&&LU[0]<4?1:+(LU[0]+LU[1])),!BU&&AZ&&(!(LU=AZ.match(/Edge\/(\d+)/))||LU[1]>=74)&&(LU=AZ.match(/Chrome\/(\d+)/))&&(BU=+LU[1]);var dZ=BU,uZ=dZ,fZ=oU,pZ=rU.String,vZ=!!Object.getOwnPropertySymbols&&!fZ((function(){var t=Symbol("symbol detection");return!pZ(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&uZ&&uZ<41})),mZ=vZ&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,yZ=sZ,bZ=SU,wZ=aZ,xZ=Object,kZ=mZ?function(t){return"symbol"==typeof t}:function(t){var e=yZ("Symbol");return bZ(e)&&wZ(e.prototype,xZ(t))},EZ=String,SZ=function(t){try{return EZ(t)}catch(t){return"Object"}},TZ=SU,OZ=SZ,_Z=TypeError,RZ=function(t){if(TZ(t))return t;throw new _Z(OZ(t)+" is not a function")},NZ=RZ,DZ=ZU,PZ=function(t,e){var i=t[e];return DZ(i)?void 0:NZ(i)},MZ=NU,jZ=SU,LZ=tZ,BZ=TypeError,FZ={exports:{}},zZ=rU,VZ=Object.defineProperty,GZ="__core-js_shared__",WZ=rU[GZ]||function(t,e){try{VZ(zZ,t,{value:e,configurable:!0,writable:!0})}catch(i){zZ[t]=e}return e}(GZ,{}),UZ=WZ;(FZ.exports=function(t,e){return UZ[t]||(UZ[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.2",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"});var ZZ=FZ.exports,HZ=KU,YZ=Object,KZ=function(t){return YZ(HZ(t))},XZ=KZ,QZ=uU({}.hasOwnProperty),qZ=Object.hasOwn||function(t,e){return QZ(XZ(t),e)},JZ=uU,$Z=0,tH=Math.random(),eH=JZ(1..toString),iH=function(t){return"Symbol("+(void 0===t?"":t)+")_"+eH(++$Z+tH,36)},nH=ZZ,rH=qZ,oH=iH,sH=vZ,aH=mZ,gH=rU.Symbol,lH=nH("wks"),AH=aH?gH.for||gH:gH&&gH.withoutSetter||oH,CH=function(t){return rH(lH,t)||(lH[t]=sH&&rH(gH,t)?gH[t]:AH("Symbol."+t)),lH[t]},IH=NU,hH=tZ,cH=kZ,dH=PZ,uH=TypeError,fH=CH("toPrimitive"),pH=function(t,e){if(!hH(t)||cH(t))return t;var i,n=dH(t,fH);if(n){if(void 0===e&&(e="default"),i=IH(n,t,e),!hH(i)||cH(i))return i;throw new uH("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var i,n;if("string"===e&&jZ(i=t.toString)&&!LZ(n=MZ(i,t)))return n;if(jZ(i=t.valueOf)&&!LZ(n=MZ(i,t)))return n;if("string"!==e&&jZ(i=t.toString)&&!LZ(n=MZ(i,t)))return n;throw new BZ("Can't convert object to primitive value")}(t,e)},vH=kZ,mH=function(t){var e=pH(t,"string");return vH(e)?e:e+""},yH=tZ,bH=rU.document,wH=yH(bH)&&yH(bH.createElement),xH=function(t){return wH?bH.createElement(t):{}},kH=xH,EH=!OU&&!oU((function(){return 7!==Object.defineProperty(kH("div"),"a",{get:function(){return 7}}).a})),SH=OU,TH=NU,OH=DU,_H=FU,RH=qU,NH=mH,DH=qZ,PH=EH,MH=Object.getOwnPropertyDescriptor;TU.f=SH?MH:function(t,e){if(t=RH(t),e=NH(e),PH)try{return MH(t,e)}catch(t){}if(DH(t,e))return _H(!TH(OH.f,t,e),t[e])};var jH=oU,LH=SU,BH=/#|\.prototype\./,FH=function(t,e){var i=VH[zH(t)];return i===WH||i!==GH&&(LH(e)?jH(e):!!e)},zH=FH.normalize=function(t){return String(t).replace(BH,".").toLowerCase()},VH=FH.data={},GH=FH.NATIVE="N",WH=FH.POLYFILL="P",UH=FH,ZH=RZ,HH=sU,YH=wU(wU.bind),KH=function(t,e){return ZH(t),void 0===e?t:HH?YH(t,e):function(){return t.apply(e,arguments)}},XH={},QH=OU&&oU((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),qH=tZ,JH=String,$H=TypeError,tY=function(t){if(qH(t))return t;throw new $H(JH(t)+" is not an object")},eY=OU,iY=EH,nY=QH,rY=tY,oY=mH,sY=TypeError,aY=Object.defineProperty,gY=Object.getOwnPropertyDescriptor,lY="enumerable",AY="configurable",CY="writable";XH.f=eY?nY?function(t,e,i){if(rY(t),e=oY(e),rY(i),"function"==typeof t&&"prototype"===e&&"value"in i&&CY in i&&!i[CY]){var n=gY(t,e);n&&n[CY]&&(t[e]=i.value,i={configurable:AY in i?i[AY]:n[AY],enumerable:lY in i?i[lY]:n[lY],writable:!1})}return aY(t,e,i)}:aY:function(t,e,i){if(rY(t),e=oY(e),rY(i),iY)try{return aY(t,e,i)}catch(t){}if("get"in i||"set"in i)throw new sY("Accessors not supported");return"value"in i&&(t[e]=i.value),t};var IY=XH,hY=FU,cY=OU?function(t,e,i){return IY.f(t,e,hY(1,i))}:function(t,e,i){return t[e]=i,t},dY=rU,uY=CU,fY=wU,pY=SU,vY=TU.f,mY=UH,yY=eZ,bY=KH,wY=cY,xY=qZ,kY=function(t){var e=function(i,n,r){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(i);case 2:return new t(i,n)}return new t(i,n,r)}return uY(t,this,arguments)};return e.prototype=t.prototype,e},EY=function(t,e){var i,n,r,o,s,a,g,l,A,C=t.target,I=t.global,h=t.stat,c=t.proto,d=I?dY:h?dY[C]:(dY[C]||{}).prototype,u=I?yY:yY[C]||wY(yY,C,{})[C],f=u.prototype;for(o in e)n=!(i=mY(I?o:C+(h?".":"#")+o,t.forced))&&d&&xY(d,o),a=u[o],n&&(g=t.dontCallGetSet?(A=vY(d,o))&&A.value:d[o]),s=n&&g?g:e[o],n&&typeof a==typeof s||(l=t.bind&&n?bY(s,dY):t.wrap&&n?kY(s):c&&pY(s)?fY(s):s,(t.sham||s&&s.sham||a&&a.sham)&&wY(l,"sham",!0),wY(u,o,l),c&&(xY(yY,r=C+"Prototype")||wY(yY,r,{}),wY(yY[r],o,s),t.real&&f&&(i||!f[o])&&wY(f,o,s)))},SY=EY,TY=OU,OY=XH.f;SY({target:"Object",stat:!0,forced:Object.defineProperty!==OY,sham:!TY},{defineProperty:OY});var _Y=eZ.Object,RY=iU.exports=function(t,e,i){return _Y.defineProperty(t,e,i)};_Y.defineProperty.sham&&(RY.sham=!0);var NY=iU.exports,DY=NY,PY=eU(DY),MY=mU,jY=Array.isArray||function(t){return"Array"===MY(t)},LY=Math.ceil,BY=Math.floor,FY=Math.trunc||function(t){var e=+t;return(e>0?BY:LY)(e)},zY=function(t){var e=+t;return e!=e||0===e?0:FY(e)},VY=zY,GY=Math.min,WY=function(t){return(e=t.length)>0?GY(VY(e),9007199254740991):0;var e},UY=TypeError,ZY=function(t){if(t>9007199254740991)throw UY("Maximum allowed index exceeded");return t},HY=mH,YY=XH,KY=FU,XY=function(t,e,i){var n=HY(e);n in t?YY.f(t,n,KY(0,i)):t[n]=i},QY={};QY[CH("toStringTag")]="z";var qY="[object z]"===String(QY),JY=qY,$Y=SU,tK=mU,eK=CH("toStringTag"),iK=Object,nK="Arguments"===tK(function(){return arguments}()),rK=JY?tK:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=iK(t),eK))?i:nK?tK(e):"Object"===(n=tK(e))&&$Y(e.callee)?"Arguments":n},oK=SU,sK=WZ,aK=uU(Function.toString);oK(sK.inspectSource)||(sK.inspectSource=function(t){return aK(t)});var gK=sK.inspectSource,lK=uU,AK=oU,CK=SU,IK=rK,hK=gK,cK=function(){},dK=[],uK=sZ("Reflect","construct"),fK=/^\s*(?:class|function)\b/,pK=lK(fK.exec),vK=!fK.test(cK),mK=function(t){if(!CK(t))return!1;try{return uK(cK,dK,t),!0}catch(t){return!1}},yK=function(t){if(!CK(t))return!1;switch(IK(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return vK||!!pK(fK,hK(t))}catch(t){return!0}};yK.sham=!0;var bK=!uK||AK((function(){var t;return mK(mK.call)||!mK(Object)||!mK((function(){t=!0}))||t}))?yK:mK,wK=jY,xK=bK,kK=tZ,EK=CH("species"),SK=Array,TK=function(t,e){return new(function(t){var e;return wK(t)&&(e=t.constructor,(xK(e)&&(e===SK||wK(e.prototype))||kK(e)&&null===(e=e[EK]))&&(e=void 0)),void 0===e?SK:e}(t))(0===e?0:e)},OK=oU,_K=dZ,RK=CH("species"),NK=function(t){return _K>=51||!OK((function(){var e=[];return(e.constructor={})[RK]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},DK=EY,PK=oU,MK=jY,jK=tZ,LK=KZ,BK=WY,FK=ZY,zK=XY,VK=TK,GK=NK,WK=dZ,UK=CH("isConcatSpreadable"),ZK=WK>=51||!PK((function(){var t=[];return t[UK]=!1,t.concat()[0]!==t})),HK=function(t){if(!jK(t))return!1;var e=t[UK];return void 0!==e?!!e:MK(t)};DK({target:"Array",proto:!0,arity:1,forced:!ZK||!GK("concat")},{concat:function(t){var e,i,n,r,o,s=LK(this),a=VK(s,0),g=0;for(e=-1,n=arguments.length;e<n;e++)if(HK(o=-1===e?s:arguments[e]))for(r=BK(o),FK(g+r),i=0;i<r;i++,g++)i in o&&zK(a,g,o[i]);else FK(g+1),zK(a,g++,o);return a.length=g,a}});var YK=rK,KK=String,XK=function(t){if("Symbol"===YK(t))throw new TypeError("Cannot convert a Symbol value to a string");return KK(t)},QK={},qK=zY,JK=Math.max,$K=Math.min,tX=function(t,e){var i=qK(t);return i<0?JK(i+e,0):$K(i,e)},eX=qU,iX=tX,nX=WY,rX=function(t){return function(e,i,n){var r,o=eX(e),s=nX(o),a=iX(n,s);if(t&&i!=i){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===i)return t||a||0;return!t&&-1}},oX={includes:rX(!0),indexOf:rX(!1)},sX={},aX=qZ,gX=qU,lX=oX.indexOf,AX=sX,CX=uU([].push),IX=function(t,e){var i,n=gX(t),r=0,o=[];for(i in n)!aX(AX,i)&&aX(n,i)&&CX(o,i);for(;e.length>r;)aX(n,i=e[r++])&&(~lX(o,i)||CX(o,i));return o},hX=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],cX=IX,dX=hX,uX=Object.keys||function(t){return cX(t,dX)},fX=OU,pX=QH,vX=XH,mX=tY,yX=qU,bX=uX;QK.f=fX&&!pX?Object.defineProperties:function(t,e){mX(t);for(var i,n=yX(e),r=bX(e),o=r.length,s=0;o>s;)vX.f(t,i=r[s++],n[i]);return t};var wX,xX=sZ("document","documentElement"),kX=iH,EX=ZZ("keys"),SX=function(t){return EX[t]||(EX[t]=kX(t))},TX=tY,OX=QK,_X=hX,RX=sX,NX=xX,DX=xH,PX="prototype",MX="script",jX=SX("IE_PROTO"),LX=function(){},BX=function(t){return"<"+MX+">"+t+"</"+MX+">"},FX=function(t){t.write(BX("")),t.close();var e=t.parentWindow.Object;return t=null,e},zX=function(){try{wX=new ActiveXObject("htmlfile")}catch(t){}var t,e,i;zX="undefined"!=typeof document?document.domain&&wX?FX(wX):(e=DX("iframe"),i="java"+MX+":",e.style.display="none",NX.appendChild(e),e.src=String(i),(t=e.contentWindow.document).open(),t.write(BX("document.F=Object")),t.close(),t.F):FX(wX);for(var n=_X.length;n--;)delete zX[PX][_X[n]];return zX()};RX[jX]=!0;var VX=Object.create||function(t,e){var i;return null!==t?(LX[PX]=TX(t),i=new LX,LX[PX]=null,i[jX]=t):i=zX(),void 0===e?i:OX.f(i,e)},GX={},WX=IX,UX=hX.concat("length","prototype");GX.f=Object.getOwnPropertyNames||function(t){return WX(t,UX)};var ZX={},HX=tX,YX=WY,KX=XY,XX=Array,QX=Math.max,qX=function(t,e,i){for(var n=YX(t),r=HX(e,n),o=HX(void 0===i?n:i,n),s=XX(QX(o-r,0)),a=0;r<o;r++,a++)KX(s,a,t[r]);return s.length=a,s},JX=mU,$X=qU,tQ=GX.f,eQ=qX,iQ="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];ZX.f=function(t){return iQ&&"Window"===JX(t)?function(t){try{return tQ(t)}catch(t){return eQ(iQ)}}(t):tQ($X(t))};var nQ={};nQ.f=Object.getOwnPropertySymbols;var rQ=cY,oQ=function(t,e,i,n){return n&&n.enumerable?t[e]=i:rQ(t,e,i),t},sQ=XH,aQ=function(t,e,i){return sQ.f(t,e,i)},gQ={},lQ=CH;gQ.f=lQ;var AQ,CQ,IQ,hQ=eZ,cQ=qZ,dQ=gQ,uQ=XH.f,fQ=function(t){var e=hQ.Symbol||(hQ.Symbol={});cQ(e,t)||uQ(e,t,{value:dQ.f(t)})},pQ=NU,vQ=sZ,mQ=CH,yQ=oQ,bQ=function(){var t=vQ("Symbol"),e=t&&t.prototype,i=e&&e.valueOf,n=mQ("toPrimitive");e&&!e[n]&&yQ(e,n,(function(t){return pQ(i,this)}),{arity:1})},wQ=rK,xQ=qY?{}.toString:function(){return"[object "+wQ(this)+"]"},kQ=qY,EQ=XH.f,SQ=cY,TQ=qZ,OQ=xQ,_Q=CH("toStringTag"),RQ=function(t,e,i,n){if(t){var r=i?t:t.prototype;TQ(r,_Q)||EQ(r,_Q,{configurable:!0,value:e}),n&&!kQ&&SQ(r,"toString",OQ)}},NQ=SU,DQ=rU.WeakMap,PQ=NQ(DQ)&&/native code/.test(String(DQ)),MQ=rU,jQ=tZ,LQ=cY,BQ=qZ,FQ=WZ,zQ=SX,VQ=sX,GQ="Object already initialized",WQ=MQ.TypeError,UQ=MQ.WeakMap;if(PQ||FQ.state){var ZQ=FQ.state||(FQ.state=new UQ);ZQ.get=ZQ.get,ZQ.has=ZQ.has,ZQ.set=ZQ.set,AQ=function(t,e){if(ZQ.has(t))throw new WQ(GQ);return e.facade=t,ZQ.set(t,e),e},CQ=function(t){return ZQ.get(t)||{}},IQ=function(t){return ZQ.has(t)}}else{var HQ=zQ("state");VQ[HQ]=!0,AQ=function(t,e){if(BQ(t,HQ))throw new WQ(GQ);return e.facade=t,LQ(t,HQ,e),e},CQ=function(t){return BQ(t,HQ)?t[HQ]:{}},IQ=function(t){return BQ(t,HQ)}}var YQ={set:AQ,get:CQ,has:IQ,enforce:function(t){return IQ(t)?CQ(t):AQ(t,{})},getterFor:function(t){return function(e){var i;if(!jQ(e)||(i=CQ(e)).type!==t)throw new WQ("Incompatible receiver, "+t+" required");return i}}},KQ=KH,XQ=UU,QQ=KZ,qQ=WY,JQ=TK,$Q=uU([].push),tq=function(t){var e=1===t,i=2===t,n=3===t,r=4===t,o=6===t,s=7===t,a=5===t||o;return function(g,l,A,C){for(var I,h,c=QQ(g),d=XQ(c),u=KQ(l,A),f=qQ(d),p=0,v=C||JQ,m=e?v(g,f):i||s?v(g,0):void 0;f>p;p++)if((a||p in d)&&(h=u(I=d[p],p,c),t))if(e)m[p]=h;else if(h)switch(t){case 3:return!0;case 5:return I;case 6:return p;case 2:$Q(m,I)}else switch(t){case 4:return!1;case 7:$Q(m,I)}return o?-1:n||r?r:m}},eq={forEach:tq(0),map:tq(1),filter:tq(2),some:tq(3),every:tq(4),find:tq(5),findIndex:tq(6),filterReject:tq(7)},iq=EY,nq=rU,rq=NU,oq=uU,sq=OU,aq=vZ,gq=oU,lq=qZ,Aq=aZ,Cq=tY,Iq=qU,hq=mH,cq=XK,dq=FU,uq=VX,fq=uX,pq=GX,vq=ZX,mq=nQ,yq=TU,bq=XH,wq=QK,xq=DU,kq=oQ,Eq=aQ,Sq=ZZ,Tq=sX,Oq=iH,_q=CH,Rq=gQ,Nq=fQ,Dq=bQ,Pq=RQ,Mq=YQ,jq=eq.forEach,Lq=SX("hidden"),Bq="Symbol",Fq="prototype",zq=Mq.set,Vq=Mq.getterFor(Bq),Gq=Object[Fq],Wq=nq.Symbol,Uq=Wq&&Wq[Fq],Zq=nq.RangeError,Hq=nq.TypeError,Yq=nq.QObject,Kq=yq.f,Xq=bq.f,Qq=vq.f,qq=xq.f,Jq=oq([].push),$q=Sq("symbols"),tJ=Sq("op-symbols"),eJ=Sq("wks"),iJ=!Yq||!Yq[Fq]||!Yq[Fq].findChild,nJ=function(t,e,i){var n=Kq(Gq,e);n&&delete Gq[e],Xq(t,e,i),n&&t!==Gq&&Xq(Gq,e,n)},rJ=sq&&gq((function(){return 7!==uq(Xq({},"a",{get:function(){return Xq(this,"a",{value:7}).a}})).a}))?nJ:Xq,oJ=function(t,e){var i=$q[t]=uq(Uq);return zq(i,{type:Bq,tag:t,description:e}),sq||(i.description=e),i},sJ=function(t,e,i){t===Gq&&sJ(tJ,e,i),Cq(t);var n=hq(e);return Cq(i),lq($q,n)?(i.enumerable?(lq(t,Lq)&&t[Lq][n]&&(t[Lq][n]=!1),i=uq(i,{enumerable:dq(0,!1)})):(lq(t,Lq)||Xq(t,Lq,dq(1,{})),t[Lq][n]=!0),rJ(t,n,i)):Xq(t,n,i)},aJ=function(t,e){Cq(t);var i=Iq(e),n=fq(i).concat(CJ(i));return jq(n,(function(e){sq&&!rq(gJ,i,e)||sJ(t,e,i[e])})),t},gJ=function(t){var e=hq(t),i=rq(qq,this,e);return!(this===Gq&&lq($q,e)&&!lq(tJ,e))&&(!(i||!lq(this,e)||!lq($q,e)||lq(this,Lq)&&this[Lq][e])||i)},lJ=function(t,e){var i=Iq(t),n=hq(e);if(i!==Gq||!lq($q,n)||lq(tJ,n)){var r=Kq(i,n);return!r||!lq($q,n)||lq(i,Lq)&&i[Lq][n]||(r.enumerable=!0),r}},AJ=function(t){var e=Qq(Iq(t)),i=[];return jq(e,(function(t){lq($q,t)||lq(Tq,t)||Jq(i,t)})),i},CJ=function(t){var e=t===Gq,i=Qq(e?tJ:Iq(t)),n=[];return jq(i,(function(t){!lq($q,t)||e&&!lq(Gq,t)||Jq(n,$q[t])})),n};aq||(kq(Uq=(Wq=function(){if(Aq(Uq,this))throw new Hq("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?cq(arguments[0]):void 0,e=Oq(t),i=function(t){var n=void 0===this?nq:this;n===Gq&&rq(i,tJ,t),lq(n,Lq)&&lq(n[Lq],e)&&(n[Lq][e]=!1);var r=dq(1,t);try{rJ(n,e,r)}catch(t){if(!(t instanceof Zq))throw t;nJ(n,e,r)}};return sq&&iJ&&rJ(Gq,e,{configurable:!0,set:i}),oJ(e,t)})[Fq],"toString",(function(){return Vq(this).tag})),kq(Wq,"withoutSetter",(function(t){return oJ(Oq(t),t)})),xq.f=gJ,bq.f=sJ,wq.f=aJ,yq.f=lJ,pq.f=vq.f=AJ,mq.f=CJ,Rq.f=function(t){return oJ(_q(t),t)},sq&&Eq(Uq,"description",{configurable:!0,get:function(){return Vq(this).description}})),iq({global:!0,constructor:!0,wrap:!0,forced:!aq,sham:!aq},{Symbol:Wq}),jq(fq(eJ),(function(t){Nq(t)})),iq({target:Bq,stat:!0,forced:!aq},{useSetter:function(){iJ=!0},useSimple:function(){iJ=!1}}),iq({target:"Object",stat:!0,forced:!aq,sham:!sq},{create:function(t,e){return void 0===e?uq(t):aJ(uq(t),e)},defineProperty:sJ,defineProperties:aJ,getOwnPropertyDescriptor:lJ}),iq({target:"Object",stat:!0,forced:!aq},{getOwnPropertyNames:AJ}),Dq(),Pq(Wq,Bq),Tq[Lq]=!0;var IJ=vZ&&!!Symbol.for&&!!Symbol.keyFor,hJ=EY,cJ=sZ,dJ=qZ,uJ=XK,fJ=ZZ,pJ=IJ,vJ=fJ("string-to-symbol-registry"),mJ=fJ("symbol-to-string-registry");hJ({target:"Symbol",stat:!0,forced:!pJ},{for:function(t){var e=uJ(t);if(dJ(vJ,e))return vJ[e];var i=cJ("Symbol")(e);return vJ[e]=i,mJ[i]=e,i}});var yJ=EY,bJ=qZ,wJ=kZ,xJ=SZ,kJ=IJ,EJ=ZZ("symbol-to-string-registry");yJ({target:"Symbol",stat:!0,forced:!kJ},{keyFor:function(t){if(!wJ(t))throw new TypeError(xJ(t)+" is not a symbol");if(bJ(EJ,t))return EJ[t]}});var SJ=uU([].slice),TJ=jY,OJ=SU,_J=mU,RJ=XK,NJ=uU([].push),DJ=EY,PJ=sZ,MJ=CU,jJ=NU,LJ=uU,BJ=oU,FJ=SU,zJ=kZ,VJ=SJ,GJ=vZ,WJ=String,UJ=PJ("JSON","stringify"),ZJ=LJ(/./.exec),HJ=LJ("".charAt),YJ=LJ("".charCodeAt),KJ=LJ("".replace),XJ=LJ(1..toString),QJ=/[\uD800-\uDFFF]/g,qJ=/^[\uD800-\uDBFF]$/,JJ=/^[\uDC00-\uDFFF]$/,$J=!GJ||BJ((function(){var t=PJ("Symbol")("stringify detection");return"[null]"!==UJ([t])||"{}"!==UJ({a:t})||"{}"!==UJ(Object(t))})),t$=BJ((function(){return'"\\udf06\\ud834"'!==UJ("\udf06\ud834")||'"\\udead"'!==UJ("\udead")})),e$=function(t,e){var i=VJ(arguments),n=function(t){if(OJ(t))return t;if(TJ(t)){for(var e=t.length,i=[],n=0;n<e;n++){var r=t[n];"string"==typeof r?NJ(i,r):"number"!=typeof r&&"Number"!==_J(r)&&"String"!==_J(r)||NJ(i,RJ(r))}var o=i.length,s=!0;return function(t,e){if(s)return s=!1,e;if(TJ(this))return e;for(var n=0;n<o;n++)if(i[n]===t)return e}}}(e);if(FJ(n)||void 0!==t&&!zJ(t))return i[1]=function(t,e){if(FJ(n)&&(e=jJ(n,this,WJ(t),e)),!zJ(e))return e},MJ(UJ,null,i)},i$=function(t,e,i){var n=HJ(i,e-1),r=HJ(i,e+1);return ZJ(qJ,t)&&!ZJ(JJ,r)||ZJ(JJ,t)&&!ZJ(qJ,n)?"\\u"+XJ(YJ(t,0),16):t};UJ&&DJ({target:"JSON",stat:!0,arity:3,forced:$J||t$},{stringify:function(t,e,i){var n=VJ(arguments),r=MJ($J?e$:UJ,null,n);return t$&&"string"==typeof r?KJ(r,QJ,i$):r}});var n$=nQ,r$=KZ;EY({target:"Object",stat:!0,forced:!vZ||oU((function(){n$.f(1)}))},{getOwnPropertySymbols:function(t){var e=n$.f;return e?e(r$(t)):[]}}),fQ("asyncIterator"),fQ("hasInstance"),fQ("isConcatSpreadable"),fQ("iterator"),fQ("match"),fQ("matchAll"),fQ("replace"),fQ("search"),fQ("species"),fQ("split");var o$=bQ;fQ("toPrimitive"),o$();var s$=sZ,a$=RQ;fQ("toStringTag"),a$(s$("Symbol"),"Symbol"),fQ("unscopables"),RQ(rU.JSON,"JSON",!0);var g$,l$,A$,C$=eZ.Symbol,I$={},h$=OU,c$=qZ,d$=Function.prototype,u$=h$&&Object.getOwnPropertyDescriptor,f$=c$(d$,"name"),p$={EXISTS:f$,PROPER:f$&&"something"===function(){}.name,CONFIGURABLE:f$&&(!h$||h$&&u$(d$,"name").configurable)},v$=!oU((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),m$=qZ,y$=SU,b$=KZ,w$=v$,x$=SX("IE_PROTO"),k$=Object,E$=k$.prototype,S$=w$?k$.getPrototypeOf:function(t){var e=b$(t);if(m$(e,x$))return e[x$];var i=e.constructor;return y$(i)&&e instanceof i?i.prototype:e instanceof k$?E$:null},T$=oU,O$=SU,_$=tZ,R$=VX,N$=S$,D$=oQ,P$=CH("iterator"),M$=!1;[].keys&&("next"in(A$=[].keys())?(l$=N$(N$(A$)))!==Object.prototype&&(g$=l$):M$=!0);var j$=!_$(g$)||T$((function(){var t={};return g$[P$].call(t)!==t}));O$((g$=j$?{}:R$(g$))[P$])||D$(g$,P$,(function(){return this}));var L$={IteratorPrototype:g$,BUGGY_SAFARI_ITERATORS:M$},B$=L$.IteratorPrototype,F$=VX,z$=FU,V$=RQ,G$=I$,W$=function(){return this},U$=uU,Z$=RZ,H$=SU,Y$=String,K$=TypeError,X$=tY,Q$=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=function(t,e,i){try{return U$(Z$(Object.getOwnPropertyDescriptor(t,e)[i]))}catch(t){}}(Object.prototype,"__proto__","set"))(i,[]),e=i instanceof Array}catch(t){}return function(i,n){return X$(i),function(t){if("object"==typeof t||H$(t))return t;throw new K$("Can't set "+Y$(t)+" as a prototype")}(n),e?t(i,n):i.__proto__=n,i}}():void 0),q$=EY,J$=NU,$$=S$,t0=RQ,e0=oQ,i0=I$,n0=p$.PROPER,r0=L$.BUGGY_SAFARI_ITERATORS,o0=CH("iterator"),s0="keys",a0="values",g0="entries",l0=function(){return this},A0=function(t,e,i,n,r,o,s){!function(t,e,i,n){var r=e+" Iterator";t.prototype=F$(B$,{next:z$(+!n,i)}),V$(t,r,!1,!0),G$[r]=W$}(i,e,n);var a,g,l,A=function(t){if(t===r&&d)return d;if(!r0&&t&&t in h)return h[t];switch(t){case s0:case a0:case g0:return function(){return new i(this,t)}}return function(){return new i(this)}},C=e+" Iterator",I=!1,h=t.prototype,c=h[o0]||h["@@iterator"]||r&&h[r],d=!r0&&c||A(r),u="Array"===e&&h.entries||c;if(u&&(a=$$(u.call(new t)))!==Object.prototype&&a.next&&(t0(a,C,!0,!0),i0[C]=l0),n0&&r===a0&&c&&c.name!==a0&&(I=!0,d=function(){return J$(c,this)}),r)if(g={values:A(a0),keys:o?d:A(s0),entries:A(g0)},s)for(l in g)(r0||I||!(l in h))&&e0(h,l,g[l]);else q$({target:e,proto:!0,forced:r0||I},g);return s&&h[o0]!==d&&e0(h,o0,d,{name:r}),i0[e]=d,g},C0=function(t,e){return{value:t,done:e}},I0=qU,h0=I$,c0=YQ;XH.f;var d0=A0,u0=C0,f0="Array Iterator",p0=c0.set,v0=c0.getterFor(f0);d0(Array,"Array",(function(t,e){p0(this,{type:f0,target:I0(t),index:0,kind:e})}),(function(){var t=v0(this),e=t.target,i=t.index++;if(!e||i>=e.length)return t.target=void 0,u0(void 0,!0);switch(t.kind){case"keys":return u0(i,!1);case"values":return u0(e[i],!1)}return u0([i,e[i]],!1)}),"values"),h0.Arguments=h0.Array;var m0=rU,y0=rK,b0=cY,w0=I$,x0=CH("toStringTag");for(var k0 in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var E0=m0[k0],S0=E0&&E0.prototype;S0&&y0(S0)!==x0&&b0(S0,x0,k0),w0[k0]=w0.Array}var T0=C$,O0=CH,_0=XH.f,R0=O0("metadata"),N0=Function.prototype;void 0===N0[R0]&&_0(N0,R0,{value:null}),fQ("asyncDispose"),fQ("dispose"),fQ("metadata");var D0=T0,P0=uU,M0=sZ("Symbol"),j0=M0.keyFor,L0=P0(M0.prototype.valueOf),B0=M0.isRegisteredSymbol||function(t){try{return void 0!==j0(L0(t))}catch(t){return!1}};EY({target:"Symbol",stat:!0},{isRegisteredSymbol:B0});for(var F0=ZZ,z0=sZ,V0=uU,G0=kZ,W0=CH,U0=z0("Symbol"),Z0=U0.isWellKnownSymbol,H0=z0("Object","getOwnPropertyNames"),Y0=V0(U0.prototype.valueOf),K0=F0("wks"),X0=0,Q0=H0(U0),q0=Q0.length;X0<q0;X0++)try{var J0=Q0[X0];G0(U0[J0])&&W0(J0)}catch(t){}var $0=function(t){if(Z0&&Z0(t))return!0;try{for(var e=Y0(t),i=0,n=H0(K0),r=n.length;i<r;i++)if(K0[n[i]]==e)return!0}catch(t){}return!1};EY({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:$0}),fQ("matcher"),fQ("observable"),EY({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:B0}),EY({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:$0}),fQ("metadataKey"),fQ("patternMatch"),fQ("replaceAll");var t1=D0,e1=eU(t1),i1=uU,n1=zY,r1=XK,o1=KU,s1=i1("".charAt),a1=i1("".charCodeAt),g1=i1("".slice),l1=function(t){return function(e,i){var n,r,o=r1(o1(e)),s=n1(i),a=o.length;return s<0||s>=a?t?"":void 0:(n=a1(o,s))<55296||n>56319||s+1===a||(r=a1(o,s+1))<56320||r>57343?t?s1(o,s):n:t?g1(o,s,s+2):r-56320+(n-55296<<10)+65536}},A1=(l1(!1),l1(!0)),C1=XK,I1=YQ,h1=A0,c1=C0,d1="String Iterator",u1=I1.set,f1=I1.getterFor(d1);h1(String,"String",(function(t){u1(this,{type:d1,string:C1(t),index:0})}),(function(){var t,e=f1(this),i=e.string,n=e.index;return n>=i.length?c1(void 0,!0):(t=A1(i,n),e.index+=t.length,c1(t,!1))}));var p1=gQ.f("iterator"),v1=p1,m1=eU(v1);function y1(t){return y1="function"==typeof e1&&"symbol"==typeof m1?function(t){return typeof t}:function(t){return t&&"function"==typeof e1&&t.constructor===e1&&t!==e1.prototype?"symbol":typeof t},y1(t)}var b1=eU(gQ.f("toPrimitive"));function w1(t){var e=function(t){if("object"!==y1(t)||null===t)return t;var e=t[b1];if(void 0!==e){var i=e.call(t,"string");if("object"!==y1(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===y1(e)?e:String(e)}function x1(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),PY(t,w1(n.key),n)}}function k1(t,e,i){return e&&x1(t.prototype,e),i&&x1(t,i),PY(t,"prototype",{writable:!1}),t}function E1(t,e,i){return(e=w1(e))in t?PY(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var S1=uU,T1=RZ,O1=tZ,_1=qZ,R1=SJ,N1=sU,D1=Function,P1=S1([].concat),M1=S1([].join),j1={},L1=N1?D1.bind:function(t){var e=T1(this),i=e.prototype,n=R1(arguments,1),r=function(){var i=P1(n,R1(arguments));return this instanceof r?function(t,e,i){if(!_1(j1,e)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";j1[e]=D1("C,a","return new C("+M1(n,",")+")")}return j1[e](t,i)}(e,i.length,i):e.apply(t,i)};return O1(i)&&(r.prototype=i),r},B1=L1;EY({target:"Function",proto:!0,forced:Function.bind!==B1},{bind:B1});var F1=rU,z1=eZ,V1=function(t,e){var i=z1[t+"Prototype"],n=i&&i[e];if(n)return n;var r=F1[t],o=r&&r.prototype;return o&&o[e]},G1=V1("Function","bind"),W1=aZ,U1=G1,Z1=Function.prototype,H1=function(t){var e=t.bind;return t===Z1||W1(Z1,t)&&e===Z1.bind?U1:e},Y1=eU(H1),K1=RZ,X1=KZ,Q1=UU,q1=WY,J1=TypeError,$1=function(t){return function(e,i,n,r){K1(i);var o=X1(e),s=Q1(o),a=q1(o),g=t?a-1:0,l=t?-1:1;if(n<2)for(;;){if(g in s){r=s[g],g+=l;break}if(g+=l,t?g<0:a<=g)throw new J1("Reduce of empty array with no initial value")}for(;t?g>=0:a>g;g+=l)g in s&&(r=i(r,s[g],g,o));return r}},t2={left:$1(!1),right:$1(!0)},e2=oU,i2=function(t,e){var i=[][t];return!!i&&e2((function(){i.call(null,e||function(){return 1},1)}))},n2="process"===mU(rU.process),r2=t2.left;EY({target:"Array",proto:!0,forced:!n2&&dZ>79&&dZ<83||!i2("reduce")},{reduce:function(t){var e=arguments.length;return r2(this,t,e,e>1?arguments[1]:void 0)}});var o2=V1("Array","reduce"),s2=aZ,a2=o2,g2=Array.prototype,l2=eU((function(t){var e=t.reduce;return t===g2||s2(g2,t)&&e===g2.reduce?a2:e})),A2=eq.filter;EY({target:"Array",proto:!0,forced:!NK("filter")},{filter:function(t){return A2(this,t,arguments.length>1?arguments[1]:void 0)}});var C2=V1("Array","filter"),I2=aZ,h2=C2,c2=Array.prototype,d2=eU((function(t){var e=t.filter;return t===c2||I2(c2,t)&&e===c2.filter?h2:e})),u2=eq.map;EY({target:"Array",proto:!0,forced:!NK("map")},{map:function(t){return u2(this,t,arguments.length>1?arguments[1]:void 0)}});var f2=V1("Array","map"),p2=aZ,v2=f2,m2=Array.prototype,y2=eU((function(t){var e=t.map;return t===m2||p2(m2,t)&&e===m2.map?v2:e})),b2=jY,w2=WY,x2=ZY,k2=KH,E2=function(t,e,i,n,r,o,s,a){for(var g,l,A=r,C=0,I=!!s&&k2(s,a);C<n;)C in i&&(g=I?I(i[C],C,e):i[C],o>0&&b2(g)?(l=w2(g),A=E2(t,e,g,l,A,o-1)-1):(x2(A+1),t[A]=g),A++),C++;return A},S2=E2,T2=RZ,O2=KZ,_2=WY,R2=TK;EY({target:"Array",proto:!0},{flatMap:function(t){var e,i=O2(this),n=_2(i);return T2(t),(e=R2(i,0)).length=S2(e,i,i,n,0,1,t,arguments.length>1?arguments[1]:void 0),e}}),V1("Array","flatMap"),Array.prototype;var N2=NU,D2=tY,P2=PZ,M2=function(t,e,i){var n,r;D2(t);try{if(!(n=P2(t,"return"))){if("throw"===e)throw i;return i}n=N2(n,t)}catch(t){r=!0,n=t}if("throw"===e)throw i;if(r)throw n;return D2(n),i},j2=tY,L2=M2,B2=I$,F2=CH("iterator"),z2=Array.prototype,V2=function(t){return void 0!==t&&(B2.Array===t||z2[F2]===t)},G2=rK,W2=PZ,U2=ZU,Z2=I$,H2=CH("iterator"),Y2=function(t){if(!U2(t))return W2(t,H2)||W2(t,"@@iterator")||Z2[G2(t)]},K2=NU,X2=RZ,Q2=tY,q2=SZ,J2=Y2,$2=TypeError,t3=function(t,e){var i=arguments.length<2?J2(t):e;if(X2(i))return Q2(K2(i,t));throw new $2(q2(t)+" is not iterable")},e3=KH,i3=NU,n3=KZ,r3=function(t,e,i,n){try{return n?e(j2(i)[0],i[1]):e(i)}catch(e){L2(t,"throw",e)}},o3=V2,s3=bK,a3=WY,g3=XY,l3=t3,A3=Y2,C3=Array,I3=CH("iterator"),h3=!1;try{var c3=0,d3={next:function(){return{done:!!c3++}},return:function(){h3=!0}};d3[I3]=function(){return this},Array.from(d3,(function(){throw 2}))}catch(t){}var u3=function(t,e){try{if(!e&&!h3)return!1}catch(t){return!1}var i=!1;try{var n={};n[I3]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch(t){}return i};EY({target:"Array",stat:!0,forced:!u3((function(t){Array.from(t)}))},{from:function(t){var e=n3(t),i=s3(this),n=arguments.length,r=n>1?arguments[1]:void 0,o=void 0!==r;o&&(r=e3(r,n>2?arguments[2]:void 0));var s,a,g,l,A,C,I=A3(e),h=0;if(!I||this===C3&&o3(I))for(s=a3(e),a=i?new this(s):C3(s);s>h;h++)C=o?r(e[h],h):e[h],g3(a,h,C);else for(A=(l=l3(e,I)).next,a=i?new this:[];!(g=i3(A,l)).done;h++)C=o?r3(l,r,[g.value,h],!0):g.value,g3(a,h,C);return a.length=h,a}});var f3=eZ.Array.from,p3=eU(f3),v3=Y2,m3=eU(v3),y3=eU(v3);EY({target:"Array",stat:!0},{isArray:jY});var b3=eZ.Array.isArray,w3=eU(b3),x3=OU,k3=jY,E3=TypeError,S3=Object.getOwnPropertyDescriptor,T3=x3&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}()?function(t,e){if(k3(t)&&!S3(t,"length").writable)throw new E3("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},O3=KZ,_3=WY,R3=T3,N3=ZY;EY({target:"Array",proto:!0,arity:1,forced:oU((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=O3(this),i=_3(e),n=arguments.length;N3(i+n);for(var r=0;r<n;r++)e[i]=arguments[r],i++;return R3(e,i),i}});var D3=V1("Array","push"),P3=aZ,M3=D3,j3=Array.prototype,L3=function(t){var e=t.push;return t===j3||P3(j3,t)&&e===j3.push?M3:e},B3=eU(L3),F3=EY,z3=jY,V3=bK,G3=tZ,W3=tX,U3=WY,Z3=qU,H3=XY,Y3=CH,K3=SJ,X3=NK("slice"),Q3=Y3("species"),q3=Array,J3=Math.max;F3({target:"Array",proto:!0,forced:!X3},{slice:function(t,e){var i,n,r,o=Z3(this),s=U3(o),a=W3(t,s),g=W3(void 0===e?s:e,s);if(z3(o)&&(i=o.constructor,(V3(i)&&(i===q3||z3(i.prototype))||G3(i)&&null===(i=i[Q3]))&&(i=void 0),i===q3||void 0===i))return K3(o,a,g);for(n=new(void 0===i?q3:i)(J3(g-a,0)),r=0;a<g;a++,r++)a in o&&H3(n,r,o[a]);return n.length=r,n}});var $3=V1("Array","slice"),t5=aZ,e5=$3,i5=Array.prototype,n5=function(t){var e=t.slice;return t===i5||t5(i5,t)&&e===i5.slice?e5:e},r5=n5,o5=eU(r5),s5=eU(f3);function a5(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function g5(t,e){var i;if(t){if("string"==typeof t)return a5(t,e);var n=o5(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?s5(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a5(t,e):void 0}}function l5(t,e){return function(t){if(w3(t))return t}(t)||function(t,e){var i=null==t?null:void 0!==e1&&m3(t)||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],g=!0,l=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;g=!1}else for(;!(g=(n=o.call(i)).done)&&(B3(a).call(a,n.value),a.length!==e);g=!0);}catch(t){l=!0,r=t}finally{try{if(!g&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(l)throw r}}return a}}(t,e)||g5(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A5(t){return function(t){if(w3(t))return a5(t)}(t)||function(t){if(void 0!==e1&&null!=m3(t)||null!=t["@@iterator"])return s5(t)}(t)||g5(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C5=eU(T0),I5=V1("Array","concat"),h5=aZ,c5=I5,d5=Array.prototype,u5=eU((function(t){var e=t.concat;return t===d5||h5(d5,t)&&e===d5.concat?c5:e})),f5=eU(n5),p5=sZ,v5=GX,m5=nQ,y5=tY,b5=uU([].concat),w5=p5("Reflect","ownKeys")||function(t){var e=v5.f(y5(t)),i=m5.f;return i?b5(e,i(t)):e};EY({target:"Reflect",stat:!0},{ownKeys:w5});var x5=eU(eZ.Reflect.ownKeys),k5=eU(b3),E5=KZ,S5=uX;EY({target:"Object",stat:!0,forced:oU((function(){S5(1)}))},{keys:function(t){return S5(E5(t))}});var T5=eU(eZ.Object.keys),O5=eq.forEach,_5=i2("forEach")?[].forEach:function(t){return O5(this,t,arguments.length>1?arguments[1]:void 0)};EY({target:"Array",proto:!0,forced:[].forEach!==_5},{forEach:_5});var R5=V1("Array","forEach"),N5=rK,D5=qZ,P5=aZ,M5=R5,j5=Array.prototype,L5={DOMTokenList:!0,NodeList:!0},B5=function(t){var e=t.forEach;return t===j5||P5(j5,t)&&e===j5.forEach||D5(L5,N5(t))?M5:e},F5=eU(B5),z5=EY,V5=jY,G5=uU([].reverse),W5=[1,2];z5({target:"Array",proto:!0,forced:String(W5)===String(W5.reverse())},{reverse:function(){return V5(this)&&(this.length=this.length),G5(this)}});var U5=V1("Array","reverse"),Z5=aZ,H5=U5,Y5=Array.prototype,K5=function(t){var e=t.reverse;return t===Y5||Z5(Y5,t)&&e===Y5.reverse?H5:e},X5=eU(K5),Q5=SZ,q5=TypeError,J5=function(t,e){if(!delete t[e])throw new q5("Cannot delete property "+Q5(e)+" of "+Q5(t))},$5=EY,t8=KZ,e8=tX,i8=zY,n8=WY,r8=T3,o8=ZY,s8=TK,a8=XY,g8=J5,l8=NK("splice"),A8=Math.max,C8=Math.min;$5({target:"Array",proto:!0,forced:!l8},{splice:function(t,e){var i,n,r,o,s,a,g=t8(this),l=n8(g),A=e8(t,l),C=arguments.length;for(0===C?i=n=0:1===C?(i=0,n=l-A):(i=C-2,n=C8(A8(i8(e),0),l-A)),o8(l+i-n),r=s8(g,n),o=0;o<n;o++)(s=A+o)in g&&a8(r,o,g[s]);if(r.length=n,i<n){for(o=A;o<l-n;o++)a=o+i,(s=o+n)in g?g[a]=g[s]:g8(g,a);for(o=l;o>l-n+i;o--)g8(g,o-1)}else if(i>n)for(o=l-n;o>A;o--)a=o+i-1,(s=o+n-1)in g?g[a]=g[s]:g8(g,a);for(o=0;o<i;o++)g[o+A]=arguments[o+2];return r8(g,l-n+i),r}});var I8=V1("Array","splice"),h8=aZ,c8=I8,d8=Array.prototype,u8=eU((function(t){var e=t.splice;return t===d8||h8(d8,t)&&e===d8.splice?c8:e})),f8=OU,p8=uU,v8=NU,m8=oU,y8=uX,b8=nQ,w8=DU,x8=KZ,k8=UU,E8=Object.assign,S8=Object.defineProperty,T8=p8([].concat),O8=!E8||m8((function(){if(f8&&1!==E8({b:1},E8(S8({},"a",{enumerable:!0,get:function(){S8(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol("assign detection"),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach((function(t){e[t]=t})),7!==E8({},t)[i]||y8(E8({},e)).join("")!==n}))?function(t,e){for(var i=x8(t),n=arguments.length,r=1,o=b8.f,s=w8.f;n>r;)for(var a,g=k8(arguments[r++]),l=o?T8(y8(g),o(g)):y8(g),A=l.length,C=0;A>C;)a=l[C++],f8&&!v8(s,g,a)||(i[a]=g[a]);return i}:E8;EY({target:"Object",stat:!0,arity:2,forced:Object.assign!==O8},{assign:O8});var _8=eU(eZ.Object.assign),R8=KZ,N8=S$,D8=v$;EY({target:"Object",stat:!0,forced:oU((function(){N8(1)})),sham:!D8},{getPrototypeOf:function(t){return N8(R8(t))}});var P8=eZ.Object.getPrototypeOf;EY({target:"Object",stat:!0,sham:!OU},{create:VX});var M8=eZ.Object,j8=function(t,e){return M8.create(t,e)},L8=eU(j8),B8=eZ,F8=CU;B8.JSON||(B8.JSON={stringify:JSON.stringify});var z8=eU((function(t,e,i){return F8(B8.JSON.stringify,null,arguments)})),V8="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,G8=TypeError,W8=function(t,e){if(t<e)throw new G8("Not enough arguments");return t},U8=rU,Z8=CU,H8=SU,Y8=V8,K8=gZ,X8=SJ,Q8=W8,q8=U8.Function,J8=/MSIE .\./.test(K8)||Y8&&function(){var t=U8.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}(),$8=function(t,e){var i=e?2:1;return J8?function(n,r){var o=Q8(arguments.length,1)>i,s=H8(n)?n:q8(n),a=o?X8(arguments,i):[],g=o?function(){Z8(s,this,a)}:s;return e?t(g,r):t(g)}:t},t4=EY,e4=rU,i4=$8(e4.setInterval,!0);t4({global:!0,bind:!0,forced:e4.setInterval!==i4},{setInterval:i4});var n4=EY,r4=rU,o4=$8(r4.setTimeout,!0);n4({global:!0,bind:!0,forced:r4.setTimeout!==o4},{setTimeout:o4});var s4=eU(eZ.setTimeout),a4={exports:{}};!function(t){function e(t){if(t)return function(t){return Object.assign(t,e.prototype),t._callbacks=new Map,t}(t);this._callbacks=new Map}e.prototype.on=function(t,e){const i=this._callbacks.get(t)??[];return i.push(e),this._callbacks.set(t,i),this},e.prototype.once=function(t,e){const i=(...n)=>{this.off(t,i),e.apply(this,n)};return i.fn=e,this.on(t,i),this},e.prototype.off=function(t,e){if(void 0===t&&void 0===e)return this._callbacks.clear(),this;if(void 0===e)return this._callbacks.delete(t),this;const i=this._callbacks.get(t);if(i){for(const[t,n]of i.entries())if(n===e||n.fn===e){i.splice(t,1);break}0===i.length?this._callbacks.delete(t):this._callbacks.set(t,i)}return this},e.prototype.emit=function(t,...e){const i=this._callbacks.get(t);if(i){const t=[...i];for(const i of t)i.apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks.get(t)??[]},e.prototype.listenerCount=function(t){if(t)return this.listeners(t).length;let e=0;for(const t of this._callbacks.values())e+=t.length;return e},e.prototype.hasListeners=function(t){return this.listenerCount(t)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(a4);var g4=eU(a4.exports);function l4(){return l4=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},l4.apply(this,arguments)}function A4(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function C4(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var I4,h4="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}:Object.assign,c4=["","webkit","Moz","MS","ms","o"],d4="undefined"==typeof document?{style:{}}:document.createElement("div"),u4=Math.round,f4=Math.abs,p4=Date.now;function v4(t,e){for(var i,n,r=e[0].toUpperCase()+e.slice(1),o=0;o<c4.length;){if((n=(i=c4[o])?i+r:e)in t)return n;o++}}I4="undefined"==typeof window?{}:window;var m4=v4(d4.style,"touchAction"),y4=void 0!==m4,b4="compute",w4="auto",x4="manipulation",k4="none",E4="pan-x",S4="pan-y",T4=function(){if(!y4)return!1;var t={},e=I4.CSS&&I4.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(i){return t[i]=!e||I4.CSS.supports("touch-action",i)})),t}(),O4="ontouchstart"in I4,_4=void 0!==v4(I4,"PointerEvent"),R4=O4&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),N4="touch",D4="mouse",P4=["x","y"],M4=["clientX","clientY"];function j4(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function L4(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function B4(t,e){return t.indexOf(e)>-1}var F4=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===b4&&(t=this.compute()),y4&&this.manager.element.style&&T4[t]&&(this.manager.element.style[m4]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return j4(this.manager.recognizers,(function(e){L4(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(B4(t,k4))return k4;var e=B4(t,E4),i=B4(t,S4);return e&&i?k4:e||i?e?E4:S4:B4(t,x4)?x4:w4}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,r=B4(n,k4)&&!T4[k4],o=B4(n,S4)&&!T4[S4],s=B4(n,E4)&&!T4[E4];if(r){var a=1===t.pointers.length,g=t.distance<2,l=t.deltaTime<250;if(a&&g&&l)return}if(!s||!o)return r||o&&6&i||s&&24&i?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function z4(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function V4(t){var e=t.length;if(1===e)return{x:u4(t[0].clientX),y:u4(t[0].clientY)};for(var i=0,n=0,r=0;r<e;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:u4(i/e),y:u4(n/e)}}function G4(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:u4(t.pointers[i].clientX),clientY:u4(t.pointers[i].clientY)},i++;return{timeStamp:p4(),pointers:e,center:V4(e),deltaX:t.deltaX,deltaY:t.deltaY}}function W4(t,e,i){i||(i=P4);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}function U4(t,e,i){i||(i=P4);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return 180*Math.atan2(r,n)/Math.PI}function Z4(t,e){return t===e?1:f4(t)>=f4(e)?t<0?2:4:e<0?8:16}function H4(t,e,i){return{x:e/t||0,y:i/t||0}}function Y4(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,o=1&e&&n-r==0,s=12&e&&n-r==0;i.isFirst=!!o,i.isFinal=!!s,o&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=G4(e)),r>1&&!i.firstMultiple?i.firstMultiple=G4(e):1===r&&(i.firstMultiple=!1);var o=i.firstInput,s=i.firstMultiple,a=s?s.center:o.center,g=e.center=V4(n);e.timeStamp=p4(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=U4(a,g),e.distance=W4(a,g),function(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}(i,e),e.offsetDirection=Z4(e.deltaX,e.deltaY);var l,A,C=H4(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=C.x,e.overallVelocityY=C.y,e.overallVelocity=f4(C.x)>f4(C.y)?C.x:C.y,e.scale=s?(l=s.pointers,W4((A=n)[0],A[1],M4)/W4(l[0],l[1],M4)):1,e.rotation=s?function(t,e){return U4(e[1],e[0],M4)+U4(t[1],t[0],M4)}(s.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,n,r,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(8!==e.eventType&&(a>25||void 0===s.velocity)){var g=e.deltaX-s.deltaX,l=e.deltaY-s.deltaY,A=H4(a,g,l);n=A.x,r=A.y,i=f4(A.x)>f4(A.y)?A.x:A.y,o=Z4(g,l),t.lastInterval=e}else i=s.velocity,n=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=i,e.velocityX=n,e.velocityY=r,e.direction=o}(i,e);var I,h=t.element,c=e.srcEvent;z4(I=c.composedPath?c.composedPath()[0]:c.path?c.path[0]:c.target,h)&&(h=I),e.target=h}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function K4(t){return t.trim().split(/\s+/g)}function X4(t,e,i){j4(K4(e),(function(e){t.addEventListener(e,i,!1)}))}function Q4(t,e,i){j4(K4(e),(function(e){t.removeEventListener(e,i,!1)}))}function q4(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var J4=function(){function t(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){L4(t.options.enable,[t])&&i.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&X4(this.element,this.evEl,this.domHandler),this.evTarget&&X4(this.target,this.evTarget,this.domHandler),this.evWin&&X4(q4(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Q4(this.element,this.evEl,this.domHandler),this.evTarget&&Q4(this.target,this.evTarget,this.domHandler),this.evWin&&Q4(q4(this.element),this.evWin,this.domHandler)},t}();function $4(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}var t9={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},e9={2:N4,3:"pen",4:D4,5:"kinect"},i9="pointerdown",n9="pointermove pointerup pointercancel";I4.MSPointerEvent&&!I4.PointerEvent&&(i9="MSPointerDown",n9="MSPointerMove MSPointerUp MSPointerCancel");var r9=function(t){function e(){var i,n=e.prototype;return n.evEl=i9,n.evWin=n9,(i=t.apply(this,arguments)||this).store=i.manager.session.pointerEvents=[],i}return A4(e,t),e.prototype.handler=function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=t9[n],o=e9[t.pointerType]||t.pointerType,s=o===N4,a=$4(e,t.pointerId,"pointerId");1&r&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):12&r&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(a,1))},e}(J4);function o9(t){return Array.prototype.slice.call(t,0)}function s9(t,e,i){for(var n=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];$4(r,s)<0&&n.push(t[o]),r[o]=s,o++}return i&&(n=e?n.sort((function(t,i){return t[e]>i[e]})):n.sort()),n}var a9={touchstart:1,touchmove:2,touchend:4,touchcancel:8},g9=function(t){function e(){var i;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(i=t.apply(this,arguments)||this).targetIds={},i}return A4(e,t),e.prototype.handler=function(t){var e=a9[t.type],i=l9.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:N4,srcEvent:t})},e}(J4);function l9(t,e){var i,n,r=o9(t.touches),o=this.targetIds;if(3&e&&1===r.length)return o[r[0].identifier]=!0,[r,r];var s=o9(t.changedTouches),a=[],g=this.target;if(n=r.filter((function(t){return z4(t.target,g)})),1===e)for(i=0;i<n.length;)o[n[i].identifier]=!0,i++;for(i=0;i<s.length;)o[s[i].identifier]&&a.push(s[i]),12&e&&delete o[s[i].identifier],i++;return a.length?[s9(n.concat(a),"identifier",!0),a]:void 0}var A9={mousedown:1,mousemove:2,mouseup:4},C9=function(t){function e(){var i,n=e.prototype;return n.evEl="mousedown",n.evWin="mousemove mouseup",(i=t.apply(this,arguments)||this).pressed=!1,i}return A4(e,t),e.prototype.handler=function(t){var e=A9[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:D4,srcEvent:t}))},e}(J4);function I9(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},n=this.lastTouches;this.lastTouches.push(i),setTimeout((function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)}),2500)}}function h9(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,I9.call(this,e)):12&t&&I9.call(this,e)}function c9(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],o=Math.abs(e-r.x),s=Math.abs(i-r.y);if(o<=25&&s<=25)return!0}return!1}var d9=function(){return function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).handler=function(t,e,i){var r=i.pointerType===N4,o=i.pointerType===D4;if(!(o&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(r)h9.call(C4(C4(n)),e,i);else if(o&&c9.call(C4(C4(n)),i))return;n.callback(t,e,i)}},n.touch=new g9(n.manager,n.handler),n.mouse=new C9(n.manager,n.handler),n.primaryTouch=null,n.lastTouches=[],n}return A4(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(J4)}();function u9(t,e,i){return!!Array.isArray(t)&&(j4(t,i[e],i),!0)}var f9=32,p9=1;function v9(t,e){var i=e.manager;return i?i.get(t):t}function m9(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var y9=function(){function t(t){void 0===t&&(t={}),this.options=l4({enable:!0},t),this.id=p9++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return h4(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(u9(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=v9(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return u9(t,"dropRecognizeWith",this)||(t=v9(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(u9(t,"requireFailure",this))return this;var e=this.requireFail;return-1===$4(e,t=v9(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(u9(t,"dropRequireFailure",this))return this;t=v9(t,this);var e=$4(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<8&&n(e.options.event+m9(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=8&&n(e.options.event+m9(i))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=f9},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=h4({},t);if(!L4(this.options.enable,[this,e]))return this.reset(),void(this.state=f9);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),b9=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,l4({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}A4(e,t);var i=e.prototype;return i.getTouchAction=function(){return[x4]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,r=t.distance<i.threshold,o=t.deltaTime<i.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&o&&n){if(4!==t.eventType)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<i.interval,a=!this.pCenter||W4(this.pCenter,t.center)<i.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0==this.count%i.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),i.interval),2):8}return f9},i.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=f9}),this.options.interval),f9},i.reset=function(){clearTimeout(this._timer)},i.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(y9),w9=function(t){function e(e){return void 0===e&&(e={}),t.call(this,l4({pointers:1},e))||this}A4(e,t);var i=e.prototype;return i.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},i.process=function(t){var e=this.state,i=t.eventType,n=6&e,r=this.attrTest(t);return n&&(8&i||!r)?16|e:n||r?4&i?8|e:2&e?4|e:2:f9},e}(y9);function x9(t){return 16===t?"down":8===t?"up":2===t?"left":4===t?"right":""}var k9=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,l4({event:"pan",threshold:10,pointers:1,direction:30},e))||this).pX=null,i.pY=null,i}A4(e,t);var i=e.prototype;return i.getTouchAction=function(){var t=this.options.direction,e=[];return 6&t&&e.push(S4),24&t&&e.push(E4),e},i.directionTest=function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(6&e.direction?(r=0===o?1:o<0?2:4,i=o!==this.pX,n=Math.abs(t.deltaX)):(r=0===s?1:s<0?8:16,i=s!==this.pY,n=Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},i.attrTest=function(t){return w9.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},i.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var i=x9(e.direction);i&&(e.additionalEvent=this.options.event+i),t.prototype.emit.call(this,e)},e}(w9),E9=function(t){function e(e){return void 0===e&&(e={}),t.call(this,l4({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},e))||this}A4(e,t);var i=e.prototype;return i.getTouchAction=function(){return k9.prototype.getTouchAction.call(this)},i.attrTest=function(e){var i,n=this.options.direction;return 30&n?i=e.overallVelocity:6&n?i=e.overallVelocityX:24&n&&(i=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&f4(i)>this.options.velocity&&4&e.eventType},i.emit=function(t){var e=x9(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(w9),S9=function(t){function e(e){return void 0===e&&(e={}),t.call(this,l4({event:"pinch",threshold:0,pointers:2},e))||this}A4(e,t);var i=e.prototype;return i.getTouchAction=function(){return[k4]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},i.emit=function(e){if(1!==e.scale){var i=e.scale<1?"in":"out";e.additionalEvent=this.options.event+i}t.prototype.emit.call(this,e)},e}(w9),T9=function(t){function e(e){return void 0===e&&(e={}),t.call(this,l4({event:"rotate",threshold:0,pointers:2},e))||this}A4(e,t);var i=e.prototype;return i.getTouchAction=function(){return[k4]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(w9),O9=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,l4({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,i._input=null,i}A4(e,t);var i=e.prototype;return i.getTouchAction=function(){return[w4]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,r=t.distance<i.threshold,o=t.deltaTime>i.time;if(this._input=t,!r||!n||12&t.eventType&&!o)this.reset();else if(1&t.eventType)this.reset(),this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),i.time);else if(4&t.eventType)return 8;return f9},i.reset=function(){clearTimeout(this._timer)},i.emit=function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p4(),this.manager.emit(this.options.event,this._input)))},e}(y9),_9={domEvents:!1,touchAction:b4,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},R9=[[T9,{enable:!1}],[S9,{enable:!1},["rotate"]],[E9,{direction:6}],[k9,{direction:6},["swipe"]],[b9],[b9,{event:"doubletap",taps:2},["tap"]],[O9]];function N9(t,e){var i,n=t.element;n.style&&(j4(t.options.cssProps,(function(r,o){i=v4(n.style,o),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""})),e||(t.oldCssProps={}))}var D9=function(){function t(t,e){var i=this;this.options=h4({},_9,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new(this.options.inputClass||(_4?r9:R4?g9:O4?d9:C9))(this,Y4),this.touchAction=new F4(this,this.options.touchAction),N9(this,!0),j4(this.options.recognizers,(function(t){var e=i.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return h4(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(e.curRecognizer=null,r=null);for(var o=0;o<n.length;)i=n[o],2===e.stopped||r&&i!==r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&14&i.state&&(e.curRecognizer=i,r=i),o++}},e.get=function(t){if(t instanceof y9)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event===t)return e[i];return null},e.add=function(t){if(u9(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(u9(t,"remove",this))return this;var e=this.get(t);if(t){var i=this.recognizers,n=$4(i,e);-1!==n&&(i.splice(n,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var i=this.handlers;return j4(K4(t),(function(t){i[t]=i[t]||[],i[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var i=this.handlers;return j4(K4(t),(function(t){e?i[t]&&i[t].splice($4(i[t],e),1):delete i[t]})),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var i=document.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},e.destroy=function(){this.element&&N9(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),P9={touchstart:1,touchmove:2,touchend:4,touchcancel:8},M9=function(t){function e(){var i,n=e.prototype;return n.evTarget="touchstart",n.evWin="touchstart touchmove touchend touchcancel",(i=t.apply(this,arguments)||this).started=!1,i}return A4(e,t),e.prototype.handler=function(t){var e=P9[t.type];if(1===e&&(this.started=!0),this.started){var i=j9.call(this,t,e);12&e&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:N4,srcEvent:t})}},e}(J4);function j9(t,e){var i=o9(t.touches),n=o9(t.changedTouches);return 12&e&&(i=s9(i.concat(n),"identifier",!0)),[i,n]}function L9(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,n,i),t.apply(this,arguments)}}var B9=L9((function(t,e,i){for(var n=Object.keys(e),r=0;r<n.length;)(!i||i&&void 0===t[n[r]])&&(t[n[r]]=e[n[r]]),r++;return t}),"extend","Use `assign`."),F9=L9((function(t,e){return B9(t,e,!0)}),"merge","Use `assign`.");function z9(t,e,i){var n,r=e.prototype;(n=t.prototype=Object.create(r)).constructor=t,n._super=r,i&&h4(n,i)}function V9(t,e){return function(){return t.apply(e,arguments)}}var G9=function(){var t=function(t,e){return void 0===e&&(e={}),new D9(t,l4({recognizers:R9.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=30,t.DIRECTION_DOWN=16,t.DIRECTION_LEFT=2,t.DIRECTION_RIGHT=4,t.DIRECTION_UP=8,t.DIRECTION_HORIZONTAL=6,t.DIRECTION_VERTICAL=24,t.DIRECTION_NONE=1,t.DIRECTION_DOWN=16,t.INPUT_START=1,t.INPUT_MOVE=2,t.INPUT_END=4,t.INPUT_CANCEL=8,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=f9,t.Manager=D9,t.Input=J4,t.TouchAction=F4,t.TouchInput=g9,t.MouseInput=C9,t.PointerEventInput=r9,t.TouchMouseInput=d9,t.SingleTouchInput=M9,t.Recognizer=y9,t.AttrRecognizer=w9,t.Tap=b9,t.Pan=k9,t.Swipe=E9,t.Pinch=S9,t.Rotate=T9,t.Press=O9,t.on=X4,t.off=Q4,t.each=j4,t.merge=F9,t.extend=B9,t.bindFn=V9,t.assign=h4,t.inherit=z9,t.bindFn=V9,t.prefixed=v4,t.toArray=o9,t.inArray=$4,t.uniqueArray=s9,t.splitStr=K4,t.boolOrFn=L4,t.hasParent=z4,t.addEventListeners=X4,t.removeEventListeners=Q4,t.defaults=h4({},_9,{preset:R9}),t}(),W9=G9;function U9(t,e){var i=void 0!==C5&&y3(t)||t["@@iterator"];if(!i){if(k5(t)||(i=function(t,e){var i;if(t){if("string"==typeof t)return Z9(t,e);var n=f5(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?p3(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z9(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw o}}}}function Z9(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var H9=C5("DELETE");function Y9(){var t=K9.apply(void 0,arguments);return Q9(t),t}function K9(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(e.length<2)return e[0];var n;if(e.length>2)return K9.apply(void 0,u5(n=[Y9(e[0],e[1])]).call(n,A5(f5(e).call(e,2))));var r=e[0],o=e[1];if(r instanceof Date&&o instanceof Date)return r.setTime(o.getTime()),r;var s,a=U9(x5(o));try{for(a.s();!(s=a.n()).done;){var g=s.value;Object.prototype.propertyIsEnumerable.call(o,g)&&(o[g]===H9?delete r[g]:null===r[g]||null===o[g]||"object"!=typeof r[g]||"object"!=typeof o[g]||k5(r[g])||k5(o[g])?r[g]=X9(o[g]):r[g]=K9(r[g],o[g]))}}catch(t){a.e(t)}finally{a.f()}return r}function X9(t){return k5(t)?y2(t).call(t,(function(t){return X9(t)})):"object"==typeof t&&null!==t?t instanceof Date?new Date(t.getTime()):K9({},t):t}function Q9(t){for(var e=0,i=T5(t);e<i.length;e++){var n=i[e];t[n]===H9?delete t[n]:"object"==typeof t[n]&&null!==t[n]&&Q9(t[n])}}var q9="undefined"!=typeof window?window.Hammer||W9:function(){return function(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:()=>({set:t})}}()};function J9(t){var e,i=this;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push((function(){i._dom.overlay.parentNode.removeChild(i._dom.overlay)}));var n=q9(this._dom.overlay);n.on("tap",Y1(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push((function(){n.destroy()}));var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];F5(r).call(r,(function(t){n.on(t,(function(t){t.srcEvent.stopPropagation()}))})),document&&document.body&&(this._onClick=function(e){(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(e.target,t)||i.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push((function(){document.body.removeEventListener("click",i._onClick)}))),this._escListener=function(t){("key"in t?"Escape"===t.key:27===t.keyCode)&&i.deactivate()}}g4(J9.prototype),J9.current=null,J9.prototype.destroy=function(){var t,e;this.deactivate();var i,n=U9(X5(t=u8(e=this._cleanupQueue).call(e,0)).call(t));try{for(n.s();!(i=n.n()).done;)(0,i.value)()}catch(t){n.e(t)}finally{n.f()}},J9.prototype.activate=function(){J9.current&&J9.current.deactivate(),J9.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},J9.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},J9.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var $9=bK,t6=SZ,e6=TypeError,i6=function(t){if($9(t))return t;throw new e6(t6(t)+" is not a constructor")},n6=EY,r6=CU,o6=L1,s6=i6,a6=tY,g6=tZ,l6=VX,A6=oU,C6=sZ("Reflect","construct"),I6=Object.prototype,h6=[].push,c6=A6((function(){function t(){}return!(C6((function(){}),[],t)instanceof t)})),d6=!A6((function(){C6((function(){}))})),u6=c6||d6;n6({target:"Reflect",stat:!0,forced:u6,sham:u6},{construct:function(t,e){s6(t),a6(e);var i=arguments.length<3?t:s6(arguments[2]);if(d6&&!c6)return C6(t,e,i);if(t===i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return r6(h6,n,e),new(r6(o6,t,n))}var r=i.prototype,o=l6(g6(r)?r:I6),s=r6(t,o,e);return g6(s)?s:o}});var f6=eU(eZ.Reflect.construct),p6=eU(eZ.Object.getOwnPropertySymbols),v6={exports:{}},m6=EY,y6=oU,b6=qU,w6=TU.f,x6=OU;m6({target:"Object",stat:!0,forced:!x6||y6((function(){w6(1)})),sham:!x6},{getOwnPropertyDescriptor:function(t,e){return w6(b6(t),e)}});var k6=eZ.Object,E6=v6.exports=function(t,e){return k6.getOwnPropertyDescriptor(t,e)};k6.getOwnPropertyDescriptor.sham&&(E6.sham=!0);var S6=eU(v6.exports),T6=w5,O6=qU,_6=TU,R6=XY;EY({target:"Object",stat:!0,sham:!OU},{getOwnPropertyDescriptors:function(t){for(var e,i,n=O6(t),r=_6.f,o=T6(n),s={},a=0;o.length>a;)void 0!==(i=r(n,e=o[a++]))&&R6(s,e,i);return s}});var N6=eU(eZ.Object.getOwnPropertyDescriptors),D6={exports:{}},P6=EY,M6=OU,j6=QK.f;P6({target:"Object",stat:!0,forced:Object.defineProperties!==j6,sham:!M6},{defineProperties:j6});var L6=eZ.Object,B6=D6.exports=function(t,e){return L6.defineProperties(t,e)};L6.defineProperties.sham&&(B6.sham=!0);var F6=eU(D6.exports),z6=eU(NY);function V6(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var G6=j8,W6=eU(G6);EY({target:"Object",stat:!0},{setPrototypeOf:Q$});var U6=eZ.Object.setPrototypeOf,Z6=eU(U6),H6=eU(H1);function Y6(t,e){var i;return Y6=Z6?H6(i=Z6).call(i):function(t,e){return t.__proto__=e,t},Y6(t,e)}var K6=P8,X6=eU(K6);function Q6(t){var e;return Q6=Z6?H6(e=X6).call(e):function(t){return t.__proto__||X6(t)},Q6(t)}var q6={exports:{}},J6={exports:{}};!function(t){var e=t1,i=v1;function n(r){return t.exports=n="function"==typeof e&&"symbol"==typeof i?function(t){return typeof t}:function(t){return t&&"function"==typeof e&&t.constructor===e&&t!==e.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(J6);var $6=J6.exports,t7=B5,e7=qZ,i7=w5,n7=TU,r7=XH,o7=tZ,s7=cY,a7=Error,g7=uU("".replace),l7=String(new a7("zxcasd").stack),A7=/\n\s*at [^:]*:[^\n]*/,C7=A7.test(l7),I7=FU,h7=!oU((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",I7(1,7)),7!==t.stack)})),c7=cY,d7=h7,u7=Error.captureStackTrace,f7=KH,p7=NU,v7=tY,m7=SZ,y7=V2,b7=WY,w7=aZ,x7=t3,k7=Y2,E7=M2,S7=TypeError,T7=function(t,e){this.stopped=t,this.result=e},O7=T7.prototype,_7=function(t,e,i){var n,r,o,s,a,g,l,A=i&&i.that,C=!(!i||!i.AS_ENTRIES),I=!(!i||!i.IS_RECORD),h=!(!i||!i.IS_ITERATOR),c=!(!i||!i.INTERRUPTED),d=f7(e,A),u=function(t){return n&&E7(n,"normal",t),new T7(!0,t)},f=function(t){return C?(v7(t),c?d(t[0],t[1],u):d(t[0],t[1])):c?d(t,u):d(t)};if(I)n=t.iterator;else if(h)n=t;else{if(!(r=k7(t)))throw new S7(m7(t)+" is not iterable");if(y7(r)){for(o=0,s=b7(t);s>o;o++)if((a=f(t[o]))&&w7(O7,a))return a;return new T7(!1)}n=x7(t,r)}for(g=I?t.next:n.next;!(l=p7(g,n)).done;){try{a=f(l.value)}catch(t){E7(n,"throw",t)}if("object"==typeof a&&a&&w7(O7,a))return a}return new T7(!1)},R7=XK,N7=EY,D7=aZ,P7=S$,M7=Q$,j7=VX,L7=cY,B7=FU,F7=function(t,e,i,n){d7&&(u7?u7(t,e):c7(t,"stack",function(t,e){if(C7&&"string"==typeof t&&!a7.prepareStackTrace)for(;e--;)t=g7(t,A7,"");return t}(i,n)))},z7=_7,V7=CH("toStringTag"),G7=Error,W7=[].push,U7=function(t,e){var i,n,r,o=D7(Z7,this);M7?i=M7(new G7,o?P7(this):Z7):(i=o?this:j7(Z7),L7(i,V7,"Error")),void 0!==e&&L7(i,"message",function(t,e){return void 0===t?arguments.length<2?"":e:R7(t)}(e)),F7(i,U7,i.stack,1),arguments.length>2&&(n=i,o7(r=arguments[2])&&"cause"in r&&s7(n,"cause",r.cause));var s=[];return z7(t,W7,{that:s}),L7(i,"errors",s),i};M7?M7(U7,G7):function(t,e,i){for(var n=i7(e),r=r7.f,o=n7.f,s=0;s<n.length;s++){var a=n[s];e7(t,a)||i&&e7(i,a)||r(t,a,o(e,a))}}(U7,G7,{name:!0});var Z7=U7.prototype=j7(G7.prototype,{constructor:B7(1,U7),message:B7(1,""),name:B7(1,"AggregateError")});N7({global:!0,constructor:!0,arity:2},{AggregateError:U7});var H7,Y7,K7,X7,Q7=sZ,q7=aQ,J7=OU,$7=CH("species"),ttt=function(t){var e=Q7(t);J7&&e&&!e[$7]&&q7(e,$7,{configurable:!0,get:function(){return this}})},ett=aZ,itt=TypeError,ntt=function(t,e){if(ett(e,t))return t;throw new itt("Incorrect invocation")},rtt=tY,ott=i6,stt=ZU,att=CH("species"),gtt=function(t,e){var i,n=rtt(t).constructor;return void 0===n||stt(i=rtt(n)[att])?e:ott(i)},ltt=/(?:ipad|iphone|ipod).*applewebkit/i.test(gZ),Att=rU,Ctt=CU,Itt=KH,htt=SU,ctt=qZ,dtt=oU,utt=xX,ftt=SJ,ptt=xH,vtt=W8,mtt=ltt,ytt=n2,btt=Att.setImmediate,wtt=Att.clearImmediate,xtt=Att.process,ktt=Att.Dispatch,Ett=Att.Function,Stt=Att.MessageChannel,Ttt=Att.String,Ott=0,_tt={},Rtt="onreadystatechange";dtt((function(){H7=Att.location}));var Ntt=function(t){if(ctt(_tt,t)){var e=_tt[t];delete _tt[t],e()}},Dtt=function(t){return function(){Ntt(t)}},Ptt=function(t){Ntt(t.data)},Mtt=function(t){Att.postMessage(Ttt(t),H7.protocol+"//"+H7.host)};btt&&wtt||(btt=function(t){vtt(arguments.length,1);var e=htt(t)?t:Ett(t),i=ftt(arguments,1);return _tt[++Ott]=function(){Ctt(e,void 0,i)},Y7(Ott),Ott},wtt=function(t){delete _tt[t]},ytt?Y7=function(t){xtt.nextTick(Dtt(t))}:ktt&&ktt.now?Y7=function(t){ktt.now(Dtt(t))}:Stt&&!mtt?(X7=(K7=new Stt).port2,K7.port1.onmessage=Ptt,Y7=Itt(X7.postMessage,X7)):Att.addEventListener&&htt(Att.postMessage)&&!Att.importScripts&&H7&&"file:"!==H7.protocol&&!dtt(Mtt)?(Y7=Mtt,Att.addEventListener("message",Ptt,!1)):Y7=Rtt in ptt("script")?function(t){utt.appendChild(ptt("script"))[Rtt]=function(){utt.removeChild(this),Ntt(t)}}:function(t){setTimeout(Dtt(t),0)});var jtt={set:btt,clear:wtt},Ltt=function(){this.head=null,this.tail=null};Ltt.prototype={add:function(t){var e={item:t,next:null},i=this.tail;i?i.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var Btt,Ftt,ztt,Vtt,Gtt,Wtt=Ltt,Utt=/ipad|iphone|ipod/i.test(gZ)&&"undefined"!=typeof Pebble,Ztt=/web0s(?!.*chrome)/i.test(gZ),Htt=rU,Ytt=KH,Ktt=TU.f,Xtt=jtt.set,Qtt=Wtt,qtt=ltt,Jtt=Utt,$tt=Ztt,tet=n2,eet=Htt.MutationObserver||Htt.WebKitMutationObserver,iet=Htt.document,net=Htt.process,ret=Htt.Promise,oet=Ktt(Htt,"queueMicrotask"),set=oet&&oet.value;if(!set){var aet=new Qtt,get=function(){var t,e;for(tet&&(t=net.domain)&&t.exit();e=aet.get();)try{e()}catch(t){throw aet.head&&Btt(),t}t&&t.enter()};qtt||tet||$tt||!eet||!iet?!Jtt&&ret&&ret.resolve?((Vtt=ret.resolve(void 0)).constructor=ret,Gtt=Ytt(Vtt.then,Vtt),Btt=function(){Gtt(get)}):tet?Btt=function(){net.nextTick(get)}:(Xtt=Ytt(Xtt,Htt),Btt=function(){Xtt(get)}):(Ftt=!0,ztt=iet.createTextNode(""),new eet(get).observe(ztt,{characterData:!0}),Btt=function(){ztt.data=Ftt=!Ftt}),set=function(t){aet.head||Btt(),aet.add(t)}}var Aet=set,Cet=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Iet=rU.Promise,het="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,cet=!het&&!n2&&"object"==typeof window&&"object"==typeof document,det=rU,uet=Iet,fet=SU,pet=UH,vet=gK,met=CH,yet=cet,bet=het,wet=dZ,xet=uet&&uet.prototype,ket=met("species"),Eet=!1,Tet=fet(det.PromiseRejectionEvent),Oet=pet("Promise",(function(){var t=vet(uet),e=t!==String(uet);if(!e&&66===wet)return!0;if(!xet.catch||!xet.finally)return!0;if(!wet||wet<51||!/native code/.test(t)){var i=new uet((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};if((i.constructor={})[ket]=n,!(Eet=i.then((function(){}))instanceof n))return!0}return!e&&(yet||bet)&&!Tet})),_et={CONSTRUCTOR:Oet,REJECTION_EVENT:Tet,SUBCLASSING:Eet},Ret={},Net=RZ,Det=TypeError,Pet=function(t){var e,i;this.promise=new t((function(t,n){if(void 0!==e||void 0!==i)throw new Det("Bad Promise constructor");e=t,i=n})),this.resolve=Net(e),this.reject=Net(i)};Ret.f=function(t){return new Pet(t)};var Met,jet,Let=EY,Bet=n2,Fet=rU,zet=NU,Vet=oQ,Get=RQ,Wet=ttt,Uet=RZ,Zet=SU,Het=tZ,Yet=ntt,Ket=gtt,Xet=jtt.set,Qet=Aet,qet=Cet,Jet=Wtt,$et=YQ,tit=Iet,eit=Ret,iit="Promise",nit=_et.CONSTRUCTOR,rit=_et.REJECTION_EVENT,oit=$et.getterFor(iit),sit=$et.set,ait=tit&&tit.prototype,git=tit,lit=ait,Ait=Fet.TypeError,Cit=Fet.document,Iit=Fet.process,hit=eit.f,cit=hit,dit=!!(Cit&&Cit.createEvent&&Fet.dispatchEvent),uit="unhandledrejection",fit=function(t){var e;return!(!Het(t)||!Zet(e=t.then))&&e},pit=function(t,e){var i,n,r,o=e.value,s=1===e.state,a=s?t.ok:t.fail,g=t.resolve,l=t.reject,A=t.domain;try{a?(s||(2===e.rejection&&wit(e),e.rejection=1),!0===a?i=o:(A&&A.enter(),i=a(o),A&&(A.exit(),r=!0)),i===t.promise?l(new Ait("Promise-chain cycle")):(n=fit(i))?zet(n,i,g,l):g(i)):l(o)}catch(t){A&&!r&&A.exit(),l(t)}},vit=function(t,e){t.notified||(t.notified=!0,Qet((function(){for(var i,n=t.reactions;i=n.get();)pit(i,t);t.notified=!1,e&&!t.rejection&&yit(t)})))},mit=function(t,e,i){var n,r;dit?((n=Cit.createEvent("Event")).promise=e,n.reason=i,n.initEvent(t,!1,!0),Fet.dispatchEvent(n)):n={promise:e,reason:i},!rit&&(r=Fet["on"+t])?r(n):t===uit&&function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}("Unhandled promise rejection",i)},yit=function(t){zet(Xet,Fet,(function(){var e,i=t.facade,n=t.value;if(bit(t)&&(e=qet((function(){Bet?Iit.emit("unhandledRejection",n,i):mit(uit,i,n)})),t.rejection=Bet||bit(t)?2:1,e.error))throw e.value}))},bit=function(t){return 1!==t.rejection&&!t.parent},wit=function(t){zet(Xet,Fet,(function(){var e=t.facade;Bet?Iit.emit("rejectionHandled",e):mit("rejectionhandled",e,t.value)}))},xit=function(t,e,i){return function(n){t(e,n,i)}},kit=function(t,e,i){t.done||(t.done=!0,i&&(t=i),t.value=e,t.state=2,vit(t,!0))},Eit=function(t,e,i){if(!t.done){t.done=!0,i&&(t=i);try{if(t.facade===e)throw new Ait("Promise can't be resolved itself");var n=fit(e);n?Qet((function(){var i={done:!1};try{zet(n,e,xit(Eit,i,t),xit(kit,i,t))}catch(e){kit(i,e,t)}})):(t.value=e,t.state=1,vit(t,!1))}catch(e){kit({done:!1},e,t)}}};nit&&(lit=(git=function(t){Yet(this,lit),Uet(t),zet(Met,this);var e=oit(this);try{t(xit(Eit,e),xit(kit,e))}catch(t){kit(e,t)}}).prototype,(Met=function(t){sit(this,{type:iit,done:!1,notified:!1,parent:!1,reactions:new Jet,rejection:!1,state:0,value:void 0})}).prototype=Vet(lit,"then",(function(t,e){var i=oit(this),n=hit(Ket(this,git));return i.parent=!0,n.ok=!Zet(t)||t,n.fail=Zet(e)&&e,n.domain=Bet?Iit.domain:void 0,0===i.state?i.reactions.add(n):Qet((function(){pit(n,i)})),n.promise})),jet=function(){var t=new Met,e=oit(t);this.promise=t,this.resolve=xit(Eit,e),this.reject=xit(kit,e)},eit.f=hit=function(t){return t===git||void 0===t?new jet(t):cit(t)}),Let({global:!0,constructor:!0,wrap:!0,forced:nit},{Promise:git}),Get(git,iit,!1,!0),Wet(iit);var Sit=Iet,Tit=_et.CONSTRUCTOR||!u3((function(t){Sit.all(t).then(void 0,(function(){}))})),Oit=NU,_it=RZ,Rit=Ret,Nit=Cet,Dit=_7;EY({target:"Promise",stat:!0,forced:Tit},{all:function(t){var e=this,i=Rit.f(e),n=i.resolve,r=i.reject,o=Nit((function(){var i=_it(e.resolve),o=[],s=0,a=1;Dit(t,(function(t){var g=s++,l=!1;a++,Oit(i,e,t).then((function(t){l||(l=!0,o[g]=t,--a||n(o))}),r)})),--a||n(o)}));return o.error&&r(o.value),i.promise}});var Pit=EY,Mit=_et.CONSTRUCTOR;Iet&&Iet.prototype,Pit({target:"Promise",proto:!0,forced:Mit,real:!0},{catch:function(t){return this.then(void 0,t)}});var jit=NU,Lit=RZ,Bit=Ret,Fit=Cet,zit=_7;EY({target:"Promise",stat:!0,forced:Tit},{race:function(t){var e=this,i=Bit.f(e),n=i.reject,r=Fit((function(){var r=Lit(e.resolve);zit(t,(function(t){jit(r,e,t).then(i.resolve,n)}))}));return r.error&&n(r.value),i.promise}});var Vit=NU,Git=Ret;EY({target:"Promise",stat:!0,forced:_et.CONSTRUCTOR},{reject:function(t){var e=Git.f(this);return Vit(e.reject,void 0,t),e.promise}});var Wit=tY,Uit=tZ,Zit=Ret,Hit=function(t,e){if(Wit(t),Uit(e)&&e.constructor===t)return e;var i=Zit.f(t);return(0,i.resolve)(e),i.promise},Yit=EY,Kit=Iet,Xit=_et.CONSTRUCTOR,Qit=Hit,qit=sZ("Promise"),Jit=!Xit;Yit({target:"Promise",stat:!0,forced:!0},{resolve:function(t){return Qit(Jit&&this===qit?Kit:this,t)}});var $it=NU,tnt=RZ,ent=Ret,int=Cet,nnt=_7;EY({target:"Promise",stat:!0,forced:Tit},{allSettled:function(t){var e=this,i=ent.f(e),n=i.resolve,r=i.reject,o=int((function(){var i=tnt(e.resolve),r=[],o=0,s=1;nnt(t,(function(t){var a=o++,g=!1;s++,$it(i,e,t).then((function(t){g||(g=!0,r[a]={status:"fulfilled",value:t},--s||n(r))}),(function(t){g||(g=!0,r[a]={status:"rejected",reason:t},--s||n(r))}))})),--s||n(r)}));return o.error&&r(o.value),i.promise}});var rnt=NU,ont=RZ,snt=sZ,ant=Ret,gnt=Cet,lnt=_7,Ant="No one promise resolved";EY({target:"Promise",stat:!0,forced:Tit},{any:function(t){var e=this,i=snt("AggregateError"),n=ant.f(e),r=n.resolve,o=n.reject,s=gnt((function(){var n=ont(e.resolve),s=[],a=0,g=1,l=!1;lnt(t,(function(t){var A=a++,C=!1;g++,rnt(n,e,t).then((function(t){C||l||(l=!0,r(t))}),(function(t){C||l||(C=!0,s[A]=t,--g||o(new i(s,Ant)))}))})),--g||o(new i(s,Ant))}));return s.error&&o(s.value),n.promise}});var Cnt=EY,Int=Iet,hnt=oU,cnt=sZ,dnt=SU,unt=gtt,fnt=Hit,pnt=Int&&Int.prototype;Cnt({target:"Promise",proto:!0,real:!0,forced:!!Int&&hnt((function(){pnt.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=unt(this,cnt("Promise")),i=dnt(t);return this.then(i?function(i){return fnt(e,t()).then((function(){return i}))}:t,i?function(i){return fnt(e,t()).then((function(){throw i}))}:t)}});var vnt=eZ.Promise,mnt=Ret;EY({target:"Promise",stat:!0},{withResolvers:function(){var t=mnt.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var ynt=vnt,bnt=Ret,wnt=Cet;EY({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=bnt.f(this),i=wnt(t);return(i.error?e.reject:e.resolve)(i.value),e.promise}});var xnt=ynt,knt=K5;!function(t){var e=$6.default,i=DY,n=t1,r=G6,o=K6,s=t7,a=L3,g=U6,l=xnt,A=knt,C=r5;function I(){t.exports=I=function(){return c},t.exports.__esModule=!0,t.exports.default=t.exports;var h,c={},d=Object.prototype,u=d.hasOwnProperty,f=i||function(t,e,i){t[e]=i.value},p="function"==typeof n?n:{},v=p.iterator||"@@iterator",m=p.asyncIterator||"@@asyncIterator",y=p.toStringTag||"@@toStringTag";function b(t,e,n){return i(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{b({},"")}catch(h){b=function(t,e,i){return t[e]=i}}function w(t,e,i,n){var o=e&&e.prototype instanceof _?e:_,s=r(o.prototype),a=new G(n||[]);return f(s,"_invoke",{value:B(t,i,a)}),s}function x(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}c.wrap=w;var k="suspendedStart",E="suspendedYield",S="executing",T="completed",O={};function _(){}function R(){}function N(){}var D={};b(D,v,(function(){return this}));var P=o&&o(o(W([])));P&&P!==d&&u.call(P,v)&&(D=P);var M=N.prototype=_.prototype=r(D);function j(t){var e;s(e=["next","throw","return"]).call(e,(function(e){b(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,i){function n(r,o,s,a){var g=x(t[r],t,o);if("throw"!==g.type){var l=g.arg,A=l.value;return A&&"object"==e(A)&&u.call(A,"__await")?i.resolve(A.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):i.resolve(A).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,a)}))}a(g.arg)}var r;f(this,"_invoke",{value:function(t,e){function o(){return new i((function(i,r){n(t,e,i,r)}))}return r=r?r.then(o,o):o()}})}function B(t,e,i){var n=k;return function(r,o){if(n===S)throw new Error("Generator is already running");if(n===T){if("throw"===r)throw o;return{value:h,done:!0}}for(i.method=r,i.arg=o;;){var s=i.delegate;if(s){var a=F(s,i);if(a){if(a===O)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===k)throw n=T,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=S;var g=x(t,e,i);if("normal"===g.type){if(n=i.done?T:E,g.arg===O)continue;return{value:g.arg,done:i.done}}"throw"===g.type&&(n=T,i.method="throw",i.arg=g.arg)}}}function F(t,e){var i=e.method,n=t.iterator[i];if(n===h)return e.delegate=null,"throw"===i&&t.iterator.return&&(e.method="return",e.arg=h,F(t,e),"throw"===e.method)||"return"!==i&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+i+"' method")),O;var r=x(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,O;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=h),e.delegate=null,O):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,O)}function z(t){var e,i={tryLoc:t[0]};1 in t&&(i.catchLoc=t[1]),2 in t&&(i.finallyLoc=t[2],i.afterLoc=t[3]),a(e=this.tryEntries).call(e,i)}function V(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function G(t){this.tryEntries=[{tryLoc:"root"}],s(t).call(t,z,this),this.reset(!0)}function W(t){if(t||""===t){var i=t[v];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(u.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=h,e.done=!0,e};return r.next=r}}throw new TypeError(e(t)+" is not iterable")}return R.prototype=N,f(M,"constructor",{value:N,configurable:!0}),f(N,"constructor",{value:R,configurable:!0}),R.displayName=b(N,y,"GeneratorFunction"),c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===R||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return g?g(t,N):(t.__proto__=N,b(t,y,"GeneratorFunction")),t.prototype=r(M),t},c.awrap=function(t){return{__await:t}},j(L.prototype),b(L.prototype,m,(function(){return this})),c.AsyncIterator=L,c.async=function(t,e,i,n,r){void 0===r&&(r=l);var o=new L(w(t,e,i,n),r);return c.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},j(M),b(M,y,"Generator"),b(M,v,(function(){return this})),b(M,"toString",(function(){return"[object Generator]"})),c.keys=function(t){var e=Object(t),i=[];for(var n in e)a(i).call(i,n);return A(i).call(i),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},c.values=W,G.prototype={constructor:G,reset:function(t){var e;if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,s(e=this.tryEntries).call(e,V),!t)for(var i in this)"t"===i.charAt(0)&&u.call(this,i)&&!isNaN(+C(i).call(i,1))&&(this[i]=h)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,n){return o.type="throw",o.arg=t,e.next=i,n&&(e.method="next",e.arg=h),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],o=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=u.call(r,"catchLoc"),a=u.call(r,"finallyLoc");if(s&&a){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&u.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,O):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),O},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),V(i),O}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;V(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:W(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=h),O}},c}t.exports=I,t.exports.__esModule=!0,t.exports.default=t.exports}(q6);var Ent=(0,q6.exports)(),Snt=Ent;try{regeneratorRuntime=Ent}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=Ent:Function("r","regeneratorRuntime = r")(Ent)}var Tnt=eU(Snt),Ont={exports:{}},_nt=oU((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),Rnt=oU,Nnt=tZ,Dnt=mU,Pnt=_nt,Mnt=Object.isExtensible,jnt=Rnt((function(){Mnt(1)}))||Pnt?function(t){return!!Nnt(t)&&(!Pnt||"ArrayBuffer"!==Dnt(t))&&(!Mnt||Mnt(t))}:Mnt,Lnt=!oU((function(){return Object.isExtensible(Object.preventExtensions({}))})),Bnt=EY,Fnt=uU,znt=sX,Vnt=tZ,Gnt=qZ,Wnt=XH.f,Unt=GX,Znt=ZX,Hnt=jnt,Ynt=Lnt,Knt=!1,Xnt=iH("meta"),Qnt=0,qnt=function(t){Wnt(t,Xnt,{value:{objectID:"O"+Qnt++,weakData:{}}})},Jnt=Ont.exports={enable:function(){Jnt.enable=function(){},Knt=!0;var t=Unt.f,e=Fnt([].splice),i={};i[Xnt]=1,t(i).length&&(Unt.f=function(i){for(var n=t(i),r=0,o=n.length;r<o;r++)if(n[r]===Xnt){e(n,r,1);break}return n},Bnt({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Znt.f}))},fastKey:function(t,e){if(!Vnt(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!Gnt(t,Xnt)){if(!Hnt(t))return"F";if(!e)return"E";qnt(t)}return t[Xnt].objectID},getWeakData:function(t,e){if(!Gnt(t,Xnt)){if(!Hnt(t))return!0;if(!e)return!1;qnt(t)}return t[Xnt].weakData},onFreeze:function(t){return Ynt&&Knt&&Hnt(t)&&!Gnt(t,Xnt)&&qnt(t),t}};znt[Xnt]=!0;var $nt=Ont.exports,trt=EY,ert=rU,irt=$nt,nrt=oU,rrt=cY,ort=_7,srt=ntt,art=SU,grt=tZ,lrt=ZU,Art=RQ,Crt=XH.f,Irt=eq.forEach,hrt=OU,crt=YQ.set,drt=YQ.getterFor,urt=function(t,e,i){var n,r=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),s=r?"set":"add",a=ert[t],g=a&&a.prototype,l={};if(hrt&&art(a)&&(o||g.forEach&&!nrt((function(){(new a).entries().next()})))){var A=(n=e((function(e,i){crt(srt(e,A),{type:t,collection:new a}),lrt(i)||ort(i,e[s],{that:e,AS_ENTRIES:r})}))).prototype,C=drt(t);Irt(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"===t||"set"===t;!(t in g)||o&&"clear"===t||rrt(A,t,(function(i,n){var r=C(this).collection;if(!e&&o&&!grt(i))return"get"===t&&void 0;var s=r[t](0===i?0:i,n);return e?this:s}))})),o||Crt(A,"size",{configurable:!0,get:function(){return C(this).collection.size}})}else n=i.getConstructor(e,t,r,s),irt.enable();return Art(n,t,!1,!0),l[t]=n,trt({global:!0,forced:!0},l),o||i.setStrong(n,t,r),n},frt=oQ,prt=VX,vrt=aQ,mrt=function(t,e,i){for(var n in e)i&&i.unsafe&&t[n]?t[n]=e[n]:frt(t,n,e[n],i);return t},yrt=KH,brt=ntt,wrt=ZU,xrt=_7,krt=A0,Ert=C0,Srt=ttt,Trt=OU,Ort=$nt.fastKey,_rt=YQ.set,Rrt=YQ.getterFor,Nrt={getConstructor:function(t,e,i,n){var r=t((function(t,r){brt(t,o),_rt(t,{type:e,index:prt(null),first:void 0,last:void 0,size:0}),Trt||(t.size=0),wrt(r)||xrt(r,t[n],{that:t,AS_ENTRIES:i})})),o=r.prototype,s=Rrt(e),a=function(t,e,i){var n,r,o=s(t),a=g(t,e);return a?a.value=i:(o.last=a={index:r=Ort(e,!0),key:e,value:i,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=a),n&&(n.next=a),Trt?o.size++:t.size++,"F"!==r&&(o.index[r]=a)),t},g=function(t,e){var i,n=s(t),r=Ort(e);if("F"!==r)return n.index[r];for(i=n.first;i;i=i.next)if(i.key===e)return i};return mrt(o,{clear:function(){for(var t=s(this),e=t.index,i=t.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete e[i.index],i=i.next;t.first=t.last=void 0,Trt?t.size=0:this.size=0},delete:function(t){var e=this,i=s(e),n=g(e,t);if(n){var r=n.next,o=n.previous;delete i.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),i.first===n&&(i.first=r),i.last===n&&(i.last=o),Trt?i.size--:e.size--}return!!n},forEach:function(t){for(var e,i=s(this),n=yrt(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:i.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!g(this,t)}}),mrt(o,i?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),Trt&&vrt(o,"size",{configurable:!0,get:function(){return s(this).size}}),r},setStrong:function(t,e,i){var n=e+" Iterator",r=Rrt(e),o=Rrt(n);krt(t,e,(function(t,e){_rt(this,{type:n,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?Ert("keys"===e?i.key:"values"===e?i.value:[i.key,i.value],!1):(t.target=void 0,Ert(void 0,!0))}),i?"entries":"values",!i,!0),Srt(e)}};urt("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),Nrt);var Drt=eU(eZ.Map),Prt=eq.some;EY({target:"Array",proto:!0,forced:!i2("some")},{some:function(t){return Prt(this,t,arguments.length>1?arguments[1]:void 0)}});var Mrt=V1("Array","some"),jrt=aZ,Lrt=Mrt,Brt=Array.prototype,Frt=eU((function(t){var e=t.some;return t===Brt||jrt(Brt,t)&&e===Brt.some?Lrt:e})),zrt=V1("Array","keys"),Vrt=rK,Grt=qZ,Wrt=aZ,Urt=zrt,Zrt=Array.prototype,Hrt={DOMTokenList:!0,NodeList:!0},Yrt=eU((function(t){var e=t.keys;return t===Zrt||Wrt(Zrt,t)&&e===Zrt.keys||Grt(Hrt,Vrt(t))?Urt:e})),Krt=qX,Xrt=Math.floor,Qrt=function(t,e){var i=t.length,n=Xrt(i/2);return i<8?qrt(t,e):Jrt(t,Qrt(Krt(t,0,n),e),Qrt(Krt(t,n),e),e)},qrt=function(t,e){for(var i,n,r=t.length,o=1;o<r;){for(n=o,i=t[o];n&&e(t[n-1],i)>0;)t[n]=t[--n];n!==o++&&(t[n]=i)}return t},Jrt=function(t,e,i,n){for(var r=e.length,o=i.length,s=0,a=0;s<r||a<o;)t[s+a]=s<r&&a<o?n(e[s],i[a])<=0?e[s++]:i[a++]:s<r?e[s++]:i[a++];return t},$rt=Qrt,tot=gZ.match(/firefox\/(\d+)/i),eot=!!tot&&+tot[1],iot=/MSIE|Trident/.test(gZ),not=gZ.match(/AppleWebKit\/(\d+)\./),rot=!!not&&+not[1],oot=EY,sot=uU,aot=RZ,got=KZ,lot=WY,Aot=J5,Cot=XK,Iot=oU,hot=$rt,cot=i2,dot=eot,uot=iot,fot=dZ,pot=rot,vot=[],mot=sot(vot.sort),yot=sot(vot.push),bot=Iot((function(){vot.sort(void 0)})),wot=Iot((function(){vot.sort(null)})),xot=cot("sort"),kot=!Iot((function(){if(fot)return fot<70;if(!(dot&&dot>3)){if(uot)return!0;if(pot)return pot<603;var t,e,i,n,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)vot.push({k:e+n,v:i})}for(vot.sort((function(t,e){return e.v-t.v})),n=0;n<vot.length;n++)e=vot[n].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}}));oot({target:"Array",proto:!0,forced:bot||!wot||!xot||!kot},{sort:function(t){void 0!==t&&aot(t);var e=got(this);if(kot)return void 0===t?mot(e):mot(e,t);var i,n,r=[],o=lot(e);for(n=0;n<o;n++)n in e&&yot(r,e[n]);for(hot(r,function(t){return function(e,i){return void 0===i?-1:void 0===e?1:void 0!==t?+t(e,i)||0:Cot(e)>Cot(i)?1:-1}}(t)),i=lot(r),n=0;n<i;)e[n]=r[n++];for(;n<o;)Aot(e,n++);return e}});var Eot=V1("Array","sort"),Sot=aZ,Tot=Eot,Oot=Array.prototype,_ot=eU((function(t){var e=t.sort;return t===Oot||Sot(Oot,t)&&e===Oot.sort?Tot:e})),Rot=V1("Array","values"),Not=rK,Dot=qZ,Pot=aZ,Mot=Rot,jot=Array.prototype,Lot={DOMTokenList:!0,NodeList:!0},Bot=eU((function(t){var e=t.values;return t===jot||Pot(jot,t)&&e===jot.values||Dot(Lot,Not(t))?Mot:e})),Fot=eU(p1),zot=V1("Array","entries"),Vot=rK,Got=qZ,Wot=aZ,Uot=zot,Zot=Array.prototype,Hot={DOMTokenList:!0,NodeList:!0},Yot=eU((function(t){var e=t.entries;return t===Zot||Wot(Zot,t)&&e===Zot.entries||Got(Hot,Vot(t))?Uot:e}));let Kot;const Xot=new Uint8Array(16);function Qot(){if(!Kot&&(Kot="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Kot))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Kot(Xot)}const qot=[];for(let t=0;t<256;++t)qot.push((t+256).toString(16).slice(1));var Jot={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function $ot(t,e,i){if(Jot.randomUUID&&!e&&!t)return Jot.randomUUID();const n=(t=t||{}).random||(t.rng||Qot)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){i=i||0;for(let t=0;t<16;++t)e[i+t]=n[t];return e}return function(t,e=0){return qot[t[e+0]]+qot[t[e+1]]+qot[t[e+2]]+qot[t[e+3]]+"-"+qot[t[e+4]]+qot[t[e+5]]+"-"+qot[t[e+6]]+qot[t[e+7]]+"-"+qot[t[e+8]]+qot[t[e+9]]+"-"+qot[t[e+10]]+qot[t[e+11]]+qot[t[e+12]]+qot[t[e+13]]+qot[t[e+14]]+qot[t[e+15]]}(n)}function tst(t){return"string"==typeof t||"number"==typeof t}var est=function(){function t(e){$W(this,t),E1(this,"_queue",[]),E1(this,"_timeout",null),E1(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}return k1(t,[{key:"setOptions",value:function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,i=0;i<e.length;i++){var n=e[i];n.original?t[n.name]=n.original:delete t[n.name]}this._extended=null}}},{key:"replace",value:function(t,e){var i=this,n=t[e];if(!n)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];i.queue({args:e,fn:n,context:this})}}},{key:"queue",value:function(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var t=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=s4((function(){t.flush()}),this.delay))}},{key:"flush",value:function(){var t,e;F5(t=u8(e=this._queue).call(e,0)).call(t,(function(t){t.fn.apply(t.context||t.fn,t.args||[])}))}}],[{key:"extend",value:function(e,i){var n=new t(i);if(void 0!==e.flush)throw new Error("Target object already has a property flush");e.flush=function(){n.flush()};var r=[{name:"flush",original:void 0}];if(i&&i.replace)for(var o=0;o<i.replace.length;o++){var s=i.replace[o];r.push({name:s,original:e[s]}),n.replace(e,s)}return n._extended={object:e,methods:r},n}}]),t}(),ist=function(){function t(){$W(this,t),E1(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),E1(this,"subscribe",t.prototype.on),E1(this,"unsubscribe",t.prototype.off)}return k1(t,[{key:"_trigger",value:function(t,e,i){var n,r;if("*"===t)throw new Error("Cannot trigger event *");F5(n=u5(r=[]).call(r,A5(this._subscribers[t]),A5(this._subscribers["*"]))).call(n,(function(n){n(t,e,null!=i?i:null)}))}},{key:"on",value:function(t,e){"function"==typeof e&&this._subscribers[t].push(e)}},{key:"off",value:function(t,e){var i;this._subscribers[t]=d2(i=this._subscribers[t]).call(i,(function(t){return t!==e}))}}]),t}();urt("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),Nrt);var nst=eU(eZ.Set),rst=eU(t3);function ost(t,e){var i=void 0!==C5&&y3(t)||t["@@iterator"];if(!i){if(k5(t)||(i=function(t,e){var i;if(t){if("string"==typeof t)return sst(t,e);var n=f5(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?p3(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sst(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw o}}}}function sst(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var ast=function(t){function e(t){$W(this,e),this._pairs=t}return k1(e,[{key:t,value:Tnt.mark((function t(){var e,i,n,r,o;return Tnt.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=ost(this._pairs),t.prev=1,e.s();case 3:if((i=e.n()).done){t.next=9;break}return n=l5(i.value,2),r=n[0],o=n[1],t.next=7,[r,o];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"entries",value:Tnt.mark((function t(){var e,i,n,r,o;return Tnt.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=ost(this._pairs),t.prev=1,e.s();case 3:if((i=e.n()).done){t.next=9;break}return n=l5(i.value,2),r=n[0],o=n[1],t.next=7,[r,o];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"keys",value:Tnt.mark((function t(){var e,i,n,r;return Tnt.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=ost(this._pairs),t.prev=1,e.s();case 3:if((i=e.n()).done){t.next=9;break}return n=l5(i.value,1),r=n[0],t.next=7,r;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"values",value:Tnt.mark((function t(){var e,i,n,r;return Tnt.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=ost(this._pairs),t.prev=1,e.s();case 3:if((i=e.n()).done){t.next=9;break}return n=l5(i.value,2),r=n[1],t.next=7,r;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"toIdArray",value:function(){var t;return y2(t=A5(this._pairs)).call(t,(function(t){return t[0]}))}},{key:"toItemArray",value:function(){var t;return y2(t=A5(this._pairs)).call(t,(function(t){return t[1]}))}},{key:"toEntryArray",value:function(){return A5(this._pairs)}},{key:"toObjectMap",value:function(){var t,e=L8(null),i=ost(this._pairs);try{for(i.s();!(t=i.n()).done;){var n=l5(t.value,2),r=n[0],o=n[1];e[r]=o}}catch(t){i.e(t)}finally{i.f()}return e}},{key:"toMap",value:function(){return new Drt(this._pairs)}},{key:"toIdSet",value:function(){return new nst(this.toIdArray())}},{key:"toItemSet",value:function(){return new nst(this.toItemArray())}},{key:"cache",value:function(){return new e(A5(this._pairs))}},{key:"distinct",value:function(t){var e,i=new nst,n=ost(this._pairs);try{for(n.s();!(e=n.n()).done;){var r=l5(e.value,2),o=r[0],s=r[1];i.add(t(s,o))}}catch(t){n.e(t)}finally{n.f()}return i}},{key:"filter",value:function(t){var i=this._pairs;return new e({[Fot]:()=>Tnt.mark((function e(){var n,r,o,s,a;return Tnt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ost(i),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=10;break}if(o=l5(r.value,2),s=o[0],a=o[1],!t(a,s)){e.next=8;break}return e.next=8,[s,a];case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,12,15,18]])}))()})}},{key:"forEach",value:function(t){var e,i=ost(this._pairs);try{for(i.s();!(e=i.n()).done;){var n=l5(e.value,2),r=n[0];t(n[1],r)}}catch(t){i.e(t)}finally{i.f()}}},{key:"map",value:function(t){var i=this._pairs;return new e({[Fot]:()=>Tnt.mark((function e(){var n,r,o,s,a;return Tnt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ost(i),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return o=l5(r.value,2),s=o[0],a=o[1],e.next=7,[s,t(a,s)];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))()})}},{key:"max",value:function(t){var e=rst(this._pairs),i=e.next();if(i.done)return null;for(var n=i.value[1],r=t(i.value[1],i.value[0]);!(i=e.next()).done;){var o=l5(i.value,2),s=o[0],a=o[1],g=t(a,s);g>r&&(r=g,n=a)}return n}},{key:"min",value:function(t){var e=rst(this._pairs),i=e.next();if(i.done)return null;for(var n=i.value[1],r=t(i.value[1],i.value[0]);!(i=e.next()).done;){var o=l5(i.value,2),s=o[0],a=o[1],g=t(a,s);g<r&&(r=g,n=a)}return n}},{key:"reduce",value:function(t,e){var i,n=ost(this._pairs);try{for(n.s();!(i=n.n()).done;){var r=l5(i.value,2),o=r[0];e=t(e,r[1],o)}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"sort",value:function(t){var i=this;return new e({[Fot]:function(){var e;return rst(_ot(e=A5(i._pairs)).call(e,(function(e,i){var n=l5(e,2),r=n[0],o=n[1],s=l5(i,2),a=s[0],g=s[1];return t(o,g,r,a)})))}})}}]),e}(Fot);function gst(t,e){var i=T5(t);if(p6){var n=p6(t);e&&(n=d2(n).call(n,(function(e){return S6(t,e).enumerable}))),i.push.apply(i,n)}return i}function lst(t){for(var e=1;e<arguments.length;e++){var i,n,r=null!=arguments[e]?arguments[e]:{};e%2?F5(i=gst(Object(r),!0)).call(i,(function(e){E1(t,e,r[e])})):N6?F6(t,N6(r)):F5(n=gst(Object(r))).call(n,(function(e){z6(t,e,S6(r,e))}))}return t}function Ast(t,e){var i=void 0!==C5&&y3(t)||t["@@iterator"];if(!i){if(k5(t)||(i=function(t,e){var i;if(t){if("string"==typeof t)return Cst(t,e);var n=f5(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?p3(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cst(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw o}}}}function Cst(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Ist(t){var e=function(){if("undefined"==typeof Reflect||!f6)return!1;if(f6.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(f6(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Q6(t);if(e){var r=Q6(this).constructor;i=f6(n,arguments,r)}else i=n.apply(this,arguments);return function(t,e){if(e&&("object"===y1(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return V6(t)}(this,i)}}var hst=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=W6(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),PY(t,"prototype",{writable:!1}),e&&Y6(t,e)}(i,t);var e=Ist(i);function i(t,n){var r;return $W(this,i),E1(V6(r=e.call(this)),"_queue",null),t&&!k5(t)&&(n=t,t=[]),r._options=n||{},r._data=new Drt,r.length=0,r._idProp=r._options.fieldId||"id",t&&t.length&&r.add(t),r.setOptions(n),r}return k1(i,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=est.extend(this,{replace:["add","update","remove"]})),t.queue&&"object"==typeof t.queue&&this._queue.setOptions(t.queue)))}},{key:"add",value:function(t,e){var i,n=this,r=[];if(k5(t)){var o=y2(t).call(t,(function(t){return t[n._idProp]}));if(Frt(o).call(o,(function(t){return n._data.has(t)})))throw new Error("A duplicate id was found in the parameter array.");for(var s=0,a=t.length;s<a;s++)i=this._addItem(t[s]),r.push(i)}else{if(!t||"object"!=typeof t)throw new Error("Unknown dataType");i=this._addItem(t),r.push(i)}return r.length&&this._trigger("add",{items:r},e),r}},{key:"update",value:function(t,e){var i=this,n=[],r=[],o=[],s=[],a=this._idProp,g=function(t){var e=t[a];if(null!=e&&i._data.has(e)){var g=t,l=_8({},i._data.get(e)),A=i._updateItem(g);r.push(A),s.push(g),o.push(l)}else{var C=i._addItem(t);n.push(C)}};if(k5(t))for(var l=0,A=t.length;l<A;l++)t[l]&&"object"==typeof t[l]?g(t[l]):console.warn("Ignoring input item, which is not an object at index "+l);else{if(!t||"object"!=typeof t)throw new Error("Unknown dataType");g(t)}if(n.length&&this._trigger("add",{items:n},e),r.length){var C={items:r,oldData:o,data:s};this._trigger("update",C,e)}return u5(n).call(n,r)}},{key:"updateOnly",value:function(t,e){var i,n=this;k5(t)||(t=[t]);var r=y2(i=y2(t).call(t,(function(t){var e=n._data.get(t[n._idProp]);if(null==e)throw new Error("Updating non-existent items is not allowed.");return{oldData:e,update:t}}))).call(i,(function(t){var e=t.oldData,i=t.update,r=e[n._idProp],o=function(t){for(var e,i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return Y9.apply(void 0,u5(e=[{},t]).call(e,n))}(e,i);return n._data.set(r,o),{id:r,oldData:e,updatedData:o}}));if(r.length){var o={items:y2(r).call(r,(function(t){return t.id})),oldData:y2(r).call(r,(function(t){return t.oldData})),data:y2(r).call(r,(function(t){return t.updatedData}))};return this._trigger("update",o,e),o.items}return[]}},{key:"get",value:function(t,e){var i=void 0,n=void 0,r=void 0;tst(t)?(i=t,r=e):k5(t)?(n=t,r=e):r=t;var o,s=r&&"Object"===r.returnType?"Object":"Array",a=r&&d2(r),g=[],l=void 0,A=void 0,C=void 0;if(null!=i)(l=this._data.get(i))&&a&&!a(l)&&(l=void 0);else if(null!=n)for(var I=0,h=n.length;I<h;I++)null==(l=this._data.get(n[I]))||a&&!a(l)||g.push(l);else for(var c,d=0,u=(A=A5(Yrt(c=this._data).call(c))).length;d<u;d++)C=A[d],null==(l=this._data.get(C))||a&&!a(l)||g.push(l);if(r&&r.order&&null==i&&this._sort(g,r.order),r&&r.fields){var f=r.fields;if(null!=i&&null!=l)l=this._filterFields(l,f);else for(var p=0,v=g.length;p<v;p++)g[p]=this._filterFields(g[p],f)}if("Object"==s){for(var m={},y=0,b=g.length;y<b;y++){var w=g[y];m[w[this._idProp]]=w}return m}return null!=i?null!==(o=l)&&void 0!==o?o:null:g}},{key:"getIds",value:function(t){var e=this._data,i=t&&d2(t),n=t&&t.order,r=A5(Yrt(e).call(e)),o=[];if(i)if(n){for(var s=[],a=0,g=r.length;a<g;a++){var l=r[a],A=this._data.get(l);null!=A&&i(A)&&s.push(A)}this._sort(s,n);for(var C=0,I=s.length;C<I;C++)o.push(s[C][this._idProp])}else for(var h=0,c=r.length;h<c;h++){var d=r[h],u=this._data.get(d);null!=u&&i(u)&&o.push(u[this._idProp])}else if(n){for(var f=[],p=0,v=r.length;p<v;p++){var m=r[p];f.push(e.get(m))}this._sort(f,n);for(var y=0,b=f.length;y<b;y++)o.push(f[y][this._idProp])}else for(var w=0,x=r.length;w<x;w++){var k=r[w],E=e.get(k);null!=E&&o.push(E[this._idProp])}return o}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(t,e){var i=e&&d2(e),n=this._data,r=A5(Yrt(n).call(n));if(e&&e.order)for(var o=this.get(e),s=0,a=o.length;s<a;s++){var g=o[s];t(g,g[this._idProp])}else for(var l=0,A=r.length;l<A;l++){var C=r[l],I=this._data.get(C);null==I||i&&!i(I)||t(I,C)}}},{key:"map",value:function(t,e){for(var i=e&&d2(e),n=[],r=this._data,o=A5(Yrt(r).call(r)),s=0,a=o.length;s<a;s++){var g=o[s],l=this._data.get(g);null==l||i&&!i(l)||n.push(t(l,g))}return e&&e.order&&this._sort(n,e.order),n}},{key:"_filterFields",value:function(t,e){var i;return t?l2(i=k5(e)?e:T5(e)).call(i,(function(e,i){return e[i]=t[i],e}),{}):t}},{key:"_sort",value:function(t,e){if("string"==typeof e){var i=e;_ot(t).call(t,(function(t,e){var n=t[i],r=e[i];return n>r?1:n<r?-1:0}))}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");_ot(t).call(t,e)}}},{key:"remove",value:function(t,e){for(var i=[],n=[],r=k5(t)?t:[t],o=0,s=r.length;o<s;o++){var a=this._remove(r[o]);if(a){var g=a[this._idProp];null!=g&&(i.push(g),n.push(a))}}return i.length&&this._trigger("remove",{items:i,oldData:n},e),i}},{key:"_remove",value:function(t){var e;if(tst(t)?e=t:t&&"object"==typeof t&&(e=t[this._idProp]),null!=e&&this._data.has(e)){var i=this._data.get(e)||null;return this._data.delete(e),--this.length,i}return null}},{key:"clear",value:function(t){for(var e,i=A5(Yrt(e=this._data).call(e)),n=[],r=0,o=i.length;r<o;r++)n.push(this._data.get(i[r]));return this._data.clear(),this.length=0,this._trigger("remove",{items:i,oldData:n},t),i}},{key:"max",value:function(t){var e,i,n=null,r=null,o=Ast(Bot(e=this._data).call(e));try{for(o.s();!(i=o.n()).done;){var s=i.value,a=s[t];"number"==typeof a&&(null==r||a>r)&&(n=s,r=a)}}catch(t){o.e(t)}finally{o.f()}return n||null}},{key:"min",value:function(t){var e,i,n=null,r=null,o=Ast(Bot(e=this._data).call(e));try{for(o.s();!(i=o.n()).done;){var s=i.value,a=s[t];"number"==typeof a&&(null==r||a<r)&&(n=s,r=a)}}catch(t){o.e(t)}finally{o.f()}return n||null}},{key:"distinct",value:function(t){for(var e=this._data,i=A5(Yrt(e).call(e)),n=[],r=0,o=0,s=i.length;o<s;o++){for(var a=i[o],g=e.get(a)[t],l=!1,A=0;A<r;A++)if(n[A]==g){l=!0;break}l||void 0===g||(n[r]=g,r++)}return n}},{key:"_addItem",value:function(t){var e=function(t,e){return null==t[e]&&(t[e]=$ot()),t}(t,this._idProp),i=e[this._idProp];if(this._data.has(i))throw new Error("Cannot add item: item with id "+i+" already exists");return this._data.set(i,e),++this.length,i}},{key:"_updateItem",value:function(t){var e=t[this._idProp];if(null==e)throw new Error("Cannot update item: item has no id (item: "+z8(t)+")");var i=this._data.get(e);if(!i)throw new Error("Cannot update item: no item with id "+e+" found");return this._data.set(e,lst(lst({},i),t)),e}},{key:"stream",value:function(t){if(t){var e=this._data;return new ast({[Fot]:()=>Tnt.mark((function i(){var n,r,o,s;return Tnt.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=Ast(t),i.prev=1,n.s();case 3:if((r=n.n()).done){i.next=11;break}if(o=r.value,null==(s=e.get(o))){i.next=9;break}return i.next=9,[o,s];case 9:i.next=3;break;case 11:i.next=16;break;case 13:i.prev=13,i.t0=i.catch(1),n.e(i.t0);case 16:return i.prev=16,n.f(),i.finish(16);case 19:case"end":return i.stop()}}),i,null,[[1,13,16,19]])}))()})}var i;return new ast({[Fot]:Y1(i=Yot(this._data)).call(i,this._data)})}}]),i}(ist);class cst{constructor(t,e){this.container=t,this.logger=e,this.parser=new WA(e),this.network=null,this.nodes=new hst([]),this.edges=new hst([]),this.nodeSelectCallbacks=[],this.options={defaultPrefixes:["rdf","rdfs","owl"],labelMaxLength:15,hidden:!0,freeze:!1},this.clusterIndex=0,this.clusters=[],this.clusterLevel=0,this.prefixes={},this.triples=[]}initialize(){const t={nodes:this.nodes,edges:this.edges},e={layout:{randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize",shakeTowards:"leaves"}},physics:{enabled:!this.options.freeze,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09,avoidOverlap:0},maxVelocity:50,minVelocity:.1,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:100,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},edges:{smooth:{type:"continuous"}},nodes:{shape:"dot",size:10,font:{size:12,face:"Arial"}},interaction:{hover:!0,tooltipDelay:200,zoomView:!0,dragView:!0}};this.network=new JW(this.container,t,e),this.network.on("click",this._handleNetworkClick.bind(this)),this.logger.debug("Graph visualizer initialized")}async updateGraph(t){try{const{triples:e,prefixes:i}=await this.parser.parseTriples(t);this.prefixes=i||{},this.triples=e,this.clusterIndex=0,this.clusters=[],this.clusterLevel=0,this._createVisualization(),this.options.hidden&&this._toggleHideDefaults()}catch(t){this.logger.error("Failed to update graph",t)}}_createVisualization(){this.nodes.clear(),this.edges.clear();for(const t of this.triples){const e=t.subject.value||t.subject,i=t.predicate.value||t.predicate,n=t.object.value||t.object;this.nodes.get(e)||this.nodes.add(this._createNode(e,"subject")),this.nodes.get(n)||this.nodes.add(this._createNode(n,"object")),this.edges.add({from:e,to:n,label:UA.getLabel(i,this.prefixes),type:"predicate",arrows:"to",predicateUri:i})}this.triples.length>500&&this._makeClusters(),this.triples.length>1e3&&this._makeClusters()}_createNode(t,e){const i=UA.getLabel(t,this.prefixes,this.options.labelMaxLength),n={id:t,label:i,type:e};if(i.length>this.options.labelMaxLength||i.endsWith("...")){const e=UA.getLabel(t,this.prefixes,0);n.title=e}return UA.isLiteral(t)?(n.shape="box",n.shapeProperties={borderDashes:[5,5]},n.color={background:"yellow",border:"black",highlight:{background:"#F2F59D",border:"red"}}):"subject"===e&&(n.color={background:"#97B0F8",border:"#4466cc",highlight:{background:"#b3c6fa",border:"#5577dd"}}),n}_handleNetworkClick(t){if(1===t.nodes.length){const e=t.nodes[0];if(this.network.isCluster(e)){this.network.openCluster(e);const t=this.clusters.findIndex((t=>t.id===e));-1!==t&&this.clusters.splice(t,1)}else this._notifyNodeSelection(e)}else this._notifyNodeSelection(null)}_notifyNodeSelection(t){this.nodeSelectCallbacks.forEach((e=>e(t)))}_makeClusters(){this.clusterLevel++;const t={processProperties:(t,e)=>{this.clusterIndex++;let i=0;for(const t of e)i+=t.childrenCount||1;let n=null;for(const t of e){const e=this.network.getConnectedNodes(t.id);if(1===e.length&&(n=this.nodes.get(e[0])||this.clusters.find((t=>t.id===e[0])),n))break}const r=`cluster:${this.clusterIndex}`,o=n?`${this._getClusterLabel(n)}\n(${i} nodes)`:`Cluster ${this.clusterIndex}\n(${i} nodes)`;return t.childrenCount=i,t.size=4*i+15,t.label=o,t.id=r,t.mass=.5*i,this.clusters.push({id:r,label:o,clusterLevel:this.clusterLevel}),t},clusterNodeProperties:{borderWidth:2,shape:"dot",color:{background:"#ffce99",border:"#ff9c33",highlight:{background:"#ffe6cc",border:"#ffb566"}}}};this.network.clusterOutliers(t),this.clusters.length>0&&(this.clusterLevel=this.clusters[this.clusters.length-1].clusterLevel)}_getClusterLabel(t){const e=null!=t.title?t.title:t.label;if(!e)return"Cluster";const i=e.indexOf("\n");return-1!==i?e.substring(0,i):e}_openClusters(){let t=!1;const e=[];for(const i of this.clusters)i.clusterLevel>=this.clusterLevel?(this.network.openCluster(i.id),t=!0):e.push(i);this.clusters=e,t?this.clusterLevel--:this.clusterLevel>0&&(this.clusterLevel--,this._openClusters())}_toggleHideDefaults(){const t=this.clusterLevel;for(;this.clusterLevel>0;)this._openClusters();this.nodes.forEach((t=>{const e=UA.shrinkUri(t.id,this.prefixes).split(":")[0];this.options.defaultPrefixes.includes(e)&&(t.hidden=this.options.hidden,this.network.getConnectedEdges(t.id).forEach((t=>{const e=this.edges.get(t);e&&(e.hidden=this.options.hidden,this.edges.update(e))})),this.nodes.update(t))})),this.network.body.emitter.emit("_dataChanged"),this.clusterLevel=0;for(let e=0;e<t;e++)this._makeClusters()}toggleFreeze(){this.options.freeze=!this.options.freeze,this.network.stopSimulation(),this.network.physics.options.enabled=!this.options.freeze,this.network.startSimulation()}toggleHideDefaults(){this.options.hidden=!this.options.hidden,this._toggleHideDefaults()}makeClusters(){this._makeClusters()}openClusters(){this._openClusters()}onNodeSelect(t){this.nodeSelectCallbacks.push(t)}offNodeSelect(t){const e=this.nodeSelectCallbacks.indexOf(t);-1!==e&&this.nodeSelectCallbacks.splice(e,1)}getNodes(){return this.nodes.get()}getEdges(){return this.edges.get()}}class dst{constructor(t,e){let i,n;switch(this.type=t,this.description=e,this.time=Date.now(),this.count=1,t){case"error":i="alert-danger",n="Error";break;case"warning":i="alert-warning",n="Warning";break;case"info":i="alert-info",n="Info";break;case"success":i="alert-success",n="Success"}this.element=document.createElement("div"),this.element.className=`alert ${i}`,this.element.setAttribute("role","alert"),this.element.innerHTML=`<strong>${n}:</strong> ${e}`}}class ust{constructor(t){this.container=document.getElementById(t),this.container?(this.messageQueue=[],setInterval((()=>this.updateMessageQueue()),2500)):console.error("Logger container not found")}updateMessageQueue(){if(this.messageQueue.length>0&&Date.now()-this.messageQueue[0].time>=1e4){const t=this.messageQueue.shift();t.element.style.opacity="0",t.element.style.transition="opacity 0.5s",setTimeout((()=>{t.element.remove()}),500),this.messageQueue.length>=3&&(this.messageQueue[2].element.style.display="block")}}logConsole(t,e,i){i?console.log(`${t}: ${e}`,i):console.log(`${t}: ${e}`)}logDocument(t,e){const i=this.messageQueue.length,n=this.messageQueue[i-1];if(0===i||n.type!==t||n.description!==e){const n=new dst(t,e);this.container.appendChild(n.element),this.messageQueue.push(n),i>=3&&(n.element.style.display="none")}else if(n.count++,n.time=Date.now(),2===n.count){const t=document.createElement("span");t.className="badge",t.textContent="2",n.element.appendChild(t)}else{const t=n.element.querySelector(".badge");t&&(t.textContent=n.count)}}error(t,e){this.logConsole("ERROR",t,e),this.logDocument("error",t)}warning(t,e){this.logConsole("Warning",t,e),this.logDocument("warning",t)}info(t,e){this.logConsole("Info",t,e),this.logDocument("info",t)}success(t,e){this.logConsole("Success",t,e),this.logDocument("success",t)}debug(t,e){this.logConsole("Debug",t,e)}}class fst{constructor(t){this.editor=t.editor,this.visualizer=t.visualizer,this.logger=t.logger,this.state={syntaxCheck:"pending",isSplitView:!0},this._initializeUI()}_initializeUI(){this.elements={syntaxCheck:document.getElementById("syntax-check"),syntaxWorking:document.getElementById("syntax-check-working"),syntaxPending:document.getElementById("syntax-check-pending"),syntaxPassed:document.getElementById("syntax-check-passed"),syntaxFailed:document.getElementById("syntax-check-failed"),syntaxOff:document.getElementById("syntax-check-off"),splitButton:document.getElementById("split-button"),hideNodesCheckbox:document.getElementById("hide-nodes"),freezeCheckbox:document.getElementById("freeze"),clusterButton:document.getElementById("cluster"),declusterButton:document.getElementById("decluster"),networkPopup:document.getElementById("network-popUp"),popupLabel:document.getElementById("label"),savePopupButton:document.getElementById("saveButton"),cancelPopupButton:document.getElementById("cancelButton"),dialog:document.getElementById("dialog"),dialogYesButton:document.getElementById("dialog-yes"),dialogNoButton:document.getElementById("dialog-no"),dialogCancelButton:document.getElementById("dialog-cancel")},this._setupEventListeners(),this.logger.debug("UI Manager initialized")}_setupEventListeners(){this.elements.splitButton.addEventListener("click",this._handleSplitView.bind(this)),this.elements.hideNodesCheckbox.addEventListener("change",this._handleHideNodes.bind(this)),this.elements.freezeCheckbox.addEventListener("change",this._handleFreeze.bind(this)),this.elements.clusterButton.addEventListener("click",this._handleCluster.bind(this)),this.elements.declusterButton.addEventListener("click",this._handleDecluster.bind(this)),document.addEventListener("syntax-check-state-change",(t=>{this._handleSyntaxCheckStateChange(t.detail.state,t.detail.error)})),this.elements.savePopupButton.addEventListener("click",this._handleSavePopup.bind(this)),this.elements.cancelPopupButton.addEventListener("click",this._handleCancelPopup.bind(this)),this.elements.dialogYesButton.addEventListener("click",(()=>this._handleDialogResponse(!0))),this.elements.dialogNoButton.addEventListener("click",(()=>this._handleDialogResponse(!1))),this.elements.dialogCancelButton.addEventListener("click",(()=>this._handleDialogCancel()))}_handleSplitView(){this.state.isSplitView=!this.state.isSplitView,document.querySelector(".split-container");const t=document.getElementById("editor-container"),e=document.getElementById("graph-container"),i=document.getElementById("divider");if(this.state.isSplitView)t.style.display="block",e.style.display="block",i.style.display="block",t.style.width="50%",this.elements.splitButton.textContent="Toggle View";else{const n="none"!==t.style.display;t.style.display=n?"none":"block",e.style.display=n?"block":"none",i.style.display="none","block"===t.style.display&&(t.style.width="100%"),this.elements.splitButton.textContent=n?"Show Editor":"Show Graph"}window.dispatchEvent(new Event("resize"))}_handleHideNodes(){const t=this.elements.hideNodesCheckbox.checked;this.visualizer.options.hidden=t,this.visualizer.toggleHideDefaults()}_handleFreeze(){const t=this.elements.freezeCheckbox.checked;this.visualizer.options.freeze=t,this.visualizer.toggleFreeze()}_handleCluster(){this.visualizer.makeClusters()}_handleDecluster(){this.visualizer.openClusters()}_handleSyntaxCheckStateChange(t,e){if(t!==this.state.syntaxCheck){if(this.elements[`syntax${this._capitalize(this.state.syntaxCheck)}`].style.display="none",this.state.syntaxCheck=t,"failed"===t&&e){const t=this.elements.syntaxFailed.querySelector(".status");e.startsWith("Syntax error:")?t.textContent=` ${e}`:t.textContent=` Syntax error: ${e}`}this.elements[`syntax${this._capitalize(t)}`].style.display="block"}}_handleSavePopup(){if(this.popupCallback){const t=this.elements.popupLabel.value;this.popupCallback(t),this.popupCallback=null}this.elements.networkPopup.style.display="none"}_handleCancelPopup(){this.popupCallback&&(this.popupCallback(null),this.popupCallback=null),this.elements.networkPopup.style.display="none"}_handleDialogResponse(t){this.dialogCallback&&(this.dialogCallback(t),this.dialogCallback=null),this.elements.dialog.style.display="none"}_handleDialogCancel(){this.dialogCallback&&(this.dialogCallback(null),this.dialogCallback=null),this.elements.dialog.style.display="none"}showPopup(t,e="",i){this.elements.networkPopup.style.display="block",this.elements.popupLabel.value=e;const n=document.getElementById("operation");n&&(n.textContent=t),this.popupCallback=i}showConfirmationDialog(t,e){this.elements.dialog.style.display="block";const i=this.elements.dialog.querySelector("p");i&&(i.textContent=t),this.dialogCallback=e}_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}}class pst{constructor(t){this.container=t.container,this.leftPane=t.leftPane,this.rightPane=t.rightPane,this.divider=t.divider,this.isResizing=!1,this.startX=0,this.startLeftWidth=0,this.minLeftWidth=200,this.minRightWidth=200,this._initializeEvents()}_initializeEvents(){this.divider.addEventListener("mousedown",this._onMouseDown.bind(this)),document.addEventListener("mousemove",this._onMouseMove.bind(this)),document.addEventListener("mouseup",this._onMouseUp.bind(this)),this.divider.addEventListener("touchstart",this._onTouchStart.bind(this)),document.addEventListener("touchmove",this._onTouchMove.bind(this)),document.addEventListener("touchend",this._onTouchEnd.bind(this)),window.addEventListener("resize",this._onWindowResize.bind(this)),this._setInitialSizes()}_setInitialSizes(){const t=this.container.clientWidth,e=Math.max(.5*t,this.minLeftWidth);this.leftPane.style.width=`${e}px`}_onMouseDown(t){t.preventDefault(),this.isResizing=!0,this.startX=t.clientX,this.startLeftWidth=this.leftPane.getBoundingClientRect().width,this.container.classList.add("resizing")}_onMouseMove(t){if(!this.isResizing)return;const e=this.container.getBoundingClientRect().width,i=t.clientX-this.startX;let n=this.startLeftWidth+i;n=Math.max(this.minLeftWidth,n),n=Math.min(e-this.minRightWidth,n),this.leftPane.style.width=`${n}px`,window.dispatchEvent(new Event("resize"))}_onMouseUp(){this.isResizing=!1,this.container.classList.remove("resizing"),window.dispatchEvent(new Event("resize"))}_onTouchStart(t){1===t.touches.length&&(t.preventDefault(),this.isResizing=!0,this.startX=t.touches[0].clientX,this.startLeftWidth=this.leftPane.getBoundingClientRect().width,this.container.classList.add("resizing"))}_onTouchMove(t){if(!this.isResizing||1!==t.touches.length)return;const e=this.container.getBoundingClientRect().width,i=t.touches[0].clientX-this.startX;let n=this.startLeftWidth+i;n=Math.max(this.minLeftWidth,n),n=Math.min(e-this.minRightWidth,n),this.leftPane.style.width=`${n}px`,window.dispatchEvent(new Event("resize"))}_onTouchEnd(){this.isResizing=!1,this.container.classList.remove("resizing"),window.dispatchEvent(new Event("resize"))}_onWindowResize(){const t=this.container.clientWidth;let e=this.leftPane.getBoundingClientRect().width;e+this.minRightWidth>t&&(e=t-this.minRightWidth,this.leftPane.style.width=`${e}px`)}setSplitPosition(t){if(t<0||t>100)throw new Error("Percentage must be between 0 and 100");const e=this.container.clientWidth,i=e*t/100,n=Math.max(this.minLeftWidth,Math.min(e-this.minRightWidth,i));this.leftPane.style.width=`${n}px`,window.dispatchEvent(new Event("resize"))}setView(t){const e=this.container.clientWidth;switch(t){case"editor":this.leftPane.style.width=`${e}px`,this.rightPane.style.display="none",this.divider.style.display="none";break;case"graph":this.leftPane.style.display="none",this.rightPane.style.display="block",this.divider.style.display="none";break;default:this.leftPane.style.display="block",this.rightPane.style.display="block",this.divider.style.display="block",this.setSplitPosition(50)}window.dispatchEvent(new Event("resize"))}}var vst=i(5072),mst=i.n(vst),yst=i(7825),bst=i.n(yst),wst=i(7659),xst=i.n(wst),kst=i(5056),Est=i.n(kst),Sst=i(540),Tst=i.n(Sst),Ost=i(1113),_st=i.n(Ost),Rst=i(2944),Nst={};Nst.styleTagTransform=_st(),Nst.setAttributes=Est(),Nst.insert=xst().bind(null,"head"),Nst.domAPI=bst(),Nst.insertStyleElement=Tst(),mst()(Rst.A,Nst),Rst.A&&Rst.A.locals&&Rst.A.locals;var Dst=i(3660),Pst={};Pst.styleTagTransform=_st(),Pst.setAttributes=Est(),Pst.insert=xst().bind(null,"head"),Pst.domAPI=bst(),Pst.insertStyleElement=Tst(),mst()(Dst.A,Pst),Dst.A&&Dst.A.locals&&Dst.A.locals;var Mst=i(8579),jst={};jst.styleTagTransform=_st(),jst.setAttributes=Est(),jst.insert=xst().bind(null,"head"),jst.domAPI=bst(),jst.insertStyleElement=Tst(),mst()(Mst.A,jst),Mst.A&&Mst.A.locals&&Mst.A.locals,document.addEventListener("DOMContentLoaded",(()=>{if(console.log("Initializing Atuin..."),!document.getElementById("message-queue"))return void console.error("Message queue element not found");const t=new ust("message-queue"),e=document.getElementById("input-contents"),i=document.getElementById("graph-container");if(!e||!i)return void console.error("Required DOM elements not found");console.log("Initializing editor...");const n=new $A(e,t);n.initialize(),console.log("Initializing graph visualizer...");const r=new cst(i,t);r.initialize(),n.onChange((t=>{console.log("Editor content changed, updating graph..."),r.updateGraph(t)})),r.onNodeSelect((t=>{console.log("Node selected, highlighting in editor:",t),n.highlightNode(t)})),new fst({editor:n,visualizer:r,logger:t}),new pst({container:document.querySelector(".split-container"),leftPane:document.getElementById("editor-container"),rightPane:document.getElementById("graph-container"),divider:document.getElementById("divider")});const o=document.createElement("style");o.textContent="\n    .cm-highlight {\n      background-color: rgba(144, 238, 144, 0.4);\n      border-radius: 2px;\n    }\n    .cm-highlight-scrollbar {\n      background-color: rgba(50, 205, 50, 0.7);\n    }\n  ",document.head.appendChild(o),console.log("Setting sample content..."),n.setValue('@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix owl: <http://www.w3.org/2002/07/owl#> .\n@prefix ex: <http://example.org/> .\n\n# Define classes\nex:Person a rdfs:Class ;\n  rdfs:label "Person" ;\n  rdfs:comment "A human being" .\n\n# Define properties\nex:name a rdf:Property ;\n  rdfs:domain ex:Person ;\n  rdfs:range rdfs:Literal ;\n  rdfs:label "name" ;\n  rdfs:comment "The name of a person" .\n\nex:age a rdf:Property ;\n  rdfs:domain ex:Person ;\n  rdfs:range rdfs:Literal ;\n  rdfs:label "age" ;\n  rdfs:comment "The age of a person in years" .\n\nex:knows a rdf:Property ;\n  rdfs:domain ex:Person ;\n  rdfs:range ex:Person ;\n  rdfs:label "knows" ;\n  rdfs:comment "Indicates that a person knows another person" .\n\n# Define instances\nex:john a ex:Person ;\n  ex:name "John Doe" ;\n  ex:age "30" ;\n  ex:knows ex:jane .\n\nex:jane a ex:Person ;\n  ex:name "Jane Smith" ;\n  ex:age "28" ;\n  ex:knows ex:john .\n'),document.addEventListener("keydown",(t=>{t.ctrlKey&&t.altKey&&"s"===t.key&&(document.getElementById("split-button").click(),t.preventDefault())})),t.info("Atuin initialized successfully")}))})()})();