/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={171:(t,e,n)=>{"use strict";const i=n(7259),r=n(6441),o=n(3343),s=n(5181);function a(t,e){return t.hash<e.hash?-1:t.hash>e.hash?1:0}t.exports=class{constructor({createMessageDigest:t=()=>new r("sha256"),canonicalIdMap:e=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new i("_:c14n",e),this.createMessageDigest=t,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}async main(t){this.deepIterations=new Map,this.quads=t;for(const e of t)this._addBlankNodeQuadInfo({quad:e,component:e.subject}),this._addBlankNodeQuadInfo({quad:e,component:e.object}),this._addBlankNodeQuadInfo({quad:e,component:e.graph});const e=new Map,n=[...this.blankNodeInfo.keys()];let r=0;for(const t of n)++r%100==0&&await this._yield(),await this._hashAndTrackBlankNode({id:t,hashToBlankNodes:e});const o=[...e.keys()].sort(),g=[];for(const t of o){const n=e.get(t);if(n.length>1){g.push(n);continue}const i=n[0];this.canonicalIssuer.getId(i)}for(const t of g){const e=[];for(const n of t){if(this.canonicalIssuer.hasId(n))continue;const t=new i("_:b");t.getId(n);const r=await this.hashNDegreeQuads(n,t);e.push(r)}e.sort(a);for(const t of e){const e=t.issuer.getOldIds();for(const t of e)this.canonicalIssuer.getId(t)}}const l=[];for(const t of this.quads){const e=s.serializeQuadComponents(this._componentWithCanonicalId(t.subject),t.predicate,this._componentWithCanonicalId(t.object),this._componentWithCanonicalId(t.graph));l.push(e)}return l.sort(),l.join("")}async hashFirstDegreeQuads(t){const e=[],n=this.blankNodeInfo.get(t),i=n.quads;for(const n of i){const i={subject:null,predicate:n.predicate,object:null,graph:null};i.subject=this.modifyFirstDegreeComponent(t,n.subject,"subject"),i.object=this.modifyFirstDegreeComponent(t,n.object,"object"),i.graph=this.modifyFirstDegreeComponent(t,n.graph,"graph"),e.push(s.serializeQuad(i))}e.sort();const r=this.createMessageDigest();for(const t of e)r.update(t);return n.hash=await r.digest(),n.hash}async hashRelatedBlankNode(t,e,n,i){let r;r=this.canonicalIssuer.hasId(t)?this.canonicalIssuer.getId(t):n.hasId(t)?n.getId(t):this.blankNodeInfo.get(t).hash;const o=this.createMessageDigest();return o.update(i),"g"!==i&&o.update(this.getRelatedPredicate(e)),o.update(r),o.digest()}async hashNDegreeQuads(t,e){const n=this.deepIterations.get(t)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,n+1);const i=this.createMessageDigest(),r=await this.createHashToRelated(t,e),s=[...r.keys()].sort();for(const t of s){i.update(t);let n,s="";const a=new o(r.get(t));let g=0;for(;a.hasNext();){const t=a.next();++g%3==0&&await this._yield();let i=e.clone(),r="";const o=[];let l=!1;for(const e of t)if(this.canonicalIssuer.hasId(e)?r+=this.canonicalIssuer.getId(e):(i.hasId(e)||o.push(e),r+=i.getId(e)),0!==s.length&&r>s){l=!0;break}if(!l){for(const t of o){const e=await this.hashNDegreeQuads(t,i);if(r+=i.getId(t),r+=`<${e.hash}>`,i=e.issuer,0!==s.length&&r>s){l=!0;break}}l||(0===s.length||r<s)&&(s=r,n=i)}}i.update(s),e=n}return{hash:await i.digest(),issuer:e}}modifyFirstDegreeComponent(t,e){return"BlankNode"!==e.termType?e:{termType:"BlankNode",value:e.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}async createHashToRelated(t,e){const n=new Map,i=this.blankNodeInfo.get(t).quads;let r=0;for(const o of i)++r%100==0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:o,component:o.subject,position:"s",id:t,issuer:e,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.object,position:"o",id:t,issuer:e,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.graph,position:"g",id:t,issuer:e,hashToRelated:n})]);return n}async _hashAndTrackBlankNode({id:t,hashToBlankNodes:e}){const n=await this.hashFirstDegreeQuads(t),i=e.get(n);i?i.push(t):e.set(n,[t])}_addBlankNodeQuadInfo({quad:t,component:e}){if("BlankNode"!==e.termType)return;const n=e.value,i=this.blankNodeInfo.get(n);i?i.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}async _addRelatedBlankNodeHash({quad:t,component:e,position:n,id:i,issuer:r,hashToRelated:o}){if("BlankNode"!==e.termType||e.value===i)return;const s=e.value,a=await this.hashRelatedBlankNode(s,t,r,n),g=o.get(a);g?g.push(s):o.set(a,[s])}_componentWithCanonicalId(t){return"BlankNode"!==t.termType||t.value.startsWith(this.canonicalIssuer.prefix)?t:{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}}async _yield(){return new Promise((t=>setImmediate(t)))}}},202:(t,e,n)=>{"use strict";const i=n(2985),r=n(7920),o=n(9925),s=n(1227);function a(t,e){return t.hash<e.hash?-1:t.hash>e.hash?1:0}t.exports=class{constructor({createMessageDigest:t=null,messageDigestAlgorithm:e="sha256",canonicalIdMap:n=new Map,maxWorkFactor:o=1,maxDeepIterations:s=-1,timeout:a=0}={}){this.name="RDFC-1.0",this.blankNodeInfo=new Map,this.canonicalIssuer=new i("c14n",n),this.createMessageDigest=t||(()=>new r(e)),this.maxWorkFactor=o,this.maxDeepIterations=s,this.remainingDeepIterations=0,this.timeout=a,a>0&&(this.startTime=Date.now()),this.quads=null}main(t){this.quads=t;for(const e of t)this._addBlankNodeQuadInfo({quad:e,component:e.subject}),this._addBlankNodeQuadInfo({quad:e,component:e.object}),this._addBlankNodeQuadInfo({quad:e,component:e.graph});const e=new Map,n=[...this.blankNodeInfo.keys()];for(const t of n)this._hashAndTrackBlankNode({id:t,hashToBlankNodes:e});const r=[...e.keys()].sort(),o=[];for(const t of r){const n=e.get(t);if(n.length>1){o.push(n);continue}const i=n[0];this.canonicalIssuer.getId(i)}if(this.maxDeepIterations<0)if(0===this.maxWorkFactor)this.maxDeepIterations=0;else if(this.maxWorkFactor===1/0)this.maxDeepIterations=1/0;else{const t=o.reduce(((t,e)=>t+e.length),0);this.maxDeepIterations=t**this.maxWorkFactor}this.maxDeepIterations>Number.MAX_SAFE_INTEGER&&(this.maxDeepIterations=1/0),this.remainingDeepIterations=this.maxDeepIterations;for(const t of o){const e=[];for(const n of t){if(this.canonicalIssuer.hasId(n))continue;const t=new i("b");t.getId(n);const r=this.hashNDegreeQuads(n,t);e.push(r)}e.sort(a);for(const t of e){const e=t.issuer.getOldIds();for(const t of e)this.canonicalIssuer.getId(t)}}const g=[];for(const t of this.quads){const e=s.serializeQuadComponents(this._componentWithCanonicalId(t.subject),t.predicate,this._componentWithCanonicalId(t.object),this._componentWithCanonicalId(t.graph));g.push(e)}return g.sort(),g.join("")}hashFirstDegreeQuads(t){const e=[],n=this.blankNodeInfo.get(t),i=n.quads;for(const n of i)e.push(s.serializeQuadComponents(this.modifyFirstDegreeComponent(t,n.subject,"subject"),n.predicate,this.modifyFirstDegreeComponent(t,n.object,"object"),this.modifyFirstDegreeComponent(t,n.graph,"graph")));e.sort();const r=this.createMessageDigest();for(const t of e)r.update(t);return n.hash=r.digest(),n.hash}hashRelatedBlankNode(t,e,n,i){const r=this.createMessageDigest();let o;return r.update(i),"g"!==i&&r.update(this.getRelatedPredicate(e)),o=this.canonicalIssuer.hasId(t)?"_:"+this.canonicalIssuer.getId(t):n.hasId(t)?"_:"+n.getId(t):this.blankNodeInfo.get(t).hash,r.update(o),r.digest()}hashNDegreeQuads(t,e){if(0===this.remainingDeepIterations)throw new Error(`Maximum deep iterations exceeded (${this.maxDeepIterations}).`);this.remainingDeepIterations--;const n=this.createMessageDigest(),i=this.createHashToRelated(t,e),r=[...i.keys()].sort();for(const t of r){n.update(t);let r,s="";const a=new o(i.get(t));let g=0;for(;a.hasNext();){const t=a.next();if(++g%3==0&&this.timeout>0&&Date.now()-this.startTime>this.timeout)throw new Error("Canonize timeout.");let n=e.clone(),i="";const o=[];let l=!1;for(const e of t)if(this.canonicalIssuer.hasId(e)?i+="_:"+this.canonicalIssuer.getId(e):(n.hasId(e)||o.push(e),i+="_:"+n.getId(e)),0!==s.length&&i>s){l=!0;break}if(!l){for(const t of o){const e=this.hashNDegreeQuads(t,n);if(i+="_:"+n.getId(t),i+=`<${e.hash}>`,n=e.issuer,0!==s.length&&i>s){l=!0;break}}l||(0===s.length||i<s)&&(s=i,r=n)}}n.update(s),e=r}return{hash:n.digest(),issuer:e}}modifyFirstDegreeComponent(t,e){return"BlankNode"!==e.termType?e:{termType:"BlankNode",value:e.value===t?"a":"z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,e){const n=new Map,i=this.blankNodeInfo.get(t).quads;for(const r of i)this._addRelatedBlankNodeHash({quad:r,component:r.subject,position:"s",id:t,issuer:e,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:r,component:r.object,position:"o",id:t,issuer:e,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:r,component:r.graph,position:"g",id:t,issuer:e,hashToRelated:n});return n}_hashAndTrackBlankNode({id:t,hashToBlankNodes:e}){const n=this.hashFirstDegreeQuads(t),i=e.get(n);i?i.push(t):e.set(n,[t])}_addBlankNodeQuadInfo({quad:t,component:e}){if("BlankNode"!==e.termType)return;const n=e.value,i=this.blankNodeInfo.get(n);i?i.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash({quad:t,component:e,position:n,id:i,issuer:r,hashToRelated:o}){if("BlankNode"!==e.termType||e.value===i)return;const s=e.value,a=this.hashRelatedBlankNode(s,t,r,n),g=o.get(a);g?g.push(s):o.set(a,[s])}_componentWithCanonicalId(t){return"BlankNode"!==t.termType||t.value.startsWith(this.canonicalIssuer.prefix)?t:{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}}}},251:(t,e)=>{e.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,g=(1<<a)-1,l=g>>1,A=-7,c=n?r-1:0,h=n?-1:1,C=t[e+c];for(c+=h,o=C&(1<<-A)-1,C>>=-A,A+=a;A>0;o=256*o+t[e+c],c+=h,A-=8);for(s=o&(1<<-A)-1,o>>=-A,A+=i;A>0;s=256*s+t[e+c],c+=h,A-=8);if(0===o)o=1-l;else{if(o===g)return s?NaN:1/0*(C?-1:1);s+=Math.pow(2,i),o-=l}return(C?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var s,a,g,l=8*o-r-1,A=(1<<l)-1,c=A>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,C=i?0:o-1,I=i?1:-1,d=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=A):(s=Math.floor(Math.log(e)/Math.LN2),e*(g=Math.pow(2,-s))<1&&(s--,g*=2),(e+=s+c>=1?h/g:h*Math.pow(2,1-c))*g>=2&&(s++,g/=2),s+c>=A?(a=0,s=A):s+c>=1?(a=(e*g-1)*Math.pow(2,r),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,r),s=0));r>=8;t[n+C]=255&a,C+=I,a/=256,r-=8);for(s=s<<r|a,l+=r;l>0;t[n+C]=255&s,C+=I,s/=256,l-=8);t[n+C-I]|=128*d}},259:t=>{"use strict";t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}},277:(t,e,n)=>{"use strict";const{ArrayIsArray:i,ArrayPrototypeIncludes:r,ArrayPrototypeJoin:o,ArrayPrototypeMap:s,NumberIsInteger:a,NumberIsNaN:g,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:A,NumberParseInt:c,ObjectPrototypeHasOwnProperty:h,RegExpPrototypeExec:C,String:I,StringPrototypeToUpperCase:d,StringPrototypeTrim:u}=n(4134),{hideStackFrames:f,codes:{ERR_SOCKET_BAD_PORT:p,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:m,ERR_OUT_OF_RANGE:y,ERR_UNKNOWN_SIGNAL:b}}=n(6371),{normalizeEncoding:w}=n(7760),{isAsyncFunction:x,isArrayBufferView:E}=n(7760).types,k={},S=/^[0-7]+$/,T=f(((t,e,n=A,i=l)=>{if("number"!=typeof t)throw new v(e,"number",t);if(!a(t))throw new y(e,"an integer",t);if(t<n||t>i)throw new y(e,`>= ${n} && <= ${i}`,t)})),O=f(((t,e,n=-2147483648,i=2147483647)=>{if("number"!=typeof t)throw new v(e,"number",t);if(!a(t))throw new y(e,"an integer",t);if(t<n||t>i)throw new y(e,`>= ${n} && <= ${i}`,t)})),R=f(((t,e,n=!1)=>{if("number"!=typeof t)throw new v(e,"number",t);if(!a(t))throw new y(e,"an integer",t);const i=n?1:0,r=4294967295;if(t<i||t>r)throw new y(e,`>= ${i} && <= ${r}`,t)}));function _(t,e){if("string"!=typeof t)throw new v(e,"string",t)}const N=f(((t,e,n)=>{if(!r(n,t)){const i=o(s(n,(t=>"string"==typeof t?`'${t}'`:I(t))),", ");throw new m(e,t,"must be one of: "+i)}}));function D(t,e){if("boolean"!=typeof t)throw new v(e,"boolean",t)}function P(t,e,n){return null!=t&&h(t,e)?t[e]:n}const M=f(((t,e,n=null)=>{const r=P(n,"allowArray",!1),o=P(n,"allowFunction",!1);if(!P(n,"nullable",!1)&&null===t||!r&&i(t)||"object"!=typeof t&&(!o||"function"!=typeof t))throw new v(e,"Object",t)})),L=f(((t,e)=>{if(null!=t&&"object"!=typeof t&&"function"!=typeof t)throw new v(e,"a dictionary",t)})),j=f(((t,e,n=0)=>{if(!i(t))throw new v(e,"Array",t);if(t.length<n)throw new m(e,t,`must be longer than ${n}`)})),B=f(((t,e="buffer")=>{if(!E(t))throw new v(e,["Buffer","TypedArray","DataView"],t)})),F=f(((t,e)=>{if(void 0!==t&&(null===t||"object"!=typeof t||!("aborted"in t)))throw new v(e,"AbortSignal",t)})),z=f(((t,e)=>{if("function"!=typeof t)throw new v(e,"Function",t)})),V=f(((t,e)=>{if("function"!=typeof t||x(t))throw new v(e,"Function",t)})),G=f(((t,e)=>{if(void 0!==t)throw new v(e,"undefined",t)})),U=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function W(t,e){if(void 0===t||!C(U,t))throw new m(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:function(t){return t===(0|t)},isUint32:function(t){return t===t>>>0},parseFileMode:function(t,e,n){if(void 0===t&&(t=n),"string"==typeof t){if(null===C(S,t))throw new m(e,t,"must be a 32-bit unsigned integer or an octal string");t=c(t,8)}return R(t,e),t},validateArray:j,validateStringArray:function(t,e){j(t,e);for(let n=0;n<t.length;n++)_(t[n],`${e}[${n}]`)},validateBooleanArray:function(t,e){j(t,e);for(let n=0;n<t.length;n++)D(t[n],`${e}[${n}]`)},validateAbortSignalArray:function(t,e){j(t,e);for(let n=0;n<t.length;n++){const i=t[n],r=`${e}[${n}]`;if(null==i)throw new v(r,"AbortSignal",i);F(i,r)}},validateBoolean:D,validateBuffer:B,validateDictionary:L,validateEncoding:function(t,e){const n=w(e),i=t.length;if("hex"===n&&i%2!=0)throw new m("encoding",e,`is invalid for data of length ${i}`)},validateFunction:z,validateInt32:O,validateInteger:T,validateNumber:function(t,e,n=void 0,i){if("number"!=typeof t)throw new v(e,"number",t);if(null!=n&&t<n||null!=i&&t>i||(null!=n||null!=i)&&g(t))throw new y(e,`${null!=n?`>= ${n}`:""}${null!=n&&null!=i?" && ":""}${null!=i?`<= ${i}`:""}`,t)},validateObject:M,validateOneOf:N,validatePlainFunction:V,validatePort:function(t,e="Port",n=!0){if("number"!=typeof t&&"string"!=typeof t||"string"==typeof t&&0===u(t).length||+t!=+t>>>0||t>65535||0===t&&!n)throw new p(e,t,n);return 0|t},validateSignalName:function(t,e="signal"){if(_(t,e),void 0===k[t]){if(void 0!==k[d(t)])throw new b(t+" (signals must use all capital letters)");throw new b(t)}},validateString:_,validateUint32:R,validateUndefined:G,validateUnion:function(t,e,n){if(!r(n,t))throw new v(e,`('${o(n,"|")}')`,t)},validateAbortSignal:F,validateLinkHeaderValue:function(t){if("string"==typeof t)return W(t,"hints"),t;if(i(t)){const e=t.length;let n="";if(0===e)return n;for(let i=0;i<e;i++){const r=t[i];W(r,"hints"),n+=r,i!==e-1&&(n+=", ")}return n}throw new m("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},345:(t,e,n)=>{"use strict";const{StringPrototypeSlice:i,SymbolIterator:r,TypedArrayPrototypeSet:o,Uint8Array:s}=n(4134),{Buffer:a}=n(8287),{inspect:g}=n(7760);t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}unshift(t){const e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}shift(){if(0===this.length)return;const t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(0===this.length)return"";let e=this.head,n=""+e.data;for(;null!==(e=e.next);)n+=t+e.data;return n}concat(t){if(0===this.length)return a.alloc(0);const e=a.allocUnsafe(t>>>0);let n=this.head,i=0;for(;n;)o(e,n.data,i),i+=n.data.length,n=n.next;return e}consume(t,e){const n=this.head.data;if(t<n.length){const e=n.slice(0,t);return this.head.data=n.slice(t),e}return t===n.length?this.shift():e?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[r](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let e="",n=this.head,r=0;do{const o=n.data;if(!(t>o.length)){t===o.length?(e+=o,++r,n.next?this.head=n.next:this.head=this.tail=null):(e+=i(o,0,t),this.head=n,n.data=i(o,t));break}e+=o,t-=o.length,++r}while(null!==(n=n.next));return this.length-=r,e}_getBuffer(t){const e=a.allocUnsafe(t),n=t;let i=this.head,r=0;do{const a=i.data;if(!(t>a.length)){t===a.length?(o(e,a,n-t),++r,i.next?this.head=i.next:this.head=this.tail=null):(o(e,new s(a.buffer,a.byteOffset,t),n-t),this.head=i,i.data=a.slice(t));break}o(e,a,n-t),t-=a.length,++r}while(null!==(i=i.next));return this.length-=r,e}[Symbol.for("nodejs.util.inspect.custom")](t,e){return g(this,{...e,depth:0,customInspect:!1})}}},346:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},446:(t,e)=>{"use strict";function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}Object.defineProperty(e,"__esModule",{value:!0}),e.NC_NAME_START_CHAR="A-Z_a-zÃ€-Ã–Ã˜-Ã¶Ã¸-Ë¿Í°-Í½Í¿-á¿¿â€Œ-â€â°-â†â°€-â¿¯ã€-íŸ¿ï¤€-ï·ï·°-ï¿½ð€€-ó¯¿¿",e.NC_NAME_CHAR="-"+e.NC_NAME_START_CHAR+".0-9Â·Ì€-Í¯â€¿-â€",e.NC_NAME_START_CHAR_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]$","u"),e.NC_NAME_CHAR_RE=new RegExp("^["+e.NC_NAME_CHAR+"]$","u"),e.NC_NAME_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]["+e.NC_NAME_CHAR+"]*$","u"),e.isNCNameStartChar=n,e.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}},470:(t,e,n)=>{"use strict";const i=n(5001),r={};t.exports=r,r.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},r.parse=(t,e)=>{const n={},i=r.parsers[e||"full"],o=i.regex.exec(t);let s=i.keys.length;for(;s--;)n[i.keys[s]]=void 0===o[s]?null:o[s];return("https"===n.scheme&&"443"===n.port||"http"===n.scheme&&"80"===n.port)&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=r.removeDotSegments(n.path),n},r.prependBase=(t,e)=>{if(null===t)return e;if(r.isAbsolute(e))return e;t&&!i.isString(t)||(t=r.parse(t||""));const n=r.parse(e),o={protocol:t.protocol||""};if(null!==n.authority)o.authority=n.authority,o.path=n.path,o.query=n.query;else if(o.authority=t.authority,""===n.path)o.path=t.path,null!==n.query?o.query=n.query:o.query=t.query;else{if(0===n.path.indexOf("/"))o.path=n.path;else{let e=t.path;e=e.substr(0,e.lastIndexOf("/")+1),(e.length>0||t.authority)&&"/"!==e.substr(-1)&&(e+="/"),e+=n.path,o.path=e}o.query=n.query}""!==n.path&&(o.path=r.removeDotSegments(o.path));let s=o.protocol;return null!==o.authority&&(s+="//"+o.authority),s+=o.path,null!==o.query&&(s+="?"+o.query),null!==n.fragment&&(s+="#"+n.fragment),""===s&&(s="./"),s},r.removeBase=(t,e)=>{if(null===t)return e;t&&!i.isString(t)||(t=r.parse(t||""));let n="";if(""!==t.href?n+=(t.protocol||"")+"//"+(t.authority||""):e.indexOf("//")&&(n+="//"),0!==e.indexOf(n))return e;const o=r.parse(e.substr(n.length)),s=t.normalizedPath.split("/"),a=o.normalizedPath.split("/"),g=o.fragment||o.query?0:1;for(;s.length>0&&a.length>g&&s[0]===a[0];)s.shift(),a.shift();let l="";if(s.length>0){s.pop();for(let t=0;t<s.length;++t)l+="../"}return l+=a.join("/"),null!==o.query&&(l+="?"+o.query),null!==o.fragment&&(l+="#"+o.fragment),""===l&&(l="./"),l},r.removeDotSegments=t=>{if(0===t.length)return"";const e=t.split("/"),n=[];for(;e.length>0;){const t=e.shift(),i=0===e.length;"."!==t?".."!==t?n.push(t):(n.pop(),i&&n.push("")):i&&n.push("")}return"/"===t[0]&&n.length>0&&""!==n[0]&&n.unshift(""),1===n.length&&""===n[0]?"/":n.join("/")};const o=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;r.isAbsolute=t=>i.isString(t)&&o.test(t),r.isRelative=t=>i.isString(t)},540:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},585:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FetchDocumentLoader=void 0;const i=n(5094),r=n(2384),o=n(742);e.FetchDocumentLoader=class{constructor(t){this.fetcher=t}async load(t){const e=await(this.fetcher||fetch)(t,{headers:new Headers({accept:"application/ld+json"})});if(e.ok&&e.headers){let n=e.headers.get("Content-Type");if(n){const t=n.indexOf(";");t>0&&(n=n.substr(0,t))}if("application/ld+json"===n)return await e.json();if(e.headers.has("Link")){let n;if(e.headers.forEach(((e,i)=>{if("link"===i){const i=(0,r.parse)(e);for(const e of i.get("type","application/ld+json"))if("alternate"===e.rel){if(n)throw new Error("Multiple JSON-LD alternate links were found on "+t);n=(0,o.resolve)(e.uri,t)}}})),n)return this.load(n)}throw new i.ErrorCoded(`Unsupported JSON-LD media type ${n}`,i.ERROR_CODES.LOADING_DOCUMENT_FAILED)}throw new Error(e.statusText||`Status code: ${e.status}`)}}},608:(t,e,n)=>{var{Buffer:i}=n(8287),r={},o=r.LEFT_BRACE=1,s=r.RIGHT_BRACE=2,a=r.LEFT_BRACKET=3,g=r.RIGHT_BRACKET=4,l=r.COLON=5,A=r.COMMA=6,c=r.TRUE=7,h=r.FALSE=8,C=r.NULL=9,I=r.STRING=10,d=r.NUMBER=11,u=r.START=17,f=r.STOP=18,p=r.TRUE1=33,v=r.TRUE2=34,m=r.TRUE3=35,y=r.FALSE1=49,b=r.FALSE2=50,w=r.FALSE3=51,x=r.FALSE4=52,E=r.NULL1=65,k=r.NULL2=66,S=r.NULL3=67,T=r.NUMBER1=81,O=r.NUMBER3=83,R=r.STRING1=97,_=r.STRING2=98,N=r.STRING3=99,D=r.STRING4=100,P=r.STRING5=101,M=r.STRING6=102,L=r.VALUE=113,j=r.KEY=114,B=r.OBJECT=129,F=r.ARRAY=130,z="\\".charCodeAt(0),V="/".charCodeAt(0),G="\b".charCodeAt(0),U="\f".charCodeAt(0),W="\n".charCodeAt(0),Z="\r".charCodeAt(0),H="\t".charCodeAt(0),q=65536;function Y(t){return i.alloc?i.alloc(t):new i(t)}function Q(){this.tState=u,this.value=void 0,this.string=void 0,this.stringBuffer=Y(q),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=L,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:Y(2),3:Y(3),4:Y(4)},this.offset=-1}Q.toknam=function(t){for(var e=Object.keys(r),n=0,i=e.length;n<i;n++){var o=e[n];if(r[o]===t)return o}return t&&"0x"+t.toString(16)};var K=Q.prototype;K.onError=function(t){throw t},K.charError=function(t,e){this.tState=f,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(t[e]))+" at position "+e+" in state "+Q.toknam(this.tState)))},K.appendStringChar=function(t){this.stringBufferOffset>=q&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=t},K.appendStringBuf=function(t,e,n){var i=t.length;"number"==typeof e&&(i="number"==typeof n?n<0?t.length-e+n:n-e:t.length-e),i<0&&(i=0),this.stringBufferOffset+i>q&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),t.copy(this.stringBuffer,this.stringBufferOffset,e,n),this.stringBufferOffset+=i},K.write=function(t){var e;"string"==typeof t&&(t=new i(t));for(var n=0,r=t.length;n<r;n++)if(this.tState===u){if(e=t[n],this.offset++,123===e)this.onToken(o,"{");else if(125===e)this.onToken(s,"}");else if(91===e)this.onToken(a,"[");else if(93===e)this.onToken(g,"]");else if(58===e)this.onToken(l,":");else if(44===e)this.onToken(A,",");else if(116===e)this.tState=p;else if(102===e)this.tState=y;else if(110===e)this.tState=E;else if(34===e)this.string="",this.stringBufferOffset=0,this.tState=R;else if(45===e)this.string="-",this.tState=T;else if(e>=48&&e<64)this.string=String.fromCharCode(e),this.tState=O;else if(32!==e&&9!==e&&10!==e&&13!==e)return this.charError(t,n)}else if(this.tState===R)if(e=t[n],this.bytes_remaining>0){for(var d=0;d<this.bytes_remaining;d++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+d]=t[d];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,n=n+d-1}else if(0===this.bytes_remaining&&e>=128){if(e<=193||e>244)return this.onError(new Error("Invalid UTF-8 character at position "+n+" in state "+Q.toknam(this.tState)));if(e>=194&&e<=223&&(this.bytes_in_sequence=2),e>=224&&e<=239&&(this.bytes_in_sequence=3),e>=240&&e<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+n>t.length){for(var f=0;f<=t.length-1-n;f++)this.temp_buffs[this.bytes_in_sequence][f]=t[n+f];this.bytes_remaining=n+this.bytes_in_sequence-t.length,n=t.length-1}else this.appendStringBuf(t,n,n+this.bytes_in_sequence),n=n+this.bytes_in_sequence-1}else if(34===e)this.tState=u,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(I,this.string),this.offset+=i.byteLength(this.string,"utf8")+1,this.string=void 0;else if(92===e)this.tState=_;else{if(!(e>=32))return this.charError(t,n);this.appendStringChar(e)}else if(this.tState===_)if(34===(e=t[n]))this.appendStringChar(e),this.tState=R;else if(92===e)this.appendStringChar(z),this.tState=R;else if(47===e)this.appendStringChar(V),this.tState=R;else if(98===e)this.appendStringChar(G),this.tState=R;else if(102===e)this.appendStringChar(U),this.tState=R;else if(110===e)this.appendStringChar(W),this.tState=R;else if(114===e)this.appendStringChar(Z),this.tState=R;else if(116===e)this.appendStringChar(H),this.tState=R;else{if(117!==e)return this.charError(t,n);this.unicode="",this.tState=N}else if(this.tState===N||this.tState===D||this.tState===P||this.tState===M){if(!((e=t[n])>=48&&e<64||e>64&&e<=70||e>96&&e<=102))return this.charError(t,n);if(this.unicode+=String.fromCharCode(e),this.tState++===M){var L=parseInt(this.unicode,16);this.unicode=void 0,void 0!==this.highSurrogate&&L>=56320&&L<57344?(this.appendStringBuf(new i(String.fromCharCode(this.highSurrogate,L))),this.highSurrogate=void 0):void 0===this.highSurrogate&&L>=55296&&L<56320?this.highSurrogate=L:(void 0!==this.highSurrogate&&(this.appendStringBuf(new i(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new i(String.fromCharCode(L)))),this.tState=R}}else if(this.tState===T||this.tState===O)switch(e=t[n]){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(e),this.tState=O;break;default:this.tState=u;var j=this.numberReviver(this.string,t,n);if(j)return j;this.offset+=this.string.length-1,this.string=void 0,n--}else if(this.tState===p){if(114!==t[n])return this.charError(t,n);this.tState=v}else if(this.tState===v){if(117!==t[n])return this.charError(t,n);this.tState=m}else if(this.tState===m){if(101!==t[n])return this.charError(t,n);this.tState=u,this.onToken(c,!0),this.offset+=3}else if(this.tState===y){if(97!==t[n])return this.charError(t,n);this.tState=b}else if(this.tState===b){if(108!==t[n])return this.charError(t,n);this.tState=w}else if(this.tState===w){if(115!==t[n])return this.charError(t,n);this.tState=x}else if(this.tState===x){if(101!==t[n])return this.charError(t,n);this.tState=u,this.onToken(h,!1),this.offset+=4}else if(this.tState===E){if(117!==t[n])return this.charError(t,n);this.tState=k}else if(this.tState===k){if(108!==t[n])return this.charError(t,n);this.tState=S}else if(this.tState===S){if(108!==t[n])return this.charError(t,n);this.tState=u,this.onToken(C,null),this.offset+=3}},K.onToken=function(t,e){},K.parseError=function(t,e){this.tState=f,this.onError(new Error("Unexpected "+Q.toknam(t)+(e?"("+JSON.stringify(e)+")":"")+" in state "+Q.toknam(this.state)))},K.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},K.pop=function(){var t=this.value,e=this.stack.pop();this.value=e.value,this.key=e.key,this.mode=e.mode,this.emit(t),this.mode||(this.state=L)},K.emit=function(t){this.mode&&(this.state=A),this.onValue(t)},K.onValue=function(t){},K.onToken=function(t,e){if(this.state===L)if(t===I||t===d||t===c||t===h||t===C)this.value&&(this.value[this.key]=e),this.emit(e);else if(t===o)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=j,this.mode=B;else if(t===a)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=F,this.state=L;else if(t===s){if(this.mode!==B)return this.parseError(t,e);this.pop()}else{if(t!==g)return this.parseError(t,e);if(this.mode!==F)return this.parseError(t,e);this.pop()}else if(this.state===j)if(t===I)this.key=e,this.state=l;else{if(t!==s)return this.parseError(t,e);this.pop()}else if(this.state===l){if(t!==l)return this.parseError(t,e);this.state=L}else{if(this.state!==A)return this.parseError(t,e);if(t===A)this.mode===F?(this.key++,this.state=L):this.mode===B&&(this.state=j);else{if(!(t===g&&this.mode===F||t===s&&this.mode===B))return this.parseError(t,e);this.pop()}}},K.numberReviver=function(t,e,n){var i=Number(t);if(isNaN(i))return this.charError(e,n);t.match(/[0-9]+/)==t&&i.toString()!=t?this.onToken(I,t):this.onToken(d,i)},Q.C=r,t.exports=Q},659:(t,e,n)=>{var i=n(1873),r=Object.prototype,o=r.hasOwnProperty,s=r.toString,a=i?i.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),n=t[a];try{t[a]=void 0;var i=!0}catch(t){}var r=s.call(t);return i&&(e?t[a]=n:delete t[a]),r}},701:(t,e,n)=>{"use strict";const i=n(6957),r={};t.exports=r,r.setupDocumentLoaders=function(t){"undefined"!=typeof XMLHttpRequest&&(t.documentLoaders.xhr=i,t.useDocumentLoader("xhr"))},r.setupGlobals=function(t){void 0===globalThis.JsonLdProcessor&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:t.JsonLdProcessor})}},736:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordIncluded=void 0;const i=n(2395),r=n(1548);class o extends r.EntryHandlerKeyword{constructor(){super("@included")}async handle(t,e,n,r,o,s){"object"!=typeof o&&t.emitError(new i.ErrorCoded(`Found illegal @included '${o}'`,i.ERROR_CODES.INVALID_INCLUDED_VALUE));const a=await e.unaliasKeywords(o,r,s,await t.getContext(r));"@value"in a&&t.emitError(new i.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(o)}'`,i.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in a&&t.emitError(new i.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(o)}'`,i.ERROR_CODES.INVALID_INCLUDED_VALUE)),t.emittedStack[s]=!1}}e.EntryHandlerKeywordIncluded=o},742:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(4806),e)},823:(t,e,n)=>{"use strict";const i=globalThis.AbortController||n(5568).AbortController,{codes:{ERR_INVALID_ARG_VALUE:r,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:a},AbortError:g}=n(6371),{validateAbortSignal:l,validateInteger:A,validateObject:c}=n(277),h=n(4134).Symbol("kWeak"),C=n(4134).Symbol("kResistStopPropagation"),{finished:I}=n(6238),d=n(7830),{addAbortSignalNoValidate:u}=n(4147),{isWritable:f,isNodeStream:p}=n(6115),{deprecate:v}=n(7760),{ArrayPrototypePush:m,Boolean:y,MathFloor:b,Number:w,NumberIsNaN:x,Promise:E,PromiseReject:k,PromiseResolve:S,PromisePrototypeThen:T,Symbol:O}=n(4134),R=O("kEmpty"),_=O("kEof");function N(t,e){if("function"!=typeof t)throw new o("fn",["Function","AsyncFunction"],t);null!=e&&c(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal");let i=1;null!=(null==e?void 0:e.concurrency)&&(i=b(e.concurrency));let r=i-1;return null!=(null==e?void 0:e.highWaterMark)&&(r=b(e.highWaterMark)),A(i,"options.concurrency",1),A(r,"options.highWaterMark",0),r+=i,async function*(){const o=n(7760).AbortSignalAny([null==e?void 0:e.signal].filter(y)),s=this,a=[],l={signal:o};let A,c,h=!1,C=0;function I(){h=!0,d()}function d(){C-=1,u()}function u(){c&&!h&&C<i&&a.length<r&&(c(),c=null)}!async function(){try{for await(let e of s){if(h)return;if(o.aborted)throw new g;try{if(e=t(e,l),e===R)continue;e=S(e)}catch(t){e=k(t)}C+=1,T(e,d,I),a.push(e),A&&(A(),A=null),!h&&(a.length>=r||C>=i)&&await new E((t=>{c=t}))}a.push(_)}catch(t){const e=k(t);T(e,d,I),a.push(e)}finally{h=!0,A&&(A(),A=null)}}();try{for(;;){for(;a.length>0;){const t=await a[0];if(t===_)return;if(o.aborted)throw new g;t!==R&&(yield t),a.shift(),u()}await new E((t=>{A=t}))}}finally{h=!0,c&&(c(),c=null)}}.call(this)}async function D(t,e=void 0){for await(const n of P.call(this,t,e))return!0;return!1}function P(t,e){if("function"!=typeof t)throw new o("fn",["Function","AsyncFunction"],t);return N.call(this,(async function(e,n){return await t(e,n)?e:R}),e)}class M extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function L(t){if(t=w(t),x(t))return 0;if(t<0)throw new a("number",">= 0",t);return t}t.exports.streamReturningOperators={asIndexedPairs:v((function(t=void 0){return null!=t&&c(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal"),async function*(){let e=0;for await(const i of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new g({cause:t.signal.reason});yield[e++,i]}}.call(this)}),"readable.asIndexedPairs will be removed in a future version."),drop:function(t,e=void 0){return null!=e&&c(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal"),t=L(t),async function*(){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new g;for await(const n of this){var i;if(null!=e&&null!==(i=e.signal)&&void 0!==i&&i.aborted)throw new g;t--<=0&&(yield n)}}.call(this)},filter:P,flatMap:function(t,e){const n=N.call(this,t,e);return async function*(){for await(const t of n)yield*t}.call(this)},map:N,take:function(t,e=void 0){return null!=e&&c(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal"),t=L(t),async function*(){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new g;for await(const n of this){var i;if(null!=e&&null!==(i=e.signal)&&void 0!==i&&i.aborted)throw new g;if(t-- >0&&(yield n),t<=0)return}}.call(this)},compose:function(t,e){if(null!=e&&c(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal"),p(t)&&!f(t))throw new r("stream",t,"must be writable");const n=d(this,t);return null!=e&&e.signal&&u(e.signal,n),n}},t.exports.promiseReturningOperators={every:async function(t,e=void 0){if("function"!=typeof t)throw new o("fn",["Function","AsyncFunction"],t);return!await D.call(this,(async(...e)=>!await t(...e)),e)},forEach:async function(t,e){if("function"!=typeof t)throw new o("fn",["Function","AsyncFunction"],t);for await(const n of N.call(this,(async function(e,n){return await t(e,n),R}),e));},reduce:async function(t,e,n){var r;if("function"!=typeof t)throw new o("reducer",["Function","AsyncFunction"],t);null!=n&&c(n,"options"),null!=(null==n?void 0:n.signal)&&l(n.signal,"options.signal");let s=arguments.length>1;if(null!=n&&null!==(r=n.signal)&&void 0!==r&&r.aborted){const t=new g(void 0,{cause:n.signal.reason});throw this.once("error",(()=>{})),await I(this.destroy(t)),t}const a=new i,A=a.signal;if(null!=n&&n.signal){const t={once:!0,[h]:this,[C]:!0};n.signal.addEventListener("abort",(()=>a.abort()),t)}let d=!1;try{for await(const i of this){var u;if(d=!0,null!=n&&null!==(u=n.signal)&&void 0!==u&&u.aborted)throw new g;s?e=await t(e,i,{signal:A}):(e=i,s=!0)}if(!d&&!s)throw new M}finally{a.abort()}return e},toArray:async function(t){null!=t&&c(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal");const e=[];for await(const i of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new g(void 0,{cause:t.signal.reason});m(e,i)}return e},some:D,find:async function(t,e){for await(const n of P.call(this,t,e))return n}}},888:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;const i=n(2395),r=n(7793),o=n(4860),s=n(2341);class a{constructor(t){this.parsingContext=t.parsingContext,this.dataFactory=t.dataFactory||new r.DataFactory,this.rdfFirst=this.dataFactory.namedNode(a.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(a.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(a.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(a.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(a.RDF+"JSON")}static getContextValue(t,e,n,i){const r=t.getContextRaw()[n];if(!r)return i;const o=r[e];return void 0===o?i:o}static getContextValueContainer(t,e){return a.getContextValue(t,"@container",e,{"@set":!0})}static getContextValueType(t,e){const n=a.getContextValue(t,"@type",e,null);return"@none"===n?null:n}static getContextValueLanguage(t,e){return a.getContextValue(t,"@language",e,t.getContextRaw()["@language"]||null)}static getContextValueDirection(t,e){return a.getContextValue(t,"@direction",e,t.getContextRaw()["@direction"]||null)}static isContextValueReverse(t,e){return!!a.getContextValue(t,"@reverse",e,null)}static getContextValueIndex(t,e){return a.getContextValue(t,"@index",e,t.getContextRaw()["@index"]||null)}static isPropertyReverse(t,e,n){return"@reverse"===n!==a.isContextValueReverse(t,e)}static isPropertyInEmbeddedNode(t){return"@id"===t}static isPropertyInAnnotationObject(t){return"@annotation"===t}static isValidIri(t){return null!==t&&i.Util.isValidIri(t)}static isPrefixArray(t,e){if(t.length>e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}async validateValueIndexes(t){if(this.parsingContext.validateValueIndexes){const e={};for(const n of t)if(n&&"object"==typeof n){const t=n["@id"],r=n["@index"];if(t&&r){const n=e[t];if(n&&n!==r)throw new i.ErrorCoded(`Conflicting @index value for ${t}`,i.ERROR_CODES.CONFLICTING_INDEXES);e[t]=r}}}}async valueToTerm(t,e,n,r,o){if("@json"===a.getContextValueType(t,e))return[this.dataFactory.literal(this.valueToJsonString(n),this.rdfJson)];const s=typeof n;switch(s){case"object":if(null==n)return[];if(Array.isArray(n))return"@list"in a.getContextValueContainer(t,e)?0===n.length?[this.rdfNil]:this.parsingContext.idStack[r+1]||[]:(await this.validateValueIndexes(n),[]);if(t=await this.getContextSelfOrPropertyScoped(t,e),"@context"in n&&(t=await this.parsingContext.parseContext(n["@context"],(await this.parsingContext.getContext(o,0)).getContextRaw())),"@value"in(n=await this.unaliasKeywords(n,o,r,t))){let s,a,g,l,A;for(e in n){const t=n[e];switch(e){case"@value":s=t;break;case"@language":a=t;break;case"@direction":g=t;break;case"@type":l=t;break;case"@index":A=t;break;case"@annotation":break;default:throw new i.ErrorCoded(`Unknown value entry '${e}' in @value: ${JSON.stringify(n)}`,i.ERROR_CODES.INVALID_VALUE_OBJECT)}}if("@json"===await this.unaliasKeyword(l,o,r,!0,t))return[this.dataFactory.literal(this.valueToJsonString(s),this.rdfJson)];if(null===s)return[];if("object"==typeof s)throw new i.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(s)}'`,i.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&A&&"string"!=typeof A)throw new i.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(A)}'`,i.ERROR_CODES.INVALID_INDEX_VALUE);if(a){if("string"!=typeof s)throw new i.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(s)}'`,i.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!i.ContextParser.validateLanguage(a,this.parsingContext.strictValues,i.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||1===this.parsingContext.activeProcessingMode)&&(a=a.toLowerCase())}if(g){if("string"!=typeof s)throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(s)}'`);if(!i.ContextParser.validateDirection(g,this.parsingContext.strictValues))return[]}if(a&&g){if(l)throw new i.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(n)}'`,i.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(r,s,a,g))}if(a){if(l)throw new i.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(n)}'`,i.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(s,a)]}if(g){if(l)throw new i.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(n)}'`,i.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(r,s,a,g))}if(l){if("string"!=typeof l)throw new i.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(l)}'`,i.ERROR_CODES.INVALID_TYPED_VALUE);const e=this.createVocabOrBaseTerm(t,l);if(!e)throw new i.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(l)}'`,i.ERROR_CODES.INVALID_TYPED_VALUE);if("NamedNode"!==e.termType)throw new i.ErrorCoded(`Illegal value type (${e.termType}): ${l}`,i.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(s,e)]}return await this.valueToTerm(new i.JsonLdContextNormalized({}),e,s,r,o)}if("@set"in n){if(Object.keys(n).length>1)throw new i.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${e}'`,i.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}if("@list"in n){if(Object.keys(n).length>1)throw new i.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${e}'`,i.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const t=n["@list"];return Array.isArray(t)?0===t.length?[this.rdfNil]:this.parsingContext.idStack[r+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(o),e,t,r-1,o.slice(0,-1))}if("@reverse"in n&&"boolean"==typeof n["@reverse"])return[];if("@graph"in a.getContextValueContainer(await this.parsingContext.getContext(o),e)){const t=this.parsingContext.graphContainerTermStack[r+1];return t?Object.values(t):[this.dataFactory.blankNode()]}if("@id"in n){if(Object.keys(n).length>1&&(t=await this.parsingContext.getContext(o,0)),"@context"in n&&(t=await this.parsingContext.parseContext(n["@context"],t.getContextRaw())),"@vocab"===n["@type"])return this.nullableTermToArray(this.createVocabOrBaseTerm(t,n["@id"]));{const e=n["@id"];let o;if("object"==typeof e){if(!this.parsingContext.rdfstar)throw new i.ErrorCoded(`Found illegal @id '${n}'`,i.ERROR_CODES.INVALID_ID_VALUE);o=this.parsingContext.idStack[r+1][0]}else o=this.resourceToTerm(t,e);return this.nullableTermToArray(o)}}return this.parsingContext.emittedStack[r+1]||n&&"object"==typeof n&&0===Object.keys(n).length?this.parsingContext.idStack[r+1]||(this.parsingContext.idStack[r+1]=[this.dataFactory.blankNode()]):[];case"string":return this.nullableTermToArray(this.stringValueToTerm(r,await this.getContextSelfOrPropertyScoped(t,e),e,n,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(r,await this.getContextSelfOrPropertyScoped(t,e),e,Boolean(n).toString(),this.dataFactory.namedNode(a.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(r,await this.getContextSelfOrPropertyScoped(t,e),e,n,this.dataFactory.namedNode(n%1==0&&n<1e21?a.XSD_INTEGER:a.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${s}`)),[]}}async getContextSelfOrPropertyScoped(t,e){const n=t.getContextRaw()[e];return n&&"object"==typeof n&&"@context"in n&&(t=await this.parsingContext.parseContext(n,t.getContextRaw(),!0)),t}nullableTermToArray(t){return t?[t]:[]}predicateToTerm(t,e){const n=t.expandTerm(e,!0,this.parsingContext.getExpandOptions());return n?"_"===n[0]&&":"===n[1]?this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(n.substr(2)):null:a.isValidIri(n)?this.dataFactory.namedNode(n):n&&this.parsingContext.strictValues?(this.parsingContext.emitError(new i.ErrorCoded(`Invalid predicate IRI: ${n}`,i.ERROR_CODES.INVALID_IRI_MAPPING)),null):null:null}resourceToTerm(t,e){if(e.startsWith("_:"))return this.dataFactory.blankNode(e.substr(2));const n=t.expandTerm(e,!1,this.parsingContext.getExpandOptions());if(!a.isValidIri(n)){if(!n||!this.parsingContext.strictValues)return null;this.parsingContext.emitError(new Error(`Invalid resource IRI: ${n}`))}return this.dataFactory.namedNode(n)}createVocabOrBaseTerm(t,e){if(e.startsWith("_:"))return this.dataFactory.blankNode(e.substr(2));const n=this.parsingContext.getExpandOptions();let i=t.expandTerm(e,!0,n);if(i===e&&(i=t.expandTerm(e,!1,n)),!a.isValidIri(i)){if(!i||!this.parsingContext.strictValues||i.startsWith("@"))return null;this.parsingContext.emitError(new Error(`Invalid term IRI: ${i}`))}return this.dataFactory.namedNode(i)}intToString(t,e){return"number"==typeof t?Number.isFinite(t)?t%1!=0||e&&e.value===a.XSD_DOUBLE?t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):Number(t).toString():t>0?"INF":"-INF":t}stringValueToTerm(t,e,n,i,r){const o=a.getContextValueType(e,n);if(o)if("@id"===o){if(!r)return this.resourceToTerm(e,this.intToString(i,r))}else if("@vocab"===o){if(!r)return this.createVocabOrBaseTerm(e,this.intToString(i,r))}else r=this.dataFactory.namedNode(o);if(!r){const o=a.getContextValueLanguage(e,n),s=a.getContextValueDirection(e,n);return s?this.createLanguageDirectionLiteral(t,this.intToString(i,r),o,s):this.dataFactory.literal(this.intToString(i,r),o)}return this.dataFactory.literal(this.intToString(i,r),r)}createLanguageDirectionLiteral(t,e,n,i){if("i18n-datatype"===this.parsingContext.rdfDirection)return n||(n=""),this.dataFactory.literal(e,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${n}_${i}`));if("compound-literal"===this.parsingContext.rdfDirection){const r=this.dataFactory.blankNode(),o=this.getDefaultGraph();return this.parsingContext.emitQuad(t,this.dataFactory.quad(r,this.dataFactory.namedNode(a.RDF+"value"),this.dataFactory.literal(e),o)),n&&this.parsingContext.emitQuad(t,this.dataFactory.quad(r,this.dataFactory.namedNode(a.RDF+"language"),this.dataFactory.literal(n),o)),this.parsingContext.emitQuad(t,this.dataFactory.quad(r,this.dataFactory.namedNode(a.RDF+"direction"),this.dataFactory.literal(i),o)),r}return this.dataFactory.literal(e,{language:n||"",direction:i})}valueToJsonString(t){return s(t)}async unaliasKeyword(t,e,n,r,o){if(Number.isInteger(t))return t;if(!r){const t=this.parsingContext.unaliasedKeywordCacheStack[n];if(t)return t}if(!i.Util.isPotentialKeyword(t)){let n=(o=o||await this.parsingContext.getContext(e)).getContextRaw()[t];n&&"object"==typeof n&&(n=n["@id"]),i.Util.isValidKeyword(n)&&(t=n)}return r?t:this.parsingContext.unaliasedKeywordCacheStack[n]=t}async unaliasKeywordParent(t,e){return await this.unaliasKeyword(e>0&&t[e-1],t,e-1)}async unaliasKeywords(t,e,n,i){const r={};for(const o in t)r[await this.unaliasKeyword(o,e,n+1,!0,i)]=t[o];return r}async isLiteral(t,e){for(let n=e;n>=0;n--){if("@annotation"===await this.unaliasKeyword(t[n],t,n))return!1;if(this.parsingContext.literalStack[n]||this.parsingContext.jsonLiteralStack[n])return!0}return!1}async getDepthOffsetGraph(t,e){for(let n=t-1;n>0;n--)if("@graph"===await this.unaliasKeyword(e[n],e,n)){const i=(await o.EntryHandlerContainer.getContainerHandler(this.parsingContext,e,n)).containers;return o.EntryHandlerContainer.isComplexGraphContainer(i)?-1:t-n-1}return-1}validateReverseSubject(t){if("Literal"===t.termType)throw new i.ErrorCoded(`Found illegal literal in subject position: ${t.value}`,i.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(t,e){let n=this.getDefaultGraph();const{containers:i,depth:r}=await o.EntryHandlerContainer.getContainerHandler(this.parsingContext,t,e);if("@graph"in i){const e=o.EntryHandlerContainer.getContainerGraphIndex(i,r,t),s=this.parsingContext.graphContainerTermStack[r];if(n=s?s[e]:null,!n){let o=null;if("@id"in i){const e=await this.getContainerKey(t[r],t,r);null!==e&&(o=await this.resourceToTerm(await this.parsingContext.getContext(t),e))}o||(o=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[r]||(this.parsingContext.graphContainerTermStack[r]={}),n=this.parsingContext.graphContainerTermStack[r][e]=o}}return n}async getPropertiesDepth(t,e){let n=e;for(let i=e-1;i>0;i--)if("number"!=typeof t[i]){const e=await this.unaliasKeyword(t[i],t,i);if("@reverse"===e)return i;if("@nest"!==e)return n;n=i}return n}async getContainerKey(t,e,n){const i=await this.unaliasKeyword(t,e,n);return"@none"===i?null:i}validateReverseInEmbeddedNode(t,e,n){if(n&&e&&!this.parsingContext.rdfstarReverseInEmbedded)throw new i.ErrorCoded(`Illegal reverse property in embedded node in ${t}`,i.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(t,e,n,r,o,s,a){let g;if(s?(this.validateReverseSubject(r),g=this.dataFactory.quad(r,n,e,o)):g=this.dataFactory.quad(e,n,r,o),a){if("DefaultGraph"!==g.graph.termType&&(g=this.dataFactory.quad(g.subject,g.predicate,g.object)),this.parsingContext.idStack[t-1])throw new i.ErrorCoded("Illegal multiple properties in an embedded node",i.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[t-1]=[g]}else this.parsingContext.emitQuad(t,g);const l=this.parsingContext.annotationsBuffer[t];if(l){for(const e of l)this.emitAnnotation(t,g,e);delete this.parsingContext.annotationsBuffer[t]}}emitAnnotation(t,e,n){let i;n.reverse?(this.validateReverseSubject(n.object),i=this.dataFactory.quad(n.object,n.predicate,e)):i=this.dataFactory.quad(e,n.predicate,n.object),this.parsingContext.emitQuad(t,i);for(const e of n.nestedAnnotations)this.emitAnnotation(t,i,e)}}e.Util=a,a.XSD="http://www.w3.org/2001/XMLSchema#",a.XSD_BOOLEAN=a.XSD+"boolean",a.XSD_INTEGER=a.XSD+"integer",a.XSD_DOUBLE=a.XSD+"double",a.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#"},1058:(t,e,n)=>{"use strict";const i=n(2207),{isArray:r,isObject:o,isString:s,isUndefined:a}=n(5001),{isList:g,isValue:l,isGraph:A,isSimpleGraph:c,isSubjectReference:h}=n(3978),{expandIri:C,getContextValue:I,isKeyword:d,process:u,processingMode:f}=n(1972),{removeBase:p,prependBase:v}=n(470),{REGEX_KEYWORD:m,addValue:y,asArray:b,compareShortestLeast:w}=n(9263),x={};function E(t,e,n){if("@nest"!==C(t,e,{vocab:!0},n))throw new i("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}t.exports=x,x.compact=async({activeCtx:t,activeProperty:e=null,element:n,options:C={}})=>{if(r(n)){let i=[];for(let r=0;r<n.length;++r){const o=await x.compact({activeCtx:t,activeProperty:e,element:n[r],options:C});null!==o&&i.push(o)}return C.compactArrays&&1===i.length&&0===(I(t,e,"@container")||[]).length&&(i=i[0]),i}const p=I(t,e,"@context");if(a(p)||(t=await u({activeCtx:t,localCtx:p,propagate:!0,overrideProtected:!0,options:C})),o(n)){if(C.link&&"@id"in n&&C.link.hasOwnProperty(n["@id"])){const t=C.link[n["@id"]];for(let e=0;e<t.length;++e)if(t[e].expanded===n)return t[e].compacted}if(l(n)||h(n)){const i=x.compactValue({activeCtx:t,activeProperty:e,value:n,options:C});return C.link&&h(n)&&(C.link.hasOwnProperty(n["@id"])||(C.link[n["@id"]]=[]),C.link[n["@id"]].push({expanded:n,compacted:i})),i}if(g(n)&&(I(t,e,"@container")||[]).includes("@list"))return x.compact({activeCtx:t,activeProperty:e,element:n["@list"],options:C});const p="@reverse"===e,v={},m=t;l(n)||h(n)||(t=t.revertToPreviousContext());const w=I(m,e,"@context");a(w)||(t=await u({activeCtx:t,localCtx:w,propagate:!0,overrideProtected:!0,options:C})),C.link&&"@id"in n&&(C.link.hasOwnProperty(n["@id"])||(C.link[n["@id"]]=[]),C.link[n["@id"]].push({expanded:n,compacted:v}));let k=n["@type"]||[];k.length>1&&(k=Array.from(k).sort());const S=t;for(const e of k){const n=x.compactIri({activeCtx:S,iri:e,relativeTo:{vocab:!0}}),i=I(m,n,"@context");a(i)||(t=await u({activeCtx:t,localCtx:i,options:C,propagate:!1}))}const T=Object.keys(n).sort();for(const a of T){const h=n[a];if("@id"!==a)if("@type"!==a)if("@reverse"!==a)if("@preserve"!==a)if("@index"!==a)if("@graph"!==a&&"@list"!==a&&"@included"!==a&&d(a)){const e=x.compactIri({activeCtx:t,iri:a,relativeTo:{vocab:!0}});y(v,e,h)}else{if(!r(h))throw new i("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===h.length){const e=x.compactIri({activeCtx:t,iri:a,value:h,relativeTo:{vocab:!0},reverse:p}),n=t.mappings.has(e)?t.mappings.get(e)["@nest"]:null;let i=v;n&&(E(t,n,C),o(v[n])||(v[n]={}),i=v[n]),y(i,e,h,{propertyIsArray:!0})}for(const e of h){const n=x.compactIri({activeCtx:t,iri:a,value:e,relativeTo:{vocab:!0},reverse:p}),i=t.mappings.has(n)?t.mappings.get(n)["@nest"]:null;let h=v;i&&(E(t,i,C),o(v[i])||(v[i]={}),h=v[i]);const d=I(t,n,"@container")||[],u=A(e),f=g(e);let m;f?m=e["@list"]:u&&(m=e["@graph"]);let w=await x.compact({activeCtx:t,activeProperty:n,element:f||u?m:e,options:C});if(f){if(r(w)||(w=[w]),d.includes("@list")){y(h,n,w,{valueIsArray:!0,allowDuplicate:!0});continue}w={[x.compactIri({activeCtx:t,iri:"@list",relativeTo:{vocab:!0}})]:w},"@index"in e&&(w[x.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=e["@index"])}if(u)if(d.includes("@graph")&&(d.includes("@id")||d.includes("@index")&&c(e))){let i;h.hasOwnProperty(n)?i=h[n]:h[n]=i={};const r=(d.includes("@id")?e["@id"]:e["@index"])||x.compactIri({activeCtx:t,iri:"@none",relativeTo:{vocab:!0}});y(i,r,w,{propertyIsArray:!C.compactArrays||d.includes("@set")})}else d.includes("@graph")&&c(e)?(r(w)&&w.length>1&&(w={"@included":w}),y(h,n,w,{propertyIsArray:!C.compactArrays||d.includes("@set")})):(r(w)&&1===w.length&&C.compactArrays&&(w=w[0]),w={[x.compactIri({activeCtx:t,iri:"@graph",relativeTo:{vocab:!0}})]:w},"@id"in e&&(w[x.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}})]=e["@id"]),"@index"in e&&(w[x.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=e["@index"]),y(h,n,w,{propertyIsArray:!C.compactArrays||d.includes("@set")}));else if(d.includes("@language")||d.includes("@index")||d.includes("@id")||d.includes("@type")){let i,r;if(h.hasOwnProperty(n)?i=h[n]:h[n]=i={},d.includes("@language"))l(w)&&(w=w["@value"]),r=e["@language"];else if(d.includes("@index")){const i=I(t,n,"@index")||"@index",o=x.compactIri({activeCtx:t,iri:i,relativeTo:{vocab:!0}});if("@index"===i)r=e["@index"],delete w[o];else{let t;if([r,...t]=b(w[i]||[]),s(r))switch(t.length){case 0:delete w[i];break;case 1:w[i]=t[0];break;default:w[i]=t}else r=null}}else if(d.includes("@id")){const e=x.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}});r=w[e],delete w[e]}else if(d.includes("@type")){const i=x.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}});let o;switch([r,...o]=b(w[i]||[]),o.length){case 0:delete w[i];break;case 1:w[i]=o[0];break;default:w[i]=o}1===Object.keys(w).length&&"@id"in e&&(w=await x.compact({activeCtx:t,activeProperty:n,element:{"@id":e["@id"]},options:C}))}r||(r=x.compactIri({activeCtx:t,iri:"@none",relativeTo:{vocab:!0}})),y(i,r,w,{propertyIsArray:d.includes("@set")})}else{const t=!C.compactArrays||d.includes("@set")||d.includes("@list")||r(w)&&0===w.length||"@list"===a||"@graph"===a;y(h,n,w,{propertyIsArray:t})}}}else{if((I(t,e,"@container")||[]).includes("@index"))continue;const n=x.compactIri({activeCtx:t,iri:a,relativeTo:{vocab:!0}});y(v,n,h)}else{const n=await x.compact({activeCtx:t,activeProperty:e,element:h,options:C});r(n)&&0===n.length||y(v,a,n)}else{const e=await x.compact({activeCtx:t,activeProperty:"@reverse",element:h,options:C});for(const n in e)if(t.mappings.has(n)&&t.mappings.get(n).reverse){const i=e[n],r=(I(t,n,"@container")||[]).includes("@set")||!C.compactArrays;y(v,n,i,{propertyIsArray:r}),delete e[n]}if(Object.keys(e).length>0){const n=x.compactIri({activeCtx:t,iri:a,relativeTo:{vocab:!0}});y(v,n,e)}}else{let e=b(h).map((t=>x.compactIri({activeCtx:m,iri:t,relativeTo:{vocab:!0}})));1===e.length&&(e=e[0]);const n=x.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}}),i=(I(t,n,"@container")||[]).includes("@set")&&f(t,1.1)||r(e)&&0===h.length;y(v,n,e,{propertyIsArray:i})}else{let e=b(h).map((e=>x.compactIri({activeCtx:t,iri:e,relativeTo:{vocab:!1},base:C.base})));1===e.length&&(e=e[0]),v[x.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}})]=e}}return v}return n},x.compactIri=({activeCtx:t,iri:e,value:n=null,relativeTo:r={vocab:!1},reverse:s=!1,base:a=null})=>{if(null===e)return e;t.isPropertyTermScoped&&t.previousContext&&(t=t.previousContext);const c=t.getInverse();if(d(e)&&e in c&&"@none"in c[e]&&"@type"in c[e]["@none"]&&"@none"in c[e]["@none"]["@type"])return c[e]["@none"]["@type"]["@none"];if(r.vocab&&e in c){const i=t["@language"]||"@none",r=[];o(n)&&"@index"in n&&!("@graph"in n)&&r.push("@index","@index@set"),o(n)&&"@preserve"in n&&(n=n["@preserve"][0]),A(n)?("@index"in n&&r.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n&&r.push("@graph@id","@graph@id@set"),r.push("@graph","@graph@set","@set"),"@index"in n||r.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n||r.push("@graph@id","@graph@id@set")):o(n)&&!l(n)&&r.push("@id","@id@set","@type","@set@type");let a="@language",c="@null";if(s)a="@type",c="@reverse",r.push("@set");else if(g(n)){"@index"in n||r.push("@list");const t=n["@list"];if(0===t.length)a="@any",c="@none";else{let e=0===t.length?i:null,n=null;for(let i=0;i<t.length;++i){const r=t[i];let o="@none",s="@none";if(l(r)?"@direction"in r?o=`${(r["@language"]||"").toLowerCase()}_${r["@direction"]}`:"@language"in r?o=r["@language"].toLowerCase():"@type"in r?s=r["@type"]:o="@null":s="@id",null===e?e=o:o!==e&&l(r)&&(e="@none"),null===n?n=s:s!==n&&(n="@none"),"@none"===e&&"@none"===n)break}e=e||"@none",n=n||"@none","@none"!==n?(a="@type",c=n):c=e}}else{if(l(n))if("@language"in n&&!("@index"in n)){r.push("@language","@language@set"),c=n["@language"];const t=n["@direction"];t&&(c=`${c}_${t}`)}else"@direction"in n&&!("@index"in n)?c=`_${n["@direction"]}`:"@type"in n&&(a="@type",c=n["@type"]);else a="@type",c="@id";r.push("@set")}r.push("@none"),o(n)&&!("@index"in n)&&r.push("@index","@index@set"),l(n)&&1===Object.keys(n).length&&r.push("@language","@language@set");const h=function(t,e,n,i,r,s){null===s&&(s="@null");const a=[];if(("@id"===s||"@reverse"===s)&&o(n)&&"@id"in n){"@reverse"===s&&a.push("@reverse");const e=x.compactIri({activeCtx:t,iri:n["@id"],relativeTo:{vocab:!0}});t.mappings.has(e)&&t.mappings.get(e)&&t.mappings.get(e)["@id"]===n["@id"]?a.push.apply(a,["@vocab","@id"]):a.push.apply(a,["@id","@vocab"])}else{a.push(s);const t=a.find((t=>t.includes("_")));t&&a.push(t.replace(/^[^_]+_/,"_"))}a.push("@none");const g=t.inverse[e];for(const t of i){if(!(t in g))continue;const e=g[t][r];for(const t of a)if(t in e)return e[t]}return null}(t,e,n,r,a,c);if(null!==h)return h}if(r.vocab&&"@vocab"in t){const n=t["@vocab"];if(0===e.indexOf(n)&&e!==n){const i=e.substr(n.length);if(!t.mappings.has(i))return i}}let h=null;const C=[];let I=t.fastCurieMap;const u=e.length-1;for(let t=0;t<u&&e[t]in I;++t)I=I[e[t]],""in I&&C.push(I[""][0]);for(let i=C.length-1;i>=0;--i){const r=C[i],o=r.terms;for(const i of o){const o=i+":"+e.substr(r.iri.length);t.mappings.get(i)._prefix&&(!t.mappings.has(o)||null===n&&t.mappings.get(o)["@id"]===e)&&(null===h||w(o,h)<0)&&(h=o)}}if(null!==h)return h;for(const[n,r]of t.mappings)if(r&&r._prefix&&e.startsWith(n+":"))throw new i(`Absolute IRI "${e}" confused with prefix "${n}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:t});if(!r.vocab){if("@base"in t){if(t["@base"]){const n=p(v(a,t["@base"]),e);return m.test(n)?`./${n}`:n}return e}return p(a,e)}return e},x.compactValue=({activeCtx:t,activeProperty:e,value:n,options:i})=>{if(l(n)){const i=I(t,e,"@type"),r=I(t,e,"@language"),o=I(t,e,"@direction"),a=I(t,e,"@container")||[],g="@index"in n&&!a.includes("@index");if(!g&&"@none"!==i){if(n["@type"]===i)return n["@value"];if("@language"in n&&n["@language"]===r&&"@direction"in n&&n["@direction"]===o)return n["@value"];if("@language"in n&&n["@language"]===r)return n["@value"];if("@direction"in n&&n["@direction"]===o)return n["@value"]}const l=Object.keys(n).length,A=1===l||2===l&&"@index"in n&&!g,c="@language"in t,h=s(n["@value"]),C=t.mappings.has(e)&&null===t.mappings.get(e)["@language"];if(A&&"@none"!==i&&(!c||!h||C))return n["@value"];const d={};return g&&(d[x.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?d[x.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}})]=x.compactIri({activeCtx:t,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(d[x.compactIri({activeCtx:t,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),"@direction"in n&&(d[x.compactIri({activeCtx:t,iri:"@direction",relativeTo:{vocab:!0}})]=n["@direction"]),d[x.compactIri({activeCtx:t,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],d}const r=C(t,e,{vocab:!0},i),o=I(t,e,"@type"),a=x.compactIri({activeCtx:t,iri:n["@id"],relativeTo:{vocab:"@vocab"===o},base:i.base});return"@id"===o||"@vocab"===o||"@graph"===r?a:{[x.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}})]:a}}},1113:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},1227:t=>{"use strict";const e="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",n="http://www.w3.org/2001/XMLSchema#string",i="NamedNode",r="BlankNode",o="Literal",s={};(()=>{const t="A-Za-zÃ€-Ã–Ã˜-Ã¶Ã¸-Ë¿Í°-Í½Í¿-á¿¿â€Œ-â€â°-â†â°€-â¿¯ã€-íŸ¿ï¤€-ï·ï·°-ï¿½_",e=t+"0-9-Â·Ì€-Í¯â€¿-â€",n="_:((?:["+t+"0-9])(?:(?:["+e+".])*(?:["+e+"]))?)",i='(?:<((?:[^\0- <>"{}|^`\\\\]|\\\\u[0-9A-Fa-f]{4}|\\\\U[0-9A-Fa-f]{8})*)>)',r="[ \\t]+",o="[ \\t]*",a="(?:"+i+"|"+n+")"+r,g=i+r,l="(?:"+i+"|"+n+'|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^'+i+")|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))"+o,A="(?:\\.|(?:(?:"+i+"|"+n+")"+o+"\\.))";s.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,s.empty=new RegExp("^"+o+"$"),s.quad=new RegExp("^"+o+a+g+l+A+o+"$")})(),t.exports=class t{static parse(t){const a=[],g={},A=t.split(s.eoln);let c=0;for(const t of A){if(c++,s.empty.test(t))continue;const A=t.match(s.quad);if(null===A)throw new Error("N-Quads parse error on line "+c+".");const u={subject:null,predicate:null,object:null,graph:null};if(void 0!==A[1]?u.subject={termType:i,value:I(A[1])}:u.subject={termType:r,value:A[2]},u.predicate={termType:i,value:I(A[3])},void 0!==A[4]?u.object={termType:i,value:I(A[4])}:void 0!==A[5]?u.object={termType:r,value:A[5]}:(u.object={termType:o,value:void 0,datatype:{termType:i}},void 0!==A[7]?u.object.datatype.value=I(A[7]):void 0!==A[8]?(u.object.datatype.value=e,u.object.language=A[8]):u.object.datatype.value=n,u.object.value=(d=A[6],l.test(d)?d.replace(l,(function(t,e,n,i){if(e)switch(e){case"b":return"\b";case"t":return"\t";case"n":return"\n";case"f":return"\f";case"r":return"\r";case'"':return'"';case"'":return"'";case"\\":return"\\"}return n?String.fromCharCode(parseInt(n,16)):i?String.fromCodePoint(parseInt(i,16)):void 0})):d)),void 0!==A[9]?u.graph={termType:i,value:I(A[9])}:void 0!==A[10]?u.graph={termType:r,value:A[10]}:u.graph={termType:"DefaultGraph",value:""},u.graph.value in g){let t=!0;const e=g[u.graph.value];for(const n of e)if(C=u,(h=n).subject.termType===C.subject.termType&&h.object.termType===C.object.termType&&h.subject.value===C.subject.value&&h.predicate.value===C.predicate.value&&h.object.value===C.object.value&&(h.object.termType!==o||h.object.datatype.termType===C.object.datatype.termType&&h.object.language===C.object.language&&h.object.datatype.value===C.object.datatype.value)){t=!1;break}t&&(e.push(u),a.push(u))}else g[u.graph.value]=[u],a.push(u)}var h,C,d;return a}static serialize(e){const n=[];for(const i of e)n.push(t.serializeQuad(i));return n.sort().join("")}static serializeQuadComponents(t,o,s,l){let A="";return t.termType===i?A+=`<${h(t.value)}>`:A+=`_:${t.value}`,o.termType===i?A+=` <${h(o.value)}> `:A+=` _:${o.value} `,s.termType===i?A+=`<${h(s.value)}>`:s.termType===r?A+=`_:${s.value}`:(A+=`"${function(t){return a.test(t)?t.replace(a,(function(t){return g[t.codePointAt(0)]})):t}(s.value)}"`,s.datatype.value===e?s.language&&(A+=`@${s.language}`):s.datatype.value!==n&&(A+=`^^<${h(s.datatype.value)}>`)),l.termType===i?A+=` <${h(l.value)}>`:l.termType===r&&(A+=` _:${l.value}`),A+=" .\n",A}static serializeQuad(e){return t.serializeQuadComponents(e.subject,e.predicate,e.object,e.graph)}};const a=/[\u0000-\u001F\u007F"\\]/g,g=[];for(let t=0;t<=127;++t)a.test(String.fromCharCode(t))&&(g[t]="\\u"+t.toString(16).toUpperCase().padStart(4,"0"),a.lastIndex=0);g["\b".codePointAt(0)]="\\b",g["\t".codePointAt(0)]="\\t",g["\n".codePointAt(0)]="\\n",g["\f".codePointAt(0)]="\\f",g["\r".codePointAt(0)]="\\r",g['"'.codePointAt(0)]='\\"',g["\\".codePointAt(0)]="\\\\";const l=/(?:\\([btnfr"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;const A=/[\u0000-\u0020<>"{}|^`\\]/g,c=[];for(let t=0;t<=127;++t)A.test(String.fromCharCode(t))&&(c[t]="\\u"+t.toString(16).toUpperCase().padStart(4,"0"),A.lastIndex=0);function h(t){return A.test(t)?t.replace(A,(function(t){return c[t.codePointAt(0)]})):t}const C=/(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function I(t){return C.test(t)?t.replace(C,(function(t,e,n){return e?String.fromCharCode(parseInt(e,16)):n?String.fromCodePoint(parseInt(n,16)):void 0})):t}},1235:(t,e,n)=>{"use strict";const i=n(8799),r=Symbol("max"),o=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),g=Symbol("maxAge"),l=Symbol("dispose"),A=Symbol("noDisposeOnSet"),c=Symbol("lruList"),h=Symbol("cache"),C=Symbol("updateAgeOnGet"),I=()=>1,d=(t,e,n)=>{const i=t[h].get(e);if(i){const e=i.value;if(u(t,e)){if(p(t,i),!t[a])return}else n&&(t[C]&&(i.value.now=Date.now()),t[c].unshiftNode(i));return e.value}},u=(t,e)=>{if(!e||!e.maxAge&&!t[g])return!1;const n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[g]&&n>t[g]},f=t=>{if(t[o]>t[r])for(let e=t[c].tail;t[o]>t[r]&&null!==e;){const n=e.prev;p(t,e),e=n}},p=(t,e)=>{if(e){const n=e.value;t[l]&&t[l](n.key,n.value),t[o]-=n.length,t[h].delete(n.key),t[c].removeNode(e)}};class v{constructor(t,e,n,i,r){this.key=t,this.value=e,this.length=n,this.now=i,this.maxAge=r||0}}const m=(t,e,n,i)=>{let r=n.value;u(t,r)&&(p(t,n),t[a]||(r=void 0)),r&&e.call(i,r.value,r.key,t)};t.exports=class{constructor(t){if("number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[r]=t.max||1/0;const e=t.length||I;if(this[s]="function"!=typeof e?I:e,this[a]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[g]=t.maxAge||0,this[l]=t.dispose,this[A]=t.noDisposeOnSet||!1,this[C]=t.updateAgeOnGet||!1,this.reset()}set max(t){if("number"!=typeof t||t<0)throw new TypeError("max must be a non-negative number");this[r]=t||1/0,f(this)}get max(){return this[r]}set allowStale(t){this[a]=!!t}get allowStale(){return this[a]}set maxAge(t){if("number"!=typeof t)throw new TypeError("maxAge must be a non-negative number");this[g]=t,f(this)}get maxAge(){return this[g]}set lengthCalculator(t){"function"!=typeof t&&(t=I),t!==this[s]&&(this[s]=t,this[o]=0,this[c].forEach((t=>{t.length=this[s](t.value,t.key),this[o]+=t.length}))),f(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[c].length}rforEach(t,e){e=e||this;for(let n=this[c].tail;null!==n;){const i=n.prev;m(this,t,n,e),n=i}}forEach(t,e){e=e||this;for(let n=this[c].head;null!==n;){const i=n.next;m(this,t,n,e),n=i}}keys(){return this[c].toArray().map((t=>t.key))}values(){return this[c].toArray().map((t=>t.value))}reset(){this[l]&&this[c]&&this[c].length&&this[c].forEach((t=>this[l](t.key,t.value))),this[h]=new Map,this[c]=new i,this[o]=0}dump(){return this[c].map((t=>!u(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)})).toArray().filter((t=>t))}dumpLru(){return this[c]}set(t,e,n){if((n=n||this[g])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const i=n?Date.now():0,a=this[s](e,t);if(this[h].has(t)){if(a>this[r])return p(this,this[h].get(t)),!1;const s=this[h].get(t).value;return this[l]&&(this[A]||this[l](t,s.value)),s.now=i,s.maxAge=n,s.value=e,this[o]+=a-s.length,s.length=a,this.get(t),f(this),!0}const C=new v(t,e,a,i,n);return C.length>this[r]?(this[l]&&this[l](t,e),!1):(this[o]+=C.length,this[c].unshift(C),this[h].set(t,this[c].head),f(this),!0)}has(t){if(!this[h].has(t))return!1;const e=this[h].get(t).value;return!u(this,e)}get(t){return d(this,t,!0)}peek(t){return d(this,t,!1)}pop(){const t=this[c].tail;return t?(p(this,t),t.value):null}del(t){p(this,this[h].get(t))}load(t){this.reset();const e=Date.now();for(let n=t.length-1;n>=0;n--){const i=t[n],r=i.e||0;if(0===r)this.set(i.k,i.v);else{const t=r-e;t>0&&this.set(i.k,i.v,t)}}}prune(){this[h].forEach(((t,e)=>d(this,e,!1)))}}},1487:(t,e)=>{"use strict";function n(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR="\t\n\r -íŸ¿î€€-ï¿½ð€€-ô¿¿",e.S=" \t\r\n",e.NAME_START_CHAR=":A-Z_a-zÃ€-Ã–Ã˜-Ã¶Ã¸-Ë¿Í°-Í½Í¿-á¿¿â€Œâ€â°-â†â°€-â¿¯ã€-íŸ¿ï¤€-ï·ï·°-ï¿½ð€€-ó¯¿¿",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9Â·Ì€-Í¯â€¿-â€",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u"),e.S_LIST=[32,10,13,9],e.isChar=function(t){return t>=32&&t<=55295||10===t||13===t||9===t||t>=57344&&t<=65533||t>=65536&&t<=1114111},e.isS=function(t){return 32===t||10===t||13===t||9===t},e.isNameStartChar=n,e.isNameChar=function(t){return n(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}},1489:(t,e,n)=>{var i=n(7400);t.exports=function(t){var e=i(t),n=e%1;return e==e?n?e-n:e:0}},1548:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeyword=void 0,e.EntryHandlerKeyword=class{constructor(t){this.keyword=t}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,n,i,r){return!1}async test(t,e,n,i,r){return n===this.keyword}}},1601:t=>{"use strict";t.exports=function(t){return t[1]}},1800:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},1820:(t,e,n)=>{"use strict";const i=n(7259),r=n(6441),o=n(3343),s=n(5181);function a(t,e){return t.hash<e.hash?-1:t.hash>e.hash?1:0}t.exports=class{constructor({createMessageDigest:t=()=>new r("sha256"),canonicalIdMap:e=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new i("_:c14n",e),this.createMessageDigest=t,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}main(t){this.deepIterations=new Map,this.quads=t;for(const e of t)this._addBlankNodeQuadInfo({quad:e,component:e.subject}),this._addBlankNodeQuadInfo({quad:e,component:e.object}),this._addBlankNodeQuadInfo({quad:e,component:e.graph});const e=new Map,n=[...this.blankNodeInfo.keys()];for(const t of n)this._hashAndTrackBlankNode({id:t,hashToBlankNodes:e});const r=[...e.keys()].sort(),o=[];for(const t of r){const n=e.get(t);if(n.length>1){o.push(n);continue}const i=n[0];this.canonicalIssuer.getId(i)}for(const t of o){const e=[];for(const n of t){if(this.canonicalIssuer.hasId(n))continue;const t=new i("_:b");t.getId(n);const r=this.hashNDegreeQuads(n,t);e.push(r)}e.sort(a);for(const t of e){const e=t.issuer.getOldIds();for(const t of e)this.canonicalIssuer.getId(t)}}const g=[];for(const t of this.quads){const e=s.serializeQuadComponents(this._componentWithCanonicalId({component:t.subject}),t.predicate,this._componentWithCanonicalId({component:t.object}),this._componentWithCanonicalId({component:t.graph}));g.push(e)}return g.sort(),g.join("")}hashFirstDegreeQuads(t){const e=[],n=this.blankNodeInfo.get(t),i=n.quads;for(const n of i){const i={subject:null,predicate:n.predicate,object:null,graph:null};i.subject=this.modifyFirstDegreeComponent(t,n.subject,"subject"),i.object=this.modifyFirstDegreeComponent(t,n.object,"object"),i.graph=this.modifyFirstDegreeComponent(t,n.graph,"graph"),e.push(s.serializeQuad(i))}e.sort();const r=this.createMessageDigest();for(const t of e)r.update(t);return n.hash=r.digest(),n.hash}hashRelatedBlankNode(t,e,n,i){let r;r=this.canonicalIssuer.hasId(t)?this.canonicalIssuer.getId(t):n.hasId(t)?n.getId(t):this.blankNodeInfo.get(t).hash;const o=this.createMessageDigest();return o.update(i),"g"!==i&&o.update(this.getRelatedPredicate(e)),o.update(r),o.digest()}hashNDegreeQuads(t,e){const n=this.deepIterations.get(t)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,n+1);const i=this.createMessageDigest(),r=this.createHashToRelated(t,e),s=[...r.keys()].sort();for(const t of s){i.update(t);let n,s="";const a=new o(r.get(t));for(;a.hasNext();){const t=a.next();let i=e.clone(),r="";const o=[];let g=!1;for(const e of t)if(this.canonicalIssuer.hasId(e)?r+=this.canonicalIssuer.getId(e):(i.hasId(e)||o.push(e),r+=i.getId(e)),0!==s.length&&r>s){g=!0;break}if(!g){for(const t of o){const e=this.hashNDegreeQuads(t,i);if(r+=i.getId(t),r+=`<${e.hash}>`,i=e.issuer,0!==s.length&&r>s){g=!0;break}}g||(0===s.length||r<s)&&(s=r,n=i)}}i.update(s),e=n}return{hash:i.digest(),issuer:e}}modifyFirstDegreeComponent(t,e){return"BlankNode"!==e.termType?e:{termType:"BlankNode",value:e.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,e){const n=new Map,i=this.blankNodeInfo.get(t).quads;for(const r of i)this._addRelatedBlankNodeHash({quad:r,component:r.subject,position:"s",id:t,issuer:e,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:r,component:r.object,position:"o",id:t,issuer:e,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:r,component:r.graph,position:"g",id:t,issuer:e,hashToRelated:n});return n}_hashAndTrackBlankNode({id:t,hashToBlankNodes:e}){const n=this.hashFirstDegreeQuads(t),i=e.get(n);i?i.push(t):e.set(n,[t])}_addBlankNodeQuadInfo({quad:t,component:e}){if("BlankNode"!==e.termType)return;const n=e.value,i=this.blankNodeInfo.get(n);i?i.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash({quad:t,component:e,position:n,id:i,issuer:r,hashToRelated:o}){if("BlankNode"!==e.termType||e.value===i)return;const s=e.value,a=this.hashRelatedBlankNode(s,t,r,n),g=o.get(a);g?g.push(s):o.set(a,[s])}_componentWithCanonicalId({component:t}){return"BlankNode"!==t.termType||t.value.startsWith(this.canonicalIssuer.prefix)?t:{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}}}},1873:(t,e,n)=>{var i=n(9325).Symbol;t.exports=i},1895:()=>{},1972:(t,e,n)=>{"use strict";const i=n(9263),r=n(2207),{isArray:o,isObject:s,isString:a,isUndefined:g}=n(5001),{isAbsolute:l,isRelative:A,prependBase:c}=n(470),{handleEvent:h}=n(2246),{REGEX_BCP47:C,REGEX_KEYWORD:I,asArray:d,compareShortestLeast:u}=n(9263),f=new Map,p={};function v(t,e,n,i,r,o){if(null===e||!a(e)||p.isKeyword(e))return e;if(e.match(I))return null;if(i&&i.hasOwnProperty(e)&&!0!==r.get(e)&&p.createTermDefinition({activeCtx:t,localCtx:i,term:e,defined:r,options:o}),(n=n||{}).vocab){const n=t.mappings.get(e);if(null===n)return null;if(s(n)&&"@id"in n)return n["@id"]}const g=e.indexOf(":");if(g>0){const n=e.substr(0,g),s=e.substr(g+1);if("_"===n||0===s.indexOf("//"))return e;i&&i.hasOwnProperty(n)&&p.createTermDefinition({activeCtx:t,localCtx:i,term:n,defined:r,options:o});const a=t.mappings.get(n);if(a&&a._prefix)return a["@id"]+s;if(l(e))return e}if(n.vocab&&"@vocab"in t)e=t["@vocab"]+e;else if(n.base){let n,i;"@base"in t?t["@base"]?(i=c(o.base,t["@base"]),n=c(i,e)):(i=t["@base"],n=e):(i=o.base,n=c(o.base,e)),e=n}return e}function m(t,e){if(!t||"object"!=typeof t||!e||"object"!=typeof e)return t===e;const n=Array.isArray(t);if(n!==Array.isArray(e))return!1;if(n){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!m(t[n],e[n]))return!1;return!0}const i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(const n in t){let i=t[n],r=e[n];if("@container"===n&&Array.isArray(i)&&Array.isArray(r)&&(i=i.slice().sort(),r=r.slice().sort()),!m(i,r))return!1}return!0}t.exports=p,p.process=async({activeCtx:t,localCtx:e,options:n,propagate:i=!0,overrideProtected:g=!1,cycles:I=new Set})=>{if(s(e)&&"@context"in e&&o(e["@context"])&&(e=e["@context"]),0===d(e).length)return t;const u=[],f=[({event:t,next:e})=>{u.push(t),e()}];n.eventHandler&&f.push(n.eventHandler);const m=n;n={...n,eventHandler:f};const y=await n.contextResolver.resolve({activeCtx:t,context:e,documentLoader:n.documentLoader,base:n.base});s(y[0].document)&&"boolean"==typeof y[0].document["@propagate"]&&(i=y[0].document["@propagate"]);let b=t;i||b.previousContext||(b=b.clone(),b.previousContext=t);for(const i of y){let{document:o}=i;if(t=b,null===o){if(!g&&0!==Object.keys(t.protected).length)throw new r("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});b=t=p.getInitialContext(n).clone();continue}const d=i.getProcessed(t);if(d){if(m.eventHandler)for(const t of d.events)h({event:t,options:m});b=t=d.context;continue}if(s(o)&&"@context"in o&&(o=o["@context"]),!s(o))throw new r("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:o});b=b.clone();const f=new Map;if("@version"in o){if(1.1!==o["@version"])throw new r("Unsupported JSON-LD version: "+o["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:o});if(t.processingMode&&"json-ld-1.0"===t.processingMode)throw new r("@version: "+o["@version"]+" not compatible with "+t.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:o});b.processingMode="json-ld-1.1",b["@version"]=o["@version"],f.set("@version",!0)}if(b.processingMode=b.processingMode||t.processingMode,"@base"in o){let t=o["@base"];if(null===t||l(t));else{if(!A(t))throw new r('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:o});t=c(b["@base"],t)}b["@base"]=t,f.set("@base",!0)}if("@vocab"in o){const t=o["@vocab"];if(null===t)delete b["@vocab"];else{if(!a(t))throw new r('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:o});if(!l(t)&&p.processingMode(b,1))throw new r('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:o});{const e=v(b,t,{vocab:!0,base:!0},void 0,void 0,n);l(e)||n.eventHandler&&h({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:e}},options:n}),b["@vocab"]=e}}f.set("@vocab",!0)}if("@language"in o){const t=o["@language"];if(null===t)delete b["@language"];else{if(!a(t))throw new r('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:o});t.match(C)||n.eventHandler&&h({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:t}},options:n}),b["@language"]=t.toLowerCase()}f.set("@language",!0)}if("@direction"in o){const e=o["@direction"];if("json-ld-1.0"===t.processingMode)throw new r("Invalid JSON-LD syntax; @direction not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:o});if(null===e)delete b["@direction"];else{if("ltr"!==e&&"rtl"!==e)throw new r('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:o});b["@direction"]=e}f.set("@direction",!0)}if("@propagate"in o){const n=o["@propagate"];if("json-ld-1.0"===t.processingMode)throw new r("Invalid JSON-LD syntax; @propagate not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:o});if("boolean"!=typeof n)throw new r("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:e});f.set("@propagate",!0)}if("@import"in o){const i=o["@import"];if("json-ld-1.0"===t.processingMode)throw new r("Invalid JSON-LD syntax; @import not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:o});if(!a(i))throw new r("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:e});const s=await n.contextResolver.resolve({activeCtx:t,context:i,documentLoader:n.documentLoader,base:n.base});if(1!==s.length)throw new r("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:e});const g=s[0].getProcessed(t);if(g)o=g;else{const n=s[0].document;if("@import"in n)throw new r("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:e});for(const t in n)o.hasOwnProperty(t)||(o[t]=n[t]);s[0].setProcessed(t,o)}f.set("@import",!0)}f.set("@protected",o["@protected"]||!1);for(const t in o)if(p.createTermDefinition({activeCtx:b,localCtx:o,term:t,defined:f,options:n,overrideProtected:g}),s(o[t])&&"@context"in o[t]){const e=o[t]["@context"];let i=!0;if(a(e)){const t=c(n.base,e);I.has(t)?i=!1:I.add(t)}if(i)try{await p.process({activeCtx:b.clone(),localCtx:o[t]["@context"],overrideProtected:!0,options:n,cycles:I})}catch(e){throw new r("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:o[t]["@context"],term:t})}}i.setProcessed(t,{context:b,events:u})}return b},p.createTermDefinition=({activeCtx:t,localCtx:e,term:n,defined:i,options:g,overrideProtected:A=!1})=>{if(i.has(n)){if(i.get(n))return;throw new r("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:e,term:n})}let c;if(i.set(n,!1),e.hasOwnProperty(n)&&(c=e[n]),"@type"===n&&s(c)&&"@set"===(c["@container"]||"@set")&&p.processingMode(t,1.1)){const t=["@container","@id","@protected"],i=Object.keys(c);if(0===i.length||i.some((e=>!t.includes(e))))throw new r("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:e,term:n})}else{if(p.isKeyword(n))throw new r("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:e,term:n});if(n.match(I))return void(g.eventHandler&&h({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:n}},options:g}));if(""===n)throw new r("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:e})}const C=t.mappings.get(n);t.mappings.has(n)&&t.mappings.delete(n);let d=!1;if((a(c)||null===c)&&(d=!0,c={"@id":c}),!s(c))throw new r("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:e});const u={};t.mappings.set(n,u),u.reverse=!1;const f=["@container","@id","@language","@reverse","@type"];p.processingMode(t,1.1)&&f.push("@context","@direction","@index","@nest","@prefix","@protected");for(const t in c)if(!f.includes(t))throw new r("Invalid JSON-LD syntax; a term definition must not contain "+t,"jsonld.SyntaxError",{code:"invalid term definition",context:e});const y=n.indexOf(":");if(u._termHasColon=y>0,"@reverse"in c){if("@id"in c)throw new r("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:e});if("@nest"in c)throw new r("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:e});const o=c["@reverse"];if(!a(o))throw new r("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e});if(o.match(I))return g.eventHandler&&h({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:o}},options:g}),void(C?t.mappings.set(n,C):t.mappings.delete(n));const s=v(t,o,{vocab:!0,base:!1},e,i,g);if(!l(s))throw new r("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e});u["@id"]=s,u.reverse=!0}else if("@id"in c){let o=c["@id"];if(o&&!a(o))throw new r("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e});if(null===o)u["@id"]=null;else{if(!p.isKeyword(o)&&o.match(I))return g.eventHandler&&h({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:o}},options:g}),void(C?t.mappings.set(n,C):t.mappings.delete(n));if(o!==n){if(o=v(t,o,{vocab:!0,base:!1},e,i,g),!l(o)&&!p.isKeyword(o))throw new r("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e});if(n.match(/(?::[^:])|\//)&&v(t,n,{vocab:!0,base:!1},e,new Map(i).set(n,!0),g)!==o)throw new r("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e});u["@id"]=o,u._prefix=d&&!u._termHasColon&&null!==o.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in u))if(u._termHasColon){const r=n.substr(0,y);if(e.hasOwnProperty(r)&&p.createTermDefinition({activeCtx:t,localCtx:e,term:r,defined:i,options:g}),t.mappings.has(r)){const e=n.substr(y+1);u["@id"]=t.mappings.get(r)["@id"]+e}else u["@id"]=n}else if("@type"===n)u["@id"]=n;else{if(!("@vocab"in t))throw new r("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e,term:n});u["@id"]=t["@vocab"]+n}if((!0===c["@protected"]||!0===i.get("@protected")&&!1!==c["@protected"])&&(t.protected[n]=!0,u.protected=!0),i.set(n,!0),"@type"in c){let n=c["@type"];if(!a(n))throw new r("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:e});if("@json"===n||"@none"===n){if(p.processingMode(t,1))throw new r(`Invalid JSON-LD syntax; an @context @type value must not be "${n}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:e})}else if("@id"!==n&&"@vocab"!==n){if(n=v(t,n,{vocab:!0,base:!1},e,i,g),!l(n))throw new r("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:e});if(0===n.indexOf("_:"))throw new r("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:e})}u["@type"]=n}if("@container"in c){const n=a(c["@container"])?[c["@container"]]:c["@container"]||[],i=["@list","@set","@index","@language"];let s=!0;const g=n.includes("@set");if(p.processingMode(t,1.1)){if(i.push("@graph","@id","@type"),n.includes("@list")){if(1!==n.length)throw new r("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:e})}else if(n.includes("@graph")){if(n.some((t=>"@graph"!==t&&"@id"!==t&&"@index"!==t&&"@set"!==t)))throw new r("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:e})}else s&=n.length<=(g?2:1);if(n.includes("@type")&&(u["@type"]=u["@type"]||"@id",!["@id","@vocab"].includes(u["@type"])))throw new r("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:e})}else s&=!o(c["@container"]),s&=n.length<=1;if(s&=n.every((t=>i.includes(t))),s&=!(g&&n.includes("@list")),!s)throw new r("Invalid JSON-LD syntax; @context @container value must be one of the following: "+i.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:e});if(u.reverse&&!n.every((t=>["@index","@set"].includes(t))))throw new r("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:e});u["@container"]=n}if("@index"in c){if(!("@container"in c)||!u["@container"].includes("@index"))throw new r(`Invalid JSON-LD syntax; @index without @index in @container: "${c["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:e});if(!a(c["@index"])||0===c["@index"].indexOf("@"))throw new r(`Invalid JSON-LD syntax; @index must expand to an IRI: "${c["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:e});u["@index"]=c["@index"]}if("@context"in c&&(u["@context"]=c["@context"]),"@language"in c&&!("@type"in c)){let t=c["@language"];if(null!==t&&!a(t))throw new r("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:e});null!==t&&(t=t.toLowerCase()),u["@language"]=t}if("@prefix"in c){if(n.match(/:|\//))throw new r("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:e});if(p.isKeyword(u["@id"]))throw new r("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:e});if("boolean"!=typeof c["@prefix"])throw new r("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:e});u._prefix=!0===c["@prefix"]}if("@direction"in c){const t=c["@direction"];if(null!==t&&"ltr"!==t&&"rtl"!==t)throw new r('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:e});u["@direction"]=t}if("@nest"in c){const t=c["@nest"];if(!a(t)||"@nest"!==t&&0===t.indexOf("@"))throw new r("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:e});u["@nest"]=t}const b=u["@id"];if("@context"===b||"@preserve"===b)throw new r("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:e});if(C&&C.protected&&!A&&(t.protected[n]=!0,u.protected=!0,!m(C,u)))throw new r("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:e,term:n})},p.expandIri=(t,e,n,i)=>v(t,e,n,void 0,void 0,i),p.getInitialContext=t=>{const e=JSON.stringify({processingMode:t.processingMode}),n=f.get(e);if(n)return n;const r={processingMode:t.processingMode,mappings:new Map,inverse:null,getInverse:function(){const t=this;if(t.inverse)return t.inverse;const e=t.inverse={},n=t.fastCurieMap={},i={},r=(t["@language"]||"@none").toLowerCase(),a=t["@direction"],g=t.mappings,l=[...g.keys()].sort(u);for(const t of l){const o=g.get(t);if(null===o)continue;let l=o["@container"]||"@none";if(l=[].concat(l).sort().join(""),null===o["@id"])continue;const A=d(o["@id"]);for(const g of A){let A=e[g];const c=p.isKeyword(g);if(A)c||o._termHasColon||i[g].push(t);else if(e[g]=A={},!c&&!o._termHasColon){i[g]=[t];const e={iri:g,terms:i[g]};g[0]in n?n[g[0]].push(e):n[g[0]]=[e]}if(A[l]||(A[l]={"@language":{},"@type":{},"@any":{}}),A=A[l],s(t,A["@any"],"@none"),o.reverse)s(t,A["@type"],"@reverse");else if("@none"===o["@type"])s(t,A["@any"],"@none"),s(t,A["@language"],"@none"),s(t,A["@type"],"@none");else if("@type"in o)s(t,A["@type"],o["@type"]);else if("@language"in o&&"@direction"in o){const e=o["@language"],n=o["@direction"];s(t,A["@language"],e&&n?`${e}_${n}`.toLowerCase():e?e.toLowerCase():n?`_${n}`:"@null")}else"@language"in o?s(t,A["@language"],(o["@language"]||"@null").toLowerCase()):"@direction"in o?o["@direction"]?s(t,A["@language"],`_${o["@direction"]}`):s(t,A["@language"],"@none"):a?(s(t,A["@language"],`_${a}`),s(t,A["@language"],"@none"),s(t,A["@type"],"@none")):(s(t,A["@language"],r),s(t,A["@language"],"@none"),s(t,A["@type"],"@none"))}}for(const t in n)o(n,t,1);return e},clone:function(){const t={};return t.mappings=i.clone(this.mappings),t.clone=this.clone,t.inverse=null,t.getInverse=this.getInverse,t.protected=i.clone(this.protected),this.previousContext&&(t.previousContext=this.previousContext.clone()),t.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(t["@base"]=this["@base"]),"@language"in this&&(t["@language"]=this["@language"]),"@vocab"in this&&(t["@vocab"]=this["@vocab"]),t},revertToPreviousContext:function(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===f.size&&f.clear(),f.set(e,r),r;function o(t,e,n){const i=t[e],r=t[e]={};let s,a;for(const t of i)s=t.iri,a=n>=s.length?"":s[n],a in r?r[a].push(t):r[a]=[t];for(const t in r)""!==t&&o(r,t,n+1)}function s(t,e,n){e.hasOwnProperty(n)||(e[n]=t)}},p.getContextValue=(t,e,n)=>{if(null===e){if("@context"===n)return;return null}if(t.mappings.has(e)){const i=t.mappings.get(e);if(g(n))return i;if(i.hasOwnProperty(n))return i[n]}return"@language"===n&&n in t||"@direction"===n&&n in t?t[n]:"@context"!==n?null:void 0},p.processingMode=(t,e)=>e.toString()>="1.1"?!t.processingMode||t.processingMode>="json-ld-"+e.toString():"json-ld-1.0"===t.processingMode,p.isKeyword=t=>{if(!a(t)||"@"!==t[0])return!1;switch(t){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},1977:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerIndex=void 0;const i=n(2395),r=n(6970),o=n(888);e.ContainerHandlerIndex=class{canCombineWithGraph(){return!0}async handle(t,e,n,s,a,g){if(!Array.isArray(a)){const l="@graph"in t,A=await e.getContext(s),c=s[g-1],h=o.Util.getContextValueIndex(A,c);if(h){if(i.Util.isPotentialKeyword(h))throw new i.ErrorCoded(`Keywords can not be used as @index value, got: ${h}`,i.ERROR_CODES.INVALID_TERM_DEFINITION);if("string"!=typeof h)throw new i.ErrorCoded(`@index values must be strings, got: ${h}`,i.ERROR_CODES.INVALID_TERM_DEFINITION);if("object"!=typeof a){if("@id"!==o.Util.getContextValueType(A,c))throw new i.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${a}`,i.ERROR_CODES.INVALID_VALUE_OBJECT);const t=n.resourceToTerm(A,a);t&&(e.idStack[g+1]=[t])}const t=n.createVocabOrBaseTerm(A,h);if(t){const i=await n.valueToTerm(A,h,await n.getContainerKey(s[g],s,g),g,s);if(l){const r=await n.getGraphContainerValue(s,g+1);for(const o of i)e.emitQuad(g,n.dataFactory.quad(r,t,o,n.getDefaultGraph()))}else for(const o of i)await r.EntryHandlerPredicate.handlePredicateObject(e,n,s,g+1,t,o,!1,!1,!1)}}const C=l?2:1;await e.newOnValueJob(s.slice(0,s.length-C),a,g-C,!0),await e.handlePendingContainerFlushBuffers()}e.emittedStack[g]=!1}}},2036:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordType=void 0;const i=n(2395),r=n(888),o=n(6970),s=n(1548);class a extends s.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(t,e,n,s,a,g){const l=s[g],A=await t.getContext(s),c=e.rdfType,h=await e.unaliasKeywordParent(s,g),C=r.Util.isPropertyReverse(A,l,h),I=r.Util.isPropertyInEmbeddedNode(h);e.validateReverseInEmbeddedNode(n,C,I);const d=r.Util.isPropertyInAnnotationObject(h),u=Array.isArray(a)?a:[a];for(const n of u){"string"!=typeof n&&t.emitError(new i.ErrorCoded(`Found illegal @type '${n}'`,i.ERROR_CODES.INVALID_TYPE_VALUE));const r=e.createVocabOrBaseTerm(A,n);r&&await o.EntryHandlerPredicate.handlePredicateObject(t,e,s,g,c,r,C,I,d)}let f=Promise.resolve(A),p=!1;for(const e of u.sort()){const n=r.Util.getContextValue(A,"@context",e,null);n&&(p=!0,f=f.then((e=>t.parseContext(n,e.getContextRaw()))))}!t.streamingProfile||!p&&t.streamingProfileAllowOutOfOrderPlainType||!t.processingStack[g]&&!t.idStack[g]||t.emitError(new i.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",i.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),p&&(f=f.then((t=>!0!==t.getContextRaw()["@propagate"]?new i.JsonLdContextNormalized(Object.assign(Object.assign({},t.getContextRaw()),{"@propagate":!1,"@__propagateFallback":A.getContextRaw()})):t)),t.contextTree.setContext(s.slice(0,s.length-1),f)),t.processingType[g]=!0}}e.EntryHandlerKeywordType=a},2142:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultGraph=void 0;class n{constructor(){this.termType="DefaultGraph",this.value=""}equals(t){return!!t&&"DefaultGraph"===t.termType}}e.DefaultGraph=n,n.INSTANCE=new n},2177:(t,e,n)=>{var i=n(1489);t.exports=function(t,e){var n;if("function"!=typeof e)throw new TypeError("Expected a function");return t=i(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}},2191:(t,e,n)=>{"use strict";const i=n(6441),r=n(171);t.exports=class extends r{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new i("sha1")}modifyFirstDegreeComponent(t,e,n){return"BlankNode"!==e.termType?e:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:e.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}async createHashToRelated(t,e){const n=new Map,i=this.blankNodeInfo.get(t).quads;let r=0;for(const o of i){let i,s;if("BlankNode"===o.subject.termType&&o.subject.value!==t)s=o.subject.value,i="p";else{if("BlankNode"!==o.object.termType||o.object.value===t)continue;s=o.object.value,i="r"}++r%100==0&&await this._yield();const a=await this.hashRelatedBlankNode(s,o,e,i),g=n.get(a);g?g.push(s):n.set(a,[s])}return n}}},2207:t=>{"use strict";t.exports=class extends Error{constructor(t="An unspecified JSON-LD error occurred.",e="jsonld.Error",n={}){super(t),this.name=e,this.message=t,this.details=n}}},2246:(t,e,n)=>{"use strict";const i=n(2207),{isArray:r}=n(5001),{asArray:o}=n(9263),s={};function a({event:t,handlers:e}){let n=!0;for(let o=0;n&&o<e.length;++o){n=!1;const s=e[o];if(r(s))n=a({event:t,handlers:s});else if("function"==typeof s)s({event:t,next:()=>{n=!0}});else{if("object"!=typeof s)throw new i("Invalid event handler.","jsonld.InvalidEventHandler",{event:t});t.code in s?s[t.code]({event:t,next:()=>{n=!0}}):n=!0}}return n}t.exports=s,s.defaultEventHandler=null,s.setupEventHandler=({options:t={}})=>{const e=[].concat(t.safe?s.safeEventHandler:[],t.eventHandler?o(t.eventHandler):[],s.defaultEventHandler?s.defaultEventHandler:[]);return 0===e.length?null:e},s.handleEvent=({event:t,options:e})=>{a({event:t,handlers:e.eventHandler})};const g=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);s.safeEventHandler=function({event:t,next:e}){if("warning"===t.level&&g.has(t.code))throw new i("Safe mode validation error.","jsonld.ValidationError",{event:t});e()},s.logEventHandler=function({event:t,next:e}){console.log(`EVENT: ${t.message}`,{event:t}),e()},s.logWarningEventHandler=function({event:t,next:e}){"warning"===t.level&&console.warn(`WARNING: ${t.message}`,{event:t}),e()},s.unhandledEventHandler=function({event:t}){throw new i("No handler for event.","jsonld.UnhandledEvent",{event:t})},s.setDefaultEventHandler=function({eventHandler:t}={}){s.defaultEventHandler=t?o(t):null}},2277:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JsonLdParser=void 0;const i=n(608),r=n(2395),o=n(9198),s=n(9693),a=n(4860),g=n(2386),l=n(6970),A=n(3809),c=n(5998),h=n(5517),C=n(736),I=n(4910),d=n(2036),u=n(6454),f=n(3283),p=n(3099),v=n(888),m=n(2384),y=n(6105);class b extends o.Transform{constructor(t){super({readableObjectMode:!0}),t=t||{},this.options=t,this.parsingContext=new p.ParsingContext(Object.assign({parser:this},t)),this.util=new v.Util({dataFactory:t.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new i,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",(()=>{void 0!==this.jsonParser.mode&&this.emit("error",new Error("Unclosed document"))}))}static fromHttpResponse(t,e,n,i){let o,s,a=["application/activity+json"];if(i&&i.wellKnownMediaTypes&&(a=i.wellKnownMediaTypes),"application/ld+json"!==e&&!a.includes(e)){if("application/json"!==e&&!e.endsWith("+json"))throw new r.ErrorCoded(`Unsupported JSON-LD media type ${e}`,r.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(n&&n.has("Link")&&n.forEach(((e,n)=>{if("link"===n){const n=(0,m.parse)(e);for(const e of n.get("rel","http://www.w3.org/ns/json-ld#context")){if(o)throw new r.ErrorCoded("Multiple JSON-LD context link headers were found on "+t,r.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);o=e.uri}}})),!o&&!(null==i?void 0:i.ignoreMissingContextLinkHeader))throw new r.ErrorCoded(`Missing context link header for media type ${e} on ${t}`,r.ERROR_CODES.LOADING_DOCUMENT_FAILED)}if(n&&n.has("Content-Type")){const t=n.get("Content-Type"),e=/; *profile=([^"]*)/.exec(t);e&&"http://www.w3.org/ns/json-ld#streaming"===e[1]&&(s=!0)}return new b(Object.assign({baseIRI:t,context:o,streamingProfile:s},i||{}))}import(t){if("pipe"in t){t.on("error",(t=>e.emit("error",t)));const e=t.pipe(new b(this.options));return e}{const e=new o.PassThrough({readableObjectMode:!0});t.on("error",(t=>n.emit("error",t))),t.on("data",(t=>e.push(t))),t.on("end",(()=>e.push(null)));const n=e.pipe(new b(this.options));return n}}_transform(t,e,n){this.jsonParser.write(t),this.lastOnValueJob.then((()=>n()),(t=>n(t)))}async newOnValueJob(t,e,n,i){let o=!0;if(i&&n<this.lastDepth){const t=this.parsingContext.listPointerStack[this.lastDepth];t&&(t.value&&this.push(this.util.dataFactory.quad(t.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),t.listId.listHead=!0,this.parsingContext.idStack[t.listRootDepth+1]=[t.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await a.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),o=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const s=await this.util.unaliasKeyword(t[n],t,n),g=await this.util.unaliasKeywordParent(t,n);this.parsingContext.emittedStack[n]=!0;let l=!0;r.Util.isValidKeyword(s)&&"@reverse"===g&&"@context"!==s&&this.emit("error",new r.ErrorCoded(`Found the @id '${e}' inside an @reverse property`,r.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let A=!1;this.parsingContext.validationStack.length>1&&(A=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let e=Math.max(1,this.parsingContext.validationStack.length-1);e<t.length-1;e++){const i=this.parsingContext.validationStack[e]||(this.parsingContext.validationStack[e]=await this.validateKey(t.slice(0,e+1),e,A));if(!i.valid){this.parsingContext.emittedStack[n]=!1,l=!1;break}!A&&i.property&&(A=!0)}if(await this.util.isLiteral(t,n)&&(l=!1),l)for(const i of b.ENTRY_HANDLERS){const r=await i.test(this.parsingContext,this.util,s,t,n);if(r){await i.handle(this.parsingContext,this.util,s,t,e,n,r),i.isStackProcessor()&&(this.parsingContext.processingStack[n]=!0);break}}0===n&&Array.isArray(e)&&await this.util.validateValueIndexes(e),o&&n<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=n,this.lastKeys=t,this.parsingContext.unaliasedKeywordCacheStack.splice(n-1)}flushStacks(t){this.parsingContext.processingStack.splice(t,1),this.parsingContext.processingType.splice(t,1),this.parsingContext.emittedStack.splice(t,1),this.parsingContext.idStack.splice(t,1),this.parsingContext.graphStack.splice(t+1,1),this.parsingContext.graphContainerTermStack.splice(t,1),this.parsingContext.jsonLiteralStack.splice(t,1),this.parsingContext.validationStack.splice(t-1,2),this.parsingContext.literalStack.splice(t,this.parsingContext.literalStack.length-t),this.parsingContext.annotationsBuffer.splice(t,1)}async flushBuffer(t,e){let n=this.parsingContext.idStack[t];n||(n=this.parsingContext.idStack[t]=[this.util.dataFactory.blankNode()]);const i=this.parsingContext.unidentifiedValuesBuffer[t];if(i){for(const r of n){const n=await this.util.getDepthOffsetGraph(t,e),o=this.parsingContext.graphStack[t]||n>=0?this.parsingContext.idStack[t-n-1]:[await this.util.getGraphContainerValue(e,t)];if(o)for(const e of o){this.parsingContext.emittedStack[t]=!0;for(const n of i)this.util.emitQuadChecked(t,r,n.predicate,n.object,e,n.reverse,n.isEmbedded)}else{const n=this.parsingContext.getUnidentifiedGraphBufferSafe(t-await this.util.getDepthOffsetGraph(t,e)-1);for(const t of i)t.reverse?n.push({object:r,predicate:t.predicate,subject:t.object,isEmbedded:t.isEmbedded}):n.push({object:t.object,predicate:t.predicate,subject:r,isEmbedded:t.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(t,1),this.parsingContext.literalStack.splice(t,1),this.parsingContext.jsonLiteralStack.splice(t,1)}const o=this.parsingContext.unidentifiedGraphsBuffer[t];if(o){for(const e of n){const n=1!==t||"BlankNode"!==e.termType||this.parsingContext.topLevelProperties?e:this.util.getDefaultGraph();this.parsingContext.emittedStack[t]=!0;for(const e of o)this.parsingContext.emitQuad(t,this.util.dataFactory.quad(e.subject,e.predicate,e.object,n))}this.parsingContext.unidentifiedGraphsBuffer.splice(t,1)}const s=this.parsingContext.annotationsBuffer[t];if(s){s.length>0&&1===t&&this.parsingContext.emitError(new r.ErrorCoded("Annotations can not be made on top-level nodes",r.ERROR_CODES.INVALID_ANNOTATION));const e=this.parsingContext.getAnnotationsBufferSafe(t-1);for(const t of s)e.push(t);delete this.parsingContext.annotationsBuffer[t]}}async validateKey(t,e,n){for(const i of b.ENTRY_HANDLERS)if(await i.validate(this.parsingContext,this.util,t,e,n))return{valid:!0,property:n||i.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=t=>{const e=this.jsonParser.stack.length,n=new Array(e+1).fill(0).map(((t,n)=>n===e?this.jsonParser.key:this.jsonParser.stack[n].key));if(!this.isParsingContextInner(e)){const i=()=>this.newOnValueJob(n,t,e,!0);if(this.parsingContext.streamingProfile||this.parsingContext.contextTree.getContext(n.slice(0,-1)))this.lastOnValueJob=this.lastOnValueJob.then(i);else if("@context"===n[e]){let t=this.contextJobs[e];t||(t=this.contextJobs[e]=[]),t.push(i)}else this.contextAwaitingJobs.push({job:i,keys:n,depth:e});this.parsingContext.streamingProfile||0!==e||(this.lastOnValueJob=this.lastOnValueJob.then((()=>this.executeBufferedJobs())))}},this.jsonParser.onError=t=>{this.emit("error",t)}}isParsingContextInner(t){for(let e=t;e>0;e--)if("@context"===this.jsonParser.stack[e-1].key)return!0;return!1}async executeBufferedJobs(){for(const t of this.contextJobs)if(t)for(const e of t)await e();this.parsingContext.unaliasedKeywordCacheStack.splice(0);const t=[];for(const e of this.contextAwaitingJobs)"@type"===await this.util.unaliasKeyword(e.keys[e.depth],e.keys,e.depth,!0)||"number"==typeof e.keys[e.depth]&&"@type"===await this.util.unaliasKeyword(e.keys[e.depth-1],e.keys,e.depth-1,!0)?this.typeJobs.push({job:e.job,keys:e.keys.slice(0,e.keys.length-1)}):t.push(e);for(const e of t){if(this.typeJobs.length>0){const t=[],n=[];for(let i=0;i<this.typeJobs.length;i++){const r=this.typeJobs[i];v.Util.isPrefixArray(r.keys,e.keys)&&(t.push(r),n.push(i))}const i=t.sort(((t,e)=>t.keys.length-e.keys.length));for(const t of i)await t.job();const r=n.sort().reverse();for(const t of r)this.typeJobs.splice(t,1)}await e.job()}}}e.JsonLdParser=b,b.DEFAULT_PROCESSING_MODE="1.1",b.ENTRY_HANDLERS=[new s.EntryHandlerArrayValue,new A.EntryHandlerKeywordContext,new h.EntryHandlerKeywordId,new C.EntryHandlerKeywordIncluded,new c.EntryHandlerKeywordGraph,new I.EntryHandlerKeywordNest,new d.EntryHandlerKeywordType,new f.EntryHandlerKeywordValue,new y.EntryHandlerKeywordAnnotation,new a.EntryHandlerContainer,new u.EntryHandlerKeywordUnknownFallback,new l.EntryHandlerPredicate,new g.EntryHandlerInvalidFallback]},2300:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateIri=e.IriValidationStrategy=void 0;const n=function(){const t="[!$&'()*+,;=]",e="%[a-fA-F0-9]{2}",n="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",i=`${n}\\.${n}\\.${n}\\.${n}`,r="[a-fA-F0-9]{1,4}",o=`(${r}:${r}|${i})`,s="[a-zA-Z0-9\\-._~Â -íŸ¿ï¤€-ï·ï·°-ï¿¯ð€€-ðŸ¿½ð €€-ð¯¿½ð°€€-ð¿¿½ñ€€€-ñ¿½ñ€€-ñŸ¿½ñ €€-ñ¯¿½ñ°€€-ñ¿¿½ò€€€-ò¿½ò€€-òŸ¿½ò €€-ò¯¿½ò°€€-ò¿¿½ó€€€-ó¿½ó€€-óŸ¿½ó¡€€-ó¯¿½]",a=`(${s}|${e}|${t}|[:@])*`,g=`(${a})+`,l=`(${a})*`;return new RegExp(`^[a-zA-Z][a-zA-Z0-9+\\-.]*:(\\/\\/((${s}|${e}|${t}|:)*@)?(\\[(((${r}:){6}${o}|::(${r}:){5}${o}|(${r})?::(${r}:){4}${o}|((${r}:){0,1}${r})?::(${r}:){3}${o}|((${r}:){0,2}${r})?::(${r}:){2}${o}|((${r}:){0,3}${r})?::${r}:${o}|((${r}:){0,4}${r})?::${o}|((${r}:){0,5}${r})?::${r}|((${r}:){0,6}${r})?::)|v[a-fA-F0-9]+\\.(${t}|${t}|":)+)\\]|${i}|(${s}|${e}|${t})*)(:[0-9]*)?(\\/${l})*|\\/(${g}(\\/${l})*)?|${g}(\\/${l})*|)(\\?(${a}|[î€€-ï£¿ó°€€-ó¿¿½ô€€€-ô¿½]|[\\/?])*)?(#(${a}|[\\/?])*)?$`,"u")}(),i=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u;var r;!function(t){t.Strict="strict",t.Pragmatic="pragmatic",t.None="none"}(r=e.IriValidationStrategy||(e.IriValidationStrategy={})),e.validateIri=function(t,e=r.Strict){switch(e){case r.Strict:return n.test(t)?void 0:new Error(`Invalid IRI according to RFC 3987: '${t}'`);case r.Pragmatic:return i.test(t)?void 0:new Error(`Invalid IRI according to RDF Turtle: '${t}'`);case r.None:return;default:return new Error(`Not supported validation strategy "${e}"`)}}},2341:t=>{"use strict";t.exports=function t(e){return null===e||"object"!=typeof e||null!=e.toJSON?JSON.stringify(e):Array.isArray(e)?"["+e.reduce(((e,n,i)=>e+(0===i?"":",")+t(void 0===n||"symbol"==typeof n?null:n)),"")+"]":"{"+Object.keys(e).sort().reduce(((n,i,r)=>void 0===e[i]||"symbol"==typeof e[i]?n:n+(0===n.length?"":",")+t(i)+":"+t(e[i])),"")+"}"}},2384:t=>{"use strict";var e=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,i=/\s|\uFEFF|\xA0/,r=/\r?\n[\x20\x09]+/g,o=/[;,"]/,s=/[;,"]|\s/,a=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/;function g(t){return t.replace(n,"")}function l(t){return i.test(t)}function A(t,e){for(;l(t[e]);)e++;return e}function c(t){return s.test(t)||!a.test(t)}class h{constructor(t){this.refs=[],t&&this.parse(t)}rel(t){for(var e=[],n=t.toLowerCase(),i=0;i<this.refs.length;i++)"string"==typeof this.refs[i].rel&&this.refs[i].rel.toLowerCase()===n&&e.push(this.refs[i]);return e}get(t,e){t=t.toLowerCase(),e=e.toLowerCase();for(var n=[],i=0;i<this.refs.length;i++)"string"==typeof this.refs[i][t]&&this.refs[i][t].toLowerCase()===e&&n.push(this.refs[i]);return n}set(t){return this.refs.push(t),this}setUnique(t){return this.refs.some((e=>{return n=e,i=t,Object.keys(n).length===Object.keys(i).length&&Object.keys(n).every((t=>t in i&&n[t]===i[t]));var n,i}))||this.refs.push(t),this}has(t,e){t=t.toLowerCase(),e=e.toLowerCase();for(var n=0;n<this.refs.length;n++)if("string"==typeof this.refs[n][t]&&this.refs[n][t].toLowerCase()===e)return!0;return!1}parse(t,e){for(var n=1,i=(t=g(t=(e=e||0)?t.slice(e):t).replace(r,"")).length,s=(e=0,null);e<i;)if(1===n){if(l(t[e])){e++;continue}if("<"!==t[e])throw new Error('Unexpected character "'+t[e]+'" at offset '+e);if(null!=s&&(null!=s.rel?this.refs.push(...h.expandRelations(s)):this.refs.push(s)),-1===(C=t.indexOf(">",e)))throw new Error("Expected end of URI delimiter at offset "+e);s={uri:t.slice(e+1,C)},e=C,n=2,e++}else if(2===n){if(l(t[e])){e++;continue}if(";"===t[e])n=4,e++;else{if(","!==t[e])throw new Error('Unexpected character "'+t[e]+'" at offset '+e);n=1,e++}}else{if(4!==n)throw new Error('Unknown parser state "'+n+'"');if(";"===t[e]||l(t[e])){e++;continue}-1===(C=t.indexOf("=",e))&&(C=t.indexOf(";",e)),-1===C&&(C=t.length);var a=g(t.slice(e,C)).toLowerCase(),c="";if('"'===t[e=A(t,e=C+1)])for(e++;e<i;){if('"'===t[e]){e++;break}"\\"===t[e]&&e++,c+=t[e],e++}else{for(var C=e+1;!o.test(t[C])&&C<i;)C++;c=t.slice(e,C),e=C}switch(s[a]&&h.isSingleOccurenceAttr(a)||("*"===a[a.length-1]?s[a]=h.parseExtendedValue(c):(c="type"===a?c.toLowerCase():c,null!=s[a]?Array.isArray(s[a])?s[a].push(c):s[a]=[s[a],c]:s[a]=c)),t[e]){case",":n=1;break;case";":n=4}e++}return null!=s&&(null!=s.rel?this.refs.push(...h.expandRelations(s)):this.refs.push(s)),s=null,this}toString(){for(var t=[],e="",n=null,i=0;i<this.refs.length;i++)n=this.refs[i],e=Object.keys(this.refs[i]).reduce((function(t,e){return"uri"===e?t:t+"; "+h.formatAttribute(e,n[e])}),"<"+n.uri+">"),t.push(e);return t.join(", ")}}h.isCompatibleEncoding=function(t){return e.test(t)},h.parse=function(t,e){return(new h).parse(t,e)},h.isSingleOccurenceAttr=function(t){return"rel"===t||"type"===t||"media"===t||"title"===t||"title*"===t},h.isTokenAttr=function(t){return"rel"===t||"type"===t||"anchor"===t},h.escapeQuotes=function(t){return t.replace(/"/g,'\\"')},h.expandRelations=function(t){return t.rel.split(" ").map((function(e){var n=Object.assign({},t);return n.rel=e,n}))},h.parseExtendedValue=function(t){var e=/([^']+)?(?:'([^']*)')?(.+)/.exec(t);return{language:e[2].toLowerCase(),encoding:h.isCompatibleEncoding(e[1])?null:e[1].toLowerCase(),value:h.isCompatibleEncoding(e[1])?decodeURIComponent(e[3]):e[3]}},h.formatExtendedAttribute=function(t,e){var n=(e.encoding||"utf-8").toUpperCase();return t+"="+n+"'"+(e.language||"en")+"'"+(Buffer.isBuffer(e.value)&&h.isCompatibleEncoding(n)?e.value.toString(n):Buffer.isBuffer(e.value)?e.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(e.value))},h.formatAttribute=function(t,e){return Array.isArray(e)?e.map((e=>h.formatAttribute(t,e))).join("; "):"*"===t[t.length-1]||"string"!=typeof e?h.formatExtendedAttribute(t,e):(h.isTokenAttr(t)?e=c(e)?'"'+h.escapeQuotes(e)+'"':h.escapeQuotes(e):c(e)&&(e='"'+(e=(e=encodeURIComponent(e)).replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"))+'"'),t+"="+e)},t.exports=h},2386:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerInvalidFallback=void 0,e.EntryHandlerInvalidFallback=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,n,i,r){return!1}async test(t,e,n,i,r){return!0}async handle(t,e,n,i,r,o){t.emittedStack[o]=!1}}},2395:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(2803),e),r(n(5094),e),r(n(585),e),r(n(9146),e),r(n(5086),e),r(n(5215),e),r(n(4931),e)},2426:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Literal=void 0;const i=n(3988);class r{constructor(t,e){this.termType="Literal",this.value=t,"string"==typeof e?(this.language=e,this.datatype=r.RDF_LANGUAGE_STRING,this.direction=""):e?"termType"in e?(this.language="",this.datatype=e,this.direction=""):(this.language=e.language,this.datatype=e.direction?r.RDF_DIRECTIONAL_LANGUAGE_STRING:r.RDF_LANGUAGE_STRING,this.direction=e.direction||""):(this.language="",this.datatype=r.XSD_STRING,this.direction="")}equals(t){return!!t&&"Literal"===t.termType&&t.value===this.value&&t.language===this.language&&(t.direction===this.direction||!t.direction&&""===this.direction)&&this.datatype.equals(t.datatype)}}e.Literal=r,r.RDF_LANGUAGE_STRING=new i.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),r.RDF_DIRECTIONAL_LANGUAGE_STRING=new i.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),r.XSD_STRING=new i.NamedNode("http://www.w3.org/2001/XMLSchema#string")},2552:(t,e,n)=>{var i=n(1873),r=n(659),o=n(9350),s=i?i.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?r(t):o(t)}},2791:function(t,e,n){!function(t){"use strict";if(!t.setImmediate){var e,n,i,r,o,s=1,a={},g=!1,l=t.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(t);A=A&&A.setTimeout?A:t,"[object process]"==={}.toString.call(t.process)?e=function(t){process.nextTick((function(){h(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?(r="setImmediate$"+Math.random()+"$",o=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(r)&&h(+e.data.slice(r.length))},t.addEventListener?t.addEventListener("message",o,!1):t.attachEvent("onmessage",o),e=function(e){t.postMessage(r+e,"*")}):t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){h(t.data)},e=function(t){i.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(n=l.documentElement,e=function(t){var e=l.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,n.removeChild(e),e=null},n.appendChild(e)}):e=function(t){setTimeout(h,0,t)},A.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var n=new Array(arguments.length-1),i=0;i<n.length;i++)n[i]=arguments[i+1];var r={callback:t,args:n};return a[s]=r,e(s),s++},A.clearImmediate=c}function c(t){delete a[t]}function h(t){if(g)setTimeout(h,0,t);else{var e=a[t];if(e){g=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{c(t),g=!1}}}}}("undefined"==typeof self?void 0===n.g?this:n.g:self)},2803:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextParser=void 0;const i=n(742),r=n(5094),o=n(585),s=n(5215),a=n(4931);class g{constructor(t){t=t||{},this.documentLoader=t.documentLoader||new o.FetchDocumentLoader,this.documentCache={},this.validateContext=!t.skipValidation,this.expandContentTypeToBase=!!t.expandContentTypeToBase,this.remoteContextsDepthLimit=t.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps=!("redirectSchemaOrgHttps"in t)||!!t.redirectSchemaOrgHttps}static validateLanguage(t,e,n){if("string"!=typeof t)throw new r.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(t)}'`,n);if(!a.Util.REGEX_LANGUAGE_TAG.test(t)){if(e)throw new r.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(t)}'`,n);return!1}return!0}static validateDirection(t,e){if("string"!=typeof t)throw new r.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(t)}'`,r.ERROR_CODES.INVALID_BASE_DIRECTION);if(!a.Util.REGEX_DIRECTION_TAG.test(t)){if(e)throw new r.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(t)}'`,r.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(t){for(const e of Object.keys(t)){let n=t[e];if(n&&"object"==typeof n&&n["@reverse"]&&!n["@id"]){if("string"!=typeof n["@reverse"]||a.Util.isValidKeyword(n["@reverse"]))throw new r.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${n["@reverse"]}'`,r.ERROR_CODES.INVALID_IRI_MAPPING);n=t[e]=Object.assign(Object.assign({},n),{"@id":n["@reverse"]}),n["@id"]=n["@reverse"],a.Util.isPotentialKeyword(n["@reverse"])?delete n["@reverse"]:n["@reverse"]=!0}}return t}expandPrefixedTerms(t,e,n){const i=t.getContextRaw();for(const o of n||Object.keys(i))if(a.Util.EXPAND_KEYS_BLACKLIST.indexOf(o)<0&&!a.Util.isReservedInternalKeyword(o)){const n=i[o];if(a.Util.isPotentialKeyword(o)&&a.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(o)>=0&&("@type"!==o||"object"==typeof i[o]&&!i[o]["@protected"]&&"@set"!==i[o]["@container"]))throw new r.ErrorCoded(`Keywords can not be aliased to something else.\nTried mapping ${o} to ${JSON.stringify(n)}`,r.ERROR_CODES.KEYWORD_REDEFINITION);if(a.Util.ALIAS_RANGE_BLACKLIST.indexOf(a.Util.getContextValueId(n))>=0)throw new r.ErrorCoded(`Aliasing to certain keywords is not allowed.\nTried mapping ${o} to ${JSON.stringify(n)}`,r.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(n&&a.Util.isPotentialKeyword(a.Util.getContextValueId(n))&&!0===n["@prefix"])throw new r.ErrorCoded(`Tried to use keyword aliases as prefix: '${o}': '${JSON.stringify(n)}'`,r.ERROR_CODES.INVALID_TERM_DEFINITION);for(;a.Util.isPrefixValue(i[o]);){const n=i[o];let r=!1;if("string"==typeof n)i[o]=t.expandTerm(n,!0),r=r||n!==i[o];else{const s=n["@id"],g=n["@type"],l=!("@prefix"in n)||a.Util.isValidIri(o);if("@id"in n)null!=s&&"string"==typeof s&&(i[o]=Object.assign(Object.assign({},i[o]),{"@id":t.expandTerm(s,!0)}),r=r||s!==i[o]["@id"]);else if(!a.Util.isPotentialKeyword(o)&&l){const e=t.expandTerm(o,!0);e!==o&&(i[o]=Object.assign(Object.assign({},i[o]),{"@id":e}),r=!0)}if(g&&"string"==typeof g&&"@vocab"!==g&&(!n["@container"]||!n["@container"]["@type"])&&l){let n=t.expandTerm(g,!0);e&&g===n&&(n=t.expandTerm(g,!1)),n!==g&&(r=!0,i[o]=Object.assign(Object.assign({},i[o]),{"@type":n}))}}if(!r)break}}}normalize(t,{processingMode:e,normalizeLanguageTags:n}){if(n||1===e)for(const e of Object.keys(t))if("@language"===e&&"string"==typeof t[e])t[e]=t[e].toLowerCase();else{const n=t[e];if(n&&"object"==typeof n&&"string"==typeof n["@language"]){const i=n["@language"].toLowerCase();i!==n["@language"]&&(t[e]=Object.assign(Object.assign({},n),{"@language":i}))}}}containersToHash(t){for(const e of Object.keys(t)){const n=t[e];if(n&&"object"==typeof n)if("string"==typeof n["@container"])t[e]=Object.assign(Object.assign({},n),{"@container":{[n["@container"]]:!0}});else if(Array.isArray(n["@container"])){const i={};for(const t of n["@container"])i[t]=!0;t[e]=Object.assign(Object.assign({},n),{"@container":i})}}}applyScopedProtected(t,{processingMode:e},n){if(e&&e>=1.1&&t["@protected"]){for(const e of Object.keys(t))if(!a.Util.isReservedInternalKeyword(e)&&!a.Util.isPotentialKeyword(e)&&!a.Util.isTermProtected(t,e)){const i=t[e];i&&"object"==typeof i?"@protected"in t[e]||(t[e]=Object.assign(Object.assign({},t[e]),{"@protected":!0})):(t[e]={"@id":i,"@protected":!0},a.Util.isSimpleTermDefinitionPrefix(i,n)&&(t[e]=Object.assign(Object.assign({},t[e]),{"@prefix":!0})))}delete t["@protected"]}}validateKeywordRedefinitions(t,e,n,i){for(const n of null!=i?i:Object.keys(e))if(a.Util.isTermProtected(t,n)&&("string"==typeof e[n]?e[n]={"@id":e[n],"@protected":!0}:e[n]=Object.assign(Object.assign({},e[n]),{"@protected":!0}),!a.Util.deepEqual(t[n],e[n])))throw new r.ErrorCoded(`Attempted to override the protected keyword ${n} from ${JSON.stringify(a.Util.getContextValueId(t[n]))} to ${JSON.stringify(a.Util.getContextValueId(e[n]))}`,r.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(t,{processingMode:e}){for(const n of Object.keys(t)){if(a.Util.isReservedInternalKeyword(n))continue;if(""===n)throw new r.ErrorCoded(`The empty term is not allowed, got: '${n}': '${JSON.stringify(t[n])}'`,r.ERROR_CODES.INVALID_TERM_DEFINITION);const i=t[n],o=typeof i;if(a.Util.isPotentialKeyword(n)){switch(n.substr(1)){case"vocab":if(null!==i&&"string"!==o)throw new r.ErrorCoded(`Found an invalid @vocab IRI: ${i}`,r.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(null!==i&&"string"!==o)throw new r.ErrorCoded(`Found an invalid @base IRI: ${t[n]}`,r.ERROR_CODES.INVALID_BASE_IRI);break;case"language":null!==i&&g.validateLanguage(i,!0,r.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(null!==i&&"number"!==o)throw new r.ErrorCoded(`Found an invalid @version number: ${i}`,r.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":null!==i&&g.validateDirection(i,!0);break;case"propagate":if(1===e)throw new r.ErrorCoded(`Found an illegal @propagate keyword: ${i}`,r.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(null!==i&&"boolean"!==o)throw new r.ErrorCoded(`Found an invalid @propagate value: ${i}`,r.ERROR_CODES.INVALID_PROPAGATE_VALUE)}if(a.Util.isValidKeyword(n)&&a.Util.isValidKeyword(a.Util.getContextValueId(i)))throw new r.ErrorCoded(`Illegal keyword alias in term value, found: '${n}': '${a.Util.getContextValueId(i)}'`,r.ERROR_CODES.KEYWORD_REDEFINITION)}else if(null!==i)switch(o){case"string":if(a.Util.getPrefix(i,t)===n)throw new r.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${n}': '${JSON.stringify(i)}'`,r.ERROR_CODES.CYCLIC_IRI_MAPPING);if(a.Util.isValidIriWeak(n)){if("@type"===i)throw new r.ErrorCoded(`IRIs can not be mapped to @type, found: '${n}': '${i}'`,r.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(i)&&i!==new s.JsonLdContextNormalized(t).expandTerm(n))throw new r.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${n}': '${i}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!(a.Util.isCompactIri(n)||"@id"in i||("@id"===i["@type"]?t["@base"]:t["@vocab"])))throw new r.ErrorCoded(`Missing @id in context entry: '${n}': '${JSON.stringify(i)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING);for(const l of Object.keys(i)){const A=i[l];if(A)switch(l){case"@id":if(a.Util.isValidKeyword(A)&&"@type"!==A&&"@id"!==A&&"@graph"!==A&&"@nest"!==A)throw new r.ErrorCoded(`Illegal keyword alias in term value, found: '${n}': '${JSON.stringify(i)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIriWeak(n)){if("@type"===A)throw new r.ErrorCoded(`IRIs can not be mapped to @type, found: '${n}': '${JSON.stringify(i)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(A)&&A!==new s.JsonLdContextNormalized(t).expandTerm(n))throw new r.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${n}': '${JSON.stringify(i)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}if("string"!=typeof A)throw new r.ErrorCoded(`Detected non-string @id in context entry: '${n}': '${JSON.stringify(i)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.getPrefix(A,t)===n)throw new r.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${n}': '${JSON.stringify(i)}'`,r.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if("@type"===i["@container"]&&"@id"!==A&&"@vocab"!==A)throw new r.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${n}': '${A}'`,r.ERROR_CODES.INVALID_TYPE_MAPPING);if("string"!=typeof A)throw new r.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(o)}'`,r.ERROR_CODES.INVALID_TYPE_MAPPING);if(!("@id"===A||"@vocab"===A||1!==e&&"@json"===A||1!==e&&"@none"===A||"_"!==A[0]&&a.Util.isValidIri(A)))throw new r.ErrorCoded(`A context @type must be an absolute IRI, found: '${n}': '${A}'`,r.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if("string"==typeof A&&i["@id"]&&i["@id"]!==A)throw new r.ErrorCoded(`Found non-matching @id and @reverse term values in '${n}':'${A}' and '${i["@id"]}'`,r.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in i)throw new r.ErrorCoded(`@nest is not allowed in the reverse property '${n}'`,r.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(1===e&&(Object.keys(A).length>1||a.Util.CONTAINERS_1_0.indexOf(Object.keys(A)[0])<0))throw new r.ErrorCoded(`Invalid term @container for '${n}' ('${Object.keys(A)}') in 1.0, must be only one of ${a.Util.CONTAINERS_1_0.join(", ")}`,r.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const t of Object.keys(A)){if("@list"===t&&i["@reverse"])throw new r.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${n}'`,r.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(a.Util.CONTAINERS.indexOf(t)<0)throw new r.ErrorCoded(`Invalid term @container for '${n}' ('${t}'), must be one of ${a.Util.CONTAINERS.join(", ")}`,r.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":g.validateLanguage(A,!0,r.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":g.validateDirection(A,!0);break;case"@prefix":if(null!==A&&"boolean"!=typeof A)throw new r.ErrorCoded(`Found an invalid term @prefix boolean in: '${n}': '${JSON.stringify(i)}'`,r.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in i)&&!a.Util.isValidIri(n))throw new r.ErrorCoded(`Invalid @prefix definition for '${n}' ('${JSON.stringify(i)}'`,r.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(1===e||!i["@container"]||!i["@container"]["@index"])throw new r.ErrorCoded(`Attempt to add illegal key to value object: '${n}': '${JSON.stringify(i)}'`,r.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(a.Util.isPotentialKeyword(A)&&"@nest"!==A)throw new r.ErrorCoded(`Found an invalid term @nest value in: '${n}': '${JSON.stringify(i)}'`,r.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new r.ErrorCoded(`Found an invalid term value: '${n}': '${i}'`,r.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(t,e,n){return"string"==typeof t||(n&&!("@base"in t)&&e.parentContext&&"object"==typeof e.parentContext&&"@base"in e.parentContext&&(t["@base"]=e.parentContext["@base"],e.parentContext["@__baseDocument"]&&(t["@__baseDocument"]=!0)),e.baseIRI&&!e.external&&("@base"in t?null===t["@base"]||"string"!=typeof t["@base"]||a.Util.isValidIri(t["@base"])||(t["@base"]=(0,i.resolve)(t["@base"],e.parentContext&&e.parentContext["@base"]||e.baseIRI)):(t["@base"]=e.baseIRI,t["@__baseDocument"]=!0))),t}normalizeContextIri(t,e){if(!a.Util.isValidIri(t))try{t=(0,i.resolve)(t,e)}catch(e){throw new Error(`Invalid context IRI: ${t}`)}return this.redirectSchemaOrgHttps&&t.startsWith("http://schema.org")&&(t="https://schema.org/"),t}async parseInnerContexts(t,e,n){for(const i of null!=n?n:Object.keys(t)){const n=t[i];if(n&&"object"==typeof n&&"@context"in n&&null!==n["@context"]&&!e.ignoreScopedContexts){if(this.validateContext)try{const r=Object.assign(Object.assign({},t),{[i]:Object.assign({},t[i])});delete r[i]["@context"],await this.parse(n["@context"],Object.assign(Object.assign({},e),{external:!1,parentContext:r,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(t){throw new r.ErrorCoded(t.message,r.ERROR_CODES.INVALID_SCOPED_CONTEXT)}t[i]=Object.assign(Object.assign({},n),{"@context":(await this.parse(n["@context"],Object.assign(Object.assign({},e),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:t}))).getContextRaw()})}}return t}async parse(t,e={},n={}){const{baseIRI:i,parentContext:o,external:l,processingMode:A=g.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:c,ignoreProtection:h,minimalProcessing:C}=e,I=e.remoteContexts||{};if(Object.keys(I).length>=this.remoteContextsDepthLimit)throw new r.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(I),r.ERROR_CODES.CONTEXT_OVERFLOW);if(null==t){if(!h&&o&&a.Util.hasProtectedTerms(o))throw new r.ErrorCoded("Illegal context nullification when terms are protected",r.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new s.JsonLdContextNormalized(this.applyBaseEntry({},e,!1))}if("string"==typeof t){const n=this.normalizeContextIri(t,i),r=this.getOverriddenLoad(n,e);if(r)return new s.JsonLdContextNormalized(r);const o=await this.parse(await this.load(n),Object.assign(Object.assign({},e),{baseIRI:n,external:!0,remoteContexts:Object.assign(Object.assign({},I),{[n]:!0})}));return this.applyBaseEntry(o.getContextRaw(),e,!0),o}if(Array.isArray(t)){const n=[],r=await Promise.all(t.map(((t,r)=>{if("string"==typeof t){const o=this.normalizeContextIri(t,i);n[r]=o;return this.getOverriddenLoad(o,e)||this.load(o)}return t})));if(C)return new s.JsonLdContextNormalized(r);const a=await r.reduce(((t,i,o)=>t.then((t=>this.parse(i,Object.assign(Object.assign({},e),{baseIRI:n[o]||e.baseIRI,external:!!n[o]||e.external,parentContext:t.getContextRaw(),remoteContexts:n[o]?Object.assign(Object.assign({},I),{[n[o]]:!0}):I}),{skipValidation:o<r.length-1})))),Promise.resolve(new s.JsonLdContextNormalized(o||{})));return this.applyBaseEntry(a.getContextRaw(),e,!0),a}if("object"==typeof t){if("@context"in t)return await this.parse(t["@context"],e);if(t=Object.assign({},t),l&&delete t["@base"],this.applyBaseEntry(t,e,!0),this.containersToHash(t),C)return new s.JsonLdContextNormalized(t);let I={};if("@import"in t){if(!(A>=1.1))throw new r.ErrorCoded("Context importing is not supported in JSON-LD 1.0",r.ERROR_CODES.INVALID_CONTEXT_ENTRY);if("string"!=typeof t["@import"])throw new r.ErrorCoded("An @import value must be a string, but got "+typeof t["@import"],r.ERROR_CODES.INVALID_IMPORT_VALUE);I=await this.loadImportContext(this.normalizeContextIri(t["@import"],i)),delete t["@import"]}this.applyScopedProtected(I,{processingMode:A},s.defaultExpandOptions);const d=Object.assign(I,t);this.idifyReverseTerms(d),this.normalize(d,{processingMode:A,normalizeLanguageTags:c}),this.applyScopedProtected(d,{processingMode:A},s.defaultExpandOptions);const u=Object.keys(d),f=[];if("object"==typeof o)for(const t in o)t in d?f.push(t):d[t]=o[t];await this.parseInnerContexts(d,e,u);const p=new s.JsonLdContextNormalized(d);return(d&&d["@version"]||g.DEFAULT_PROCESSING_MODE)>=1.1&&(t["@vocab"]&&"string"==typeof t["@vocab"]||""===t["@vocab"])&&(o&&"@vocab"in o&&t["@vocab"].indexOf(":")<0?d["@vocab"]=o["@vocab"]+t["@vocab"]:(a.Util.isCompactIri(t["@vocab"])||t["@vocab"]in d)&&(d["@vocab"]=p.expandTerm(t["@vocab"],!0))),this.expandPrefixedTerms(p,this.expandContentTypeToBase,u),!h&&o&&A>=1.1&&this.validateKeywordRedefinitions(o,d,s.defaultExpandOptions,f),this.validateContext&&!n.skipValidation&&this.validate(d,{processingMode:A}),p}throw new r.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${t}`,r.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(t){const e=this.documentCache[t];if(e)return e;let n;try{n=await this.documentLoader.load(t)}catch(e){throw new r.ErrorCoded(`Failed to load remote context ${t}: ${e.message}`,r.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in n))throw new r.ErrorCoded(`Missing @context in remote context at ${t}`,r.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[t]=n["@context"]}getOverriddenLoad(t,e){if(t in(e.remoteContexts||{})){if(e.ignoreRemoteScopedContexts)return t;throw new r.ErrorCoded("Detected a cyclic context inclusion of "+t,r.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(t){let e=await this.load(t);if("object"!=typeof e||Array.isArray(e))throw new r.ErrorCoded("An imported context must be a single object: "+t,r.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in e)throw new r.ErrorCoded("An imported context can not import another context: "+t,r.ERROR_CODES.INVALID_CONTEXT_ENTRY);return e=Object.assign({},e),this.containersToHash(e),e}}g.DEFAULT_PROCESSING_MODE=1.1,e.ContextParser=g},2861:(t,e,n)=>{var i=n(8287),r=i.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,e),e.Buffer=s),s.prototype=Object.create(r.prototype),o(r,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},2944:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var i=n(1601),r=n.n(i),o=n(6314),s=n.n(o)()(r());s.push([t.id,"/* Main application styles */\n:root {\n  --primary-color: #4CAF50;\n  --secondary-color: #555;\n  --error-color: #F2DEDE;\n  --error-text: #822;\n  --success-color: #DFF0D8;\n  --warning-color: #FCF8E3;\n  --border-color: #CAD0DB;\n  --highlight-color: lightgreen;\n  --divider-color: #aaa;\n}\n\n#about {\n  text-align: right;\n}\n\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  line-height: 1.5;\n  color: #333;\n}\n\nheader {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 20px;\n  background-color: var(--secondary-color);\n  color: white;\n}\n\n.logo {\n  display: flex;\n  align-items: center;\n}\n\n.logo img {\n  width: 50px;\n  height: 50px;\n  margin-right: 10px;\n}\n\n.logo h1 {\n  font-size: 1.5rem;\n}\n\n.main-container {\n  padding: 20px;\n  max-width: 1600px;\n  margin: 0 auto;\n}\n\n.toolbar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid var(--border-color);\n}\n\n.view-controls {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n}\n\n.toggle-group {\n  display: flex;\n  align-items: center;\n  gap: 5px;\n}\n\n.toggle {\n  position: relative;\n  appearance: none;\n  width: 40px;\n  height: 20px;\n  background-color: #ccc;\n  border-radius: 20px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\n.toggle:checked {\n  background-color: var(--primary-color);\n}\n\n.toggle::before {\n  content: \"\";\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background-color: white;\n  top: 2px;\n  left: 2px;\n  transition: transform 0.3s;\n}\n\n.toggle:checked::before {\n  transform: translateX(20px);\n}\n\n.cluster-controls {\n  display: flex;\n  align-items: center;\n  gap: 5px;\n}\n\n.icon-button {\n  width: 30px;\n  height: 30px;\n  background-color: #f1f1f1;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  font-weight: bold;\n}\n\n.icon-button:hover {\n  background-color: #e1e1e1;\n}\n\n.btn {\n  padding: 8px 16px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-weight: bold;\n  transition: background-color 0.2s;\n}\n\n.btn-primary {\n  background-color: var(--primary-color);\n  color: white;\n}\n\n.btn-primary:hover {\n  background-color: #3e8e41;\n}\n\n.btn-default {\n  background-color: #f1f1f1;\n  color: #333;\n}\n\n.btn-default:hover {\n  background-color: #e1e1e1;\n}\n\n.btn-danger {\n  background-color: #d9534f;\n  color: white;\n}\n\n.btn-danger:hover {\n  background-color: #c9302c;\n}\n\n/* Status indicators */\n#syntax-check {\n  display: flex;\n  align-items: center;\n}\n\n.status-icon {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  margin-right: 5px;\n}\n\n.status-icon.error {\n  background-color: #d9534f;\n}\n\n.status-icon.working, \n.status-icon.pending {\n  background-color: #f0ad4e;\n}\n\n.status-icon.passed {\n  background-color: var(--primary-color);\n}\n\n.status-icon.off {\n  background-color: #777;\n}\n\n/* Split container */\n.split-container {\n  display: flex;\n  height: 70vh;\n  border: 1px solid var(--border-color);\n  margin-bottom: 20px;\n}\n\n.split-pane {\n  flex: 1;\n  overflow: hidden;\n  height: 100%;\n}\n\n.split-divider {\n  width: 5px;\n  background-color: var(--divider-color);\n  cursor: col-resize;\n}\n\n/* Resizing state */\n.resizing {\n  cursor: col-resize;\n  user-select: none;\n}\n\n.resizing .split-pane,\n.resizing .split-divider {\n  transition: none !important;\n}\n\n/* Message queue */\n#message-queue {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 1000;\n  max-width: 300px;\n}\n\n.alert {\n  padding: 10px;\n  margin-bottom: 10px;\n  border-radius: 4px;\n  animation: fadeIn 0.3s;\n}\n\n.alert-danger {\n  background-color: var(--error-color);\n  color: var(--error-text);\n}\n\n.alert-warning {\n  background-color: var(--warning-color);\n  color: #8a6d3b;\n}\n\n.alert-success {\n  background-color: var(--success-color);\n  color: #3c763d;\n}\n\n.alert-info {\n  background-color: #d9edf7;\n  color: #31708f;\n}\n\n.badge {\n  display: inline-block;\n  padding: 2px 6px;\n  font-size: 12px;\n  font-weight: bold;\n  line-height: 1;\n  color: white;\n  background-color: #777;\n  border-radius: 10px;\n  margin-left: 5px;\n}\n\n/* Popup and dialog */\n.popup, .dialog {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.popup-content, .dialog-content {\n  background-color: white;\n  padding: 20px;\n  border-radius: 5px;\n  min-width: 300px;\n}\n\n.form-group {\n  margin-bottom: 15px;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 5px;\n  font-weight: bold;\n}\n\n.form-group input {\n  width: 100%;\n  padding: 8px;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n}\n\n.form-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  margin-top: 15px;\n}\n\n.dialog-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  margin-top: 15px;\n}\n\n@keyframes fadeIn {\n  from { opacity: 0; transform: translateY(-20px); }\n  to { opacity: 1; transform: translateY(0); }\n}\n.open-source-info {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 5px 0;\n  width: 100%;\n}\n\n.left-info {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  flex-wrap: wrap;\n}\n\n.right-info {\n  margin-left: auto;\n}\n\n.open-source-info img {\n  height: 20px;\n}\n\n.open-source-info a {\n  text-decoration: none;\n  color: inherit;\n}\n\n.open-source-info a:hover {\n  text-decoration: underline;\n}\n\n.license-badge, .github-badge {\n  transition: opacity 0.2s;\n}\n\n.license-badge:hover, .github-badge:hover {\n  opacity: 0.8;\n}\n\n/* Message Queue Styles */\n#message-queue {\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  display: flex;\n  flex-direction: column-reverse; /* New messages appear at the bottom and push older ones up */\n  align-items: flex-end;\n  gap: 10px;\n  z-index: 10000; /* Ensure it's above most other content */\n}\n\n.message {\n  padding: 10px 15px;\n  border-radius: 5px;\n  color: #fff;\n  font-size: 14px;\n  min-width: 250px;\n  max-width: 400px;\n  box-shadow: 0 2px 5px rgba(0,0,0,0.2);\n  opacity: 1;\n  transition: opacity 0.5s ease-out;\n}\n\n.message.info {\n  background-color: #007bff; /* A distinct info color */\n}\n\n.message.success {\n  background-color: var(--primary-color);\n}\n\n.message.warning {\n  background-color: #ffc107; /* Bootstrap warning yellow */\n  color: #333; /* Darker text for yellow background */\n}\n\n.message.error {\n  background-color: #d9534f; /* Existing .btn-danger color */\n}\n\n/* SPARQL Results View */\n#sparql-results-container {\n  display: flex;\n  flex-direction: column;\n  height: 100%; /* Fill the #view-pane */\n  box-sizing: border-box;\n}\n\n#sparql-results-container h3 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  padding: 10px 10px 0 10px;\n  flex-shrink: 0;\n}\n\n#sparql-results-table-wrapper {\n  flex-grow: 1;\n  overflow: auto;\n  padding: 0 10px 10px 10px;\n  box-sizing: border-box;\n}\n\n#sparql-results-container table {\n  width: 100%;\n  border-collapse: collapse;\n  font-size: 0.9em;\n}\n\n#sparql-results-container th,\n#sparql-results-container td {\n  border: 1px solid #ddd;\n  padding: 8px;\n  text-align: left;\n  vertical-align: top;\n}\n\n#sparql-results-container th {\n  background-color: #f2f2f2;\n  font-weight: bold;\n  position: sticky;\n  top: 0; /* For sticky header */\n  z-index: 1;\n}\n\n#sparql-results-container tr:nth-child(even) {\n  background-color: #f9f9f9;\n}\n\n#sparql-results-container tr:hover {\n  background-color: #e2e2e2;\n}\n\n/* Turtle Results Styles for CONSTRUCT/DESCRIBE queries */\n.turtle-results {\n  padding: 15px;\n  background-color: #f8f9fa;\n  border: 1px solid #dee2e6;\n  border-radius: 6px;\n  margin-bottom: 10px;\n}\n\n.turtle-message {\n  background-color: #d1ecf1;\n  color: #0c5460;\n  padding: 10px 15px;\n  border: 1px solid #bee5eb;\n  border-radius: 4px;\n  margin-bottom: 15px;\n  font-weight: 500;\n}\n\n.turtle-content {\n  background-color: #ffffff;\n  border: 1px solid #dee2e6;\n  border-radius: 4px;\n  max-height: 400px;\n  overflow: auto;\n}\n\n.turtle-content pre {\n  margin: 0;\n  padding: 15px;\n  background-color: transparent;\n  border: none;\n}\n\n.turtle-code {\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n  font-size: 13px;\n  line-height: 1.4;\n  color: #333;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n\n/* SPARQL Clips Dialog Styles */\n#sparql-clips-list {\n  max-height: 300px;\n  overflow-y: auto;\n  margin-bottom: 15px;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n}\n\n.sparql-clip-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px;\n  border-bottom: 1px solid #eee;\n}\n\n.sparql-clip-item:last-child {\n  border-bottom: none;\n}\n\n.sparql-clip-item:hover {\n  background-color: #f5f5f5;\n}\n\n.sparql-clip-info {\n  flex-grow: 1;\n}\n\n.sparql-clip-name {\n  font-weight: bold;\n  margin-bottom: 4px;\n}\n\n.sparql-clip-preview {\n  font-size: 12px;\n  color: #666;\n  font-family: monospace;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 300px;\n}\n\n.sparql-clip-actions {\n  display: flex;\n  gap: 5px;\n}\n\n.sparql-clips-empty {\n  text-align: center;\n  padding: 20px;\n  color: #666;\n  font-style: italic;\n}\n\n.btn-sm {\n  padding: 4px 8px;\n  font-size: 12px;\n}",""]);const a=s},2985:t=>{"use strict";t.exports=class t{constructor(t,e=new Map,n=0){this.prefix=t,this._existing=e,this.counter=n}clone(){const{prefix:e,_existing:n,counter:i}=this;return new t(e,new Map(n),i)}getId(t){const e=t&&this._existing.get(t);if(e)return e;const n=this.prefix+this.counter;return this.counter++,t&&this._existing.set(t,n),n}hasId(t){return this._existing.has(t)}getOldIds(){return[...this._existing.keys()]}}},3095:(t,e,n)=>{"use strict";const{ArrayPrototypePop:i,Promise:r}=n(4134),{isIterable:o,isNodeStream:s,isWebStream:a}=n(6115),{pipelineImpl:g}=n(7758),{finished:l}=n(6238);n(5506),t.exports={finished:l,pipeline:function(...t){return new r(((e,n)=>{let r,l;const A=t[t.length-1];if(A&&"object"==typeof A&&!s(A)&&!o(A)&&!a(A)){const e=i(t);r=e.signal,l=e.end}g(t,((t,i)=>{t?n(t):e(i)}),{signal:r,end:l})}))}}},3099:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParsingContext=void 0;const i=n(2395),r=n(5094),o=n(4405),s=n(2277);class a{constructor(t){this.contextParser=new i.ContextParser({documentLoader:t.documentLoader,skipValidation:t.skipContextValidation}),this.streamingProfile=!!t.streamingProfile,this.baseIRI=t.baseIRI,this.produceGeneralizedRdf=!!t.produceGeneralizedRdf,this.allowSubjectList=!!t.allowSubjectList,this.processingMode=t.processingMode||s.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!t.strictValues,this.validateValueIndexes=!!t.validateValueIndexes,this.defaultGraph=t.defaultGraph,this.rdfDirection=t.rdfDirection,this.normalizeLanguageTags=t.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=t.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=!1!==t.rdfstar,this.rdfstarReverseInEmbedded=t.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new o.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=t.parser,t.context?(this.rootContext=this.parseContext(t.context),this.rootContext.then((t=>this.validateContext(t)))):this.rootContext=Promise.resolve(new i.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(t,e,n){return this.contextParser.parse(t,{baseIRI:this.baseIRI,ignoreProtection:n,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:e,processingMode:this.activeProcessingMode})}validateContext(t){const e=t.getContextRaw()["@version"];if(e){if(this.activeProcessingMode&&e>this.activeProcessingMode)throw new r.ErrorCoded(`Unsupported JSON-LD version '${e}' under active processing mode ${this.activeProcessingMode}.`,r.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&e<this.activeProcessingMode)throw new r.ErrorCoded(`Invalid JSON-LD version ${e} under active processing mode ${this.activeProcessingMode}.`,r.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=e}}async getContext(t,e=1){const n=t;for(;"number"==typeof t[t.length-1];)t=t.slice(0,t.length-1);e&&(t=t.slice(0,-e));const r=await this.getContextPropagationAware(t);let o=r.context.getContextRaw();for(let t=r.depth;t<n.length-e;t++){const r=n[t],s=o[r];if(s&&"object"==typeof s&&"@context"in s){const a=(await this.parseContext(s,o,!0)).getContextRaw(),g=!(r in a)||a[r]["@context"]["@propagate"];!1===g&&t!==n.length-1-e||(o=Object.assign({},a),delete o["@propagate"],o[r]=Object.assign({},o[r]),"@id"in s&&(o[r]["@id"]=s["@id"]),delete o[r]["@context"],!1!==g&&this.contextTree.setContext(n.slice(0,t+e),Promise.resolve(new i.JsonLdContextNormalized(o))))}}return new i.JsonLdContextNormalized(o)}async getContextPropagationAware(t){const e=t.length;let n,r=null;do{n=!1,r&&"@__propagateFallback"in r.context.getContextRaw()?r.context=new i.JsonLdContextNormalized(r.context.getContextRaw()["@__propagateFallback"]):(r&&(t=t.slice(0,r.depth-1)),r=await this.contextTree.getContext(t)||{context:await this.rootContext,depth:0});const e=t[t.length-1];if(e in r.context.getContextRaw()){const t=r.context.getContextRaw()[e];t&&"object"==typeof t&&"@context"in t&&(n=!0)}}while(r.depth>0&&!1===r.context.getContextRaw()["@propagate"]&&r.depth!==e&&!n);return 0===r.depth&&!1===r.context.getContextRaw()["@propagate"]&&r.depth!==e&&(r.context=new i.JsonLdContextNormalized({})),r}async newOnValueJob(t,e,n,i){await this.parser.newOnValueJob(t,e,n,i)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const t of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(t.depth,t.keys),this.parser.flushStacks(t.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}return!1}emitQuad(t,e){1===t&&(this.topLevelProperties=!0),this.parser.push(e)}emitError(t){this.parser.emit("error",t)}emitContext(t){this.parser.emit("context",t)}getUnidentifiedValueBufferSafe(t){let e=this.unidentifiedValuesBuffer[t];return e||(e=[],this.unidentifiedValuesBuffer[t]=e),e}getUnidentifiedGraphBufferSafe(t){let e=this.unidentifiedGraphsBuffer[t];return e||(e=[],this.unidentifiedGraphsBuffer[t]=e),e}getAnnotationsBufferSafe(t){let e=this.annotationsBuffer[t];return e||(e=[],this.annotationsBuffer[t]=e),e}getExpandOptions(){return a.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(t,e){const n=this.idStack[t+e];if(n&&(this.idStack[t]=n,this.emittedStack[t]=!0,delete this.idStack[t+e]),this.pendingContainerFlushBuffers.length)for(const n of this.pendingContainerFlushBuffers)n.depth>=t+e&&(n.depth-=e,n.keys.splice(t,e));this.unidentifiedValuesBuffer[t+e]&&(this.unidentifiedValuesBuffer[t]=this.unidentifiedValuesBuffer[t+e],delete this.unidentifiedValuesBuffer[t+e]),this.annotationsBuffer[t+e-1]&&(this.annotationsBuffer[t-1]||(this.annotationsBuffer[t-1]=[]),this.annotationsBuffer[t-1]=[...this.annotationsBuffer[t-1],...this.annotationsBuffer[t+e-1]],delete this.annotationsBuffer[t+e-1])}}e.ParsingContext=a,a.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}},3141:(t,e,n)=>{"use strict";var i=n(2861).Buffer,r=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(i.isEncoding===r||!r(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=g,this.end=l,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=A,this.end=c,e=3;break;default:return this.write=h,void(this.end=C)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e){if(128!=(192&e[0]))return t.lastNeed=0,"ï¿½";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"ï¿½";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"ï¿½"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function g(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function A(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function C(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"ï¿½":e},o.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var r=s(e[i]);return r>=0?(r>0&&(t.lastNeed=r-1),r):--i<n||-2===r?0:(r=s(e[i]))>=0?(r>0&&(t.lastNeed=r-2),r):--i<n||-2===r?0:(r=s(e[i]))>=0?(r>0&&(2===r?r=0:t.lastNeed=r-3),r):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},3283:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordValue=void 0;const i=n(1548);class r extends i.EntryHandlerKeyword{constructor(){super("@value")}async validate(t,e,n,i,r){const o=n[i];return o&&!t.literalStack[i]&&await this.test(t,e,o,n,i)&&(t.literalStack[i]=!0),super.validate(t,e,n,i,r)}async test(t,e,n,i,r){return"@value"===await e.unaliasKeyword(i[r],i.slice(0,i.length-1),r-1,!0)}async handle(t,e,n,i,r,o){t.literalStack[o]=!0,delete t.unidentifiedValuesBuffer[o],delete t.unidentifiedGraphsBuffer[o],t.emittedStack[o]=!1}}e.EntryHandlerKeywordValue=r},3335:(t,e,n)=>{"use strict";const i=n(171),r=n(2191),o=n(1820),s=n(9272);let a;try{a=n(1895)}catch(t){}function g(t){return Array.isArray(t)?t:e.NQuads.legacyDatasetToQuads(t)}e.NQuads=n(5181),e.IdentifierIssuer=n(7259),e._rdfCanonizeNative=function(t){return t&&(a=t),a},e.canonize=async function(t,e){const n=g(t);if(e.useNative){if(!a)throw new Error("rdf-canonize-native not available");if(e.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise(((t,i)=>a.canonize(n,e,((e,n)=>e?i(e):t(n)))))}if("URDNA2015"===e.algorithm)return new i(e).main(n);if("URGNA2012"===e.algorithm){if(e.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new r(e).main(n)}if(!("algorithm"in e))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+e.algorithm)},e._canonizeSync=function(t,e){const n=g(t);if(e.useNative){if(!a)throw new Error("rdf-canonize-native not available");if(e.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return a.canonizeSync(n,e)}if("URDNA2015"===e.algorithm)return new o(e).main(n);if("URGNA2012"===e.algorithm){if(e.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new s(e).main(n)}if(!("algorithm"in e))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+e.algorithm)}},3343:t=>{"use strict";t.exports=class{constructor(t){this.current=t.sort(),this.done=!1,this.dir=new Map;for(let e=0;e<t.length;++e)this.dir.set(t[e],!0)}hasNext(){return!this.done}next(){const{current:t,dir:e}=this,n=t.slice();let i=null,r=0;const o=t.length;for(let n=0;n<o;++n){const s=t[n],a=e.get(s);(null===i||s>i)&&(a&&n>0&&s>t[n-1]||!a&&n<o-1&&s>t[n+1])&&(i=s,r=n)}if(null===i)this.done=!0;else{const n=e.get(i)?r-1:r+1;t[r]=t[n],t[n]=i;for(const n of t)n>i&&e.set(n,!e.get(n))}return n}}},3370:(t,e,n)=>{"use strict";const{ObjectDefineProperties:i,ObjectGetOwnPropertyDescriptor:r,ObjectKeys:o,ObjectSetPrototypeOf:s}=n(4134);t.exports=l;const a=n(7576),g=n(8584);s(l.prototype,a.prototype),s(l,a);{const t=o(g.prototype);for(let e=0;e<t.length;e++){const n=t[e];l.prototype[n]||(l.prototype[n]=g.prototype[n])}}function l(t){if(!(this instanceof l))return new l(t);a.call(this,t),g.call(this,t),t?(this.allowHalfOpen=!1!==t.allowHalfOpen,!1===t.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===t.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let A,c;function h(){return void 0===A&&(A={}),A}i(l.prototype,{writable:{__proto__:null,...r(g.prototype,"writable")},writableHighWaterMark:{__proto__:null,...r(g.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...r(g.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...r(g.prototype,"writableBuffer")},writableLength:{__proto__:null,...r(g.prototype,"writableLength")},writableFinished:{__proto__:null,...r(g.prototype,"writableFinished")},writableCorked:{__proto__:null,...r(g.prototype,"writableCorked")},writableEnded:{__proto__:null,...r(g.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...r(g.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}}),l.fromWeb=function(t,e){return h().newStreamDuplexFromReadableWritablePair(t,e)},l.toWeb=function(t){return h().newReadableWritablePairFromDuplex(t)},l.from=function(t){return c||(c=n(6706)),c(t,"body")}},3660:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var i=n(1601),r=n.n(i),o=n(6314),s=n.n(o)()(r());s.push([t.id,"#editor-container {\n  display: flex;\n  flex-direction: column;\n  height: 100%; /* Assumes parent (.split-pane) provides a constrained height */\n  overflow: hidden; /* Child panes should manage their own overflow */\n}\n\n#input-contents {\n  width: 100%;\n  /* height: 100%; Removed, flex-grow in the rule above now manages height */\n  font-family: 'Fira Code', 'Courier New', Courier, monospace;\n  font-size: 14px;\n  padding: 10px;\n  border: none;\n  resize: none;\n}\n\n\n.cm-editor {\n  height: 100%;\n  font-family: 'Fira Code', 'Courier New', Courier, monospace;\n}\n\n.cm-line {\n  padding: 0 4px;\n}\n\n.cm-gutters {\n  border-right: 1px solid var(--border-color);\n  background-color: #f7f7f7;\n}\n\n\n.cm-error-line {\n  background-color: var(--error-color);\n}\n\n.cm-error-gutter {\n  color: var(--error-text);\n  font-weight: bold;\n}\n\n\n.cm-keyword {\n  color: #708;\n}\n\n.cm-atom {\n  color: #219;\n}\n\n.cm-number {\n  color: #164;\n}\n\n.cm-def {\n  color: #00f;\n}\n\n.cm-variable {\n  color: #05a;\n}\n\n.cm-operator {\n  color: #aa22ff;\n  font-weight: bold;\n}\n\n.cm-comment {\n  color: #a50;\n  font-style: italic;\n}\n\n.cm-string {\n  color: #a11;\n}\n\n.cm-iri {\n  color: #FFA500;\n  font-weight: bold;\n}\n\n.cm-meta {\n  color: #555;\n}\n\n.cm-qualifier {\n  color: #555;\n}\n\n.cm-builtin {\n  color: #30a;\n}\n\n.cm-bracket {\n  color: #997;\n}\n\n.cm-tag {\n  color: #170;\n}\n\n.cm-attribute {\n  color: #00c;\n}\n\n\n.cm-tooltip-autocomplete {\n  border: 1px solid var(--border-color);\n  background-color: white;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  max-height: 300px;\n  overflow-y: auto;\n}\n\n.cm-tooltip-autocomplete ul {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n.cm-tooltip-autocomplete li {\n  padding: 4px 8px;\n  cursor: pointer;\n}\n\n.cm-tooltip-autocomplete li:hover,\n.cm-tooltip-autocomplete li.selected {\n  background-color: #eee;\n}\n\n\n.cm-highlight {\n  background-color: var(--highlight-color);\n  border-radius: 2px;\n  transition: background-color 0.2s ease;\n  text-decoration: underline;\n  text-decoration-style: wavy;\n  text-decoration-color: darkgreen;\n}\n\n.cm-highlight:hover {\n  background-color: rgba(144, 238, 144, 0.7);\n}\n\n.cm-highlight-scrollbar {\n  background-color: darkgreen;\n  width: 8px !important;\n}\n\n\n.cm-predicate {\n  color: #0077aa;\n  font-weight: bold;\n}\n\n.cm-a {\n  color: #aa6600;\n  font-weight: bold;\n}\n\n.cm-prefixName {\n  color: #0055aa;\n}\n\n.cm-iri {\n  color: #FFA500;\n  font-weight: bold;\n}\n\n.cm-literal {\n  color: #a31515;\n}\n\n.cm-lang {\n  color: #9900cc;\n}\n\n.cm-datatype {\n  color: #669900;\n}\n\n.cm-boolean {\n  color: #0000ff;\n}\n\n/* Editor Pane Styles (Turtle and SPARQL) */\n#turtle-editor-pane,\n#sparql-editor-pane {\n  flex-grow: 1; /* Panes take remaining vertical space in #editor-container */\n  min-height: 0; /* Allows panes to shrink correctly in a flex container */\n  display: flex;\n  flex-direction: column;\n  overflow: hidden; /* Panes manage their own internal scrolling */\n  position: relative; /* Retained from original #sparql-editor-pane styles */\n}\n\n/* Ensure CodeMirror instance or textarea takes up available space within its pane */\n#turtle-editor-pane .cm-editor,\n#input-contents, /* This is the textarea for Turtle */\n#sparql-editor-pane .cm-editor,\n#sparql-contents /* This is the textarea for SPARQL */ {\n  flex-grow: 1; /* Takes up all available vertical space */\n  height: auto; /* Override fixed height if any */\n  overflow-y: auto; /* Allow scrolling within the editor */\n  box-sizing: border-box;\n}\n\n#sparql-toolbar {\n  height: 40px;\n  background-color: #f0f0f0;\n  border-top: 1px solid #ccc;\n  display: flex;\n  align-items: center;\n  padding: 0 10px;\n  box-sizing: border-box;\n  flex-shrink: 0; /* Prevent toolbar from shrinking */\n  gap: 8px; /* Add spacing between buttons */\n}\n\n/* SPARQL Endpoint Selector */\n.endpoint-selector {\n  display: flex;\n  align-items: center;\n  padding: 8px 10px;\n  background-color: #f8f8f8;\n  border-bottom: 1px solid #ddd;\n  gap: 8px;\n  flex-shrink: 0;\n}\n\n.endpoint-selector label {\n  font-size: 13px;\n  font-weight: 500;\n  color: #555;\n  white-space: nowrap;\n}\n\n.endpoint-select {\n  flex-grow: 1;\n  padding: 4px 8px;\n  border: 1px solid #ccc;\n  border-radius: 3px;\n  background-color: white;\n  font-size: 13px;\n  max-width: 300px;\n}\n\n.endpoint-select:focus {\n  outline: none;\n  border-color: var(--primary-color);\n  box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);\n}\n\n.endpoint-selector .btn {\n  padding: 4px 8px;\n  font-size: 12px;\n  min-width: 28px;\n  height: 28px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.endpoint-selector .btn:hover {\n  transform: translateY(-1px);\n  transition: transform 0.1s ease;\n}\n\n\n@keyframes highlight-pulse {\n  0% { background-color: rgba(144, 238, 144, 0.3); }\n  50% { background-color: rgba(144, 238, 144, 0.8); }\n  100% { background-color: rgba(144, 238, 144, 0.3); }\n}\n\n.cm-highlight.pulse {\n  animation: highlight-pulse 1s ease;\n}",""]);const a=s},3743:t=>{"use strict";t.exports=class{constructor(){this._requests={}}wrapLoader(t){const e=this;return e._loader=t,function(){return e.add.apply(e,arguments)}}async add(t){let e=this._requests[t];if(e)return Promise.resolve(e);e=this._requests[t]=this._loader(t);try{return await e}finally{delete this._requests[t]}}}},3805:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},3809:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordContext=void 0;const i=n(2395),r=n(1548);class o extends r.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(t,e,n,r,o,s){t.streamingProfile&&(t.processingStack[s]||t.processingType[s]||void 0!==t.idStack[s])&&t.emitError(new i.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",i.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const a=t.getContext(r),g=t.parseContext(o,(await a).getContextRaw());t.contextTree.setContext(r.slice(0,-1),g),t.emitContext(o),await t.validateContext(await g)}}e.EntryHandlerKeywordContext=o},3847:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerLanguage=void 0;const i=n(2395);e.ContainerHandlerLanguage=class{canCombineWithGraph(){return!1}async handle(t,e,n,r,o,s){const a=await n.getContainerKey(r[s],r,s);if(Array.isArray(o))o=o.map((t=>({"@value":t,"@language":a})));else{if("string"!=typeof o)throw new i.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(o)}', but expected string`,i.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);o={"@value":o,"@language":a}}await e.newOnValueJob(r.slice(0,r.length-1),o,s-1,!0),e.emittedStack[s]=!1}}},3947:(t,e,n)=>{"use strict";const i=n(2207),r=n(3978),o=n(5001),{REGEX_BCP47:s,addValue:a}=n(9263),{handleEvent:g}=n(2246),{RDF_LIST:l,RDF_FIRST:A,RDF_REST:c,RDF_NIL:h,RDF_TYPE:C,RDF_JSON_LITERAL:I,XSD_BOOLEAN:d,XSD_DOUBLE:u,XSD_INTEGER:f,XSD_STRING:p}=n(9378),v={};function m(t,e,n,r){if(t.termType.endsWith("Node"))return{"@id":t.value};const a={"@value":t.value};if(t.language)t.language.match(s)||r.eventHandler&&g({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:t.language}},options:r}),a["@language"]=t.language;else{let l=t.datatype.value;if(l||(l=p),l===I){l="@json";try{a["@value"]=JSON.parse(a["@value"])}catch(t){throw new i("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:a["@value"],cause:t})}}if(e){if(l===d)"true"===a["@value"]?a["@value"]=!0:"false"===a["@value"]&&(a["@value"]=!1);else if(o.isNumeric(a["@value"]))if(l===f){const t=parseInt(a["@value"],10);t.toFixed(0)===a["@value"]&&(a["@value"]=t)}else l===u&&(a["@value"]=parseFloat(a["@value"]));[d,f,u,p].includes(l)||(a["@type"]=l)}else if("i18n-datatype"===n&&l.startsWith("https://www.w3.org/ns/i18n#")){const[,t,e]=l.split(/[#_]/);t.length>0&&(a["@language"]=t,t.match(s)||r.eventHandler&&g({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:t}},options:r})),a["@direction"]=e}else l!==p&&(a["@type"]=l)}return a}t.exports=v,v.fromRDF=async(t,e)=>{const{useRdfType:n=!1,useNativeTypes:s=!1,rdfDirection:g=null}=e,I={},d={"@default":I},u={};if(g){if("compound-literal"===g)throw new i("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:g});if("i18n-datatype"!==g)throw new i("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:g})}for(const i of t){const t="DefaultGraph"===i.graph.termType?"@default":i.graph.value;t in d||(d[t]={}),"@default"===t||t in I||(I[t]={"@id":t});const r=d[t],o=i.subject.value,l=i.predicate.value,A=i.object;o in r||(r[o]={"@id":o});const c=r[o],f=A.termType.endsWith("Node");if(f&&!(A.value in r)&&(r[A.value]={"@id":A.value}),l===C&&!n&&f){a(c,"@type",A.value,{propertyIsArray:!0});continue}const p=m(A,s,g,e);if(a(c,l,p,{propertyIsArray:!0}),f)if(A.value===h){const t=r[A.value];"usages"in t||(t.usages=[]),t.usages.push({node:c,property:l,value:p})}else A.value in u?u[A.value]=!1:u[A.value]={node:c,property:l,value:p}}for(const t in d){const e=d[t];if(!(h in e))continue;const n=e[h];if(n.usages){for(let t of n.usages){let n=t.node,i=t.property,s=t.value;const a=[],g=[];let h=Object.keys(n).length;for(;i===c&&o.isObject(u[n["@id"]])&&o.isArray(n[A])&&1===n[A].length&&o.isArray(n[c])&&1===n[c].length&&(3===h||4===h&&o.isArray(n["@type"])&&1===n["@type"].length&&n["@type"][0]===l)&&(a.push(n[A][0]),g.push(n["@id"]),t=u[n["@id"]],n=t.node,i=t.property,s=t.value,h=Object.keys(n).length,r.isBlankNode(n)););delete s["@id"],s["@list"]=a.reverse();for(const t of g)delete e[t]}delete n.usages}}const f=[],p=Object.keys(I).sort();for(const t of p){const e=I[t];if(t in d){const n=e["@graph"]=[],i=d[t],o=Object.keys(i).sort();for(const t of o){const e=i[t];r.isSubjectReference(e)||n.push(e)}}r.isSubjectReference(e)||f.push(e)}return f}},3978:(t,e,n)=>{"use strict";const i=n(5001),r={};t.exports=r,r.isSubject=t=>!(!i.isObject(t)||"@value"in t||"@set"in t||"@list"in t)&&(Object.keys(t).length>1||!("@id"in t)),r.isSubjectReference=t=>i.isObject(t)&&1===Object.keys(t).length&&"@id"in t,r.isValue=t=>i.isObject(t)&&"@value"in t,r.isList=t=>i.isObject(t)&&"@list"in t,r.isGraph=t=>i.isObject(t)&&"@graph"in t&&1===Object.keys(t).filter((t=>"@id"!==t&&"@index"!==t)).length,r.isSimpleGraph=t=>r.isGraph(t)&&!("@id"in t),r.isBlankNode=t=>{if(i.isObject(t)){if("@id"in t){const e=t["@id"];return!i.isString(e)||0===e.indexOf("_:")}return 0===Object.keys(t).length||!("@value"in t||"@set"in t||"@list"in t)}return!1}},3988:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NamedNode=void 0,e.NamedNode=class{constructor(t){this.termType="NamedNode",this.value=t}equals(t){return!!t&&"NamedNode"===t.termType&&t.value===this.value}}},4019:(t,e,n)=>{"use strict";const i=n(2207),{isArray:r,isObject:o,isEmptyObject:s,isString:a,isUndefined:g}=n(5001),{isList:l,isValue:A,isGraph:c,isSubject:h}=n(3978),{expandIri:C,getContextValue:I,isKeyword:d,process:u,processingMode:f}=n(1972),{isAbsolute:p}=n(470),{REGEX_BCP47:v,REGEX_KEYWORD:m,addValue:y,asArray:b,getValues:w,validateTypeValue:x}=n(9263),{handleEvent:E}=n(2246),k={};function S({value:t,count:e,options:n}){if(0===e||"@value"in t||"@list"in t||1===e&&"@id"in t){if(n.eventHandler){let i,r;0===e?(i="empty object",r="Dropping empty object."):"@value"in t?(i="object with only @value",r="Dropping object with only @value."):"@list"in t?(i="object with only @list",r="Dropping object with only @list."):1===e&&"@id"in t&&(i="object with only @id",r="Dropping object with only @id."),E({event:{type:["JsonLdEvent"],code:i,level:"warning",message:r,details:{value:t}},options:n})}return null}return t}async function T({activeCtx:t,activeProperty:e,expandedActiveProperty:n,element:c,expandedParent:m,options:w={},insideList:O,typeKey:N,typeScopedContext:D}){const P=Object.keys(c).sort(),M=[];let L;const j=c[N]&&"@json"===C(t,r(c[N])?c[N][0]:c[N],{vocab:!0},{...w,typeExpansion:!0});for(const T of P){let O,N=c[T];if("@context"===T)continue;const P=C(t,T,{vocab:!0},w);if(null===P||!p(P)&&!d(P)){w.eventHandler&&E({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:T,expandedProperty:P}},options:w});continue}if(d(P)){if("@reverse"===n)throw new i("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:N});if(P in m&&"@included"!==P&&"@type"!==P)throw new i("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:P})}if("@id"===P){if(!a(N)){if(!w.isFrame)throw new i('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:N});if(o(N)){if(!s(N))throw new i('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:N})}else{if(!r(N))throw new i('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:N});if(!N.every((t=>a(t))))throw new i('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:N})}}y(m,"@id",b(N).map((e=>{if(a(e)){const n=C(t,e,{base:!0},w);return w.eventHandler&&(null===n?E(null===e?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:e}},options:w}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:e}},options:w}):p(n)||E({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:e,expandedId:n}},options:w})),n}return e})),{propertyIsArray:w.isFrame});continue}if("@type"===P){o(N)&&(N=Object.fromEntries(Object.entries(N).map((([t,e])=>[C(D,t,{vocab:!0}),b(e).map((t=>C(D,t,{base:!0,vocab:!0},{...w,typeExpansion:!0})))])))),x(N,w.isFrame),y(m,"@type",b(N).map((t=>{if(a(t)){const e=C(D,t,{base:!0,vocab:!0},{...w,typeExpansion:!0});return"@json"===e||p(e)||w.eventHandler&&E({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:t}},options:w}),e}return t})),{propertyIsArray:!!w.isFrame});continue}if("@included"===P&&f(t,1.1)){const n=b(await k.expand({activeCtx:t,activeProperty:e,element:N,options:w}));if(!n.every((t=>h(t))))throw new i("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:N});y(m,"@included",n,{propertyIsArray:!0});continue}if("@graph"===P&&!o(N)&&!r(N))throw new i('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:N});if("@value"===P){L=N,j&&f(t,1.1)?m["@value"]=N:y(m,"@value",N,{propertyIsArray:w.isFrame});continue}if("@language"===P){if(null===N)continue;if(!a(N)&&!w.isFrame)throw new i('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:N});N=b(N).map((t=>a(t)?t.toLowerCase():t));for(const t of N)a(t)&&!t.match(v)&&w.eventHandler&&E({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:t}},options:w});y(m,"@language",N,{propertyIsArray:w.isFrame});continue}if("@direction"===P){if(!a(N)&&!w.isFrame)throw new i('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:N});N=b(N);for(const t of N)if(a(t)&&"ltr"!==t&&"rtl"!==t)throw new i('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:N});y(m,"@direction",N,{propertyIsArray:w.isFrame});continue}if("@index"===P){if(!a(N))throw new i('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:N});y(m,"@index",N);continue}if("@reverse"===P){if(!o(N))throw new i('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:N});if(O=await k.expand({activeCtx:t,activeProperty:"@reverse",element:N,options:w}),"@reverse"in O)for(const t in O["@reverse"])y(m,t,O["@reverse"][t],{propertyIsArray:!0});let e=m["@reverse"]||null;for(const t in O){if("@reverse"===t)continue;null===e&&(e=m["@reverse"]={}),y(e,t,[],{propertyIsArray:!0});const n=O[t];for(let r=0;r<n.length;++r){const o=n[r];if(A(o)||l(o))throw new i('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:O});y(e,t,o,{propertyIsArray:!0})}}continue}if("@nest"===P){M.push(T);continue}let B=t;const F=I(t,T,"@context");g(F)||(B=await u({activeCtx:t,localCtx:F,propagate:!0,overrideProtected:!0,options:w}));const z=I(t,T,"@container")||[];if(z.includes("@language")&&o(N))O=R(B,N,I(B,T,"@direction"),w);else if(z.includes("@index")&&o(N)){const e=z.includes("@graph"),n=I(B,T,"@index")||"@index",i="@index"!==n&&C(t,n,{vocab:!0},w);O=await _({activeCtx:B,options:w,activeProperty:T,value:N,asGraph:e,indexKey:n,propertyIndex:i})}else if(z.includes("@id")&&o(N)){const t=z.includes("@graph");O=await _({activeCtx:B,options:w,activeProperty:T,value:N,asGraph:t,indexKey:"@id"})}else if(z.includes("@type")&&o(N))O=await _({activeCtx:B.revertToPreviousContext(),options:w,activeProperty:T,value:N,asGraph:!1,indexKey:"@type"});else{const i="@list"===P;if(i||"@set"===P){let t=e;i&&"@graph"===n&&(t=null),O=await k.expand({activeCtx:B,activeProperty:t,element:N,options:w,insideList:i})}else O="@json"===I(t,T,"@type")?{"@type":"@json","@value":N}:await k.expand({activeCtx:B,activeProperty:T,element:N,options:w,insideList:!1})}if(null!==O||"@value"===P){if("@list"!==P&&!l(O)&&z.includes("@list")&&(O={"@list":b(O)}),z.includes("@graph")&&!z.some((t=>"@id"===t||"@index"===t))){if(O=b(O),w.isFrame||(O=O.filter((t=>null!==S({value:t,count:Object.keys(t).length,options:w})))),0===O.length)continue;O=O.map((t=>({"@graph":b(t)})))}if(B.mappings.has(T)&&B.mappings.get(T).reverse){const t=m["@reverse"]=m["@reverse"]||{};O=b(O);for(let e=0;e<O.length;++e){const n=O[e];if(A(n)||l(n))throw new i('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:O});y(t,P,n,{propertyIsArray:!0})}}else y(m,P,O,{propertyIsArray:!0})}}if("@value"in m)if("@json"===m["@type"]&&f(t,1.1));else if((o(L)||r(L))&&!w.isFrame)throw new i('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:L});for(const s of M){const a=r(c[s])?c[s]:[c[s]];for(const r of a){if(!o(r)||Object.keys(r).some((e=>"@value"===C(t,e,{vocab:!0},w))))throw new i("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:r});await T({activeCtx:t,activeProperty:e,expandedActiveProperty:n,element:r,expandedParent:m,options:w,insideList:O,typeScopedContext:D,typeKey:N})}}}function O({activeCtx:t,activeProperty:e,value:n,options:i}){if(null==n)return null;const r=C(t,e,{vocab:!0},i);if("@id"===r)return C(t,n,{base:!0},i);if("@type"===r)return C(t,n,{vocab:!0,base:!0},{...i,typeExpansion:!0});const o=I(t,e,"@type");if(("@id"===o||"@graph"===r)&&a(n)){const r=C(t,n,{base:!0},i);return null===r&&n.match(m)&&i.eventHandler&&E({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:e}},options:i}),{"@id":r}}if("@vocab"===o&&a(n))return{"@id":C(t,n,{vocab:!0,base:!0},i)};if(d(r))return n;const s={};if(o&&!["@id","@vocab","@none"].includes(o))s["@type"]=o;else if(a(n)){const n=I(t,e,"@language");null!==n&&(s["@language"]=n);const i=I(t,e,"@direction");null!==i&&(s["@direction"]=i)}return["boolean","number","string"].includes(typeof n)||(n=n.toString()),s["@value"]=n,s}function R(t,e,n,o){const s=[],g=Object.keys(e).sort();for(const l of g){const g=C(t,l,{vocab:!0},o);let A=e[l];r(A)||(A=[A]);for(const t of A){if(null===t)continue;if(!a(t))throw new i("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:e});const r={"@value":t};"@none"!==g&&(l.match(v)||o.eventHandler&&E({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:l}},options:o}),r["@language"]=l.toLowerCase()),n&&(r["@direction"]=n),s.push(r)}}return s}async function _({activeCtx:t,options:e,activeProperty:n,value:o,asGraph:s,indexKey:a,propertyIndex:l}){const h=[],d=Object.keys(o).sort(),f="@type"===a;for(let p of d){if(f){const n=I(t,p,"@context");g(n)||(t=await u({activeCtx:t,localCtx:n,propagate:!1,options:e}))}let d,v=o[p];r(v)||(v=[v]),v=await k.expand({activeCtx:t,activeProperty:n,element:v,options:e,insideList:!1,insideIndex:!0}),d=l?"@none"===p?"@none":O({activeCtx:t,activeProperty:a,value:p,options:e}):C(t,p,{vocab:!0},e),"@id"===a?p=C(t,p,{base:!0},e):f&&(p=d);for(let t of v){if(s&&!c(t)&&(t={"@graph":[t]}),"@type"===a)"@none"===d||(t["@type"]?t["@type"]=[p].concat(t["@type"]):t["@type"]=[p]);else{if(A(t)&&!["@language","@type","@index"].includes(a))throw new i(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${a}".`,"jsonld.SyntaxError",{code:"invalid value object",value:t});l?"@none"!==d&&y(t,l,d,{propertyIsArray:!0,prependValue:!0}):"@none"===d||a in t||(t[a]=p)}h.push(t)}}return h}t.exports=k,k.expand=async({activeCtx:t,activeProperty:e=null,element:n,options:l={},insideList:A=!1,insideIndex:c=!1,typeScopedContext:h=null})=>{if(null==n)return null;if("@default"===e&&(l=Object.assign({},l,{isFrame:!1})),!r(n)&&!o(n))return A||null!==e&&"@graph"!==C(t,e,{vocab:!0},l)?O({activeCtx:t,activeProperty:e,value:n,options:l}):(l.eventHandler&&E({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:n}},options:l}),null);if(r(n)){let i=[];const o=I(t,e,"@container")||[];A=A||o.includes("@list");for(let o=0;o<n.length;++o){let s=await k.expand({activeCtx:t,activeProperty:e,element:n[o],options:l,insideIndex:c,typeScopedContext:h});A&&r(s)&&(s={"@list":s}),null!==s&&(r(s)?i=i.concat(s):i.push(s))}return i}const d=C(t,e,{vocab:!0},l),v=I(t,e,"@context");h=h||(t.previousContext?t:null);let m=Object.keys(n).sort(),y=!c;if(y&&h&&m.length<=2&&!m.includes("@context"))for(const e of m){const n=C(h,e,{vocab:!0},l);if("@value"===n){y=!1,t=h;break}if("@id"===n&&1===m.length){y=!1;break}}y&&(t=t.revertToPreviousContext()),g(v)||(t=await u({activeCtx:t,localCtx:v,propagate:!0,overrideProtected:!0,options:l})),"@context"in n&&(t=await u({activeCtx:t,localCtx:n["@context"],options:l})),h=t;let x=null;for(const e of m)if("@type"===C(t,e,{vocab:!0},l)){x=x||e;const i=n[e],r=Array.isArray(i)?i.length>1?i.slice().sort():i:[i];for(const e of r){const n=I(h,e,"@context");g(n)||(t=await u({activeCtx:t,localCtx:n,options:l,propagate:!1}))}}let R={};await T({activeCtx:t,activeProperty:e,expandedActiveProperty:d,element:n,expandedParent:R,options:l,insideList:A,typeKey:x,typeScopedContext:h}),m=Object.keys(R);let _=m.length;if("@value"in R){if("@type"in R&&("@language"in R||"@direction"in R))throw new i('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:R});let e=_-1;if("@type"in R&&(e-=1),"@index"in R&&(e-=1),"@language"in R&&(e-=1),"@direction"in R&&(e-=1),0!==e)throw new i('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:R});const n=null===R["@value"]?[]:b(R["@value"]),r=w(R,"@type");if(f(t,1.1)&&r.includes("@json")&&1===r.length);else if(0===n.length)l.eventHandler&&E({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:R}},options:l}),R=null;else{if(!n.every((t=>a(t)||s(t)))&&"@language"in R)throw new i("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:R});if(!r.every((t=>p(t)&&!(a(t)&&0===t.indexOf("_:"))||s(t))))throw new i('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:R})}}else if("@type"in R&&!r(R["@type"]))R["@type"]=[R["@type"]];else if("@set"in R||"@list"in R){if(_>1&&(2!==_||!("@index"in R)))throw new i('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:R});"@set"in R&&(R=R["@set"],m=Object.keys(R),_=m.length)}else 1===_&&"@language"in R&&(l.eventHandler&&E({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:R}},options:l}),R=null);return!o(R)||l.keepFreeFloatingNodes||A||null!==e&&"@graph"!==d&&!(I(t,e,"@container")||[]).includes("@graph")||(R=S({value:R,count:_,options:l})),R}},4128:(t,e,n)=>{var i=n(1800),r=/^\s+/;t.exports=function(t){return t?t.slice(0,i(t)+1).replace(r,""):t}},4134:t=>{"use strict";class e extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError("Expected input to be an Array, got "+typeof t);let e="";for(let n=0;n<t.length;n++)e+=`    ${t[n].stack}\n`;super(e),this.name="AggregateError",this.errors=t}}t.exports={AggregateError:e,ArrayIsArray:t=>Array.isArray(t),ArrayPrototypeIncludes:(t,e)=>t.includes(e),ArrayPrototypeIndexOf:(t,e)=>t.indexOf(e),ArrayPrototypeJoin:(t,e)=>t.join(e),ArrayPrototypeMap:(t,e)=>t.map(e),ArrayPrototypePop:(t,e)=>t.pop(e),ArrayPrototypePush:(t,e)=>t.push(e),ArrayPrototypeSlice:(t,e,n)=>t.slice(e,n),Error,FunctionPrototypeCall:(t,e,...n)=>t.call(e,...n),FunctionPrototypeSymbolHasInstance:(t,e)=>Function.prototype[Symbol.hasInstance].call(t,e),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(t,e)=>Object.defineProperties(t,e),ObjectDefineProperty:(t,e,n)=>Object.defineProperty(t,e,n),ObjectGetOwnPropertyDescriptor:(t,e)=>Object.getOwnPropertyDescriptor(t,e),ObjectKeys:t=>Object.keys(t),ObjectSetPrototypeOf:(t,e)=>Object.setPrototypeOf(t,e),Promise,PromisePrototypeCatch:(t,e)=>t.catch(e),PromisePrototypeThen:(t,e,n)=>t.then(e,n),PromiseReject:t=>Promise.reject(t),PromiseResolve:t=>Promise.resolve(t),ReflectApply:Reflect.apply,RegExpPrototypeTest:(t,e)=>t.test(e),SafeSet:Set,String,StringPrototypeSlice:(t,e,n)=>t.slice(e,n),StringPrototypeToLowerCase:t=>t.toLowerCase(),StringPrototypeToUpperCase:t=>t.toUpperCase(),StringPrototypeTrim:t=>t.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(t,e,n)=>t.set(e,n),Boolean,Uint8Array}},4147:(t,e,n)=>{"use strict";const{SymbolDispose:i}=n(4134),{AbortError:r,codes:o}=n(6371),{isNodeStream:s,isWebStream:a,kControllerErrorFunction:g}=n(6115),l=n(6238),{ERR_INVALID_ARG_TYPE:A}=o;let c;t.exports.addAbortSignal=function(e,n){if((t=>{if("object"!=typeof t||!("aborted"in t))throw new A("signal","AbortSignal",t)})(e),!s(n)&&!a(n))throw new A("stream",["ReadableStream","WritableStream","Stream"],n);return t.exports.addAbortSignalNoValidate(e,n)},t.exports.addAbortSignalNoValidate=function(t,e){if("object"!=typeof t||!("aborted"in t))return e;const o=s(e)?()=>{e.destroy(new r(void 0,{cause:t.reason}))}:()=>{e[g](new r(void 0,{cause:t.reason}))};if(t.aborted)o();else{c=c||n(7760).addAbortListener;const r=c(t,o);l(e,r[i])}return e}},4259:(t,e,n)=>{"use strict";const{ArrayIsArray:i,ObjectSetPrototypeOf:r}=n(4134),{EventEmitter:o}=n(7007);function s(t){o.call(this,t)}function a(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?i(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}r(s.prototype,o.prototype),r(s,o),s.prototype.pipe=function(t,e){const n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function r(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",r),t._isStdio||e&&!1===e.end||(n.on("end",g),n.on("close",l));let s=!1;function g(){s||(s=!0,t.end())}function l(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function A(t){c(),0===o.listenerCount(this,"error")&&this.emit("error",t)}function c(){n.removeListener("data",i),t.removeListener("drain",r),n.removeListener("end",g),n.removeListener("close",l),n.removeListener("error",A),t.removeListener("error",A),n.removeListener("end",c),n.removeListener("close",c),t.removeListener("close",c)}return a(n,"error",A),a(t,"error",A),n.on("end",c),n.on("close",c),t.on("close",c),t.emit("pipe",n),t},t.exports={Stream:s,prependListener:a}},4394:(t,e,n)=>{var i=n(2552),r=n(346);t.exports=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==i(t)}},4405:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextTree=void 0;class n{constructor(){this.subTrees={}}getContext(t){if(t.length>0){const[e,...n]=t,i=this.subTrees[e];if(i){const t=i.getContext(n);if(t)return t.then((({context:t,depth:e})=>({context:t,depth:e+1})))}}return this.context?this.context.then((t=>({context:t,depth:0}))):null}setContext(t,e){if(0===t.length)this.context=e;else{const[i,...r]=t;let o=this.subTrees[i];o||(o=this.subTrees[i]=new n),o.setContext(r,e)}}removeContext(t){this.setContext(t,null)}}e.ContextTree=n},4797:(t,e)=>{"use strict";function n(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR="-íŸ¿î€€-ï¿½ð€€-ô¿¿",e.RESTRICTED_CHAR="-\b\v\f--Â„Â†-ÂŸ",e.S=" \t\r\n",e.NAME_START_CHAR=":A-Z_a-zÃ€-Ã–Ã˜-Ã¶Ã¸-Ë¿Í°-Í½Í¿-á¿¿â€Œâ€â°-â†â°€-â¿¯ã€-íŸ¿ï¤€-ï·ï·°-ï¿½ð€€-ó¯¿¿",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9Â·Ì€-Í¯â€¿-â€",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.RESTRICTED_CHAR_RE=new RegExp("^["+e.RESTRICTED_CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u"),e.S_LIST=[32,10,13,9],e.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},e.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},e.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},e.isS=function(t){return 32===t||10===t||13===t||9===t},e.isNameStartChar=n,e.isNameChar=function(t){return n(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}},4806:(t,e)=>{"use strict";function n(t){const e=[];let n=0;for(;n<t.length;)switch(t[n]){case"/":if("."===t[n+1])if("."===t[n+2]){if(!r(t[n+3])){e.push([]),n++;break}e.pop(),t[n+3]||e.push([]),n+=3}else{if(!r(t[n+2])){e.push([]),n++;break}t[n+2]||e.push([]),n+=2}else e.push([]),n++;break;case"#":case"?":e.length||e.push([]),e[e.length-1].push(t.substr(n)),n=t.length;break;default:e.length||e.push([]),e[e.length-1].push(t[n]),n++}return"/"+e.map((t=>t.join(""))).join("/")}function i(t,e){let i=e+1;e>=0?"/"===t[e+1]&&"/"===t[e+2]&&(i=e+3):"/"===t[0]&&"/"===t[1]&&(i=2);const r=t.indexOf("/",i);return r<0?t:t.substr(0,r)+n(t.substr(r))}function r(t){return!t||"#"===t||"?"===t||"/"===t}Object.defineProperty(e,"__esModule",{value:!0}),e.removeDotSegmentsOfPath=e.removeDotSegments=e.resolve=void 0,e.resolve=function(t,e){const r=(e=e||"").indexOf("#");if(r>0&&(e=e.substr(0,r)),!t.length){if(e.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${e}' for value '${t}'`);return e}if(t.startsWith("?")){const n=e.indexOf("?");return n>0&&(e=e.substr(0,n)),e+t}if(t.startsWith("#"))return e+t;if(!e.length){const e=t.indexOf(":");if(e<0)throw new Error(`Found invalid relative IRI '${t}' for a missing baseIRI`);return i(t,e)}const o=t.indexOf(":");if(o>=0)return i(t,o);const s=e.indexOf(":");if(s<0)throw new Error(`Found invalid baseIRI '${e}' for value '${t}'`);const a=e.substr(0,s+1);if(0===t.indexOf("//"))return a+i(t,o);let g;if(e.indexOf("//",s)===s+1){if(g=e.indexOf("/",s+3),g<0)return e.length>s+3?e+"/"+i(t,o):a+i(t,o)}else if(g=e.indexOf("/",s+1),g<0)return a+i(t,o);if(0===t.indexOf("/"))return e.substr(0,g)+n(t);let l=e.substr(g);const A=l.lastIndexOf("/");return A>=0&&A<l.length-1&&(l=l.substr(0,A+1),"."===t[0]&&"."!==t[1]&&"/"!==t[1]&&t[2]&&(t=t.substr(1))),t=n(t=l+t),e.substr(0,g)+t},e.removeDotSegments=n,e.removeDotSegmentsOfPath=i},4840:(t,e,n)=>{var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=i},4841:(t,e,n)=>{const i=n(8023),r=n(701),o=n(9263),s=n(7034),a=o.IdentifierIssuer,g=n(2207),l=n(1235),A=n(8229),{expand:c}=n(4019),{flatten:h}=n(5229),{fromRDF:C}=n(3947),{toRDF:I}=n(9180),{frameMergedOrDefault:d,cleanupNull:u}=n(7946),{isArray:f,isObject:p,isString:v}=n(5001),{isSubjectReference:m}=n(3978),{expandIri:y,getInitialContext:b,process:w,processingMode:x}=n(1972),{compact:E,compactIri:k}=n(1058),{createNodeMap:S,createMergedNodeMap:T,mergeNodeMaps:O}=n(9233),{logEventHandler:R,logWarningEventHandler:_,safeEventHandler:N,setDefaultEventHandler:D,setupEventHandler:P,strictEventHandler:M,unhandledEventHandler:L}=n(2246),j=function(t){const e={},j=new l({max:100});function B(e,{documentLoader:n=t.documentLoader,...i}){if(e&&"compactionMap"in e)throw new g('"compactionMap" not supported.',"jsonld.OptionsError");if(e&&"expansionMap"in e)throw new g('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:n},i,e,{eventHandler:P({options:e})})}return t.compact=async function(e,n,i){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===n)throw new g("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===e)return null;let r;(i=B(i,{base:v(e)?e:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new a("_:b"),contextResolver:new s({sharedCache:j})})).link&&(i.skipExpansion=!0),i.compactToRelative||delete i.base,r=i.skipExpansion?e:await t.expand(e,i);const l=await t.processContext(b(i),n,i);let A=await E({activeCtx:l,element:r,options:i});i.compactArrays&&!i.graph&&f(A)?1===A.length?A=A[0]:0===A.length&&(A={}):i.graph&&p(A)&&(A=[A]),p(n)&&"@context"in n&&(n=n["@context"]),n=o.clone(n),f(n)||(n=[n]);const c=n;n=[];for(let t=0;t<c.length;++t)(!p(c[t])||Object.keys(c[t]).length>0)&&n.push(c[t]);const h=n.length>0;if(1===n.length&&(n=n[0]),f(A)){const t=k({activeCtx:l,iri:"@graph",relativeTo:{vocab:!0}}),e=A;A={},h&&(A["@context"]=n),A[t]=e}else if(p(A)&&h){const t=A;A={"@context":n};for(const e in t)A[e]=t[e]}return A},t.expand=async function(e,n){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");const i={},r=[];if("expandContext"in(n=B(n,{keepFreeFloatingNodes:!1,contextResolver:new s({sharedCache:j})}))){const t=o.clone(n.expandContext);p(t)&&"@context"in t?i.expandContext=t:i.expandContext={"@context":t},r.push(i.expandContext)}let a;if(v(e)){const o=await t.get(e,n);a=o.documentUrl,i.input=o.document,o.contextUrl&&(i.remoteContext={"@context":o.contextUrl},r.push(i.remoteContext))}else i.input=o.clone(e);"base"in n||(n.base=a||"");let g=b(n);for(const t of r)g=await w({activeCtx:g,localCtx:t,options:n});let l=await c({activeCtx:g,element:i.input,options:n});return p(l)&&"@graph"in l&&1===Object.keys(l).length?l=l["@graph"]:null===l&&(l=[]),f(l)||(l=[l]),l},t.flatten=async function(e,n,i){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");n="function"==typeof n?null:n||null,i=B(i,{base:v(e)?e:"",contextResolver:new s({sharedCache:j})});const r=await t.expand(e,i),o=h(r);return null===n?o:(i.graph=!0,i.skipExpansion=!0,await t.compact(o,n,i))},t.frame=async function(e,n,i){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(i=B(i,{base:v(e)?e:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new s({sharedCache:j})}),v(n)){const e=await t.get(n,i);if(n=e.document,e.contextUrl){let t=n["@context"];t?f(t)?t.push(e.contextUrl):t=[t,e.contextUrl]:t=e.contextUrl,n["@context"]=t}}const r=n&&n["@context"]||{},o=await t.processContext(b(i),r,i);i.hasOwnProperty("omitGraph")||(i.omitGraph=x(o,1.1)),i.hasOwnProperty("pruneBlankNodeIdentifiers")||(i.pruneBlankNodeIdentifiers=x(o,1.1));const a=await t.expand(e,i),g={...i};g.isFrame=!0,g.keepFreeFloatingNodes=!0;const l=await t.expand(n,g),A=Object.keys(n).map((t=>y(o,t,{vocab:!0})));g.merged=!A.includes("@graph"),g.is11=x(o,1.1);const c=d(a,l,g);g.graph=!i.omitGraph,g.skipExpansion=!0,g.link={},g.framing=!0;let h=await t.compact(c,r,g);return g.link={},h=u(h,g),h},t.link=async function(e,n,i){const r={};return n&&(r["@context"]=n),r["@embed"]="@link",t.frame(e,r,i)},t.normalize=t.canonize=async function(e,n){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(n=B(n,{base:v(e)?e:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new s({sharedCache:j})}))){if("application/n-quads"!==n.inputFormat&&"application/nquads"!==n.inputFormat)throw new g("Unknown canonicalization input format.","jsonld.CanonizeError");const t=A.parse(e);return i.canonize(t,n)}const r={...n};delete r.format,r.produceGeneralizedRdf=!1;const o=await t.toRDF(e,r);return i.canonize(o,n)},t.fromRDF=async function(t,n){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");n=B(n,{format:v(t)?"application/n-quads":void 0});const{format:i}=n;let{rdfParser:r}=n;if(i){if(r=r||e[i],!r)throw new g("Unknown input format.","jsonld.UnknownFormat",{format:i})}else r=()=>t;const o=await r(t);return C(o,n)},t.toRDF=async function(e,n){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let i;i=(n=B(n,{base:v(e)?e:"",skipExpansion:!1,contextResolver:new s({sharedCache:j})})).skipExpansion?e:await t.expand(e,n);const r=I(i,n);if(n.format){if("application/n-quads"===n.format||"application/nquads"===n.format)return A.serialize(r);throw new g("Unknown output format.","jsonld.UnknownFormat",{format:n.format})}return r},t.createNodeMap=async function(e,n){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");n=B(n,{base:v(e)?e:"",contextResolver:new s({sharedCache:j})});const i=await t.expand(e,n);return T(i,n)},t.merge=async function(e,n,i){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!f(e))throw new TypeError('Could not merge, "docs" must be an array.');n="function"==typeof n?null:n||null,i=B(i,{contextResolver:new s({sharedCache:j})});const r=await Promise.all(e.map((e=>{const n={...i};return t.expand(e,n)})));let g=!0;"mergeNodes"in i&&(g=i.mergeNodes);const l=i.issuer||new a("_:b"),A={"@default":{}};for(let t=0;t<r.length;++t){const e=o.relabelBlankNodes(r[t],{issuer:new a("_:b"+t+"-")}),n=g||0===t?A:{"@default":{}};if(S(e,n,"@default",l),n!==A)for(const t in n){const e=n[t];if(!(t in A)){A[t]=e;continue}const i=A[t];for(const t in e)t in i||(i[t]=e[t])}}const c=O(A),h=[],C=Object.keys(c).sort();for(let t=0;t<C.length;++t){const e=c[C[t]];m(e)||h.push(e)}return null===n?h:(i.graph=!0,i.skipExpansion=!0,await t.compact(h,n,i))},Object.defineProperty(t,"documentLoader",{get:()=>t._documentLoader,set:e=>t._documentLoader=e}),t.documentLoader=async t=>{throw new g("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:t})},t.get=async function(e,n){let i;i="function"==typeof n.documentLoader?n.documentLoader:t.documentLoader;const r=await i(e);try{if(!r.document)throw new g("No remote document found at the given URL.","jsonld.NullRemoteDocument");v(r.document)&&(r.document=JSON.parse(r.document))}catch(t){throw new g("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:t,remoteDoc:r})}return r},t.processContext=async function(t,e,n){return n=B(n,{base:"",contextResolver:new s({sharedCache:j})}),null===e?b(n):(e=o.clone(e),p(e)&&"@context"in e||(e={"@context":e}),w({activeCtx:t,localCtx:e,options:n}))},t.getContextValue=n(1972).getContextValue,t.documentLoaders={},t.useDocumentLoader=function(e){if(!(e in t.documentLoaders))throw new g('Unknown document loader type: "'+e+'"',"jsonld.UnknownDocumentLoader",{type:e});t.documentLoader=t.documentLoaders[e].apply(t,Array.prototype.slice.call(arguments,1))},t.registerRDFParser=function(t,n){e[t]=n},t.unregisterRDFParser=function(t){delete e[t]},t.registerRDFParser("application/n-quads",A.parse),t.registerRDFParser("application/nquads",A.parse),t.url=n(470),t.logEventHandler=R,t.logWarningEventHandler=_,t.safeEventHandler=N,t.setDefaultEventHandler=D,t.strictEventHandler=M,t.unhandledEventHandler=L,t.util=o,Object.assign(t,o),t.promises=t,t.RequestQueue=n(3743),t.JsonLdProcessor=n(5445)(t),r.setupGlobals(t),r.setupDocumentLoaders(t),t},B=function(){return j((function(){return B()}))};j(B),t.exports=B},4860:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerContainer=void 0;const i=n(7986),r=n(1977),o=n(3847),s=n(7229),a=n(888);class g{static isSimpleGraphContainer(t){return"@graph"in t&&("@set"in t&&2===Object.keys(t).length||1===Object.keys(t).length)}static isComplexGraphContainer(t){return"@graph"in t&&("@set"in t&&Object.keys(t).length>2||!("@set"in t)&&Object.keys(t).length>1)}static getContainerGraphIndex(t,e,n){let i=g.isSimpleGraphContainer(t),r="";for(let t=e;t<n.length;t++)i&&"number"!=typeof n[t]||(r+=":"+n[t]),i||"number"==typeof n[t]||(i=!0);return r}static async getContainerHandler(t,e,n){const i={containers:{"@set":!0},depth:n,fallback:!0};let r=!1;const o=await t.getContext(e,2);for(let t=n-1;t>=0;t--)if("number"!=typeof e[t]){const n=a.Util.getContextValue(o,"@container",e[t],!1);if(n&&g.isSimpleGraphContainer(n))return{containers:n,depth:t+1,fallback:!1};const s=a.Util.getContextValue(o,"@container",e[t-1],!1);if(s){const e="@graph"in s;for(const n in g.CONTAINER_HANDLERS)if(s[n])return e?g.CONTAINER_HANDLERS[n].canCombineWithGraph()?{containers:s,depth:t,fallback:!1}:i:r?i:{containers:s,depth:t,fallback:!1};return i}if(r)return i;r=!0}return i}static async isBufferableContainerHandler(t,e,n){const i=await g.getContainerHandler(t,e,n);return!i.fallback&&!("@graph"in i.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,n,i,r){return!!await this.test(t,e,null,n,i)}async test(t,e,n,i,r){const o=a.Util.getContextValueContainer(await t.getContext(i,2),i[r-1]);for(const t in g.CONTAINER_HANDLERS)if(o[t])return{containers:o,handler:g.CONTAINER_HANDLERS[t]};return null}async handle(t,e,n,i,r,o,s){return s.handler.handle(s.containers,t,e,i,r,o)}}e.EntryHandlerContainer=g,g.CONTAINER_HANDLERS={"@id":new i.ContainerHandlerIdentifier,"@index":new r.ContainerHandlerIndex,"@language":new o.ContainerHandlerLanguage,"@type":new s.ContainerHandlerType}},4910:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordNest=void 0;const i=n(2395),r=n(1548);class o extends r.EntryHandlerKeyword{constructor(){super("@nest")}async handle(t,e,n,r,o,s){"object"!=typeof o&&t.emitError(new i.ErrorCoded(`Found invalid @nest entry for '${n}': '${o}'`,i.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await e.unaliasKeywords(o,r,s,await t.getContext(r))&&t.emitError(new i.ErrorCoded(`Found an invalid @value node for '${n}'`,i.ERROR_CODES.INVALID_NEST_VALUE)),t.emittedStack[s]=!1}}e.EntryHandlerKeywordNest=o},4931:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;class n{static isCompactIri(t){return t.indexOf(":")>0&&!(t&&"#"===t[0])}static getPrefix(t,e){if(t&&"#"===t[0])return null;const n=t.indexOf(":");if(n>=0){if(t.length>n+1&&"/"===t.charAt(n+1)&&"/"===t.charAt(n+2))return null;const i=t.substr(0,n);if("_"===i)return null;if(e[i])return i}return null}static getContextValueId(t){if(null===t||"string"==typeof t)return t;return t["@id"]||null}static isSimpleTermDefinitionPrefix(t,e){return!n.isPotentialKeyword(t)&&(e.allowPrefixNonGenDelims||"string"==typeof t&&("_"===t[0]||n.isPrefixIriEndingWithGenDelim(t)))}static isPotentialKeyword(t){return"string"==typeof t&&n.KEYWORD_REGEX.test(t)}static isPrefixIriEndingWithGenDelim(t){return n.ENDS_WITH_GEN_DELIM.test(t)}static isPrefixValue(t){return t&&("string"==typeof t||t&&"object"==typeof t)}static isValidIri(t){return Boolean(t&&n.IRI_REGEX.test(t))}static isValidIriWeak(t){return!!t&&":"!==t[0]&&n.IRI_REGEX_WEAK.test(t)}static isValidKeyword(t){return n.VALID_KEYWORDS[t]}static isTermProtected(t,e){const n=t[e];return!("string"==typeof n)&&n&&n["@protected"]}static hasProtectedTerms(t){for(const e of Object.keys(t))if(n.isTermProtected(t,e))return!0;return!1}static isReservedInternalKeyword(t){return t.startsWith("@__")}static deepEqual(t,e){const n=Object.keys(t),i=Object.keys(e);return n.length===i.length&&n.every((n=>{const i=t[n],r=e[n];return i===r||null!==i&&null!==r&&"object"==typeof i&&"object"==typeof r&&this.deepEqual(i,r)}))}}n.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,n.IRI_REGEX_WEAK=/(?::[^:])|\//,n.KEYWORD_REGEX=/^@[a-z]+$/i,n.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,n.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,n.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,n.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},n.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],n.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],n.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],n.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],n.CONTAINERS_1_0=["@list","@set","@index"],e.Util=n},4991:(t,e,n)=>{"use strict";n(2791),e.setImmediate=setImmediate,e.crypto=globalThis.crypto;const i=[];for(let t=0;t<=255;++t)i.push(t.toString(16).padStart(2,"0"));e.bufferToHex=function(t){let e="";const n=new Uint8Array(t);for(let t=0;t<n.length;++t)e+=i[n[t]];return e}},5001:t=>{"use strict";const e={};t.exports=e,e.isArray=Array.isArray,e.isBoolean=t=>"boolean"==typeof t||"[object Boolean]"===Object.prototype.toString.call(t),e.isDouble=t=>e.isNumber(t)&&(-1!==String(t).indexOf(".")||Math.abs(t)>=1e21),e.isEmptyObject=t=>e.isObject(t)&&0===Object.keys(t).length,e.isNumber=t=>"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t),e.isNumeric=t=>!isNaN(parseFloat(t))&&isFinite(t),e.isObject=t=>"[object Object]"===Object.prototype.toString.call(t),e.isString=t=>"string"==typeof t||"[object String]"===Object.prototype.toString.call(t),e.isUndefined=t=>void 0===t},5056:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},5072:t=>{"use strict";var e=[];function n(t){for(var n=-1,i=0;i<e.length;i++)if(e[i].identifier===t){n=i;break}return n}function i(t,i){for(var o={},s=[],a=0;a<t.length;a++){var g=t[a],l=i.base?g[0]+i.base:g[0],A=o[l]||0,c="".concat(l," ").concat(A);o[l]=A+1;var h=n(c),C={css:g[1],media:g[2],sourceMap:g[3],supports:g[4],layer:g[5]};if(-1!==h)e[h].references++,e[h].updater(C);else{var I=r(C,i);i.byIndex=a,e.splice(a,0,{identifier:c,updater:I,references:1})}s.push(c)}return s}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var o=i(t=t||[],r=r||{});return function(t){t=t||[];for(var s=0;s<o.length;s++){var a=n(o[s]);e[a].references--}for(var g=i(t,r),l=0;l<o.length;l++){var A=n(o[l]);0===e[A].references&&(e[A].updater(),e.splice(A,1))}o=g}}},5086:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},5094:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_CODES=e.ErrorCoded=void 0;class n extends Error{constructor(t,e){super(t),this.code=e}}var i;e.ErrorCoded=n,(i=e.ERROR_CODES||(e.ERROR_CODES={})).COLLIDING_KEYWORDS="colliding keywords",i.CONFLICTING_INDEXES="conflicting indexes",i.CYCLIC_IRI_MAPPING="cyclic IRI mapping",i.INVALID_ID_VALUE="invalid @id value",i.INVALID_INDEX_VALUE="invalid @index value",i.INVALID_NEST_VALUE="invalid @nest value",i.INVALID_PREFIX_VALUE="invalid @prefix value",i.INVALID_PROPAGATE_VALUE="invalid @propagate value",i.INVALID_REVERSE_VALUE="invalid @reverse value",i.INVALID_IMPORT_VALUE="invalid @import value",i.INVALID_VERSION_VALUE="invalid @version value",i.INVALID_BASE_IRI="invalid base IRI",i.INVALID_CONTAINER_MAPPING="invalid container mapping",i.INVALID_CONTEXT_ENTRY="invalid context entry",i.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",i.INVALID_DEFAULT_LANGUAGE="invalid default language",i.INVALID_INCLUDED_VALUE="invalid @included value",i.INVALID_IRI_MAPPING="invalid IRI mapping",i.INVALID_JSON_LITERAL="invalid JSON literal",i.INVALID_KEYWORD_ALIAS="invalid keyword alias",i.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",i.INVALID_LANGUAGE_MAPPING="invalid language mapping",i.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",i.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",i.INVALID_LOCAL_CONTEXT="invalid local context",i.INVALID_REMOTE_CONTEXT="invalid remote context",i.INVALID_REVERSE_PROPERTY="invalid reverse property",i.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",i.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",i.INVALID_SCOPED_CONTEXT="invalid scoped context",i.INVALID_SCRIPT_ELEMENT="invalid script element",i.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",i.INVALID_TERM_DEFINITION="invalid term definition",i.INVALID_TYPE_MAPPING="invalid type mapping",i.INVALID_TYPE_VALUE="invalid type value",i.INVALID_TYPED_VALUE="invalid typed value",i.INVALID_VALUE_OBJECT="invalid value object",i.INVALID_VALUE_OBJECT_VALUE="invalid value object value",i.INVALID_VOCAB_MAPPING="invalid vocab mapping",i.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",i.KEYWORD_REDEFINITION="keyword redefinition",i.LOADING_DOCUMENT_FAILED="loading document failed",i.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",i.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",i.PROCESSING_MODE_CONFLICT="processing mode conflict",i.PROTECTED_TERM_REDEFINITION="protected term redefinition",i.CONTEXT_OVERFLOW="context overflow",i.INVALID_BASE_DIRECTION="invalid base direction",i.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",i.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",i.INVALID_EMBEDDED_NODE="invalid embedded node",i.INVALID_ANNOTATION="invalid annotation"},5181:t=>{"use strict";const e="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",n="http://www.w3.org/2001/XMLSchema#string",i="NamedNode",r="BlankNode",o="Literal",s="DefaultGraph",a={};(()=>{const t="(?:<([^:]+:[^>]*)>)",e="A-Za-zÃ€-Ã–Ã˜-Ã¶Ã¸-Ë¿Í°-Í½Í¿-á¿¿â€Œ-â€â°-â†â°€-â¿¯ã€-íŸ¿ï¤€-ï·ï·°-ï¿½_",n=e+"0-9-Â·Ì€-Í¯â€¿-â€",i="(_:(?:["+e+"0-9])(?:(?:["+n+".])*(?:["+n+"]))?)",r="[ \\t]+",o="[ \\t]*",s="(?:"+t+"|"+i+")"+r,g=t+r,l="(?:"+t+"|"+i+'|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^'+t+")|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))"+o,A="(?:\\.|(?:(?:"+t+"|"+i+")"+o+"\\.))";a.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,a.empty=new RegExp("^"+o+"$"),a.quad=new RegExp("^"+o+s+g+l+A+o+"$")})(),t.exports=class t{static parse(t){const g=[],A={},c=t.split(a.eoln);let h=0;for(const t of c){if(h++,a.empty.test(t))continue;const c=t.match(a.quad);if(null===c)throw new Error("N-Quads parse error on line "+h+".");const d={subject:null,predicate:null,object:null,graph:null};if(void 0!==c[1]?d.subject={termType:i,value:c[1]}:d.subject={termType:r,value:c[2]},d.predicate={termType:i,value:c[3]},void 0!==c[4]?d.object={termType:i,value:c[4]}:void 0!==c[5]?d.object={termType:r,value:c[5]}:(d.object={termType:o,value:void 0,datatype:{termType:i}},void 0!==c[7]?d.object.datatype.value=c[7]:void 0!==c[8]?(d.object.datatype.value=e,d.object.language=c[8]):d.object.datatype.value=n,d.object.value=c[6].replace(l,(function(t,e,n,i){if(e)switch(e){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(n)return String.fromCharCode(parseInt(n,16));if(i)throw new Error("Unsupported U escape")}))),void 0!==c[9]?d.graph={termType:i,value:c[9]}:void 0!==c[10]?d.graph={termType:r,value:c[10]}:d.graph={termType:s,value:""},d.graph.value in A){let t=!0;const e=A[d.graph.value];for(const n of e)if(I=d,(C=n).subject.termType===I.subject.termType&&C.object.termType===I.object.termType&&C.subject.value===I.subject.value&&C.predicate.value===I.predicate.value&&C.object.value===I.object.value&&(C.object.termType!==o||C.object.datatype.termType===I.object.datatype.termType&&C.object.language===I.object.language&&C.object.datatype.value===I.object.datatype.value)){t=!1;break}t&&(e.push(d),g.push(d))}else A[d.graph.value]=[d],g.push(d)}var C,I;return g}static serialize(e){Array.isArray(e)||(e=t.legacyDatasetToQuads(e));const n=[];for(const i of e)n.push(t.serializeQuad(i));return n.sort().join("")}static serializeQuadComponents(t,o,s,a){let l="";return t.termType===i?l+=`<${t.value}>`:l+=`${t.value}`,l+=` <${o.value}> `,s.termType===i?l+=`<${s.value}>`:s.termType===r?l+=s.value:(l+=`"${function(t){return t.replace(g,(function(t){switch(t){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))}(s.value)}"`,s.datatype.value===e?s.language&&(l+=`@${s.language}`):s.datatype.value!==n&&(l+=`^^<${s.datatype.value}>`)),a.termType===i?l+=` <${a.value}>`:a.termType===r&&(l+=` ${a.value}`),l+=" .\n",l}static serializeQuad(e){return t.serializeQuadComponents(e.subject,e.predicate,e.object,e.graph)}static legacyDatasetToQuads(t){const a=[],g={"blank node":r,IRI:i,literal:o};for(const l in t)t[l].forEach((t=>{const A={};for(const r in t){const s=t[r],a={termType:g[s.type],value:s.value};a.termType===o&&(a.datatype={termType:i},"datatype"in s&&(a.datatype.value=s.datatype),"language"in s?("datatype"in s||(a.datatype.value=e),a.language=s.language):"datatype"in s||(a.datatype.value=n)),A[r]=a}A.graph="@default"===l?{termType:s,value:""}:{termType:l.startsWith("_:")?r:i,value:l},a.push(A)}));return a}};const g=/["\\\n\r]/g,l=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},5201:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SaxesParser=e.EVENTS=void 0;const i=n(1487),r=n(4797),o=n(446);var s=i.isS,a=i.isChar,g=i.isNameStartChar,l=i.isNameChar,A=i.S_LIST,c=i.NAME_RE,h=r.isChar,C=o.isNCNameStartChar,I=o.isNCNameChar,d=o.NC_NAME_RE;const u="http://www.w3.org/XML/1998/namespace",f="http://www.w3.org/2000/xmlns/",p={__proto__:null,xml:u,xmlns:f},v={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},m=-1,y=-2,b=13,w=33,x=10,E=60,k=61,S=62,T=63,O=93,R=t=>34===t||39===t,_=[34,39],N=[..._,91,S],D=[..._,E,O],P=[k,T,...A],M=[...A,S,38,E];function L(t,e,n){switch(e){case"xml":n!==u&&t.fail(`xml prefix must be bound to ${u}.`);break;case"xmlns":n!==f&&t.fail(`xmlns prefix must be bound to ${f}.`)}switch(n){case f:t.fail(""===e?`the default namespace may not be set to ${n}.`:`may not assign a prefix (even "xmlns") to the URI ${f}.`);break;case u:switch(e){case"xml":break;case"":t.fail(`the default namespace may not be set to ${n}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const j=t=>d.test(t),B=t=>c.test(t);e.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const F={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};e.SaxesParser=class{get closed(){return this._closed}constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const e=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,e){this.nameStartCheck=C,this.nameCheck=I,this.isName=j,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},p);const t=this.opt.additionalNamespaces;null!=t&&(function(t,e){for(const n of Object.keys(e))L(t,n,e[n])}(this,t),Object.assign(this.ns,t))}else this.nameStartCheck=g,this.nameCheck=l,this.isName=B,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:e}=this;this.state=e?b:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=e,this.xmlDeclPossible=!e,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:n}=this.opt;if(void 0===n){if(!0===this.opt.forceXMLVersion)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");n="1.0"}this.setXMLVersion(n),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(v),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,e){this[F[t]]=e}off(t){this[F[t]]=void 0}makeError(t){var e;let n=null!==(e=this.fileName)&&void 0!==e?e:"";return this.trackPosition&&(n.length>0&&(n+=":"),n+=`${this.line}:${this.column}`),n.length>0&&(n+=": "),new Error(n+t)}fail(t){const e=this.makeError(t),n=this.errorHandler;if(void 0===n)throw e;return n(e),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let e=!1;null===t?(e=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let n=t.length;const i=t.charCodeAt(n-1);!e&&(13===i||i>=55296&&i<=56319)&&(this.carriedFromPrevious=t[n-1],n--,t=t.slice(0,n));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<n;)r[this.state].call(this);return this.chunkPosition+=n,e?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:e}=this;if(this.prevI=e,this.i=e+1,e>=t.length)return m;const n=t.charCodeAt(e);if(this.column++,n<55296){if(n>=32||9===n)return n;switch(n){case x:return this.line++,this.column=0,this.positionAtNewLine=this.position,x;case 13:return t.charCodeAt(e+1)===x&&(this.i=e+2),this.line++,this.column=0,this.positionAtNewLine=this.position,y;default:return this.fail("disallowed character."),n}}if(n>56319)return n>=57344&&n<=65533||this.fail("disallowed character."),n;const i=65536+1024*(n-55296)+(t.charCodeAt(e+1)-56320);return this.i=e+2,i>1114111&&this.fail("disallowed character."),i}getCode11(){const{chunk:t,i:e}=this;if(this.prevI=e,this.i=e+1,e>=t.length)return m;const n=t.charCodeAt(e);if(this.column++,n<55296){if(n>31&&n<127||n>159&&8232!==n||9===n)return n;switch(n){case x:return this.line++,this.column=0,this.positionAtNewLine=this.position,x;case 13:{const n=t.charCodeAt(e+1);n!==x&&133!==n||(this.i=e+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,y;default:return this.fail("disallowed character."),n}}if(n>56319)return n>=57344&&n<=65533||this.fail("disallowed character."),n;const i=65536+1024*(n-55296)+(t.charCodeAt(e+1)-56320);return this.i=e+2,i>1114111&&this.fail("disallowed character."),i}getCodeNorm(){const t=this.getCode();return t===y?x:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:e}=this;const{chunk:n}=this;for(;;){const i=this.getCode(),r=i===y,o=r?x:i;if(o===m||t.includes(o))return this.text+=n.slice(e,this.prevI),o;r&&(this.text+=`${n.slice(e,this.prevI)}\n`,e=this.i)}}captureToChar(t){let{i:e}=this;const{chunk:n}=this;for(;;){let i=this.getCode();switch(i){case y:this.text+=`${n.slice(e,this.prevI)}\n`,e=this.i,i=x;break;case m:return this.text+=n.slice(e),!1}if(i===t)return this.text+=n.slice(e,this.prevI),!0}}captureNameChars(){const{chunk:t,i:e}=this;for(;;){const n=this.getCode();if(n===m)return this.name+=t.slice(e),m;if(!l(n))return this.name+=t.slice(e,this.prevI),n===y?x:n}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===m||!s(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=a,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const t=this.i,e=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),e){case E:if(this.state=15,0!==this.text.length)throw new Error("no-empty text at start");break;case m:break;default:this.unget(),this.state=b,this.xmlDeclPossible=!1}}sDoctype(){var t;const e=this.captureTo(N);switch(e){case S:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=b,this.doctype=!0;break;case m:break;default:this.text+=String.fromCodePoint(e),91===e?this.state=4:R(e)&&(this.state=3,this.q=e)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=2)}sDTD(){const t=this.captureTo(D);t!==m&&(this.text+=String.fromCodePoint(t),t===O?this.state=2:t===E?this.state=6:R(t)&&(this.state=5,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=4,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case 33:this.state=7,this.openWakaBang="";break;case T:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),e=this.openWakaBang+=t;this.text+=t,"-"!==e&&(this.state="--"===e?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=45===t?10:8}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===S?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(T)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===S&&(this.state=4)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:e}=this;t:for(;;)switch(this.getCode()){case y:this.entity+=`${e.slice(t,this.prevI)}\n`,t=this.i;break;case 59:{const{entityReturnState:n}=this,i=this.entity+e.slice(t,this.prevI);let r;this.state=n,""===i?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(i),this.entity=""),n===b&&void 0===this.textHandler||(this.text+=r);break t}case m:this.entity+=e.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(g(t))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(t){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case T:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=b,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var t;const e=this.getCodeNorm();45===e?(this.state=19,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(e)}`,this.state=17)}sCommentEnded(){const t=this.getCodeNorm();t!==S?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=17):this.state=b}sCData(){this.captureToChar(O)&&(this.state=21)}sCDataEnding(){const t=this.getCodeNorm();t===O?this.state=22:(this.text+=`]${String.fromCodePoint(t)}`,this.state=20)}sCDataEnding2(){var t;const e=this.getCodeNorm();switch(e){case S:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=b;break;case O:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(e)}`,this.state=20}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=24):t===T||s(t)?(this.fail("processing instruction without a target."),this.state=t===T?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=24)}sPIRest(){const{chunk:t,i:e}=this;for(;;){const n=this.getCodeNorm();if(n===m)return void(this.piTarget+=t.slice(e));if(!this.nameCheck(n)){this.piTarget+=t.slice(e,this.prevI);const i=n===T;i||s(n)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=i?w:27):this.state=i?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(n));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===T?this.state=26:s(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(T)&&(this.state=26)}sPIEnding(){var t;const e=this.getCodeNorm();if(e===S){const{piTarget:e}=this;"xml"===e.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:e,body:this.text}),this.piTarget=this.text="",this.state=b}else e===T?this.text+="?":(this.text+=`?${String.fromCodePoint(e)}`,this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==T?t!==m&&(this.state=28,this.name=String.fromCodePoint(t)):this.state=w}sXMLDeclName(){const t=this.captureTo(P);if(t===T)return this.state=w,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(s(t)||t===k){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===k?30:29}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===T)return this.state=w,void this.fail("XML declaration is incomplete.");s(t)||(t!==k&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===T)return this.state=w,void this.fail("XML declaration is incomplete.");s(t)||(R(t)?this.q=t:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const t=this.captureTo([this.q,T]);if(t===T)return this.state=w,this.text="",void this.fail("XML declaration is incomplete.");if(t===m)return;const e=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=e;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(e)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=e;break;case"standalone":"yes"!==e&&"no"!==e&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=e}this.name="",this.state=32}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==T?(s(t)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=w}sXMLDeclEnding(){var t;this.getCodeNorm()===S?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=b):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const e=this.captureNameChars();if(e===m)return;const n=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=n.ns=Object.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,n),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),e){case S:this.openTag();break;case 47:this.state=35;break;default:s(e)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===S?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const t=this.skipSpaces();t!==m&&(g(t)?(this.unget(),this.state=37):t===S?this.openTag():47===t?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===k?this.state=39:s(t)?this.state=38:t===S?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==m&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case m:return;case k:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",t===S?this.openTag():g(t)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const t=this.getCodeNorm();R(t)?(this.q=t,this.state=40):s(t)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:t,chunk:e}=this;let{i:n}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+e.slice(n,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=e.slice(n,this.prevI),this.state=14,void(this.entityReturnState=40);case x:case y:case 9:this.text+=`${e.slice(n,this.prevI)} `,n=this.i;break;case E:return this.text+=e.slice(n,this.prevI),void this.fail("disallowed character.");case m:return void(this.text+=e.slice(n))}}sAttribValueClosed(){const t=this.getCodeNorm();s(t)?this.state=36:t===S?this.openTag():47===t?this.state=35:g(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(M);switch(t){case 38:this.state=14,this.entityReturnState=42;break;case E:this.fail("disallowed character.");break;case m:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===S?this.openTag():this.state=36}}sCloseTag(){const t=this.captureNameChars();t===S?this.closeTag():s(t)?this.state=44:t!==m&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case S:this.closeTag();break;case m:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:e}=this;const{chunk:n,textHandler:i}=this;t:for(;;)switch(this.getCode()){case E:if(this.state=15,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}e=0;break t;case 38:this.state=14,this.entityReturnState=b,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=0;break t;case O:switch(e){case 0:e=1;break;case 1:e=2;break;case 2:break;default:throw new Error("impossible state")}break;case S:2===e&&this.fail('the string "]]>" is disallowed in char data.'),e=0;break;case y:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i,e=0;break;case m:void 0!==i&&(this.text+=n.slice(t));break t;default:e=0}this.forbiddenState=e}handleTextOutsideRoot(){let{i:t}=this;const{chunk:e,textHandler:n}=this;let i=!1;t:for(;;){const r=this.getCode();switch(r){case E:if(this.state=15,void 0!==n){const{text:i}=this,r=e.slice(t,this.prevI);0!==i.length?(n(i+r),this.text=""):0!==r.length&&n(r)}break t;case 38:this.state=14,this.entityReturnState=b,void 0!==n&&(this.text+=e.slice(t,this.prevI)),i=!0;break t;case y:void 0!==n&&(this.text+=`${e.slice(t,this.prevI)}\n`),t=this.i;break;case m:void 0!==n&&(this.text+=e.slice(t));break t;default:s(r)||(i=!0)}}i&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,e){var n;const{prefix:i,local:r}=this.qname(t),o={name:t,prefix:i,local:r,value:e};if(this.attribList.push(o),null===(n=this.attributeHandler)||void 0===n||n.call(this,o),"xmlns"===i){const t=e.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,L(this,r,t)}else if("xmlns"===t){const t=e.trim();this.topNS[""]=t,L(this,"",t)}}pushAttribPlain(t,e){var n;const i={name:t,value:e};this.attribList.push(i),null===(n=this.attributeHandler)||void 0===n||n.call(this,i)}end(){var t,e;this.sawRoot||this.fail("document must contain a root element.");const{tags:n}=this;for(;n.length>0;){const t=n.pop();this.fail(`unclosed tag: ${t.name}`)}0!==this.state&&this.state!==b&&this.fail("unexpected end.");const{text:i}=this;return 0!==i.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,i),this.text=""),this._closed=!0,null===(e=this.endHandler)||void 0===e||e.call(this),this._init(),this}resolve(t){var e,n;let i=this.topNS[t];if(void 0!==i)return i;const{tags:r}=this;for(let e=r.length-1;e>=0;e--)if(i=r[e].ns[t],void 0!==i)return i;return i=this.ns[t],void 0!==i?i:null===(n=(e=this.opt).resolvePrefix)||void 0===n?void 0:n.call(e,t)}qname(t){const e=t.indexOf(":");if(-1===e)return{prefix:"",local:t};const n=t.slice(e+1),i=t.slice(0,e);return(""===i||""===n||n.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:i,local:n}}processAttribsNS(){var t;const{attribList:e}=this,n=this.tag;{const{prefix:e,local:i}=this.qname(n.name);n.prefix=e,n.local=i;const r=n.uri=null!==(t=this.resolve(e))&&void 0!==t?t:"";""!==e&&("xmlns"===e&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(e)}.`),n.uri=e))}if(0===e.length)return;const{attributes:i}=n,r=new Set;for(const t of e){const{name:e,prefix:n,local:o}=t;let s,a;""===n?(s="xmlns"===e?f:"",a=e):(s=this.resolve(n),void 0===s&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),s=n),a=`{${s}}${o}`),r.has(a)&&this.fail(`duplicate attribute: ${a}.`),r.add(a),t.uri=s,i[e]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,e=this.tag.attributes;for(const{name:n,value:i}of t)void 0!==e[n]&&this.fail(`duplicate attribute: ${n}.`),e[n]=i;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:e}=this,n=this.tag;n.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,n),e.push(n),this.state=b,this.name=""}openSelfClosingTag(){var t,e,n;this.processAttribs();const{tags:i}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(e=this.closeTagHandler)||void 0===e||e.call(this,r),null===(this.tag=null!==(n=i[i.length-1])&&void 0!==n?n:null)&&(this.closedRoot=!0),this.state=b,this.name=""}closeTag(){const{tags:t,name:e}=this;if(this.state=b,this.name="",""===e)return this.fail("weird empty close tag."),void(this.text+="</>");const n=this.closeTagHandler;let i=t.length;for(;i-- >0;){const i=this.tag=t.pop();if(this.topNS=i.ns,null==n||n(i),i.name===e)break;this.fail("unexpected close tag.")}0===i?this.closedRoot=!0:i<0&&(this.fail(`unmatched closing tag: ${e}.`),this.text+=`</${e}>`)}parseEntity(t){if("#"!==t[0]){const e=this.ENTITIES[t];return void 0!==e?e:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let e=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?e=parseInt(t.slice(2),16):/^#[0-9]+$/.test(t)&&(e=parseInt(t.slice(1),10)),this.isChar(e)?String.fromCodePoint(e):(this.fail("malformed character entity."),`&${t};`)}}},5215:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExpandOptions=e.JsonLdContextNormalized=void 0;const i=n(742),r=n(5094),o=n(4931);e.JsonLdContextNormalized=class{constructor(t){this.contextRaw=t}getContextRaw(){return this.contextRaw}expandTerm(t,n,s=e.defaultExpandOptions){const a=this.contextRaw[t];if(null===a||a&&null===a["@id"])return null;let g=!0;if(a&&n){const e=o.Util.getContextValueId(a);if(e&&e!==t){if("string"==typeof e&&(o.Util.isValidIri(e)||o.Util.isValidKeyword(e)))return e;o.Util.isPotentialKeyword(e)||(g=!1)}}const l=o.Util.getPrefix(t,this.contextRaw),A=this.contextRaw["@vocab"],c=(!!A||""===A)&&A.indexOf(":")<0,h=this.contextRaw["@base"],C=o.Util.isPotentialKeyword(t);if(l){const e=this.contextRaw[l],n=o.Util.getContextValueId(e);if(n){if("string"!=typeof e&&s.allowPrefixForcing){if("_"!==n[0]&&!C&&!e["@prefix"]&&!(t in this.contextRaw))return t}else if(!o.Util.isSimpleTermDefinitionPrefix(n,s))return t;return n+t.substr(l.length+1)}}else{if(n&&(A||""===A||s.allowVocabRelativeToBase&&h&&c)&&!C&&!o.Util.isCompactIri(t)){if(c){if(s.allowVocabRelativeToBase)return(A||h?(0,i.resolve)(A,h):"")+t;throw new r.ErrorCoded(`Relative vocab expansion for term '${t}' with vocab '${A}' is not allowed.`,r.ERROR_CODES.INVALID_VOCAB_MAPPING)}return A+t}if(!n&&h&&!C&&!o.Util.isCompactIri(t))return(0,i.resolve)(t,h)}if(g)return t;throw new r.ErrorCoded(`Invalid IRI mapping found for context entry '${t}': '${JSON.stringify(a)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(t,e){if(e&&this.contextRaw["@vocab"]&&t.startsWith(this.contextRaw["@vocab"]))return t.substr(this.contextRaw["@vocab"].length);if(!e&&this.contextRaw["@base"]&&t.startsWith(this.contextRaw["@base"]))return t.substr(this.contextRaw["@base"].length);const n={prefix:"",suffix:t};for(const i in this.contextRaw){const r=this.contextRaw[i];if(r&&!o.Util.isPotentialKeyword(i)){const s=o.Util.getContextValueId(r);if(t.startsWith(s)){const r=t.substr(s.length);if(r)r.length<n.suffix.length&&(n.prefix=i,n.suffix=r);else if(e)return i}}}return n.prefix?n.prefix+":"+n.suffix:t}},e.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},5229:(t,e,n)=>{"use strict";const{isSubjectReference:i}=n(3978),{createMergedNodeMap:r}=n(9233),o={};t.exports=o,o.flatten=t=>{const e=r(t),n=[],o=Object.keys(e).sort();for(let t=0;t<o.length;++t){const r=e[o[t]];i(r)||n.push(r)}return n}},5291:(t,e,n)=>{"use strict";const{MathFloor:i,NumberIsInteger:r}=n(4134),{validateInteger:o}=n(277),{ERR_INVALID_ARG_VALUE:s}=n(6371).codes;let a=16384,g=16;function l(t){return t?g:a}t.exports={getHighWaterMark:function(t,e,n,o){const a=function(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}(e,o,n);if(null!=a){if(!r(a)||a<0)throw new s(o?`options.${n}`:"options.highWaterMark",a);return i(a)}return l(t.objectMode)},getDefaultHighWaterMark:l,setDefaultHighWaterMark:function(t,e){o(e,"value",0),t?g=e:a=e}}},5445:t=>{"use strict";t.exports=t=>{class e{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(e,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(e.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:e}),e.compact=function(e,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):t.compact(e,n)},e.expand=function(e){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):t.expand(e)},e.flatten=function(e){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):t.flatten(e)},e}},5506:(t,e,n)=>{"use strict";const{Buffer:i}=n(8287),{ObjectDefineProperty:r,ObjectKeys:o,ReflectApply:s}=n(4134),{promisify:{custom:a}}=n(7760),{streamReturningOperators:g,promiseReturningOperators:l}=n(823),{codes:{ERR_ILLEGAL_CONSTRUCTOR:A}}=n(6371),c=n(7830),{setDefaultHighWaterMark:h,getDefaultHighWaterMark:C}=n(5291),{pipeline:I}=n(7758),{destroyer:d}=n(5896),u=n(6238),f=n(3095),p=n(6115),v=t.exports=n(4259).Stream;v.isDestroyed=p.isDestroyed,v.isDisturbed=p.isDisturbed,v.isErrored=p.isErrored,v.isReadable=p.isReadable,v.isWritable=p.isWritable,v.Readable=n(7576);for(const y of o(g)){const b=g[y];function w(...t){if(new.target)throw A();return v.Readable.from(s(b,this,t))}r(w,"name",{__proto__:null,value:b.name}),r(w,"length",{__proto__:null,value:b.length}),r(v.Readable.prototype,y,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}for(const x of o(l)){const E=l[x];function k(...t){if(new.target)throw A();return s(E,this,t)}r(k,"name",{__proto__:null,value:E.name}),r(k,"length",{__proto__:null,value:E.length}),r(v.Readable.prototype,x,{__proto__:null,value:k,enumerable:!1,configurable:!0,writable:!0})}v.Writable=n(8584),v.Duplex=n(3370),v.Transform=n(7382),v.PassThrough=n(6524),v.pipeline=I;const{addAbortSignal:m}=n(4147);v.addAbortSignal=m,v.finished=u,v.destroy=d,v.compose=c,v.setDefaultHighWaterMark=h,v.getDefaultHighWaterMark=C,r(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>f}),r(I,a,{__proto__:null,enumerable:!0,get:()=>f.pipeline}),r(u,a,{__proto__:null,enumerable:!0,get:()=>f.finished}),v.Stream=v,v._isUint8Array=function(t){return t instanceof Uint8Array},v._uint8ArrayToBuffer=function(t){return i.from(t.buffer,t.byteOffset,t.byteLength)}},5517:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordId=void 0;const i=n(2395),r=n(1548);class o extends r.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(t,e,n,r,o,s){if("string"!=typeof o){if(t.rdfstar&&"object"==typeof o){const e=Object.keys(o);1===e.length&&"@id"===e[0]&&t.emitError(new i.ErrorCoded(`Invalid embedded node without property with @id ${o["@id"]}`,i.ERROR_CODES.INVALID_EMBEDDED_NODE))}else t.emitError(new i.ErrorCoded(`Found illegal @id '${o}'`,i.ERROR_CODES.INVALID_ID_VALUE));return}const a=await e.getPropertiesDepth(r,s);if(void 0!==t.idStack[a]&&(t.idStack[a][0].listHead?t.emitError(new i.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${r[s-1]}'`,i.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):t.emitError(new i.ErrorCoded(`Found duplicate @ids '${t.idStack[a][0].value}' and '${o}'`,i.ERROR_CODES.COLLIDING_KEYWORDS))),t.rdfstar&&t.annotationsBuffer[s])for(const e of t.annotationsBuffer[s])e.depth===s&&t.emitError(new i.ErrorCoded(`Found an illegal @id inside an annotation: ${o}`,i.ERROR_CODES.INVALID_ANNOTATION));t.idStack[a]=e.nullableTermToArray(await e.resourceToTerm(await t.getContext(r),o))}}e.EntryHandlerKeywordId=o},5568:t=>{"use strict";const{AbortController:e,AbortSignal:n}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;t.exports=e,t.exports.AbortSignal=n,t.exports.default=e},5606:t=>{var e,n,i=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===r||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:r}catch(t){e=r}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var a,g=[],l=!1,A=-1;function c(){l&&a&&(l=!1,a.length?g=a.concat(g):A=-1,g.length&&h())}function h(){if(!l){var t=s(c);l=!0;for(var e=g.length;e;){for(a=g,g=[];++A<e;)a&&a[A].run();A=-1,e=g.length}a=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function C(t,e){this.fun=t,this.array=e}function I(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];g.push(new C(t,e)),1!==g.length||l||s(h)},C.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=I,i.addListener=I,i.once=I,i.off=I,i.removeListener=I,i.removeAllListeners=I,i.emit=I,i.prependListener=I,i.prependOnceListener=I,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},5611:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(8225),e)},5896:(t,e,n)=>{"use strict";const i=n(5606),{aggregateTwoErrors:r,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:s}=n(6371),{Symbol:a}=n(4134),{kIsDestroyed:g,isDestroyed:l,isFinished:A,isServerRequest:c}=n(6115),h=a("kDestroy"),C=a("kConstruct");function I(t,e,n){t&&(t.stack,e&&!e.errored&&(e.errored=t),n&&!n.errored&&(n.errored=t))}function d(t,e,n){let r=!1;function o(e){if(r)return;r=!0;const o=t._readableState,s=t._writableState;I(e,s,o),s&&(s.closed=!0),o&&(o.closed=!0),"function"==typeof n&&n(e),e?i.nextTick(u,t,e):i.nextTick(f,t)}try{t._destroy(e||null,o)}catch(e){o(e)}}function u(t,e){p(t,e),f(t)}function f(t){const e=t._readableState,n=t._writableState;n&&(n.closeEmitted=!0),e&&(e.closeEmitted=!0),(null!=n&&n.emitClose||null!=e&&e.emitClose)&&t.emit("close")}function p(t,e){const n=t._readableState,i=t._writableState;null!=i&&i.errorEmitted||null!=n&&n.errorEmitted||(i&&(i.errorEmitted=!0),n&&(n.errorEmitted=!0),t.emit("error",e))}function v(t,e,n){const r=t._readableState,o=t._writableState;if(null!=o&&o.destroyed||null!=r&&r.destroyed)return this;null!=r&&r.autoDestroy||null!=o&&o.autoDestroy?t.destroy(e):e&&(e.stack,o&&!o.errored&&(o.errored=e),r&&!r.errored&&(r.errored=e),n?i.nextTick(p,t,e):p(t,e))}function m(t){let e=!1;function n(n){if(e)return void v(t,null!=n?n:new o);e=!0;const r=t._readableState,s=t._writableState,a=s||r;r&&(r.constructed=!0),s&&(s.constructed=!0),a.destroyed?t.emit(h,n):n?v(t,n,!0):i.nextTick(y,t)}try{t._construct((t=>{i.nextTick(n,t)}))}catch(t){i.nextTick(n,t)}}function y(t){t.emit(C)}function b(t){return(null==t?void 0:t.setHeader)&&"function"==typeof t.abort}function w(t){t.emit("close")}function x(t,e){t.emit("error",e),i.nextTick(w,t)}t.exports={construct:function(t,e){if("function"!=typeof t._construct)return;const n=t._readableState,r=t._writableState;n&&(n.constructed=!1),r&&(r.constructed=!1),t.once(C,e),t.listenerCount(C)>1||i.nextTick(m,t)},destroyer:function(t,e){t&&!l(t)&&(e||A(t)||(e=new s),c(t)?(t.socket=null,t.destroy(e)):b(t)?t.abort():b(t.req)?t.req.abort():"function"==typeof t.destroy?t.destroy(e):"function"==typeof t.close?t.close():e?i.nextTick(x,t,e):i.nextTick(w,t),t.destroyed||(t[g]=!0))},destroy:function(t,e){const n=this._readableState,i=this._writableState,o=i||n;return null!=i&&i.destroyed||null!=n&&n.destroyed?("function"==typeof e&&e(),this):(I(t,i,n),i&&(i.destroyed=!0),n&&(n.destroyed=!0),o.constructed?d(this,t,e):this.once(h,(function(n){d(this,r(n,t),e)})),this)},undestroy:function(){const t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=!1===t.readable,t.endEmitted=!1===t.readable),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=!1===e.writable,e.ending=!1===e.writable,e.finished=!1===e.writable)},errorOrDestroy:v}},5916:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParseError=void 0;class n extends Error{constructor(t,e){const n=t.saxParser;super(t.trackPosition?`Line ${n.line} column ${n.column+1}: ${e}`:e)}}e.ParseError=n},5998:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordGraph=void 0;const i=n(1548);class r extends i.EntryHandlerKeyword{constructor(){super("@graph")}async handle(t,e,n,i,r,o){t.graphStack[o+1]=!0}}e.EntryHandlerKeywordGraph=r},6105:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordAnnotation=void 0;const i=n(1548),r=n(2395);class o extends i.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(t,e,n,i,o,s){("string"==typeof o||"object"==typeof o&&o["@value"])&&t.emitError(new r.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(o)}`,r.ERROR_CODES.INVALID_ANNOTATION))}}e.EntryHandlerKeywordAnnotation=o},6115:(t,e,n)=>{"use strict";const{SymbolAsyncIterator:i,SymbolIterator:r,SymbolFor:o}=n(4134),s=o("nodejs.stream.destroyed"),a=o("nodejs.stream.errored"),g=o("nodejs.stream.readable"),l=o("nodejs.stream.writable"),A=o("nodejs.stream.disturbed"),c=o("nodejs.webstream.isClosedPromise"),h=o("nodejs.webstream.controllerErrorFunction");function C(t,e=!1){var n;return!(!t||"function"!=typeof t.pipe||"function"!=typeof t.on||e&&("function"!=typeof t.pause||"function"!=typeof t.resume)||t._writableState&&!1===(null===(n=t._readableState)||void 0===n?void 0:n.readable)||t._writableState&&!t._readableState)}function I(t){var e;return!(!t||"function"!=typeof t.write||"function"!=typeof t.on||t._readableState&&!1===(null===(e=t._writableState)||void 0===e?void 0:e.writable))}function d(t){return t&&(t._readableState||t._writableState||"function"==typeof t.write&&"function"==typeof t.on||"function"==typeof t.pipe&&"function"==typeof t.on)}function u(t){return!(!t||d(t)||"function"!=typeof t.pipeThrough||"function"!=typeof t.getReader||"function"!=typeof t.cancel)}function f(t){return!(!t||d(t)||"function"!=typeof t.getWriter||"function"!=typeof t.abort)}function p(t){return!(!t||d(t)||"object"!=typeof t.readable||"object"!=typeof t.writable)}function v(t){if(!d(t))return null;const e=t._writableState,n=t._readableState,i=e||n;return!!(t.destroyed||t[s]||null!=i&&i.destroyed)}function m(t){if(!I(t))return null;if(!0===t.writableEnded)return!0;const e=t._writableState;return(null==e||!e.errored)&&("boolean"!=typeof(null==e?void 0:e.ended)?null:e.ended)}function y(t,e){if(!C(t))return null;const n=t._readableState;return(null==n||!n.errored)&&("boolean"!=typeof(null==n?void 0:n.endEmitted)?null:!!(n.endEmitted||!1===e&&!0===n.ended&&0===n.length))}function b(t){return t&&null!=t[g]?t[g]:"boolean"!=typeof(null==t?void 0:t.readable)?null:!v(t)&&C(t)&&t.readable&&!y(t)}function w(t){return t&&null!=t[l]?t[l]:"boolean"!=typeof(null==t?void 0:t.writable)?null:!v(t)&&I(t)&&t.writable&&!m(t)}function x(t){return"boolean"==typeof t._closed&&"boolean"==typeof t._defaultKeepAlive&&"boolean"==typeof t._removedConnection&&"boolean"==typeof t._removedContLen}function E(t){return"boolean"==typeof t._sent100&&x(t)}t.exports={isDestroyed:v,kIsDestroyed:s,isDisturbed:function(t){var e;return!(!t||!(null!==(e=t[A])&&void 0!==e?e:t.readableDidRead||t.readableAborted))},kIsDisturbed:A,isErrored:function(t){var e,n,i,r,o,s,g,l,A,c;return!(!t||!(null!==(e=null!==(n=null!==(i=null!==(r=null!==(o=null!==(s=t[a])&&void 0!==s?s:t.readableErrored)&&void 0!==o?o:t.writableErrored)&&void 0!==r?r:null===(g=t._readableState)||void 0===g?void 0:g.errorEmitted)&&void 0!==i?i:null===(l=t._writableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==n?n:null===(A=t._readableState)||void 0===A?void 0:A.errored)&&void 0!==e?e:null===(c=t._writableState)||void 0===c?void 0:c.errored))},kIsErrored:a,isReadable:b,kIsReadable:g,kIsClosedPromise:c,kControllerErrorFunction:h,kIsWritable:l,isClosed:function(t){if(!d(t))return null;if("boolean"==typeof t.closed)return t.closed;const e=t._writableState,n=t._readableState;return"boolean"==typeof(null==e?void 0:e.closed)||"boolean"==typeof(null==n?void 0:n.closed)?(null==e?void 0:e.closed)||(null==n?void 0:n.closed):"boolean"==typeof t._closed&&x(t)?t._closed:null},isDuplexNodeStream:function(t){return!(!t||"function"!=typeof t.pipe||!t._readableState||"function"!=typeof t.on||"function"!=typeof t.write)},isFinished:function(t,e){return d(t)?!(!v(t)&&(!1!==(null==e?void 0:e.readable)&&b(t)||!1!==(null==e?void 0:e.writable)&&w(t))):null},isIterable:function(t,e){return null!=t&&(!0===e?"function"==typeof t[i]:!1===e?"function"==typeof t[r]:"function"==typeof t[i]||"function"==typeof t[r])},isReadableNodeStream:C,isReadableStream:u,isReadableEnded:function(t){if(!C(t))return null;if(!0===t.readableEnded)return!0;const e=t._readableState;return!(!e||e.errored)&&("boolean"!=typeof(null==e?void 0:e.ended)?null:e.ended)},isReadableFinished:y,isReadableErrored:function(t){var e,n;return d(t)?t.readableErrored?t.readableErrored:null!==(e=null===(n=t._readableState)||void 0===n?void 0:n.errored)&&void 0!==e?e:null:null},isNodeStream:d,isWebStream:function(t){return u(t)||f(t)||p(t)},isWritable:w,isWritableNodeStream:I,isWritableStream:f,isWritableEnded:m,isWritableFinished:function(t,e){if(!I(t))return null;if(!0===t.writableFinished)return!0;const n=t._writableState;return(null==n||!n.errored)&&("boolean"!=typeof(null==n?void 0:n.finished)?null:!!(n.finished||!1===e&&!0===n.ended&&0===n.length))},isWritableErrored:function(t){var e,n;return d(t)?t.writableErrored?t.writableErrored:null!==(e=null===(n=t._writableState)||void 0===n?void 0:n.errored)&&void 0!==e?e:null:null},isServerRequest:function(t){var e;return"boolean"==typeof t._consuming&&"boolean"==typeof t._dumped&&void 0===(null===(e=t.req)||void 0===e?void 0:e.upgradeOrConnect)},isServerResponse:E,willEmitClose:function(t){if(!d(t))return null;const e=t._writableState,n=t._readableState,i=e||n;return!i&&E(t)||!!(i&&i.autoDestroy&&i.emitClose&&!1===i.closed)},isTransformStream:p}},6238:(t,e,n)=>{"use strict";const i=n(5606),{AbortError:r,codes:o}=n(6371),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:a}=o,{kEmptyObject:g,once:l}=n(7760),{validateAbortSignal:A,validateFunction:c,validateObject:h,validateBoolean:C}=n(277),{Promise:I,PromisePrototypeThen:d,SymbolDispose:u}=n(4134),{isClosed:f,isReadable:p,isReadableNodeStream:v,isReadableStream:m,isReadableFinished:y,isReadableErrored:b,isWritable:w,isWritableNodeStream:x,isWritableStream:E,isWritableFinished:k,isWritableErrored:S,isNodeStream:T,willEmitClose:O,kIsClosedPromise:R}=n(6115);let _;const N=()=>{};function D(t,e,o){var C,I;if(2===arguments.length?(o=e,e=g):null==e?e=g:h(e,"options"),c(o,"callback"),A(e.signal,"options.signal"),o=l(o),m(t)||E(t))return function(t,e,o){let s=!1,a=N;if(e.signal)if(a=()=>{s=!0,o.call(t,new r(void 0,{cause:e.signal.reason}))},e.signal.aborted)i.nextTick(a);else{_=_||n(7760).addAbortListener;const i=_(e.signal,a),r=o;o=l(((...e)=>{i[u](),r.apply(t,e)}))}const g=(...e)=>{s||i.nextTick((()=>o.apply(t,e)))};return d(t[R].promise,g,g),N}(t,e,o);if(!T(t))throw new s("stream",["ReadableStream","WritableStream","Stream"],t);const D=null!==(C=e.readable)&&void 0!==C?C:v(t),P=null!==(I=e.writable)&&void 0!==I?I:x(t),M=t._writableState,L=t._readableState,j=()=>{t.writable||z()};let B=O(t)&&v(t)===D&&x(t)===P,F=k(t,!1);const z=()=>{F=!0,t.destroyed&&(B=!1),(!B||t.readable&&!D)&&(D&&!V||o.call(t))};let V=y(t,!1);const G=()=>{V=!0,t.destroyed&&(B=!1),(!B||t.writable&&!P)&&(P&&!F||o.call(t))},U=e=>{o.call(t,e)};let W=f(t);const Z=()=>{W=!0;const e=S(t)||b(t);return e&&"boolean"!=typeof e?o.call(t,e):D&&!V&&v(t,!0)&&!y(t,!1)?o.call(t,new a):!P||F||k(t,!1)?void o.call(t):o.call(t,new a)},H=()=>{W=!0;const e=S(t)||b(t);if(e&&"boolean"!=typeof e)return o.call(t,e);o.call(t)},q=()=>{t.req.on("finish",z)};!function(t){return t.setHeader&&"function"==typeof t.abort}(t)?P&&!M&&(t.on("end",j),t.on("close",j)):(t.on("complete",z),B||t.on("abort",Z),t.req?q():t.on("request",q)),B||"boolean"!=typeof t.aborted||t.on("aborted",Z),t.on("end",G),t.on("finish",z),!1!==e.error&&t.on("error",U),t.on("close",Z),W?i.nextTick(Z):null!=M&&M.errorEmitted||null!=L&&L.errorEmitted?B||i.nextTick(H):(D||B&&!p(t)||!F&&!1!==w(t))&&(P||B&&!w(t)||!V&&!1!==p(t))?L&&t.req&&t.aborted&&i.nextTick(H):i.nextTick(H);const Y=()=>{o=N,t.removeListener("aborted",Z),t.removeListener("complete",z),t.removeListener("abort",Z),t.removeListener("request",q),t.req&&t.req.removeListener("finish",z),t.removeListener("end",j),t.removeListener("close",j),t.removeListener("finish",z),t.removeListener("end",G),t.removeListener("error",U),t.removeListener("close",Z)};if(e.signal&&!W){const s=()=>{const n=o;Y(),n.call(t,new r(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)i.nextTick(s);else{_=_||n(7760).addAbortListener;const i=_(e.signal,s),r=o;o=l(((...e)=>{i[u](),r.apply(t,e)}))}}return Y}t.exports=D,t.exports.finished=function(t,e){var n;let i=!1;return null===e&&(e=g),null!==(n=e)&&void 0!==n&&n.cleanup&&(C(e.cleanup,"cleanup"),i=e.cleanup),new I(((n,r)=>{const o=D(t,e,(t=>{i&&o(),t?r(t):n()}))}))}},6314:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,r,o){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(i)for(var a=0;a<this.length;a++){var g=this[a][0];null!=g&&(s[g]=!0)}for(var l=0;l<t.length;l++){var A=[].concat(t[l]);i&&s[A[0]]||(void 0!==o&&(void 0===A[5]||(A[1]="@layer".concat(A[5].length>0?" ".concat(A[5]):""," {").concat(A[1],"}")),A[5]=o),n&&(A[2]?(A[1]="@media ".concat(A[2]," {").concat(A[1],"}"),A[2]=n):A[2]=n),r&&(A[4]?(A[1]="@supports (".concat(A[4],") {").concat(A[1],"}"),A[4]=r):A[4]="".concat(r)),e.push(A))}},e}},6371:(t,e,n)=>{"use strict";const{format:i,inspect:r}=n(9231),{AggregateError:o}=n(4134),s=globalThis.AggregateError||o,a=Symbol("kIsNodeError"),g=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,A={};function c(t,e){if(!t)throw new A.ERR_INTERNAL_ASSERTION(e)}function h(t){let e="",n=t.length;const i="-"===t[0]?1:0;for(;n>=i+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function C(t,e,n){n||(n=Error);class r extends n{constructor(...n){super(function(t,e,n){if("function"==typeof e)return c(e.length<=n.length,`Code: ${t}; The provided arguments length (${n.length}) does not match the required ones (${e.length}).`),e(...n);const r=(e.match(/%[dfijoOs]/g)||[]).length;return c(r===n.length,`Code: ${t}; The provided arguments length (${n.length}) does not match the required ones (${r}).`),0===n.length?e:i(e,...n)}(t,e,n))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(r.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),r.prototype.code=t,r.prototype[a]=!0,A[t]=r}function I(t){const e="__node_internal_"+t.name;return Object.defineProperty(t,"name",{value:e}),t}class d extends Error{constructor(t="The operation was aborted",e=void 0){if(void 0!==e&&"object"!=typeof e)throw new A.ERR_INVALID_ARG_TYPE("options","Object",e);super(t,e),this.code="ABORT_ERR",this.name="AbortError"}}C("ERR_ASSERTION","%s",Error),C("ERR_INVALID_ARG_TYPE",((t,e,n)=>{c("string"==typeof t,"'name' must be a string"),Array.isArray(e)||(e=[e]);let i="The ";t.endsWith(" argument")?i+=`${t} `:i+=`"${t}" ${t.includes(".")?"property":"argument"} `,i+="must be ";const o=[],s=[],a=[];for(const t of e)c("string"==typeof t,"All expected entries have to be of type string"),g.includes(t)?o.push(t.toLowerCase()):l.test(t)?s.push(t):(c("object"!==t,'The value "object" should be written as "Object"'),a.push(t));if(s.length>0){const t=o.indexOf("object");-1!==t&&(o.splice(o,t,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:i+=`of type ${o[0]}`;break;case 2:i+=`one of type ${o[0]} or ${o[1]}`;break;default:{const t=o.pop();i+=`one of type ${o.join(", ")}, or ${t}`}}(s.length>0||a.length>0)&&(i+=" or ")}if(s.length>0){switch(s.length){case 1:i+=`an instance of ${s[0]}`;break;case 2:i+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const t=s.pop();i+=`an instance of ${s.join(", ")}, or ${t}`}}a.length>0&&(i+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(i+="an "),i+=`${a[0]}`;break;case 2:i+=`one of ${a[0]} or ${a[1]}`;break;default:{const t=a.pop();i+=`one of ${a.join(", ")}, or ${t}`}}if(null==n)i+=`. Received ${n}`;else if("function"==typeof n&&n.name)i+=`. Received function ${n.name}`;else if("object"==typeof n){var A;null!==(A=n.constructor)&&void 0!==A&&A.name?i+=`. Received an instance of ${n.constructor.name}`:i+=`. Received ${r(n,{depth:-1})}`}else{let t=r(n,{colors:!1});t.length>25&&(t=`${t.slice(0,25)}...`),i+=`. Received type ${typeof n} (${t})`}return i}),TypeError),C("ERR_INVALID_ARG_VALUE",((t,e,n="is invalid")=>{let i=r(e);return i.length>128&&(i=i.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${n}. Received ${i}`}),TypeError),C("ERR_INVALID_RETURN_VALUE",((t,e,n)=>{var i;return`Expected ${t} to be returned from the "${e}" function but got ${null!=n&&null!==(i=n.constructor)&&void 0!==i&&i.name?`instance of ${n.constructor.name}`:"type "+typeof n}.`}),TypeError),C("ERR_MISSING_ARGS",((...t)=>{let e;c(t.length>0,"At least one arg needs to be specified");const n=t.length;switch(t=(Array.isArray(t)?t:[t]).map((t=>`"${t}"`)).join(" or "),n){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}}return`${e} must be specified`}),TypeError),C("ERR_OUT_OF_RANGE",((t,e,n)=>{let i;if(c(e,'Missing "range" argument'),Number.isInteger(n)&&Math.abs(n)>2**32)i=h(String(n));else if("bigint"==typeof n){i=String(n);const t=BigInt(2)**BigInt(32);(n>t||n<-t)&&(i=h(i)),i+="n"}else i=r(n);return`The value of "${t}" is out of range. It must be ${e}. Received ${i}`}),RangeError),C("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),C("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),C("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),C("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),C("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),C("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),C("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),C("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),C("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),C("ERR_STREAM_WRITE_AFTER_END","write after end",Error),C("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError:d,aggregateTwoErrors:I((function(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;const n=new s([e,t],e.message);return n.code=e.code,n}return t||e})),hideStackFrames:I,codes:A}},6441:(t,e,n)=>{"use strict";n(2791);const i=self.crypto||self.msCrypto;t.exports=class{constructor(t){if(!i||!i.subtle)throw new Error("crypto.subtle not found.");if("sha256"===t)this.algorithm={name:"SHA-256"};else{if("sha1"!==t)throw new Error(`Unsupported algorithm "${t}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(t){this._content+=t}async digest(){const t=(new TextEncoder).encode(this._content),e=new Uint8Array(await i.subtle.digest(this.algorithm,t));let n="";for(let t=0;t<e.length;++t)n+=e[t].toString(16).padStart(2,"0");return n}}},6454:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordUnknownFallback=void 0;const i=n(2395);class r{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,n,r,o){const s=await e.unaliasKeyword(n[r],n,r);return!(!i.Util.isPotentialKeyword(s)||!o&&"@list"===s)}async test(t,e,n,r,o){return i.Util.isPotentialKeyword(n)}async handle(t,e,n,o,s,a){const g=r.VALID_KEYWORDS_TYPES[n];void 0!==g?g&&typeof s!==g.type&&t.emitError(new i.ErrorCoded(`Invalid value type for '${n}' with value '${s}'`,g.errorCode)):t.strictValues&&t.emitError(new Error(`Unknown keyword '${n}' with value '${s}'`)),t.emittedStack[a]=!1}}e.EntryHandlerKeywordUnknownFallback=r,r.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:i.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:i.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null}},6524:(t,e,n)=>{"use strict";const{ObjectSetPrototypeOf:i}=n(4134);t.exports=o;const r=n(7382);function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i(o.prototype,r.prototype),i(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},6532:(t,e,n)=>{"use strict";const i=n(5606),{PromisePrototypeThen:r,SymbolAsyncIterator:o,SymbolIterator:s}=n(4134),{Buffer:a}=n(8287),{ERR_INVALID_ARG_TYPE:g,ERR_STREAM_NULL_VALUES:l}=n(6371).codes;t.exports=function(t,e,n){let A,c;if("string"==typeof e||e instanceof a)return new t({objectMode:!0,...n,read(){this.push(e),this.push(null)}});if(e&&e[o])c=!0,A=e[o]();else{if(!e||!e[s])throw new g("iterable",["Iterable"],e);c=!1,A=e[s]()}const h=new t({objectMode:!0,highWaterMark:1,...n});let C=!1;return h._read=function(){C||(C=!0,async function(){for(;;){try{const{value:t,done:e}=c?await A.next():A.next();if(e)h.push(null);else{const e=t&&"function"==typeof t.then?await t:t;if(null===e)throw C=!1,new l;if(h.push(e))continue;C=!1}}catch(t){h.destroy(t)}break}}())},h._destroy=function(t,e){r(async function(t){const e=null!=t,n="function"==typeof A.throw;if(e&&n){const{value:e,done:n}=await A.throw(t);if(await e,n)return}if("function"==typeof A.return){const{value:t}=await A.return();await t}}(t),(()=>i.nextTick(e,t)),(n=>i.nextTick(e,n||t)))},h}},6706:(t,e,n)=>{const i=n(5606),r=n(8287),{isReadable:o,isWritable:s,isIterable:a,isNodeStream:g,isReadableNodeStream:l,isWritableNodeStream:A,isDuplexNodeStream:c,isReadableStream:h,isWritableStream:C}=n(6115),I=n(6238),{AbortError:d,codes:{ERR_INVALID_ARG_TYPE:u,ERR_INVALID_RETURN_VALUE:f}}=n(6371),{destroyer:p}=n(5896),v=n(3370),m=n(7576),y=n(8584),{createDeferredPromise:b}=n(7760),w=n(6532),x=globalThis.Blob||r.Blob,E=void 0!==x?function(t){return t instanceof x}:function(t){return!1},k=globalThis.AbortController||n(5568).AbortController,{FunctionPrototypeCall:S}=n(4134);class T extends v{constructor(t){super(t),!1===(null==t?void 0:t.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==t?void 0:t.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function O(t){const e=t.readable&&"function"!=typeof t.readable.read?m.wrap(t.readable):t.readable,n=t.writable;let i,r,a,g,l,A=!!o(e),c=!!s(n);function h(t){const e=g;g=null,e?e(t):t&&l.destroy(t)}return l=new T({readableObjectMode:!(null==e||!e.readableObjectMode),writableObjectMode:!(null==n||!n.writableObjectMode),readable:A,writable:c}),c&&(I(n,(t=>{c=!1,t&&p(e,t),h(t)})),l._write=function(t,e,r){n.write(t,e)?r():i=r},l._final=function(t){n.end(),r=t},n.on("drain",(function(){if(i){const t=i;i=null,t()}})),n.on("finish",(function(){if(r){const t=r;r=null,t()}}))),A&&(I(e,(t=>{A=!1,t&&p(e,t),h(t)})),e.on("readable",(function(){if(a){const t=a;a=null,t()}})),e.on("end",(function(){l.push(null)})),l._read=function(){for(;;){const t=e.read();if(null===t)return void(a=l._read);if(!l.push(t))return}}),l._destroy=function(t,o){t||null===g||(t=new d),a=null,i=null,r=null,null===g?o(t):(g=o,p(n,t),p(e,t))},l}t.exports=function t(e,n){if(c(e))return e;if(l(e))return O({readable:e});if(A(e))return O({writable:e});if(g(e))return O({writable:!1,readable:!1});if(h(e))return O({readable:m.fromWeb(e)});if(C(e))return O({writable:y.fromWeb(e)});if("function"==typeof e){const{value:t,write:r,final:o,destroy:s}=function(t){let{promise:e,resolve:n}=b();const r=new k,o=r.signal;return{value:t(async function*(){for(;;){const t=e;e=null;const{chunk:r,done:s,cb:a}=await t;if(i.nextTick(a),s)return;if(o.aborted)throw new d(void 0,{cause:o.reason});({promise:e,resolve:n}=b()),yield r}}(),{signal:o}),write(t,e,i){const r=n;n=null,r({chunk:t,done:!1,cb:i})},final(t){const e=n;n=null,e({done:!0,cb:t})},destroy(t,e){r.abort(),e(t)}}}(e);if(a(t))return w(T,t,{objectMode:!0,write:r,final:o,destroy:s});const g=null==t?void 0:t.then;if("function"==typeof g){let e;const n=S(g,t,(t=>{if(null!=t)throw new f("nully","body",t)}),(t=>{p(e,t)}));return e=new T({objectMode:!0,readable:!1,write:r,final(t){o((async()=>{try{await n,i.nextTick(t,null)}catch(e){i.nextTick(t,e)}}))},destroy:s})}throw new f("Iterable, AsyncIterable or AsyncFunction",n,t)}if(E(e))return t(e.arrayBuffer());if(a(e))return w(T,e,{objectMode:!0,writable:!1});if(h(null==e?void 0:e.readable)&&C(null==e?void 0:e.writable))return T.fromWeb(e);if("object"==typeof(null==e?void 0:e.writable)||"object"==typeof(null==e?void 0:e.readable))return O({readable:null!=e&&e.readable?l(null==e?void 0:e.readable)?null==e?void 0:e.readable:t(e.readable):void 0,writable:null!=e&&e.writable?A(null==e?void 0:e.writable)?null==e?void 0:e.writable:t(e.writable):void 0});const r=null==e?void 0:e.then;if("function"==typeof r){let t;return S(r,e,(e=>{null!=e&&t.push(e),t.push(null)}),(e=>{p(t,e)})),t=new T({objectMode:!0,writable:!1,read(){}})}throw new u(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)}},6754:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Quad=void 0,e.Quad=class{constructor(t,e,n,i){this.termType="Quad",this.value="",this.subject=t,this.predicate=e,this.object=n,this.graph=i}equals(t){return!!t&&("Quad"===t.termType||!t.termType)&&this.subject.equals(t.subject)&&this.predicate.equals(t.predicate)&&this.object.equals(t.object)&&this.graph.equals(t.graph)}}},6957:(t,e,n)=>{"use strict";const{parseLinkHeader:i,buildHeaders:r}=n(9263),{LINK_HEADER_CONTEXT:o}=n(9378),s=n(2207),a=n(3743),{prependBase:g}=n(470),l=/(^|(\r\n))link:/i;t.exports=({secure:t,headers:e={},xhr:n}={headers:{}})=>(e=r(e),(new a).wrapLoader((async function r(a){if(0!==a.indexOf("http:")&&0!==a.indexOf("https:"))throw new s('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:a});if(t&&0!==a.indexOf("https"))throw new s('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:a});let A;try{A=await function(t,e,n){const i=new(t=t||XMLHttpRequest);return new Promise(((t,r)=>{i.onload=()=>t(i),i.onerror=t=>r(t),i.open("GET",e,!0);for(const t in n)i.setRequestHeader(t,n[t]);i.send()}))}(n,a,e)}catch(t){throw new s("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:a,cause:t})}if(A.status>=400)throw new s("URL could not be dereferenced: "+A.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:a,httpStatusCode:A.status});let c={contextUrl:null,documentUrl:a,document:A.response},h=null;const C=A.getResponseHeader("Content-Type");let I;if(l.test(A.getAllResponseHeaders())&&(I=A.getResponseHeader("Link")),I&&"application/ld+json"!==C){const t=i(I),e=t[o];if(Array.isArray(e))throw new s("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:a});e&&(c.contextUrl=e.target),h=t.alternate,h&&"application/ld+json"==h.type&&!(C||"").match(/^application\/(\w*\+)?json$/)&&(c=await r(g(a,h.target)))}return c})))},6970:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerPredicate=void 0;const i=n(2395),r=n(888);class o{static async handlePredicateObject(t,e,n,r,o,s,a,g,l){const A=await e.getPropertiesDepth(n,r),c=await e.getDepthOffsetGraph(r,n),h=r-c,C=t.idStack[A];if(C&&!l)for(const i of C)if(c>=0){const n=t.idStack[h-1];if(n)for(const t of n)e.emitQuadChecked(r,i,o,s,t,a,g);else a?(e.validateReverseSubject(s),t.getUnidentifiedGraphBufferSafe(h-1).push({subject:s,predicate:o,object:i,isEmbedded:g})):t.getUnidentifiedGraphBufferSafe(h-1).push({subject:i,predicate:o,object:s,isEmbedded:g})}else{const t=await e.getGraphContainerValue(n,A);e.emitQuadChecked(r,i,o,s,t,a,g)}else if(a&&e.validateReverseSubject(s),l){if(t.rdfstar){t.idStack[r]&&t.emitError(new i.ErrorCoded(`Found an illegal @id inside an annotation: ${t.idStack[r][0].value}`,i.ERROR_CODES.INVALID_ANNOTATION));for(let o=0;o<r;o++)"@id"===await e.unaliasKeyword(n[o],n,o)&&t.emitError(new i.ErrorCoded("Found an illegal annotation inside an embedded node",i.ERROR_CODES.INVALID_ANNOTATION));const g=t.getAnnotationsBufferSafe(A),l={predicate:o,object:s,reverse:a,nestedAnnotations:[],depth:A};g.push(l);for(let t=g.length-2;t>=0;t--){const e=g[t];e.depth>A&&(l.nestedAnnotations.push(e),g.splice(t,1))}}}else t.getUnidentifiedValueBufferSafe(A).push({predicate:o,object:s,reverse:a,isEmbedded:g})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(t,e,n,i,o){const s=n[i];if(s){const o=await t.getContext(n);if(!t.jsonLiteralStack[i]&&await e.predicateToTerm(o,n[i]))return"@json"===r.Util.getContextValueType(o,s)&&(t.jsonLiteralStack[i+1]=!0),!0}return!1}async test(t,e,n,i,r){return i[r]}async handle(t,e,n,s,a,g,l){const A=s[g],c=await t.getContext(s),h=await e.predicateToTerm(c,n);if(h){const l=await e.valueToTerm(c,n,a,g,s);if(l.length)for(let C of l){let l=await e.unaliasKeywordParent(s,g);const I=r.Util.isPropertyReverse(c,A,l);let d=0;for(;"@reverse"===l||"number"==typeof l;)"number"==typeof l?d++:g--,l=await e.unaliasKeywordParent(s,g-d);const u=r.Util.isPropertyInEmbeddedNode(l);e.validateReverseInEmbeddedNode(n,I,u);const f=r.Util.isPropertyInAnnotationObject(l);if(a){const o="@list"in r.Util.getContextValueContainer(c,n);if(o||a["@list"]){if((o&&!Array.isArray(a)&&!a["@list"]||a["@list"]&&!Array.isArray(a["@list"]))&&C!==e.rdfNil){const n=e.dataFactory.blankNode();t.emitQuad(g,e.dataFactory.quad(n,e.rdfRest,e.rdfNil,e.getDefaultGraph())),t.emitQuad(g,e.dataFactory.quad(n,e.rdfFirst,C,e.getDefaultGraph())),C=n}if(I&&!t.allowSubjectList)throw new i.ErrorCoded(`Found illegal list value in subject position at ${n}`,i.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await o.handlePredicateObject(t,e,s,g,h,C,I,u,f)}}}}e.EntryHandlerPredicate=o},7007:t=>{"use strict";var e,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var r=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(n,i){function r(n){t.removeListener(e,o),i(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",r),n([].slice.call(arguments))}d(t,e,o,{once:!0}),"error"!==e&&function(t,e){"function"==typeof t.on&&d(t,"error",e,{once:!0})}(t,r)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function g(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function l(t,e,n,i){var r,o,s,l;if(a(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=g(t))>0&&s.length>r&&!s.warned){s.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=t,A.type=e,A.count=s.length,l=A,console&&console.warn&&console.warn(l)}return t}function A(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=A.bind(i);return r.listener=n,i.wrapFn=r,r}function h(t,e,n){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(r):I(r,r.length)}function C(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function I(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}function d(t,e,n,i){if("function"==typeof t.on)i.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function r(o){i.once&&t.removeEventListener(e,r),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return g(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var g=o[t];if(void 0===g)return!1;if("function"==typeof g)i(g,this,e);else{var l=g.length,A=I(g,l);for(n=0;n<l;++n)i(A[n],this,e)}return!0},o.prototype.addListener=function(t,e){return l(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return l(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,c(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,c(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,i,r,o,s;if(a(e),void 0===(i=this._events))return this;if(void 0===(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,r),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},o.prototype.listeners=function(t){return h(this,t,!0)},o.prototype.rawListeners=function(t){return h(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):C.call(t,e)},o.prototype.listenerCount=C,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},7024:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(2300),e)},7034:(t,e,n)=>{"use strict";const{isArray:i,isObject:r,isString:o}=n(5001),{asArray:s}=n(9263),{prependBase:a}=n(470),g=n(2207),l=n(7532);function A(t){throw new g("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:t})}function c({context:t,base:e}){if(!t)return;const n=t["@context"];if(o(n))t["@context"]=a(e,n);else if(i(n))for(let t=0;t<n.length;++t){const i=n[t];o(i)?n[t]=a(e,i):r(i)&&c({context:{"@context":i},base:e})}else if(r(n))for(const t in n)c({context:n[t],base:e})}t.exports=class{constructor({sharedCache:t}){this.perOpCache=new Map,this.sharedCache=t}async resolve({activeCtx:t,context:e,documentLoader:n,base:a,cycles:g=new Set}){e&&r(e)&&e["@context"]&&(e=e["@context"]),e=s(e);const c=[];for(const s of e){if(o(s)){let e=this._get(s);e||(e=await this._resolveRemoteContext({activeCtx:t,url:s,documentLoader:n,base:a,cycles:g})),i(e)?c.push(...e):c.push(e);continue}if(null===s){c.push(new l({document:null}));continue}r(s)||A(e);const h=JSON.stringify(s);let C=this._get(h);C||(C=new l({document:s}),this._cacheResolvedContext({key:h,resolved:C,tag:"static"})),c.push(C)}return c}_get(t){let e=this.perOpCache.get(t);if(!e){const n=this.sharedCache.get(t);n&&(e=n.get("static"),e&&this.perOpCache.set(t,e))}return e}_cacheResolvedContext({key:t,resolved:e,tag:n}){if(this.perOpCache.set(t,e),void 0!==n){let i=this.sharedCache.get(t);i||(i=new Map,this.sharedCache.set(t,i)),i.set(n,e)}return e}async _resolveRemoteContext({activeCtx:t,url:e,documentLoader:n,base:i,cycles:r}){e=a(i,e);const{context:o,remoteDoc:s}=await this._fetchContext({activeCtx:t,url:e,documentLoader:n,cycles:r});c({context:o,base:i=s.documentUrl||e});const g=await this.resolve({activeCtx:t,context:o,documentLoader:n,base:i,cycles:r});return this._cacheResolvedContext({key:e,resolved:g,tag:s.tag}),g}async _fetchContext({activeCtx:t,url:e,documentLoader:n,cycles:s}){if(s.size>10)throw new g("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===t.processingMode?"loading remote context failed":"context overflow",max:10});if(s.has(e))throw new g("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===t.processingMode?"recursive context inclusion":"context overflow",url:e});let a,l;s.add(e);try{l=await n(e),a=l.document||null,o(a)&&(a=JSON.parse(a))}catch(t){throw new g(`Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context. URL: "${e}".`,"jsonld.InvalidUrl",{code:"loading remote context failed",url:e,cause:t})}if(!r(a))throw new g(`Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object. URL: "${e}".`,"jsonld.InvalidUrl",{code:"invalid remote context",url:e});return a="@context"in a?{"@context":a["@context"]}:{"@context":{}},l.contextUrl&&(i(a["@context"])||(a["@context"]=[a["@context"]]),a["@context"].push(l.contextUrl)),{context:a,remoteDoc:l}}}},7229:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerType=void 0;const i=n(6970),r=n(888);e.ContainerHandlerType=class{canCombineWithGraph(){return!1}async handle(t,e,n,o,s,a){if(!Array.isArray(s)){if("string"==typeof s){const t=await e.getContext(o),i="@vocab"===r.Util.getContextValueType(t,o[a-1])?await n.createVocabOrBaseTerm(t,s):await n.resourceToTerm(t,s);if(i){const t={"@id":"NamedNode"===i.termType?i.value:s};await e.newOnValueJob(o.slice(0,o.length-1),t,a-1,!0),e.idStack[a+1]=[i]}}else{const t=!!e.idStack[a+1];t||delete e.idStack[a],await e.newOnValueJob(o.slice(0,o.length-1),s,a-1,!0),t||(e.idStack[a+1]=e.idStack[a])}const t=await n.getContainerKey(o[a],o,a),g=null!==t?n.createVocabOrBaseTerm(await e.getContext(o),t):null;g&&await i.EntryHandlerPredicate.handlePredicateObject(e,n,o,a+1,n.rdfType,g,!1,!1,!1),await e.handlePendingContainerFlushBuffers()}e.emittedStack[a]=!1}}},7259:t=>{"use strict";t.exports=class t{constructor(t,e=new Map,n=0){this.prefix=t,this._existing=e,this.counter=n}clone(){const{prefix:e,_existing:n,counter:i}=this;return new t(e,new Map(n),i)}getId(t){const e=t&&this._existing.get(t);if(e)return e;const n=this.prefix+this.counter;return this.counter++,t&&this._existing.set(t,n),n}hasId(t){return this._existing.has(t)}getOldIds(){return[...this._existing.keys()]}}},7382:(t,e,n)=>{"use strict";const{ObjectSetPrototypeOf:i,Symbol:r}=n(4134);t.exports=l;const{ERR_METHOD_NOT_IMPLEMENTED:o}=n(6371).codes,s=n(3370),{getHighWaterMark:a}=n(5291);i(l.prototype,s.prototype),i(l,s);const g=r("kCallback");function l(t){if(!(this instanceof l))return new l(t);const e=t?a(this,t,"readableHighWaterMark",!0):null;0===e&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),s.call(this,t),this._readableState.sync=!1,this[g]=null,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",c)}function A(t){"function"!=typeof this._flush||this.destroyed?(this.push(null),t&&t()):this._flush(((e,n)=>{e?t?t(e):this.destroy(e):(null!=n&&this.push(n),this.push(null),t&&t())}))}function c(){this._final!==A&&A.call(this)}l.prototype._final=A,l.prototype._transform=function(t,e,n){throw new o("_transform()")},l.prototype._write=function(t,e,n){const i=this._readableState,r=this._writableState,o=i.length;this._transform(t,e,((t,e)=>{t?n(t):(null!=e&&this.push(e),r.ended||o===i.length||i.length<i.highWaterMark?n():this[g]=n)}))},l.prototype._read=function(){if(this[g]){const t=this[g];this[g]=null,t()}}},7400:(t,e,n)=>{var i=n(9374),r=1/0;t.exports=function(t){return t?(t=i(t))===r||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},7526:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){var e,n,o=a(t),s=o[0],g=o[1],l=new r(function(t,e,n){return 3*(e+n)/4-n}(0,s,g)),A=0,c=g>0?s-4:s;for(n=0;n<c;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],l[A++]=e>>16&255,l[A++]=e>>8&255,l[A++]=255&e;return 2===g&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,l[A++]=255&e),1===g&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,l[A++]=e>>8&255,l[A++]=255&e),l},e.fromByteArray=function(t){for(var e,i=t.length,r=i%3,o=[],s=16383,a=0,l=i-r;a<l;a+=s)o.push(g(t,a,a+s>l?l:a+s));return 1===r?(e=t[i-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===r&&(e=(t[i-2]<<8)+t[i-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")};for(var n=[],i=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function g(t,e,i){for(var r,o,s=[],a=e;a<i;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(o=r)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},7532:(t,e,n)=>{"use strict";const i=n(1235);t.exports=class{constructor({document:t}){this.document=t,this.cache=new i({max:10})}getProcessed(t){return this.cache.get(t)}setProcessed(t,e){this.cache.set(t,e)}}},7576:(t,e,n)=>{"use strict";const i=n(5606),{ArrayPrototypeIndexOf:r,NumberIsInteger:o,NumberIsNaN:s,NumberParseInt:a,ObjectDefineProperties:g,ObjectKeys:l,ObjectSetPrototypeOf:A,Promise:c,SafeSet:h,SymbolAsyncDispose:C,SymbolAsyncIterator:I,Symbol:d}=n(4134);t.exports=q,q.ReadableState=H;const{EventEmitter:u}=n(7007),{Stream:f,prependListener:p}=n(4259),{Buffer:v}=n(8287),{addAbortSignal:m}=n(4147),y=n(6238);let b=n(7760).debuglog("stream",(t=>{b=t}));const w=n(345),x=n(5896),{getHighWaterMark:E,getDefaultHighWaterMark:k}=n(5291),{aggregateTwoErrors:S,codes:{ERR_INVALID_ARG_TYPE:T,ERR_METHOD_NOT_IMPLEMENTED:O,ERR_OUT_OF_RANGE:R,ERR_STREAM_PUSH_AFTER_EOF:_,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:N},AbortError:D}=n(6371),{validateObject:P}=n(277),M=d("kPaused"),{StringDecoder:L}=n(3141),j=n(6532);A(q.prototype,f.prototype),A(q,f);const B=()=>{},{errorOrDestroy:F}=x,z=1,V=16,G=32,U=2048,W=4096;function Z(t){return{enumerable:!1,get(){return!!(this.state&t)},set(e){e?this.state|=t:this.state&=~t}}}function H(t,e,i){"boolean"!=typeof i&&(i=e instanceof n(3370)),this.state=U|W|V|G,t&&t.objectMode&&(this.state|=z),i&&t&&t.readableObjectMode&&(this.state|=z),this.highWaterMark=t?E(this,t,"readableHighWaterMark",i):k(!1),this.buffer=new w,this.length=0,this.pipes=[],this.flowing=null,this[M]=null,t&&!1===t.emitClose&&(this.state&=~U),t&&!1===t.autoDestroy&&(this.state&=~W),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new L(t.encoding),this.encoding=t.encoding)}function q(t){if(!(this instanceof q))return new q(t);const e=this instanceof n(3370);this._readableState=new H(t,this,e),t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&!e&&m(t.signal,this)),f.call(this,t),x.construct(this,(()=>{this._readableState.needReadable&&$(this,this._readableState)}))}function Y(t,e,n,i){b("readableAddChunk",e);const r=t._readableState;let o;if(r.state&z||("string"==typeof e?(n=n||r.defaultEncoding,r.encoding!==n&&(i&&r.encoding?e=v.from(e,n).toString(r.encoding):(e=v.from(e,n),n=""))):e instanceof v?n="":f._isUint8Array(e)?(e=f._uint8ArrayToBuffer(e),n=""):null!=e&&(o=new T("chunk",["string","Buffer","Uint8Array"],e))),o)F(t,o);else if(null===e)r.state&=-9,function(t,e){if(b("onEofChunk"),!e.ended){if(e.decoder){const t=e.decoder.end();t&&t.length&&(e.buffer.push(t),e.length+=e.objectMode?1:t.length)}e.ended=!0,e.sync?X(t):(e.needReadable=!1,e.emittedReadable=!0,J(t))}}(t,r);else if(r.state&z||e&&e.length>0)if(i)if(4&r.state)F(t,new N);else{if(r.destroyed||r.errored)return!1;Q(t,r,e,!0)}else if(r.ended)F(t,new _);else{if(r.destroyed||r.errored)return!1;r.state&=-9,r.decoder&&!n?(e=r.decoder.write(e),r.objectMode||0!==e.length?Q(t,r,e,!1):$(t,r)):Q(t,r,e,!1)}else i||(r.state&=-9,$(t,r));return!r.ended&&(r.length<r.highWaterMark||0===r.length)}function Q(t,e,n,i){e.flowing&&0===e.length&&!e.sync&&t.listenerCount("data")>0?(65536&e.state?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),64&e.state&&X(t)),$(t,e)}function K(t,e){return t<=0||0===e.length&&e.ended?0:e.state&z?1:s(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}function X(t){const e=t._readableState;b("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(b("emitReadable",e.flowing),e.emittedReadable=!0,i.nextTick(J,t))}function J(t){const e=t._readableState;b("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||e.errored||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,rt(t)}function $(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,i.nextTick(tt,t,e))}function tt(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){const n=e.length;if(b("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function et(t){const e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!1===e[M]?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function nt(t){b("readable nexttick read 0"),t.read(0)}function it(t,e){b("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),rt(t),e.flowing&&!e.reading&&t.read(0)}function rt(t){const e=t._readableState;for(b("flow",e.flowing);e.flowing&&null!==t.read(););}function ot(t,e){"function"!=typeof t.read&&(t=q.wrap(t,{objectMode:!0}));const n=async function*(t,e){let n,i=B;function r(e){this===t?(i(),i=B):i=e}t.on("readable",r);const o=y(t,{writable:!1},(t=>{n=t?S(n,t):null,i(),i=B}));try{for(;;){const e=t.destroyed?null:t.read();if(null!==e)yield e;else{if(n)throw n;if(null===n)return;await new c(r)}}}catch(t){throw n=S(n,t),n}finally{!n&&!1===(null==e?void 0:e.destroyOnReturn)||void 0!==n&&!t._readableState.autoDestroy?(t.off("readable",r),o()):x.destroyer(t,null)}}(t,e);return n.stream=t,n}function st(t,e){if(0===e.length)return null;let n;return e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n}function at(t){const e=t._readableState;b("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,i.nextTick(gt,e,t))}function gt(t,e){if(b("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&0===t.length)if(t.endEmitted=!0,e.emit("end"),e.writable&&!1===e.allowHalfOpen)i.nextTick(lt,e);else if(t.autoDestroy){const t=e._writableState;(!t||t.autoDestroy&&(t.finished||!1===t.writable))&&e.destroy()}}function lt(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}let At;function ct(){return void 0===At&&(At={}),At}g(H.prototype,{objectMode:Z(z),ended:Z(2),endEmitted:Z(4),reading:Z(8),constructed:Z(V),sync:Z(G),needReadable:Z(64),emittedReadable:Z(128),readableListening:Z(256),resumeScheduled:Z(512),errorEmitted:Z(1024),emitClose:Z(U),autoDestroy:Z(W),destroyed:Z(8192),closed:Z(16384),closeEmitted:Z(32768),multiAwaitDrain:Z(65536),readingMore:Z(1<<17),dataEmitted:Z(1<<18)}),q.prototype.destroy=x.destroy,q.prototype._undestroy=x.undestroy,q.prototype._destroy=function(t,e){e(t)},q.prototype[u.captureRejectionSymbol]=function(t){this.destroy(t)},q.prototype[C]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new D,this.destroy(t)),new c(((e,n)=>y(this,(i=>i&&i!==t?n(i):e(null)))))},q.prototype.push=function(t,e){return Y(this,t,e,!1)},q.prototype.unshift=function(t,e){return Y(this,t,e,!0)},q.prototype.isPaused=function(){const t=this._readableState;return!0===t[M]||!1===t.flowing},q.prototype.setEncoding=function(t){const e=new L(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;const n=this._readableState.buffer;let i="";for(const t of n)i+=e.write(t);return n.clear(),""!==i&&n.push(i),this._readableState.length=i.length,this},q.prototype.read=function(t){b("read",t),void 0===t?t=NaN:o(t)||(t=a(t,10));const e=this._readableState,n=t;if(t>e.highWaterMark&&(e.highWaterMark=function(t){if(t>1073741824)throw new R("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,++t}(t)),0!==t&&(e.state&=-129),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return b("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?at(this):X(this),null;if(0===(t=K(t,e))&&e.ended)return 0===e.length&&at(this),null;let i,r=!!(64&e.state);if(b("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&(r=!0,b("length less than watermark",r)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)r=!1,b("reading, ended or constructing",r);else if(r){b("do read"),e.state|=8|G,0===e.length&&(e.state|=64);try{this._read(e.highWaterMark)}catch(t){F(this,t)}e.state&=~G,e.reading||(t=K(n,e))}return i=t>0?st(t,e):null,null===i?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&at(this)),null===i||e.errorEmitted||e.closeEmitted||(e.dataEmitted=!0,this.emit("data",i)),i},q.prototype._read=function(t){throw new O("_read()")},q.prototype.pipe=function(t,e){const n=this,r=this._readableState;1===r.pipes.length&&(r.multiAwaitDrain||(r.multiAwaitDrain=!0,r.awaitDrainWriters=new h(r.awaitDrainWriters?[r.awaitDrainWriters]:[]))),r.pipes.push(t),b("pipe count=%d opts=%j",r.pipes.length,e);const o=e&&!1===e.end||t===i.stdout||t===i.stderr?d:s;function s(){b("onend"),t.end()}let a;r.endEmitted?i.nextTick(o):n.once("end",o),t.on("unpipe",(function e(i,o){b("onunpipe"),i===n&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,b("cleanup"),t.removeListener("close",C),t.removeListener("finish",I),a&&t.removeListener("drain",a),t.removeListener("error",c),t.removeListener("unpipe",e),n.removeListener("end",s),n.removeListener("end",d),n.removeListener("data",A),g=!0,a&&r.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&a())}));let g=!1;function l(){g||(1===r.pipes.length&&r.pipes[0]===t?(b("false write response, pause",0),r.awaitDrainWriters=t,r.multiAwaitDrain=!1):r.pipes.length>1&&r.pipes.includes(t)&&(b("false write response, pause",r.awaitDrainWriters.size),r.awaitDrainWriters.add(t)),n.pause()),a||(a=function(t,e){return function(){const n=t._readableState;n.awaitDrainWriters===e?(b("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(b("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),n.awaitDrainWriters&&0!==n.awaitDrainWriters.size||!t.listenerCount("data")||t.resume()}}(n,t),t.on("drain",a))}function A(e){b("ondata");const n=t.write(e);b("dest.write",n),!1===n&&l()}function c(e){if(b("onerror",e),d(),t.removeListener("error",c),0===t.listenerCount("error")){const n=t._writableState||t._readableState;n&&!n.errorEmitted?F(t,e):t.emit("error",e)}}function C(){t.removeListener("finish",I),d()}function I(){b("onfinish"),t.removeListener("close",C),d()}function d(){b("unpipe"),n.unpipe(t)}return n.on("data",A),p(t,"error",c),t.once("close",C),t.once("finish",I),t.emit("pipe",n),!0===t.writableNeedDrain?l():r.flowing||(b("pipe resume"),n.resume()),t},q.prototype.unpipe=function(t){const e=this._readableState;if(0===e.pipes.length)return this;if(!t){const t=e.pipes;e.pipes=[],this.pause();for(let e=0;e<t.length;e++)t[e].emit("unpipe",this,{hasUnpiped:!1});return this}const n=r(e.pipes,t);return-1===n||(e.pipes.splice(n,1),0===e.pipes.length&&this.pause(),t.emit("unpipe",this,{hasUnpiped:!1})),this},q.prototype.on=function(t,e){const n=f.prototype.on.call(this,t,e),r=this._readableState;return"data"===t?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===t&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,b("on readable",r.length,r.reading),r.length?X(this):r.reading||i.nextTick(nt,this))),n},q.prototype.addListener=q.prototype.on,q.prototype.removeListener=function(t,e){const n=f.prototype.removeListener.call(this,t,e);return"readable"===t&&i.nextTick(et,this),n},q.prototype.off=q.prototype.removeListener,q.prototype.removeAllListeners=function(t){const e=f.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||i.nextTick(et,this),e},q.prototype.resume=function(){const t=this._readableState;return t.flowing||(b("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(it,t,e))}(this,t)),t[M]=!1,this},q.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[M]=!0,this},q.prototype.wrap=function(t){let e=!1;t.on("data",(n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())})),t.on("end",(()=>{this.push(null)})),t.on("error",(t=>{F(this,t)})),t.on("close",(()=>{this.destroy()})),t.on("destroy",(()=>{this.destroy()})),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};const n=l(t);for(let e=1;e<n.length;e++){const i=n[e];void 0===this[i]&&"function"==typeof t[i]&&(this[i]=t[i].bind(t))}return this},q.prototype[I]=function(){return ot(this)},q.prototype.iterator=function(t){return void 0!==t&&P(t,"options"),ot(this,t)},g(q.prototype,{readable:{__proto__:null,get(){const t=this._readableState;return!(!t||!1===t.readable||t.destroyed||t.errorEmitted||t.endEmitted)},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),g(H.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[M]},set(t){this[M]=!!t}}}),q._fromList=st,q.from=function(t,e){return j(q,t,e)},q.fromWeb=function(t,e){return ct().newStreamReadableFromReadableStream(t,e)},q.toWeb=function(t,e){return ct().newReadableStreamFromStreamReadable(t,e)},q.wrap=function(t,e){var n,i;return new q({objectMode:null===(n=null!==(i=t.readableObjectMode)&&void 0!==i?i:t.objectMode)||void 0===n||n,...e,destroy(e,n){x.destroyer(t,e),n(e)}}).wrap(t)}},7659:t=>{"use strict";var e={};t.exports=function(t,n){var i=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},7758:(t,e,n)=>{const i=n(5606),{ArrayIsArray:r,Promise:o,SymbolAsyncIterator:s,SymbolDispose:a}=n(4134),g=n(6238),{once:l}=n(7760),A=n(5896),c=n(3370),{aggregateTwoErrors:h,codes:{ERR_INVALID_ARG_TYPE:C,ERR_INVALID_RETURN_VALUE:I,ERR_MISSING_ARGS:d,ERR_STREAM_DESTROYED:u,ERR_STREAM_PREMATURE_CLOSE:f},AbortError:p}=n(6371),{validateFunction:v,validateAbortSignal:m}=n(277),{isIterable:y,isReadable:b,isReadableNodeStream:w,isNodeStream:x,isTransformStream:E,isWebStream:k,isReadableStream:S,isReadableFinished:T}=n(6115),O=globalThis.AbortController||n(5568).AbortController;let R,_,N;function D(t,e,n){let i=!1;return t.on("close",(()=>{i=!0})),{destroy:e=>{i||(i=!0,A.destroyer(t,e||new u("pipe")))},cleanup:g(t,{readable:e,writable:n},(t=>{i=!t}))}}function P(t){if(y(t))return t;if(w(t))return async function*(t){_||(_=n(7576)),yield*_.prototype[s].call(t)}(t);throw new C("val",["Readable","Iterable","AsyncIterable"],t)}async function M(t,e,n,{end:i}){let r,s=null;const a=t=>{if(t&&(r=t),s){const t=s;s=null,t()}},l=()=>new o(((t,e)=>{r?e(r):s=()=>{r?e(r):t()}}));e.on("drain",a);const A=g(e,{readable:!1},a);try{e.writableNeedDrain&&await l();for await(const n of t)e.write(n)||await l();i&&(e.end(),await l()),n()}catch(t){n(r!==t?h(r,t):t)}finally{A(),e.off("drain",a)}}async function L(t,e,n,{end:i}){E(e)&&(e=e.writable);const r=e.getWriter();try{for await(const e of t)await r.ready,r.write(e).catch((()=>{}));await r.ready,i&&await r.close(),n()}catch(t){try{await r.abort(t),n(t)}catch(t){n(t)}}}function j(t,e,o){if(1===t.length&&r(t[0])&&(t=t[0]),t.length<2)throw new d("streams");const s=new O,g=s.signal,l=null==o?void 0:o.signal,A=[];function h(){z(new p)}let u,f,v;m(l,"options.signal"),N=N||n(7760).addAbortListener,l&&(u=N(l,h));const T=[];let _,j=0;function F(t){z(t,0==--j)}function z(t,n){var r;if(!t||f&&"ERR_STREAM_PREMATURE_CLOSE"!==f.code||(f=t),f||n){for(;T.length;)T.shift()(f);null===(r=u)||void 0===r||r[a](),s.abort(),n&&(f||A.forEach((t=>t())),i.nextTick(e,f,v))}}for(let W=0;W<t.length;W++){const Z=t[W],H=W<t.length-1,q=W>0,Y=H||!1!==(null==o?void 0:o.end),Q=W===t.length-1;if(x(Z)){if(Y){const{destroy:K,cleanup:X}=D(Z,H,q);T.push(K),b(Z)&&Q&&A.push(X)}function V(t){t&&"AbortError"!==t.name&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code&&F(t)}Z.on("error",V),b(Z)&&Q&&A.push((()=>{Z.removeListener("error",V)}))}if(0===W)if("function"==typeof Z){if(_=Z({signal:g}),!y(_))throw new I("Iterable, AsyncIterable or Stream","source",_)}else _=y(Z)||w(Z)||E(Z)?Z:c.from(Z);else if("function"==typeof Z){var G;if(_=E(_)?P(null===(G=_)||void 0===G?void 0:G.readable):P(_),_=Z(_,{signal:g}),H){if(!y(_,!0))throw new I("AsyncIterable",`transform[${W-1}]`,_)}else{var U;R||(R=n(6524));const J=new R({objectMode:!0}),$=null===(U=_)||void 0===U?void 0:U.then;if("function"==typeof $)j++,$.call(_,(t=>{v=t,null!=t&&J.write(t),Y&&J.end(),i.nextTick(F)}),(t=>{J.destroy(t),i.nextTick(F,t)}));else if(y(_,!0))j++,M(_,J,F,{end:Y});else{if(!S(_)&&!E(_))throw new I("AsyncIterable or Promise","destination",_);{const nt=_.readable||_;j++,M(nt,J,F,{end:Y})}}_=J;const{destroy:tt,cleanup:et}=D(_,!1,!0);T.push(tt),Q&&A.push(et)}}else if(x(Z)){if(w(_)){j+=2;const it=B(_,Z,F,{end:Y});b(Z)&&Q&&A.push(it)}else if(E(_)||S(_)){const rt=_.readable||_;j++,M(rt,Z,F,{end:Y})}else{if(!y(_))throw new C("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],_);j++,M(_,Z,F,{end:Y})}_=Z}else if(k(Z)){if(w(_))j++,L(P(_),Z,F,{end:Y});else if(S(_)||y(_))j++,L(_,Z,F,{end:Y});else{if(!E(_))throw new C("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],_);j++,L(_.readable,Z,F,{end:Y})}_=Z}else _=c.from(Z)}return(null!=g&&g.aborted||null!=l&&l.aborted)&&i.nextTick(h),_}function B(t,e,n,{end:r}){let o=!1;if(e.on("close",(()=>{o||n(new f)})),t.pipe(e,{end:!1}),r){function s(){o=!0,e.end()}T(t)?i.nextTick(s):t.once("end",s)}else n();return g(t,{readable:!0,writable:!1},(e=>{const i=t._readableState;e&&"ERR_STREAM_PREMATURE_CLOSE"===e.code&&i&&i.ended&&!i.errored&&!i.errorEmitted?t.once("end",n).once("error",n):n(e)})),g(e,{readable:!1,writable:!0},n)}t.exports={pipelineImpl:j,pipeline:function(...t){return j(t,l(function(t){return v(t[t.length-1],"streams[stream.length - 1]"),t.pop()}(t)))}}},7760:(t,e,n)=>{"use strict";const i=n(8287),{format:r,inspect:o}=n(9231),{codes:{ERR_INVALID_ARG_TYPE:s}}=n(6371),{kResistStopPropagation:a,AggregateError:g,SymbolDispose:l}=n(4134),A=globalThis.AbortSignal||n(5568).AbortSignal,c=globalThis.AbortController||n(5568).AbortController,h=Object.getPrototypeOf((async function(){})).constructor,C=globalThis.Blob||i.Blob,I=void 0!==C?function(t){return t instanceof C}:function(t){return!1},d=(t,e)=>{if(void 0!==t&&(null===t||"object"!=typeof t||!("aborted"in t)))throw new s(e,"AbortSignal",t)};t.exports={AggregateError:g,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...n){e||(e=!0,t.apply(this,n))}},createDeferredPromise:function(){let t,e;return{promise:new Promise(((n,i)=>{t=n,e=i})),resolve:t,reject:e}},promisify:t=>new Promise(((e,n)=>{t(((t,...i)=>t?n(t):e(...i)))})),debuglog:()=>function(){},format:r,inspect:o,types:{isAsyncFunction:t=>t instanceof h,isArrayBufferView:t=>ArrayBuffer.isView(t)},isBlob:I,deprecate:(t,e)=>t,addAbortListener:n(7007).addAbortListener||function(t,e){if(void 0===t)throw new s("signal","AbortSignal",t);let n;return d(t,"signal"),(t=>{if("function"!=typeof t)throw new s("listener","Function",t)})(e),t.aborted?queueMicrotask((()=>e())):(t.addEventListener("abort",e,{__proto__:null,once:!0,[a]:!0}),n=()=>{t.removeEventListener("abort",e)}),{__proto__:null,[l](){var t;null===(t=n)||void 0===t||t()}}},AbortSignalAny:A.any||function(t){if(1===t.length)return t[0];const e=new c,n=()=>e.abort();return t.forEach((t=>{d(t,"signals"),t.addEventListener("abort",n,{once:!0})})),e.signal.addEventListener("abort",(()=>{t.forEach((t=>t.removeEventListener("abort",n)))}),{once:!0}),e.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},7793:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(9931),e),r(n(8483),e),r(n(2142),e),r(n(2426),e),r(n(3988),e),r(n(6754),e),r(n(8401),e)},7825:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,r&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(i,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},7830:(t,e,n)=>{"use strict";const{pipeline:i}=n(7758),r=n(3370),{destroyer:o}=n(5896),{isNodeStream:s,isReadable:a,isWritable:g,isWebStream:l,isTransformStream:A,isWritableStream:c,isReadableStream:h}=n(6115),{AbortError:C,codes:{ERR_INVALID_ARG_VALUE:I,ERR_MISSING_ARGS:d}}=n(6371),u=n(6238);t.exports=function(...t){if(0===t.length)throw new d("streams");if(1===t.length)return r.from(t[0]);const e=[...t];if("function"==typeof t[0]&&(t[0]=r.from(t[0])),"function"==typeof t[t.length-1]){const e=t.length-1;t[e]=r.from(t[e])}for(let n=0;n<t.length;++n)if(s(t[n])||l(t[n])){if(n<t.length-1&&!(a(t[n])||h(t[n])||A(t[n])))throw new I(`streams[${n}]`,e[n],"must be readable");if(n>0&&!(g(t[n])||c(t[n])||A(t[n])))throw new I(`streams[${n}]`,e[n],"must be writable")}let n,f,p,v,m;const y=t[0],b=i(t,(function(t){const e=v;v=null,e?e(t):t?m.destroy(t):x||w||m.destroy()})),w=!!(g(y)||c(y)||A(y)),x=!!(a(b)||h(b)||A(b));if(m=new r({writableObjectMode:!(null==y||!y.writableObjectMode),readableObjectMode:!(null==b||!b.readableObjectMode),writable:w,readable:x}),w){if(s(y))m._write=function(t,e,i){y.write(t,e)?i():n=i},m._final=function(t){y.end(),f=t},y.on("drain",(function(){if(n){const t=n;n=null,t()}}));else if(l(y)){const t=(A(y)?y.writable:y).getWriter();m._write=async function(e,n,i){try{await t.ready,t.write(e).catch((()=>{})),i()}catch(t){i(t)}},m._final=async function(e){try{await t.ready,t.close().catch((()=>{})),f=e}catch(t){e(t)}}}const t=A(b)?b.readable:b;u(t,(()=>{if(f){const t=f;f=null,t()}}))}if(x)if(s(b))b.on("readable",(function(){if(p){const t=p;p=null,t()}})),b.on("end",(function(){m.push(null)})),m._read=function(){for(;;){const t=b.read();if(null===t)return void(p=m._read);if(!m.push(t))return}};else if(l(b)){const t=(A(b)?b.readable:b).getReader();m._read=async function(){for(;;)try{const{value:e,done:n}=await t.read();if(!m.push(e))return;if(n)return void m.push(null)}catch{return}}}return m._destroy=function(t,e){t||null===v||(t=new C),p=null,n=null,f=null,null===v?e(t):(v=e,s(b)&&o(b,t))},m}},7920:(t,e,n)=>{"use strict";const{bufferToHex:i,crypto:r}=n(4991),o=new Map([["sha256","SHA-256"],["SHA256","SHA-256"],["SHA-256","SHA-256"],["sha384","SHA-384"],["SHA384","SHA-384"],["SHA-384","SHA-384"],["sha512","SHA-512"],["SHA512","SHA-512"],["SHA-512","SHA-512"]]);t.exports=class{constructor(t){if(!r||!r.subtle)throw new Error("crypto.subtle not found.");if(!o.has(t))throw new Error(`Unsupported algorithm "${t}".`);this.algorithm=o.get(t),this._content=""}update(t){this._content+=t}async digest(){const t=(new TextEncoder).encode(this._content),e=await r.subtle.digest(this.algorithm,t);return i(e)}}},7946:(t,e,n)=>{"use strict";const{isKeyword:i}=n(1972),r=n(3978),o=n(5001),s=n(9263),a=n(470),g=n(2207),{createNodeMap:l,mergeNodeMapGraphs:A}=n(9233),c={};function h(t){const e={};for(const n in t)void 0!==t[n]&&(e["@"+n]=[t[n]]);return[e]}function C(t,e,n){for(let i=n.length-1;i>=0;--i){const r=n[i];if(r.graph===e&&r.subject["@id"]===t["@id"])return!0}return!1}function I(t,e,n){const i="@"+n;let r=i in t?t[i][0]:e[n];if("embed"===n)if(!0===r)r="@once";else if(!1===r)r="@never";else if("@always"!==r&&"@never"!==r&&"@link"!==r&&"@first"!==r&&"@last"!==r&&"@once"!==r)throw new g("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:t});return r}function d(t){if(!o.isArray(t)||1!==t.length||!o.isObject(t[0]))throw new g("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:t});if("@id"in t[0])for(const e of s.asArray(t[0]["@id"]))if(!o.isObject(e)&&!a.isAbsolute(e)||o.isString(e)&&0===e.indexOf("_:"))throw new g("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:t});if("@type"in t[0])for(const e of s.asArray(t[0]["@type"]))if(!o.isObject(e)&&!a.isAbsolute(e)&&"@json"!==e||o.isString(e)&&0===e.indexOf("_:"))throw new g("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:t})}function u(t,e,n,a){let g=!0,l=!1;for(const A in n){let c=!1;const h=s.getValues(e,A),C=0===s.getValues(n,A).length;if("@id"===A){if(o.isEmptyObject(n["@id"][0]||{})?c=!0:n["@id"].length>=0&&(c=n["@id"].includes(h[0])),!a.requireAll)return c}else if("@type"===A){if(g=!1,C){if(h.length>0)return!1;c=!0}else if(1===n["@type"].length&&o.isEmptyObject(n["@type"][0]))c=h.length>0;else for(const t of n["@type"])c=!(!o.isObject(t)||!("@default"in t))||c||h.some((e=>e===t));if(!a.requireAll)return c}else{if(i(A))continue;{const e=s.getValues(n,A)[0];let i=!1;if(e&&(d([e]),i="@default"in e),g=!1,0===h.length&&i)continue;if(h.length>0&&C)return!1;if(void 0===e){if(h.length>0)return!1;c=!0}else if(r.isList(e)){const n=e["@list"][0];if(r.isList(h[0])){const e=h[0]["@list"];r.isValue(n)?c=e.some((t=>y(n,t))):(r.isSubject(n)||r.isSubjectReference(n))&&(c=e.some((e=>m(t,n,e,a))))}}else c=r.isValue(e)?h.some((t=>y(e,t))):r.isSubjectReference(e)?h.some((n=>m(t,e,n,a))):!!o.isObject(e)&&h.length>0}}if(!c&&a.requireAll)return!1;l=l||c}return g||l}function f(t,e){const n=t.uniqueEmbeds[t.graph],i=n[e],r=i.parent,a=i.property,g={"@id":e};if(o.isArray(r)){for(let t=0;t<r.length;++t)if(s.compareValues(r[t],g)){r[t]=g;break}}else{const t=o.isArray(r[a]);s.removeValue(r,a,g,{propertyIsArray:t}),s.addValue(r,a,g,{propertyIsArray:t})}const l=t=>{const e=Object.keys(n);for(const i of e)i in n&&o.isObject(n[i].parent)&&n[i].parent["@id"]===t&&(delete n[i],l(i))};l(e)}function p(t,e){if(o.isArray(t))return t.map((t=>p(t,e)));if(o.isObject(t)){if("@preserve"in t)return t["@preserve"][0];if(r.isValue(t))return t;if(r.isList(t))return t["@list"]=p(t["@list"],e),t;if("@id"in t){const n=t["@id"];if(e.link.hasOwnProperty(n)){const i=e.link[n].indexOf(t);if(-1!==i)return e.link[n][i];e.link[n].push(t)}else e.link[n]=[t]}for(const n in t)"@id"===n&&e.bnodesToClear.includes(t[n])?delete t["@id"]:t[n]=p(t[n],e)}return t}function v(t,e,n){o.isObject(t)?s.addValue(t,e,n,{propertyIsArray:!0}):t.push(n)}function m(t,e,n,i){if(!("@id"in n))return!1;const r=t.subjects[n["@id"]];return r&&u(t,r,e,i)}function y(t,e){const n=e["@value"],i=e["@type"],r=e["@language"],s=t["@value"]?o.isArray(t["@value"])?t["@value"]:[t["@value"]]:[],a=t["@type"]?o.isArray(t["@type"])?t["@type"]:[t["@type"]]:[],g=t["@language"]?o.isArray(t["@language"])?t["@language"]:[t["@language"]]:[];return 0===s.length&&0===a.length&&0===g.length||!(!s.includes(n)&&!o.isEmptyObject(s[0]))&&!!(!i&&0===a.length||a.includes(i)||i&&o.isEmptyObject(a[0]))&&!!(!r&&0===g.length||g.includes(r)||r&&o.isEmptyObject(g[0]))}t.exports=c,c.frameMergedOrDefault=(t,e,n)=>{const i={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},r=new s.IdentifierIssuer("_:b");l(t,i.graphMap,"@default",r),n.merged&&(i.graphMap["@merged"]=A(i.graphMap),i.graph="@merged"),i.subjects=i.graphMap[i.graph];const o=[];return c.frame(i,Object.keys(i.subjects).sort(),e,o),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(i.bnodeMap).filter((t=>1===i.bnodeMap[t].length))),n.link={},p(o,n)},c.frame=(t,e,n,a,l=null)=>{d(n),n=n[0];const A=t.options,p={embed:I(n,A,"embed"),explicit:I(n,A,"explicit"),requireAll:I(n,A,"requireAll")};t.link.hasOwnProperty(t.graph)||(t.link[t.graph]={});const m=t.link[t.graph],b=function(t,e,n,i){const r={};for(const o of e){const e=t.graphMap[t.graph][o];u(t,e,n,i)&&(r[o]=e)}return r}(t,e,n,p),w=Object.keys(b).sort();for(const d of w){const u=b[d];if(null===l?t.uniqueEmbeds={[t.graph]:{}}:t.uniqueEmbeds[t.graph]=t.uniqueEmbeds[t.graph]||{},"@link"===p.embed&&d in m){v(a,l,m[d]);continue}const w={"@id":d};if(0===d.indexOf("_:")&&s.addValue(t.bnodeMap,d,w,{propertyIsArray:!0}),m[d]=w,("@first"===p.embed||"@last"===p.embed)&&t.is11)throw new g("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:n});if(t.embedded||!t.uniqueEmbeds[t.graph].hasOwnProperty(d))if(!t.embedded||"@never"!==p.embed&&!C(u,t.graph,t.subjectStack))if(!t.embedded||"@first"!=p.embed&&"@once"!=p.embed||!t.uniqueEmbeds[t.graph].hasOwnProperty(d)){if("@last"===p.embed&&d in t.uniqueEmbeds[t.graph]&&f(t,d),t.uniqueEmbeds[t.graph][d]={parent:a,property:l},t.subjectStack.push({subject:u,graph:t.graph}),d in t.graphMap){let e=!1,i=null;"@graph"in n?(i=n["@graph"][0],e=!("@merged"===d||"@default"===d),o.isObject(i)||(i={})):(e="@merged"!==t.graph,i={}),e&&c.frame({...t,graph:d,embedded:!1},Object.keys(t.graphMap[d]).sort(),[i],w,"@graph")}"@included"in n&&c.frame({...t,embedded:!1},e,n["@included"],w,"@included");for(const e of Object.keys(u).sort())if(i(e)){if(w[e]=s.clone(u[e]),"@type"===e)for(const e of u["@type"])0===e.indexOf("_:")&&s.addValue(t.bnodeMap,e,w,{propertyIsArray:!0})}else if(!p.explicit||e in n)for(const i of u[e]){const o=e in n?n[e]:h(p);if(r.isList(i)){const o=n[e]&&n[e][0]&&n[e][0]["@list"]?n[e][0]["@list"]:h(p),a={"@list":[]};v(w,e,a);const g=i["@list"];for(const e of g)r.isSubjectReference(e)?c.frame({...t,embedded:!0},[e["@id"]],o,a,"@list"):v(a,"@list",s.clone(e))}else r.isSubjectReference(i)?c.frame({...t,embedded:!0},[i["@id"]],o,w,e):y(o[0],i)&&v(w,e,s.clone(i))}for(const t of Object.keys(n).sort()){if("@type"===t){if(!o.isObject(n[t][0])||!("@default"in n[t][0]))continue}else if(i(t))continue;const e=n[t][0]||{};if(!I(e,A,"omitDefault")&&!(t in w)){let n="@null";"@default"in e&&(n=s.clone(e["@default"])),o.isArray(n)||(n=[n]),w[t]=[{"@preserve":n}]}}for(const e of Object.keys(n["@reverse"]||{}).sort()){const i=n["@reverse"][e];for(const n of Object.keys(t.subjects))s.getValues(t.subjects[n],e).some((t=>t["@id"]===d))&&(w["@reverse"]=w["@reverse"]||{},s.addValue(w["@reverse"],e,[],{propertyIsArray:!0}),c.frame({...t,embedded:!0},[n],i,w["@reverse"][e],l))}v(a,l,w),t.subjectStack.pop()}else v(a,l,w);else v(a,l,w)}},c.cleanupNull=(t,e)=>{if(o.isArray(t))return t.map((t=>c.cleanupNull(t,e))).filter((t=>t));if("@null"===t)return null;if(o.isObject(t)){if("@id"in t){const n=t["@id"];if(e.link.hasOwnProperty(n)){const i=e.link[n].indexOf(t);if(-1!==i)return e.link[n][i];e.link[n].push(t)}else e.link[n]=[t]}for(const n in t)t[n]=c.cleanupNull(t[n],e)}return t}},7986:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerIdentifier=void 0,e.ContainerHandlerIdentifier=class{canCombineWithGraph(){return!0}async handle(t,e,n,i,r,o){let s;if(e.emittedStack[o+1]&&e.idStack[o+1])s=e.idStack[o+1][0];else{const t=null!==await n.getContainerKey(i[o],i,o)?await n.resourceToTerm(await e.getContext(i),i[o]):n.dataFactory.blankNode();if(!t)return void(e.emittedStack[o]=!1);s=t,e.idStack[o+1]=[s]}let a=e.idStack[o];a||(a=e.idStack[o]=[]),a.some((t=>t.equals(s)))||a.push(s),await e.handlePendingContainerFlushBuffers()||(e.emittedStack[o]=!1)}}},8023:(t,e,n)=>{t.exports=n(3335)},8059:(t,e,n)=>{var i=n(2177);t.exports=function(t){return i(2,t)}},8225:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParseType=e.RdfXmlParser=void 0;const i=n(742),r=n(5201),o=n(9198),s=n(5916),a=n(7793),g=n(7024);class l extends o.Transform{constructor(t){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},t&&(Object.assign(this,t),this.options=t),this.dataFactory||(this.dataFactory=new a.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),!1!==this.validateUri&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?g.IriValidationStrategy.Pragmatic:g.IriValidationStrategy.None),this.saxParser=new r.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(t){const e=new o.PassThrough({readableObjectMode:!0});t.on("error",(t=>n.emit("error",t))),t.on("data",(t=>e.push(t))),t.on("end",(()=>e.push(null)));const n=e.pipe(new l(this.options));return n}_transform(t,e,n){try{this.saxParser.write(t)}catch(t){return n(t)}n()}newParseError(t){return new s.ParseError(this,t)}valueToUri(t,e){return this.uriToNamedNode((0,i.resolve)(t,e.baseIRI))}uriToNamedNode(t){const e=(0,g.validateIri)(t,this.iriValidationStrategy);if(e instanceof Error)throw this.newParseError(e.message);return this.dataFactory.namedNode(t)}validateNcname(t){if(!l.NCNAME_MATCHER.test(t))throw this.newParseError(`Not a valid NCName: ${t}`)}attachSaxListeners(){this.saxParser.on("error",(t=>this.emit("error",t))),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("cdata",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(t){const e=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let n=A.RESOURCE;if(e&&(e.hadChildren=!0,n=e.childrenParseType),e&&e.childrenStringTags){const n=t.name;let i="";for(const e in t.attributes)i+=` ${e}="${t.attributes[e].value}"`;const r=`<${n}${i}>`;e.childrenStringTags.push(r);const o={childrenStringTags:e.childrenStringTags};return o.childrenStringEmitClosingTag=`</${n}>`,void this.activeTagStack.push(o)}const i={};e?(i.language=e.language,i.baseIRI=e.baseIRI):i.baseIRI=this.baseIRI,this.activeTagStack.push(i),n===A.RESOURCE?this.onTagResource(t,i,e,!e):this.onTagProperty(t,i,e)}onTagResource(t,e,n,r){e.childrenParseType=A.PROPERTY;let o=!0;if(t.uri===l.RDF){if(!r&&l.FORBIDDEN_NODE_ELEMENTS.indexOf(t.local)>=0)throw this.newParseError(`Illegal node element name: ${t.local}`);switch(t.local){case"RDF":e.childrenParseType=A.RESOURCE;case"Description":o=!1}}const s=[],a=[];let g=null,c=!1,h=!1,C=null;for(const r in t.attributes){const o=t.attributes[r];if(n&&o.uri===l.RDF)switch(o.local){case"about":if(g)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${o.value} and ${g} where found.`);g=o.value;continue;case"ID":if(g)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${o.value} and ${g} where found.`);this.validateNcname(o.value),g="#"+o.value,c=!0;continue;case"nodeID":if(g)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${o.value} and ${g} where found.`);this.validateNcname(o.value),g=o.value,h=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":C=o.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(o.uri===l.XML){if("lang"===o.local){e.language=""===o.value?null:o.value.toLowerCase();continue}if("base"===o.local){e.baseIRI=(0,i.resolve)(o.value,e.baseIRI);continue}}"xml"===o.prefix||"xmlns"===o.prefix||""===o.prefix&&"xmlns"===o.local||!o.uri||(s.push(this.uriToNamedNode(o.uri+o.local)),a.push(o.value))}if(null!==g&&(e.subject=h?this.dataFactory.blankNode(g):this.valueToUri(g,e),c&&this.claimNodeId(e.subject)),e.subject||(e.subject=this.dataFactory.blankNode()),o){const i=this.uriToNamedNode(t.uri+t.local);this.emitTriple(e.subject,this.dataFactory.namedNode(l.RDF+"type"),i,n?n.reifiedStatementId:null)}if(n){if(n.predicate)if(n.childrenCollectionSubject){const t=this.dataFactory.blankNode();this.emitTriple(n.childrenCollectionSubject,n.childrenCollectionPredicate,t,n.reifiedStatementId),this.emitTriple(t,this.dataFactory.namedNode(l.RDF+"first"),e.subject,e.reifiedStatementId),n.childrenCollectionSubject=t,n.childrenCollectionPredicate=this.dataFactory.namedNode(l.RDF+"rest")}else{this.emitTriple(n.subject,n.predicate,e.subject,n.reifiedStatementId);for(let t=0;t<n.predicateSubPredicates.length;t++)this.emitTriple(e.subject,n.predicateSubPredicates[t],n.predicateSubObjects[t],null);n.predicateSubPredicates=[],n.predicateSubObjects=[],n.predicateEmitted=!0}for(let t=0;t<s.length;t++){const i=this.dataFactory.literal(a[t],e.datatype||e.language);this.emitTriple(e.subject,s[t],i,n.reifiedStatementId)}C&&this.emitTriple(e.subject,this.dataFactory.namedNode(l.RDF+"type"),this.uriToNamedNode(C),null)}}onTagProperty(t,e,n){if(e.childrenParseType=A.RESOURCE,e.subject=n.subject,t.uri===l.RDF&&"li"===t.local?(n.listItemCounter||(n.listItemCounter=1),e.predicate=this.uriToNamedNode(t.uri+"_"+n.listItemCounter++)):e.predicate=this.uriToNamedNode(t.uri+t.local),t.uri===l.RDF&&l.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(t.local)>=0)throw this.newParseError(`Illegal property element name: ${t.local}`);e.predicateSubPredicates=[],e.predicateSubObjects=[];let i=!1,r=!1,o=null,s=!0;const a=[],g=[];for(const n in t.attributes){const c=t.attributes[n];if(c.uri===l.RDF)switch(c.local){case"resource":if(o)throw this.newParseError(`Found both rdf:resource (${c.value}) and rdf:nodeID (${o}).`);if(i)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${c.value})`);e.hadChildren=!0,o=c.value,s=!1;continue;case"datatype":if(r)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${c.value}).`);if(i)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${c.value})`);e.datatype=this.valueToUri(c.value,e);continue;case"nodeID":if(r)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${c.value}).`);if(e.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${c.value}).`);if(i)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${c.value})`);this.validateNcname(c.value),e.hadChildren=!0,o=c.value,s=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(r)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(e.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${e.datatype.value})`);if(o)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${o})`);if("Resource"===c.value){i=!0,e.childrenParseType=A.PROPERTY;const t=this.dataFactory.blankNode();this.emitTriple(e.subject,e.predicate,t,e.reifiedStatementId),e.subject=t,e.predicate=null}else"Collection"===c.value?(i=!0,e.hadChildren=!0,e.childrenCollectionSubject=e.subject,e.childrenCollectionPredicate=e.predicate,s=!1):"Literal"===c.value&&(i=!0,e.childrenTagsToString=!0,e.childrenStringTags=[]);continue;case"ID":this.validateNcname(c.value),e.reifiedStatementId=this.valueToUri("#"+c.value,e),this.claimNodeId(e.reifiedStatementId);continue}else if(c.uri===l.XML&&"lang"===c.local){e.language=""===c.value?null:c.value.toLowerCase();continue}if("xml"!==c.prefix&&"xmlns"!==c.prefix&&(""!==c.prefix||"xmlns"!==c.local)&&c.uri){if(i||e.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${c.value}`);e.hadChildren=!0,r=!0,a.push(this.uriToNamedNode(c.uri+c.local)),g.push(this.dataFactory.literal(c.value,e.datatype||e.language))}}if(null!==o){const t=e.subject;e.subject=s?this.dataFactory.blankNode(o):this.valueToUri(o,e),this.emitTriple(t,e.predicate,e.subject,e.reifiedStatementId);for(let t=0;t<a.length;t++)this.emitTriple(e.subject,a[t],g[t],null);e.predicateEmitted=!0}else s&&(e.predicateSubPredicates=a,e.predicateSubObjects=g,e.predicateEmitted=!1)}emitTriple(t,e,n,i){this.push(this.dataFactory.quad(t,e,n,this.defaultGraph)),i&&(this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(l.RDF+"type"),this.dataFactory.namedNode(l.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(l.RDF+"subject"),t,this.defaultGraph)),this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(l.RDF+"predicate"),e,this.defaultGraph)),this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(l.RDF+"object"),n,this.defaultGraph)))}claimNodeId(t){if(!this.allowDuplicateRdfIds){if(this.nodeIds[t.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${t.value}'.`);this.nodeIds[t.value]=!0}}onText(t){const e=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;e&&(e.childrenStringTags?e.childrenStringTags.push(t):e.predicate&&(e.text=t))}onCloseTag(){const t=this.activeTagStack.pop();if(t.childrenStringEmitClosingTag&&t.childrenStringTags.push(t.childrenStringEmitClosingTag),t.childrenTagsToString&&(t.datatype=this.dataFactory.namedNode(l.RDF+"XMLLiteral"),t.text=t.childrenStringTags.join(""),t.hadChildren=!1),t.childrenCollectionSubject)this.emitTriple(t.childrenCollectionSubject,t.childrenCollectionPredicate,this.dataFactory.namedNode(l.RDF+"nil"),t.reifiedStatementId);else if(t.predicate)if(t.hadChildren||t.childrenParseType===A.PROPERTY){if(!t.predicateEmitted){const e=this.dataFactory.blankNode();this.emitTriple(t.subject,t.predicate,e,t.reifiedStatementId);for(let n=0;n<t.predicateSubPredicates.length;n++)this.emitTriple(e,t.predicateSubPredicates[n],t.predicateSubObjects[n],null)}}else this.emitTriple(t.subject,t.predicate,this.dataFactory.literal(t.text||"",t.datatype||t.language),t.reifiedStatementId)}onDoctype(t){t.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,((t,e,n)=>(this.saxParser.ENTITIES[e]=n,"")))}}var A;e.RdfXmlParser=l,l.MIME_TYPE="application/rdf+xml",l.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",l.XML="http://www.w3.org/XML/1998/namespace",l.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],l.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],l.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u,function(t){t[t.RESOURCE=0]="RESOURCE",t[t.PROPERTY=1]="PROPERTY"}(A||(e.ParseType=A={}))},8229:(t,e,n)=>{"use strict";t.exports=n(8023).NQuads},8287:(t,e,n)=>{"use strict";const i=n(7526),r=n(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=g,e.SlowBuffer=function(t){return+t!=t&&(t=0),g.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,g.prototype),e}function g(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return c(t)}return l(t,e,n)}function l(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!g.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|d(t,e);let i=a(n);const r=i.write(t,e);return r!==n&&(i=i.slice(0,r)),i}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Q(t,Uint8Array)){const e=new Uint8Array(t);return C(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Q(t,ArrayBuffer)||t&&Q(t.buffer,ArrayBuffer))return C(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(Q(t,SharedArrayBuffer)||t&&Q(t.buffer,SharedArrayBuffer)))return C(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return g.from(i,e,n);const r=function(t){if(g.isBuffer(t)){const e=0|I(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||K(t.length)?a(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return g.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function A(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function c(t){return A(t),a(t<0?0:0|I(t))}function h(t){const e=t.length<0?0:0|I(t.length),n=a(e);for(let i=0;i<e;i+=1)n[i]=255&t[i];return n}function C(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let i;return i=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(i,g.prototype),i}function I(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function d(t,e){if(g.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Q(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;let r=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(t).length;default:if(r)return i?-1:H(t).length;e=(""+e).toLowerCase(),r=!0}}function u(t,e,n){let i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,n);case"utf8":case"utf-8":return k(this,e,n);case"ascii":return T(this,e,n);case"latin1":case"binary":return O(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function f(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function p(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),K(n=+n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=g.from(e,i)),g.isBuffer(e))return 0===e.length?-1:v(t,e,n,i,r);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,i,r){let o,s=1,a=t.length,g=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,a/=2,g/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){let i=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===i?0:o-i)){if(-1===i&&(i=o),o-i+1===g)return i*s}else-1!==i&&(o-=o-i),i=-1}else for(n+g>a&&(n=a-g),o=n;o>=0;o--){let n=!0;for(let i=0;i<g;i++)if(l(t,o+i)!==l(e,i)){n=!1;break}if(n)return o}return-1}function m(t,e,n,i){n=Number(n)||0;const r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;const o=e.length;let s;for(i>o/2&&(i=o/2),s=0;s<i;++s){const i=parseInt(e.substr(2*s,2),16);if(K(i))return s;t[n+s]=i}return s}function y(t,e,n,i){return Y(H(e,t.length-n),t,n,i)}function b(t,e,n,i){return Y(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function w(t,e,n,i){return Y(q(e),t,n,i)}function x(t,e,n,i){return Y(function(t,e){let n,i,r;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function E(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function k(t,e,n){n=Math.min(t.length,n);const i=[];let r=e;for(;r<n;){const e=t[r];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(r+s<=n){let n,i,a,g;switch(s){case 1:e<128&&(o=e);break;case 2:n=t[r+1],128==(192&n)&&(g=(31&e)<<6|63&n,g>127&&(o=g));break;case 3:n=t[r+1],i=t[r+2],128==(192&n)&&128==(192&i)&&(g=(15&e)<<12|(63&n)<<6|63&i,g>2047&&(g<55296||g>57343)&&(o=g));break;case 4:n=t[r+1],i=t[r+2],a=t[r+3],128==(192&n)&&128==(192&i)&&128==(192&a)&&(g=(15&e)<<18|(63&n)<<12|(63&i)<<6|63&a,g>65535&&g<1114112&&(o=g))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|1023&o),i.push(o),r+=s}return function(t){const e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);let n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=S));return n}(i)}e.kMaxLength=s,g.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),g.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}}),g.poolSize=8192,g.from=function(t,e,n){return l(t,e,n)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array),g.alloc=function(t,e,n){return function(t,e,n){return A(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},g.allocUnsafe=function(t){return c(t)},g.allocUnsafeSlow=function(t){return c(t)},g.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==g.prototype},g.compare=function(t,e){if(Q(t,Uint8Array)&&(t=g.from(t,t.offset,t.byteLength)),Q(e,Uint8Array)&&(e=g.from(e,e.offset,e.byteLength)),!g.isBuffer(t)||!g.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,i=e.length;for(let r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},g.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return g.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const i=g.allocUnsafe(e);let r=0;for(n=0;n<t.length;++n){let e=t[n];if(Q(e,Uint8Array))r+e.length>i.length?(g.isBuffer(e)||(e=g.from(e)),e.copy(i,r)):Uint8Array.prototype.set.call(i,e,r);else{if(!g.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(i,r)}r+=e.length}return i},g.byteLength=d,g.prototype._isBuffer=!0,g.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)f(this,e,e+1);return this},g.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)f(this,e,e+3),f(this,e+1,e+2);return this},g.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)f(this,e,e+7),f(this,e+1,e+6),f(this,e+2,e+5),f(this,e+3,e+4);return this},g.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?k(this,0,t):u.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(t){if(!g.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===g.compare(this,t)},g.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(g.prototype[o]=g.prototype.inspect),g.prototype.compare=function(t,e,n,i,r){if(Q(t,Uint8Array)&&(t=g.from(t,t.offset,t.byteLength)),!g.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(r>>>=0)-(i>>>=0),s=(n>>>=0)-(e>>>=0);const a=Math.min(o,s),l=this.slice(i,r),A=t.slice(e,n);for(let t=0;t<a;++t)if(l[t]!==A[t]){o=l[t],s=A[t];break}return o<s?-1:s<o?1:0},g.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},g.prototype.indexOf=function(t,e,n){return p(this,t,e,n,!0)},g.prototype.lastIndexOf=function(t,e,n){return p(this,t,e,n,!1)},g.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}const r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let o=!1;for(;;)switch(i){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return y(this,t,e,n);case"ascii":case"latin1":case"binary":return b(this,t,e,n);case"base64":return w(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const S=4096;function T(t,e,n){let i="";n=Math.min(t.length,n);for(let r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function O(t,e,n){let i="";n=Math.min(t.length,n);for(let r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function R(t,e,n){const i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);let r="";for(let i=e;i<n;++i)r+=X[t[i]];return r}function _(t,e,n){const i=t.slice(e,n);let r="";for(let t=0;t<i.length-1;t+=2)r+=String.fromCharCode(i[t]+256*i[t+1]);return r}function N(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,n,i,r,o){if(!g.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function P(t,e,n,i,r){G(e,i,r,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function M(t,e,n,i,r){G(e,i,r,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function L(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(t,e,n,i,o){return e=+e,n>>>=0,o||L(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function B(t,e,n,i,o){return e=+e,n>>>=0,o||L(t,0,n,8),r.write(t,e,n,i,52,8),n+8}g.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const i=this.subarray(t,e);return Object.setPrototypeOf(i,g.prototype),i},g.prototype.readUintLE=g.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||N(t,e,this.length);let i=this[t],r=1,o=0;for(;++o<e&&(r*=256);)i+=this[t+o]*r;return i},g.prototype.readUintBE=g.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||N(t,e,this.length);let i=this[t+--e],r=1;for(;e>0&&(r*=256);)i+=this[t+--e]*r;return i},g.prototype.readUint8=g.prototype.readUInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),this[t]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]|this[t+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]<<8|this[t+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},g.prototype.readBigUInt64LE=J((function(t){U(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const i=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,r=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(i)+(BigInt(r)<<BigInt(32))})),g.prototype.readBigUInt64BE=J((function(t){U(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const i=e*2**24+65536*this[++t]+256*this[++t]+this[++t],r=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(i)<<BigInt(32))+BigInt(r)})),g.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||N(t,e,this.length);let i=this[t],r=1,o=0;for(;++o<e&&(r*=256);)i+=this[t+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*e)),i},g.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||N(t,e,this.length);let i=e,r=1,o=this[t+--i];for(;i>0&&(r*=256);)o+=this[t+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*e)),o},g.prototype.readInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},g.prototype.readInt16LE=function(t,e){t>>>=0,e||N(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},g.prototype.readInt16BE=function(t,e){t>>>=0,e||N(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},g.prototype.readInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},g.prototype.readInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},g.prototype.readBigInt64LE=J((function(t){U(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const i=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),g.prototype.readBigInt64BE=J((function(t){U(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const i=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),g.prototype.readFloatLE=function(t,e){return t>>>=0,e||N(t,4,this.length),r.read(this,t,!0,23,4)},g.prototype.readFloatBE=function(t,e){return t>>>=0,e||N(t,4,this.length),r.read(this,t,!1,23,4)},g.prototype.readDoubleLE=function(t,e){return t>>>=0,e||N(t,8,this.length),r.read(this,t,!0,52,8)},g.prototype.readDoubleBE=function(t,e){return t>>>=0,e||N(t,8,this.length),r.read(this,t,!1,52,8)},g.prototype.writeUintLE=g.prototype.writeUIntLE=function(t,e,n,i){t=+t,e>>>=0,n>>>=0,i||D(this,t,e,n,Math.pow(2,8*n)-1,0);let r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(t,e,n,i){t=+t,e>>>=0,n>>>=0,i||D(this,t,e,n,Math.pow(2,8*n)-1,0);let r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},g.prototype.writeUint8=g.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,1,255,0),this[e]=255&t,e+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},g.prototype.writeBigUInt64LE=J((function(t,e=0){return P(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),g.prototype.writeBigUInt64BE=J((function(t,e=0){return M(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),g.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e>>>=0,!i){const i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}let r=0,o=1,s=0;for(this[e]=255&t;++r<n&&(o*=256);)t<0&&0===s&&0!==this[e+r-1]&&(s=1),this[e+r]=(t/o|0)-s&255;return e+n},g.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e>>>=0,!i){const i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}let r=n-1,o=1,s=0;for(this[e+r]=255&t;--r>=0&&(o*=256);)t<0&&0===s&&0!==this[e+r+1]&&(s=1),this[e+r]=(t/o|0)-s&255;return e+n},g.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},g.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},g.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},g.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},g.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},g.prototype.writeBigInt64LE=J((function(t,e=0){return P(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),g.prototype.writeBigInt64BE=J((function(t,e=0){return M(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),g.prototype.writeFloatLE=function(t,e,n){return j(this,t,e,!0,n)},g.prototype.writeFloatBE=function(t,e,n){return j(this,t,e,!1,n)},g.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},g.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},g.prototype.copy=function(t,e,n,i){if(!g.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);const r=i-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),e),r},g.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!g.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===t.length){const e=t.charCodeAt(0);("utf8"===i&&e<128||"latin1"===i)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let r;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(r=e;r<n;++r)this[r]=t;else{const o=g.isBuffer(t)?t:g.from(t,i),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(r=0;r<n-e;++r)this[r+e]=o[r%s]}return this};const F={};function z(t,e,n){F[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function V(t){let e="",n=t.length;const i="-"===t[0]?1:0;for(;n>=i+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function G(t,e,n,i,r,o){if(t>n||t<e){const i="bigint"==typeof e?"n":"";let r;throw r=o>3?0===e||e===BigInt(0)?`>= 0${i} and < 2${i} ** ${8*(o+1)}${i}`:`>= -(2${i} ** ${8*(o+1)-1}${i}) and < 2 ** ${8*(o+1)-1}${i}`:`>= ${e}${i} and <= ${n}${i}`,new F.ERR_OUT_OF_RANGE("value",r,t)}!function(t,e,n){U(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||W(e,t.length-(n+1))}(i,r,o)}function U(t,e){if("number"!=typeof t)throw new F.ERR_INVALID_ARG_TYPE(e,"number",t)}function W(t,e,n){if(Math.floor(t)!==t)throw U(t,n),new F.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(t,e,n){let i=`The value of "${t}" is out of range.`,r=n;return Number.isInteger(n)&&Math.abs(n)>2**32?r=V(String(n)):"bigint"==typeof n&&(r=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(r=V(r)),r+="n"),i+=` It must be ${e}. Received ${r}`,i}),RangeError);const Z=/[^+/0-9A-Za-z-_]/g;function H(t,e){let n;e=e||1/0;const i=t.length;let r=null;const o=[];for(let s=0;s<i;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(t){return i.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(Z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Y(t,e,n,i){let r;for(r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}function Q(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function K(t){return t!=t}const X=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const i=16*n;for(let r=0;r<16;++r)e[i+r]=t[n]+t[r]}return e}();function J(t){return"undefined"==typeof BigInt?$:t}function $(){throw new Error("BigInt not supported")}},8401:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0,e.Variable=class{constructor(t){this.termType="Variable",this.value=t}equals(t){return!!t&&"Variable"===t.termType&&t.value===this.value}}},8483:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataFactory=void 0;const i=n(9931),r=n(2142),o=n(2426),s=n(3988),a=n(6754),g=n(8401);let l=0;e.DataFactory=class{constructor(t){this.blankNodeCounter=0,t=t||{},this.blankNodePrefix=t.blankNodePrefix||`df_${l++}_`}namedNode(t){return new s.NamedNode(t)}blankNode(t){return new i.BlankNode(t||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(t,e){return new o.Literal(t,e)}variable(t){return new g.Variable(t)}defaultGraph(){return r.DefaultGraph.INSTANCE}quad(t,e,n,i){return new a.Quad(t,e,n,i||this.defaultGraph())}fromTerm(t){switch(t.termType){case"NamedNode":return this.namedNode(t.value);case"BlankNode":return this.blankNode(t.value);case"Literal":return t.language?this.literal(t.value,t.language):t.datatype.equals(o.Literal.XSD_STRING)?this.literal(t.value):this.literal(t.value,this.fromTerm(t.datatype));case"Variable":return this.variable(t.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(t.subject),this.fromTerm(t.predicate),this.fromTerm(t.object),this.fromTerm(t.graph))}}fromQuad(t){return this.fromTerm(t)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},8579:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var i=n(1601),r=n.n(i),o=n(6314),s=n.n(o)()(r());s.push([t.id,"/* Tab panes in the right panel */\n#view-pane,\n#settings-pane {\n  height: calc(100% - 34px); /* Subtract tab bar height */\n  width: 100%;\n  overflow: auto;\n}\n\n#graph-container {\n  height: 100%;\n  width: 100%;\n  background-color: #f9f9f9;\n  position: relative;\n  display: flex;\n}\n\n/* Main network container */\n.vis-network {\n  width: 100%;\n  height: 100%;\n}\n\n/* Node styling */\n.vis-node {\n  font-size: 14px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n}\n\n/* Subject nodes */\n.vis-node.subject {\n  background-color: #97B0F8;\n  border-color: #4466cc;\n}\n\n/* Object nodes */\n.vis-node.object {\n  background-color: #D5DDF6;\n  border-color: #97B0F8;\n}\n\n/* Literal nodes */\n.vis-node.literal {\n  background-color: #fff6a5;\n  border-color: #ffcc00;\n  border-radius: 8px;\n}\n\n/* Class nodes */\n.vis-node.class {\n  background-color: #ffb366;\n  border-color: #ff8000;\n  border-radius: 8px;\n}\n\n/* Property nodes */\n.vis-node.property {\n  background-color: #ffff99;\n  border-color: #e6e600;\n  border-radius: 8px;\n}\n\n/* Selected node highlight */\n.vis-node.vis-selected {\n  background-color: #FFF785;\n  border-color: #FFC200;\n  box-shadow: 0 0 8px #FFC200;\n}\n\n/* Edge styling */\n.vis-edge {\n  color: #0077aa;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  font-size: 12px;\n}\n\n.vis-edge.predicate {\n  width: 2px;\n}\n\n/* Edge label styling */\n.vis-edgelabel {\n  font-size: 12px;\n  background-color: rgba(255, 255, 255, 0.85);\n  padding: 2px 4px;\n  border-radius: 4px;\n  color: #0077aa;\n  font-weight: bold;\n}\n\n/* Cluster styling */\n.vis-cluster {\n  background-color: #ffce99;\n  border-color: #ff9c33;\n}\n\n.vis-cluster:hover {\n  background-color: #ffe6cc;\n  border-color: #ffb566;\n}\n\n/* Navigation controls */\n.vis-navigation {\n  position: absolute;\n  bottom: 10px;\n  right: 10px;\n  z-index: 100;\n}\n\n.vis-navigation button {\n  width: 32px;\n  height: 32px;\n  background-color: white;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  margin: 2px;\n  cursor: pointer;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\n}\n\n.vis-navigation button:hover {\n  background-color: #f0f0f0;\n}\n\n/* Tooltip styling */\n.vis-tooltip {\n  position: absolute;\n  padding: 8px 12px;\n  background-color: white;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  font-size: 13px;\n  z-index: 900;\n  max-width: 300px;\n  word-wrap: break-word;\n  color: #333;\n}\n\n/* Hover effects */\n.vis-node:hover {\n  cursor: pointer;\n  box-shadow: 0 0 6px rgba(0, 0, 0, 0.2);\n}\n\n/* Loading animation */\n.vis-loading-screen {\n  background-color: rgba(255, 255, 255, 0.8);\n}\n\n.vis-loading-text {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  font-size: 14px;\n  color: #555;\n}",""]);const a=s},8584:(t,e,n)=>{"use strict";const i=n(5606),{ArrayPrototypeSlice:r,Error:o,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:a,ObjectDefineProperties:g,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:A,Symbol:c,SymbolHasInstance:h}=n(4134);t.exports=P,P.WritableState=N;const{EventEmitter:C}=n(7007),I=n(4259).Stream,{Buffer:d}=n(8287),u=n(5896),{addAbortSignal:f}=n(4147),{getHighWaterMark:p,getDefaultHighWaterMark:v}=n(5291),{ERR_INVALID_ARG_TYPE:m,ERR_METHOD_NOT_IMPLEMENTED:y,ERR_MULTIPLE_CALLBACK:b,ERR_STREAM_CANNOT_PIPE:w,ERR_STREAM_DESTROYED:x,ERR_STREAM_ALREADY_FINISHED:E,ERR_STREAM_NULL_VALUES:k,ERR_STREAM_WRITE_AFTER_END:S,ERR_UNKNOWN_ENCODING:T}=n(6371).codes,{errorOrDestroy:O}=u;function R(){}l(P.prototype,I.prototype),l(P,I);const _=c("kOnFinished");function N(t,e,i){"boolean"!=typeof i&&(i=e instanceof n(3370)),this.objectMode=!(!t||!t.objectMode),i&&(this.objectMode=this.objectMode||!(!t||!t.writableObjectMode)),this.highWaterMark=t?p(this,t,"writableHighWaterMark",i):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const r=!(!t||!1!==t.decodeStrings);this.decodeStrings=!r,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=B.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,D(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||!1!==t.emitClose,this.autoDestroy=!t||!1!==t.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[_]=[]}function D(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}function P(t){const e=this instanceof n(3370);if(!e&&!s(P,this))return new P(t);this._writableState=new N(t,this,e),t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&f(t.signal,this)),I.call(this,t),u.construct(this,(()=>{const t=this._writableState;t.writing||G(this,t),W(this,t)}))}function M(t,e,n,r){const o=t._writableState;if("function"==typeof n)r=n,n=o.defaultEncoding;else{if(n){if("buffer"!==n&&!d.isEncoding(n))throw new T(n)}else n=o.defaultEncoding;"function"!=typeof r&&(r=R)}if(null===e)throw new k;if(!o.objectMode)if("string"==typeof e)!1!==o.decodeStrings&&(e=d.from(e,n),n="buffer");else if(e instanceof d)n="buffer";else{if(!I._isUint8Array(e))throw new m("chunk",["string","Buffer","Uint8Array"],e);e=I._uint8ArrayToBuffer(e),n="buffer"}let s;return o.ending?s=new S:o.destroyed&&(s=new x("write")),s?(i.nextTick(r,s),O(t,s,!0),s):(o.pendingcb++,function(t,e,n,i,r){const o=e.objectMode?1:n.length;e.length+=o;const s=e.length<e.highWaterMark;return s||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:n,encoding:i,callback:r}),e.allBuffers&&"buffer"!==i&&(e.allBuffers=!1),e.allNoop&&r!==R&&(e.allNoop=!1)):(e.writelen=o,e.writecb=r,e.writing=!0,e.sync=!0,t._write(n,i,e.onwrite),e.sync=!1),s&&!e.errored&&!e.destroyed}(t,o,e,n,r))}function L(t,e,n,i,r,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new x("write")):n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function j(t,e,n,i){--e.pendingcb,i(n),V(e),O(t,n)}function B(t,e){const n=t._writableState,r=n.sync,o=n.writecb;"function"==typeof o?(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,e?(e.stack,n.errored||(n.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),r?i.nextTick(j,t,n,e,o):j(t,n,e,o)):(n.buffered.length>n.bufferedIndex&&G(t,n),r?null!==n.afterWriteTickInfo&&n.afterWriteTickInfo.cb===o?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:o,stream:t,state:n},i.nextTick(F,n.afterWriteTickInfo)):z(t,n,1,o))):O(t,new b)}function F({stream:t,state:e,count:n,cb:i}){return e.afterWriteTickInfo=null,z(t,e,n,i)}function z(t,e,n,i){for(!e.ending&&!t.destroyed&&0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));n-- >0;)e.pendingcb--,i();e.destroyed&&V(e),W(t,e)}function V(t){if(t.writing)return;for(let n=t.bufferedIndex;n<t.buffered.length;++n){var e;const{chunk:i,callback:r}=t.buffered[n],o=t.objectMode?1:i.length;t.length-=o,r(null!==(e=t.errored)&&void 0!==e?e:new x("write"))}const n=t[_].splice(0);for(let e=0;e<n.length;e++){var i;n[e](null!==(i=t.errored)&&void 0!==i?i:new x("end"))}D(t)}function G(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;const{buffered:n,bufferedIndex:i,objectMode:o}=e,s=n.length-i;if(!s)return;let a=i;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;const i=e.allNoop?R:t=>{for(let e=a;e<n.length;++e)n[e].callback(t)},o=e.allNoop&&0===a?n:r(n,a);o.allBuffers=e.allBuffers,L(t,e,!0,e.length,o,"",i),D(e)}else{do{const{chunk:i,encoding:r,callback:s}=n[a];n[a++]=null,L(t,e,!1,o?1:i.length,i,r,s)}while(a<n.length&&!e.writing);a===n.length?D(e):a>256?(n.splice(0,a),e.bufferedIndex=0):e.bufferedIndex=a}e.bufferProcessing=!1}function U(t){return t.ending&&!t.destroyed&&t.constructed&&0===t.length&&!t.errored&&0===t.buffered.length&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function W(t,e,n){U(e)&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.finalCalled=!0,function(t,e){let n=!1;function r(r){if(n)O(t,null!=r?r:b());else if(n=!0,e.pendingcb--,r){const n=e[_].splice(0);for(let t=0;t<n.length;t++)n[t](r);O(t,r,e.sync)}else U(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,i.nextTick(Z,t,e))}e.sync=!0,e.pendingcb++;try{t._final(r)}catch(t){r(t)}e.sync=!1}(t,e)))}(t,e),0===e.pendingcb&&(n?(e.pendingcb++,i.nextTick(((t,e)=>{U(e)?Z(t,e):e.pendingcb--}),t,e)):U(e)&&(e.pendingcb++,Z(t,e))))}function Z(t,e){e.pendingcb--,e.finished=!0;const n=e[_].splice(0);for(let t=0;t<n.length;t++)n[t]();if(t.emit("finish"),e.autoDestroy){const e=t._readableState;(!e||e.autoDestroy&&(e.endEmitted||!1===e.readable))&&t.destroy()}}N.prototype.getBuffer=function(){return r(this.buffered,this.bufferedIndex)},a(N.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),a(P,h,{__proto__:null,value:function(t){return!!s(this,t)||this===P&&t&&t._writableState instanceof N}}),P.prototype.pipe=function(){O(this,new w)},P.prototype.write=function(t,e,n){return!0===M(this,t,e,n)},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){const t=this._writableState;t.corked&&(t.corked--,t.writing||G(this,t))},P.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=A(t)),!d.isEncoding(t))throw new T(t);return this._writableState.defaultEncoding=t,this},P.prototype._write=function(t,e,n){if(!this._writev)throw new y("_write()");this._writev([{chunk:t,encoding:e}],n)},P.prototype._writev=null,P.prototype.end=function(t,e,n){const r=this._writableState;let s;if("function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t){const n=M(this,t,e);n instanceof o&&(s=n)}return r.corked&&(r.corked=1,this.uncork()),s||(r.errored||r.ending?r.finished?s=new E("end"):r.destroyed&&(s=new x("end")):(r.ending=!0,W(this,r,!0),r.ended=!0)),"function"==typeof n&&(s||r.finished?i.nextTick(n,s):r[_].push(n)),this},g(P.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){const t=this._writableState;return!(!t||!1===t.writable||t.destroyed||t.errored||t.ending||t.ended)},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const t=this._writableState;return!!t&&!t.destroyed&&!t.ending&&t.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const H=u.destroy;let q;function Y(){return void 0===q&&(q={}),q}P.prototype.destroy=function(t,e){const n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[_].length)&&i.nextTick(V,n),H.call(this,t,e),this},P.prototype._undestroy=u.undestroy,P.prototype._destroy=function(t,e){e(t)},P.prototype[C.captureRejectionSymbol]=function(t){this.destroy(t)},P.fromWeb=function(t,e){return Y().newStreamWritableFromWritableStream(t,e)},P.toWeb=function(t){return Y().newWritableStreamFromStreamWritable(t)}},8690:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(2277),e)},8799:(t,e,n)=>{"use strict";function i(t){var e=this;if(e instanceof i||(e=new i),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)e.push(arguments[n]);return e}function r(t,e,n){var i=e===t.head?new a(n,null,e,t):new a(n,e,e.next,t);return null===i.next&&(t.tail=i),null===i.prev&&(t.head=i),t.length++,i}function o(t,e){t.tail=new a(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function s(t,e){t.head=new a(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function a(t,e,n,i){if(!(this instanceof a))return new a(t,e,n,i);this.list=i,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}t.exports=i,i.Node=a,i.create=i,i.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e},i.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},i.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},i.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)o(this,arguments[t]);return this.length},i.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)s(this,arguments[t]);return this.length},i.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},i.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},i.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,i=0;null!==n;i++)t.call(e,n.value,i,this),n=n.next},i.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,i=this.length-1;null!==n;i--)t.call(e,n.value,i,this),n=n.prev},i.prototype.get=function(t){for(var e=0,n=this.head;null!==n&&e<t;e++)n=n.next;if(e===t&&null!==n)return n.value},i.prototype.getReverse=function(t){for(var e=0,n=this.tail;null!==n&&e<t;e++)n=n.prev;if(e===t&&null!==n)return n.value},i.prototype.map=function(t,e){e=e||this;for(var n=new i,r=this.head;null!==r;)n.push(t.call(e,r.value,this)),r=r.next;return n},i.prototype.mapReverse=function(t,e){e=e||this;for(var n=new i,r=this.tail;null!==r;)n.push(t.call(e,r.value,this)),r=r.prev;return n},i.prototype.reduce=function(t,e){var n,i=this.head;if(arguments.length>1)n=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");i=this.head.next,n=this.head.value}for(var r=0;null!==i;r++)n=t(n,i.value,r),i=i.next;return n},i.prototype.reduceReverse=function(t,e){var n,i=this.tail;if(arguments.length>1)n=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");i=this.tail.prev,n=this.tail.value}for(var r=this.length-1;null!==i;r--)n=t(n,i.value,r),i=i.prev;return n},i.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;null!==n;e++)t[e]=n.value,n=n.next;return t},i.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;null!==n;e++)t[e]=n.value,n=n.prev;return t},i.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var n=new i;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=0,o=this.head;null!==o&&r<t;r++)o=o.next;for(;null!==o&&r<e;r++,o=o.next)n.push(o.value);return n},i.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var n=new i;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=this.length,o=this.tail;null!==o&&r>e;r--)o=o.prev;for(;null!==o&&r>t;r--,o=o.prev)n.push(o.value);return n},i.prototype.splice=function(t,e,...n){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var i=0,o=this.head;null!==o&&i<t;i++)o=o.next;var s=[];for(i=0;o&&i<e;i++)s.push(o.value),o=this.removeNode(o);for(null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev),i=0;i<n.length;i++)o=r(this,o,n[i]);return s},i.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;null!==n;n=n.prev){var i=n.prev;n.prev=n.next,n.next=i}return this.head=e,this.tail=t,this};try{n(259)(i)}catch(t){}},9146:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},9180:(t,e,n)=>{"use strict";const{createNodeMap:i}=n(9233),{isKeyword:r}=n(1972),o=n(3978),s=n(2341),a=n(2207),g=n(5001),l=n(9263),{handleEvent:A}=n(2246),{RDF_FIRST:c,RDF_REST:h,RDF_NIL:C,RDF_TYPE:I,RDF_JSON_LITERAL:d,RDF_LANGSTRING:u,XSD_BOOLEAN:f,XSD_DOUBLE:p,XSD_INTEGER:v,XSD_STRING:m}=n(9378),{isAbsolute:y}=n(470),b={};function w(t,e,n,i,o){const s=Object.keys(e).sort();for(const a of s){const s=e[a],g=Object.keys(s).sort();for(let e of g){const g=s[e];if("@type"===e)e=I;else if(r(e))continue;for(const r of g){const s={termType:a.startsWith("_:")?"BlankNode":"NamedNode",value:a};if(!y(a)){o.eventHandler&&A({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:a}},options:o});continue}const g={termType:e.startsWith("_:")?"BlankNode":"NamedNode",value:e};if(!y(e)){o.eventHandler&&A({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:e}},options:o});continue}if("BlankNode"===g.termType&&!o.produceGeneralizedRdf){o.eventHandler&&A({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:i.getOldIds().find((t=>i.getId(t)===e))}},options:o});continue}const l=x(r,i,t,n,o.rdfDirection,o);l&&t.push({subject:s,predicate:g,object:l,graph:n})}}}}function x(t,e,n,i,r,l){const I={};if(o.isValue(t)){I.termType="Literal",I.value=void 0,I.datatype={termType:"NamedNode"};let e=t["@value"];const n=t["@type"]||null;if("@json"===n)I.value=s(e),I.datatype.value=d;else if(g.isBoolean(e))I.value=e.toString(),I.datatype.value=n||f;else if(g.isDouble(e)||n===p)g.isDouble(e)||(e=parseFloat(e)),I.value=e.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),I.datatype.value=n||p;else if(g.isNumber(e))I.value=e.toFixed(0),I.datatype.value=n||v;else if("@direction"in t&&"i18n-datatype"===r){const n=`https://www.w3.org/ns/i18n#${(t["@language"]||"").toLowerCase()}_${t["@direction"]}`;I.datatype.value=n,I.value=e}else{if("@direction"in t&&"compound-literal"===r)throw new a("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:r});if("@direction"in t&&r)throw new a("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:r});"@language"in t?("@direction"in t&&!r&&l.eventHandler&&A({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:I.value}},options:l}),I.value=e,I.datatype.value=n||u,I.language=t["@language"]):("@direction"in t&&!r&&l.eventHandler&&A({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:I.value}},options:l}),I.value=e,I.datatype.value=n||m)}}else if(o.isList(t)){const o=function(t,e,n,i,r,o){const s={termType:"NamedNode",value:c},a={termType:"NamedNode",value:h},g={termType:"NamedNode",value:C},l=t.pop(),A=l?{termType:"BlankNode",value:e.getId()}:g;let I=A;for(const g of t){const t=x(g,e,n,i,r,o),l={termType:"BlankNode",value:e.getId()};n.push({subject:I,predicate:s,object:t,graph:i}),n.push({subject:I,predicate:a,object:l,graph:i}),I=l}if(l){const t=x(l,e,n,i,r,o);n.push({subject:I,predicate:s,object:t,graph:i}),n.push({subject:I,predicate:a,object:g,graph:i})}return A}(t["@list"],e,n,i,r,l);I.termType=o.termType,I.value=o.value}else{const e=g.isObject(t)?t["@id"]:t;I.termType=e.startsWith("_:")?"BlankNode":"NamedNode",I.value=e}return"NamedNode"!==I.termType||y(I.value)?I:(l.eventHandler&&A({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:I.value}},options:l}),null)}t.exports=b,b.toRDF=(t,e)=>{const n=new l.IdentifierIssuer("_:b"),r={"@default":{}};i(t,r,"@default",n);const o=[],s=Object.keys(r).sort();for(const t of s){let i;if("@default"===t)i={termType:"DefaultGraph",value:""};else{if(!y(t)){e.eventHandler&&A({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:t}},options:e});continue}i=t.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},i.value=t}w(o,r[t],i,n,e)}return o}},9198:(t,e,n)=>{"use strict";const i=n(5506),r=n(3095),o=i.Readable.destroy;t.exports=i.Readable,t.exports._uint8ArrayToBuffer=i._uint8ArrayToBuffer,t.exports._isUint8Array=i._isUint8Array,t.exports.isDisturbed=i.isDisturbed,t.exports.isErrored=i.isErrored,t.exports.isReadable=i.isReadable,t.exports.Readable=i.Readable,t.exports.Writable=i.Writable,t.exports.Duplex=i.Duplex,t.exports.Transform=i.Transform,t.exports.PassThrough=i.PassThrough,t.exports.addAbortSignal=i.addAbortSignal,t.exports.finished=i.finished,t.exports.destroy=i.destroy,t.exports.destroy=o,t.exports.pipeline=i.pipeline,t.exports.compose=i.compose,Object.defineProperty(i,"promises",{configurable:!0,enumerable:!0,get:()=>r}),t.exports.Stream=i.Stream,t.exports.default=t.exports},9231:t=>{"use strict";t.exports={format:(t,...e)=>t.replace(/%([sdifj])/g,(function(...[t,n]){const i=e.shift();return"f"===n?i.toFixed(6):"j"===n?JSON.stringify(i):"s"===n&&"object"==typeof i?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})),inspect(t){switch(typeof t){case"string":if(t.includes("'")){if(!t.includes('"'))return`"${t}"`;if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}},9233:(t,e,n)=>{"use strict";const{isKeyword:i}=n(1972),r=n(3978),o=n(5001),s=n(9263),a=n(2207),g={};t.exports=g,g.createMergedNodeMap=(t,e)=>{const n=(e=e||{}).issuer||new s.IdentifierIssuer("_:b"),i={"@default":{}};return g.createNodeMap(t,i,"@default",n),g.mergeNodeMaps(i)},g.createNodeMap=(t,e,n,l,A,c)=>{if(o.isArray(t)){for(const i of t)g.createNodeMap(i,e,n,l,void 0,c);return}if(!o.isObject(t))return void(c&&c.push(t));if(r.isValue(t)){if("@type"in t){let e=t["@type"];0===e.indexOf("_:")&&(t["@type"]=e=l.getId(e))}return void(c&&c.push(t))}if(c&&r.isList(t)){const i=[];return g.createNodeMap(t["@list"],e,n,l,A,i),void c.push({"@list":i})}if("@type"in t){const e=t["@type"];for(const t of e)0===t.indexOf("_:")&&l.getId(t)}o.isUndefined(A)&&(A=r.isBlankNode(t)?l.getId(t["@id"]):t["@id"]),c&&c.push({"@id":A});const h=e[n],C=h[A]=h[A]||{};C["@id"]=A;const I=Object.keys(t).sort();for(let o of I){if("@id"===o)continue;if("@reverse"===o){const i={"@id":A},o=t["@reverse"];for(const t in o){const a=o[t];for(const o of a){let a=o["@id"];r.isBlankNode(o)&&(a=l.getId(a)),g.createNodeMap(o,e,n,l,a),s.addValue(h[a],t,i,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===o){A in e||(e[A]={}),g.createNodeMap(t[o],e,A,l);continue}if("@included"===o){g.createNodeMap(t[o],e,n,l);continue}if("@type"!==o&&i(o)){if("@index"===o&&o in C&&(t[o]!==C[o]||t[o]["@id"]!==C[o]["@id"]))throw new a("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:C});C[o]=t[o];continue}const c=t[o];if(0===o.indexOf("_:")&&(o=l.getId(o)),0!==c.length)for(let t of c)if("@type"===o&&(t=0===t.indexOf("_:")?l.getId(t):t),r.isSubject(t)||r.isSubjectReference(t)){if("@id"in t&&!t["@id"])continue;const i=r.isBlankNode(t)?l.getId(t["@id"]):t["@id"];s.addValue(C,o,{"@id":i},{propertyIsArray:!0,allowDuplicate:!1}),g.createNodeMap(t,e,n,l,i)}else if(r.isValue(t))s.addValue(C,o,t,{propertyIsArray:!0,allowDuplicate:!1});else if(r.isList(t)){const i=[];g.createNodeMap(t["@list"],e,n,l,A,i),t={"@list":i},s.addValue(C,o,t,{propertyIsArray:!0,allowDuplicate:!1})}else g.createNodeMap(t,e,n,l,A),s.addValue(C,o,t,{propertyIsArray:!0,allowDuplicate:!1});else s.addValue(C,o,[],{propertyIsArray:!0})}},g.mergeNodeMapGraphs=t=>{const e={};for(const n of Object.keys(t).sort())for(const r of Object.keys(t[n]).sort()){const o=t[n][r];r in e||(e[r]={"@id":r});const a=e[r];for(const t of Object.keys(o).sort())if(i(t)&&"@type"!==t)a[t]=s.clone(o[t]);else for(const e of o[t])s.addValue(a,t,s.clone(e),{propertyIsArray:!0,allowDuplicate:!1})}return e},g.mergeNodeMaps=t=>{const e=t["@default"],n=Object.keys(t).sort();for(const i of n){if("@default"===i)continue;const n=t[i];let o=e[i];o?"@graph"in o||(o["@graph"]=[]):e[i]=o={"@id":i,"@graph":[]};const s=o["@graph"];for(const t of Object.keys(n).sort()){const e=n[t];r.isSubjectReference(e)||s.push(e)}}return e}},9263:(t,e,n)=>{"use strict";const i=n(3978),r=n(5001),o=n(8023).IdentifierIssuer,s=n(2207),a=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,g=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,l=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,A="application/ld+json, application/json",c={};function h(t,e){if(r.isArray(e))for(let n=0;n<e.length;++n)e[n]=h(t,e[n]);else if(i.isList(e))e["@list"]=h(t,e["@list"]);else if(r.isObject(e)){i.isBlankNode(e)&&(e["@id"]=t.getId(e["@id"]));const n=Object.keys(e).sort();for(let i=0;i<n.length;++i){const r=n[i];"@id"!==r&&(e[r]=h(t,e[r]))}}return e}t.exports=c,c.IdentifierIssuer=o,c.REGEX_BCP47=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,c.REGEX_KEYWORD=/^@[a-zA-Z]+$/,c.clone=function(t){if(t&&"object"==typeof t){let e;if(r.isArray(t)){e=[];for(let n=0;n<t.length;++n)e[n]=c.clone(t[n])}else if(t instanceof Map){e=new Map;for(const[n,i]of t)e.set(n,c.clone(i))}else if(t instanceof Set){e=new Set;for(const n of t)e.add(c.clone(n))}else if(r.isObject(t)){e={};for(const n in t)e[n]=c.clone(t[n])}else e=t.toString();return e}return t},c.asArray=function(t){return Array.isArray(t)?t:[t]},c.buildHeaders=(t={})=>{if(Object.keys(t).some((t=>"accept"===t.toLowerCase())))throw new RangeError('Accept header may not be specified; only "'+A+'" is supported.');return Object.assign({Accept:A},t)},c.parseLinkHeader=t=>{const e={},n=t.match(a);for(let t=0;t<n.length;++t){let i=n[t].match(g);if(!i)continue;const r={target:i[1]},o=i[2];for(;i=l.exec(o);)r[i[1]]=void 0===i[2]?i[3]:i[2];const s=r.rel||"";Array.isArray(e[s])?e[s].push(r):e.hasOwnProperty(s)?e[s]=[e[s],r]:e[s]=r}return e},c.validateTypeValue=(t,e)=>{if(!(r.isString(t)||r.isArray(t)&&t.every((t=>r.isString(t))))){if(e&&r.isObject(t))switch(Object.keys(t).length){case 0:return;case 1:if("@default"in t&&c.asArray(t["@default"]).every((t=>r.isString(t))))return}throw new s('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:t})}},c.hasProperty=(t,e)=>{if(t.hasOwnProperty(e)){const n=t[e];return!r.isArray(n)||n.length>0}return!1},c.hasValue=(t,e,n)=>{if(c.hasProperty(t,e)){let o=t[e];const s=i.isList(o);if(r.isArray(o)||s){s&&(o=o["@list"]);for(let t=0;t<o.length;++t)if(c.compareValues(n,o[t]))return!0}else if(!r.isArray(n))return c.compareValues(n,o)}return!1},c.addValue=(t,e,n,i)=>{if("propertyIsArray"in(i=i||{})||(i.propertyIsArray=!1),"valueIsArray"in i||(i.valueIsArray=!1),"allowDuplicate"in i||(i.allowDuplicate=!0),"prependValue"in i||(i.prependValue=!1),i.valueIsArray)t[e]=n;else if(r.isArray(n)){0===n.length&&i.propertyIsArray&&!t.hasOwnProperty(e)&&(t[e]=[]),i.prependValue&&(n=n.concat(t[e]),t[e]=[]);for(let r=0;r<n.length;++r)c.addValue(t,e,n[r],i)}else if(t.hasOwnProperty(e)){const o=!i.allowDuplicate&&c.hasValue(t,e,n);r.isArray(t[e])||o&&!i.propertyIsArray||(t[e]=[t[e]]),o||(i.prependValue?t[e].unshift(n):t[e].push(n))}else t[e]=i.propertyIsArray?[n]:n},c.getValues=(t,e)=>[].concat(t[e]||[]),c.removeProperty=(t,e)=>{delete t[e]},c.removeValue=(t,e,n,i)=>{"propertyIsArray"in(i=i||{})||(i.propertyIsArray=!1);const r=c.getValues(t,e).filter((t=>!c.compareValues(t,n)));0===r.length?c.removeProperty(t,e):1!==r.length||i.propertyIsArray?t[e]=r:t[e]=r[0]},c.relabelBlankNodes=(t,e)=>h((e=e||{}).issuer||new o("_:b"),t),c.compareValues=(t,e)=>t===e||!(!i.isValue(t)||!i.isValue(e)||t["@value"]!==e["@value"]||t["@type"]!==e["@type"]||t["@language"]!==e["@language"]||t["@index"]!==e["@index"])||!!(r.isObject(t)&&"@id"in t&&r.isObject(e)&&"@id"in e)&&t["@id"]===e["@id"],c.compareShortestLeast=(t,e)=>t.length<e.length?-1:e.length<t.length?1:t===e?0:t<e?-1:1},9272:(t,e,n)=>{"use strict";const i=n(6441),r=n(1820);t.exports=class extends r{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new i("sha1")}modifyFirstDegreeComponent(t,e,n){return"BlankNode"!==e.termType?e:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:e.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}createHashToRelated(t,e){const n=new Map,i=this.blankNodeInfo.get(t).quads;for(const r of i){let i,o;if("BlankNode"===r.subject.termType&&r.subject.value!==t)o=r.subject.value,i="p";else{if("BlankNode"!==r.object.termType||r.object.value===t)continue;o=r.object.value,i="r"}const s=this.hashRelatedBlankNode(o,r,e,i),a=n.get(s);a?a.push(o):n.set(s,[o])}return n}}},9325:(t,e,n)=>{var i=n(4840),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();t.exports=o},9350:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},9374:(t,e,n)=>{var i=n(4128),r=n(3805),o=n(4394),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,g=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=i(t);var n=a.test(t);return n||g.test(t)?l(t.slice(2),n?2:8):s.test(t)?NaN:+t}},9378:t=>{"use strict";const e="http://www.w3.org/1999/02/22-rdf-syntax-ns#",n="http://www.w3.org/2001/XMLSchema#";t.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:e,RDF_LIST:e+"List",RDF_FIRST:e+"first",RDF_REST:e+"rest",RDF_NIL:e+"nil",RDF_TYPE:e+"type",RDF_PLAIN_LITERAL:e+"PlainLiteral",RDF_XML_LITERAL:e+"XMLLiteral",RDF_JSON_LITERAL:e+"JSON",RDF_OBJECT:e+"object",RDF_LANGSTRING:e+"langString",XSD:n,XSD_BOOLEAN:n+"boolean",XSD_DOUBLE:n+"double",XSD_INTEGER:n+"integer",XSD_STRING:n+"string"}},9693:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerArrayValue=void 0;const i=n(888),r=n(2395);e.EntryHandlerArrayValue=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,n,i,r){return this.test(t,e,null,n,i)}async test(t,e,n,i,r){return"number"==typeof i[r]}async handle(t,e,n,r,o,s){let a=await e.unaliasKeywordParent(r,s);if("@list"===a){let n=null,i=0;for(let t=s-2;t>0;t--){const e=r[t];if("string"==typeof e||"number"==typeof e){i=t,n=e;break}}if(null!==n){const a=await e.valueToTerm(await t.getContext(r),n,o,s,r);for(const n of a)await this.handleListElement(t,e,n,o,s,r.slice(0,i),i);0===a.length&&await this.handleListElement(t,e,null,o,s,r.slice(0,i),i)}}else if("@set"===a)await t.newOnValueJob(r.slice(0,-2),o,s-2,!1);else if(void 0!==a&&"@type"!==a){for(let t=s-1;t>0;t--)if("number"!=typeof r[t]){a=await e.unaliasKeyword(r[t],r,t);break}const n=await t.getContext(r.slice(0,-1));if("@list"in i.Util.getContextValueContainer(n,a)){t.emittedStack[s+1]=!0;const n=await e.valueToTerm(await t.getContext(r),a,o,s,r);for(const i of n)await this.handleListElement(t,e,i,o,s,r.slice(0,-1),s-1);0===n.length&&await this.handleListElement(t,e,null,o,s,r.slice(0,-1),s-1)}else t.shiftStack(s,1),await t.newOnValueJob(r.slice(0,-1),o,s-1,!1),t.contextTree.removeContext(r.slice(0,-1))}}async handleListElement(t,e,n,i,o,s,a){let g=t.listPointerStack[o];if(null!==i&&null!==(await e.unaliasKeywords(i,s,o))["@value"]){if(g&&g.value){const n=e.dataFactory.blankNode();t.emitQuad(o,e.dataFactory.quad(g.value,e.rdfRest,n,e.getDefaultGraph())),g.value=n}else{const t=e.dataFactory.blankNode();g={value:t,listRootDepth:a,listId:t}}n&&t.emitQuad(o,e.dataFactory.quad(g.value,e.rdfFirst,n,e.getDefaultGraph()))}else g||(g={listRootDepth:a,listId:e.rdfNil});t.listPointerStack[o]=g,t.rdfstar&&t.annotationsBuffer[o]&&t.emitError(new r.ErrorCoded("Found an illegal annotation inside a list",r.ERROR_CODES.INVALID_ANNOTATION))}}},9925:t=>{"use strict";t.exports=class{constructor(t){this.current=t.sort(),this.done=!1,this.dir=new Map;for(let e=0;e<t.length;++e)this.dir.set(t[e],!0)}hasNext(){return!this.done}next(){const{current:t,dir:e}=this,n=t.slice();let i=null,r=0;const o=t.length;for(let n=0;n<o;++n){const s=t[n],a=e.get(s);(null===i||s>i)&&(a&&n>0&&s>t[n-1]||!a&&n<o-1&&s>t[n+1])&&(i=s,r=n)}if(null===i)this.done=!0;else{const n=e.get(i)?r-1:r+1;t[r]=t[n],t[n]=i;for(const n of t)n>i&&e.set(n,!e.get(n))}return n}}},9931:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlankNode=void 0,e.BlankNode=class{constructor(t){this.termType="BlankNode",this.value=t}equals(t){return!!t&&"BlankNode"===t.termType&&t.value===this.value}}}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={id:i,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{"use strict";const t=1024;let e=0;class i{constructor(t,e){this.from=t,this.to=e}}class r{constructor(t={}){this.id=e++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=a.match(t)),e=>{let n=t(e);return void 0===n?null:[this,n]}}}r.closedBy=new r({deserialize:t=>t.split(" ")}),r.openedBy=new r({deserialize:t=>t.split(" ")}),r.group=new r({deserialize:t=>t.split(" ")}),r.isolate=new r({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}}),r.contextHash=new r({perNode:!0}),r.lookAhead=new r({perNode:!0}),r.mounted=new r({perNode:!0});class o{constructor(t,e,n){this.tree=t,this.overlay=e,this.parser=n}static get(t){return t&&t.props&&t.props[r.mounted.id]}}const s=Object.create(null);class a{constructor(t,e,n,i=0){this.name=t,this.props=e,this.id=n,this.flags=i}static define(t){let e=t.props&&t.props.length?Object.create(null):s,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),i=new a(t.name||"",e,t.id,n);if(t.props)for(let n of t.props)if(Array.isArray(n)||(n=n(i)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[n[0].id]=n[1]}return i}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(r.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let i of n.split(" "))e[i]=t[n];return t=>{for(let n=t.prop(r.group),i=-1;i<(n?n.length:0);i++){let r=e[i<0?t.name:n[i]];if(r)return r}}}}a.none=new a("",Object.create(null),0,8);class g{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let n of this.types){let i=null;for(let e of t){let t=e(n);t&&(i||(i=Object.assign({},n.props)),i[t[0].id]=t[1])}e.push(i?new a(n.name,i,n.id,n.flags):n)}return new g(e)}}const l=new WeakMap,A=new WeakMap;var c;!function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"}(c||(c={}));class h{constructor(t,e,n,i,r){if(this.type=t,this.children=e,this.positions=n,this.length=i,this.props=null,r&&r.length){this.props=Object.create(null);for(let[t,e]of r)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=o.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let t of this.children){let n=t.toString();n&&(e&&(e+=","),e+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new E(this.topNode,t)}cursorAt(t,e=0,n=0){let i=l.get(this)||this.topNode,r=new E(i);return r.moveTo(t,e),l.set(this,r._tree),r}get topNode(){return new p(this,0,0,null)}resolve(t,e=0){let n=u(l.get(this)||this.topNode,t,e,!1);return l.set(this,n),n}resolveInner(t,e=0){let n=u(A.get(this)||this.topNode,t,e,!0);return A.set(this,n),n}resolveStack(t,e=0){return function(t,e,n){let i=t.resolveInner(e,n),r=null;for(let t=i instanceof p?i:i.context.parent;t;t=t.parent)if(t.index<0){let o=t.parent;(r||(r=[i])).push(o.resolve(e,n)),t=o}else{let s=o.get(t.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let o=new p(s.tree,s.overlay[0].from+t.from,-1,t);(r||(r=[i])).push(u(o,e,n,!1))}}return r?w(r):i}(this,t,e)}iterate(t){let{enter:e,leave:n,from:i=0,to:r=this.length}=t,o=t.mode||0,s=(o&c.IncludeAnonymous)>0;for(let t=this.cursor(o|c.IncludeAnonymous);;){let o=!1;if(t.from<=r&&t.to>=i&&(!s&&t.type.isAnonymous||!1!==e(t))){if(t.firstChild())continue;o=!0}for(;o&&n&&(s||!t.type.isAnonymous)&&n(t),!t.nextSibling();){if(!t.parent())return;o=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:O(a.none,this.children,this.positions,0,this.children.length,0,this.length,((t,e,n)=>new h(this.type,t,e,n,this.propValues)),t.makeTree||((t,e,n)=>new h(a.none,t,e,n)))}static build(e){return function(e){var n;let{buffer:i,nodeSet:o,maxBufferLength:s=t,reused:a=[],minRepeatType:g=o.types.length}=e,l=Array.isArray(i)?new C(i,i.length):i,A=o.types,c=0,d=0;function u(t,e,n,i,C,y){let{id:b,start:w,end:x,size:E}=l,k=d,S=c;for(;E<0;){if(l.next(),-1==E){let e=a[b];return n.push(e),void i.push(w-t)}if(-3==E)return void(c=b);if(-4==E)return void(d=b);throw new RangeError(`Unrecognized record size: ${E}`)}let T,R,_=A[b],N=w-t;if(x-w<=s&&(R=function(t,e){let n=l.fork(),i=0,r=0,o=0,a=n.end-s,A={size:0,start:0,skip:0};t:for(let s=n.pos-t;n.pos>s;){let t=n.size;if(n.id==e&&t>=0){A.size=i,A.start=r,A.skip=o,o+=4,i+=4,n.next();continue}let l=n.pos-t;if(t<0||l<s||n.start<a)break;let c=n.id>=g?4:0,h=n.start;for(n.next();n.pos>l;){if(n.size<0){if(-3!=n.size)break t;c+=4}else n.id>=g&&(c+=4);n.next()}r=h,i+=t,o+=c}return(e<0||i==t)&&(A.size=i,A.start=r,A.skip=o),A.size>4?A:void 0}(l.pos-e,C))){let e=new Uint16Array(R.size-R.skip),n=l.pos-R.size,i=e.length;for(;l.pos>n;)i=m(R.start,e,i);T=new I(e,x-R.start,o),N=R.start-t}else{let t=l.pos-E;l.next();let e=[],n=[],i=b>=g?b:-1,o=0,a=x;for(;l.pos>t;)i>=0&&l.id==i&&l.size>=0?(l.end<=a-s&&(p(e,n,w,o,l.end,a,i,k,S),o=e.length,a=l.end),l.next()):y>2500?f(w,t,e,n):u(w,t,e,n,i,y+1);if(i>=0&&o>0&&o<e.length&&p(e,n,w,o,w,a,i,k,S),e.reverse(),n.reverse(),i>-1&&o>0){let t=function(t,e){return(n,i,o)=>{let s,a,g=0,l=n.length-1;if(l>=0&&(s=n[l])instanceof h){if(!l&&s.type==t&&s.length==o)return s;(a=s.prop(r.lookAhead))&&(g=i[l]+s.length+a)}return v(t,n,i,o,g,e)}}(_,S);T=O(_,e,n,0,e.length,0,x-w,t,t)}else T=v(_,e,n,x-w,k-x,S)}n.push(T),i.push(N)}function f(t,e,n,i){let r=[],a=0,g=-1;for(;l.pos>e;){let{id:t,start:e,end:n,size:i}=l;if(i>4)l.next();else{if(g>-1&&e<g)break;g<0&&(g=n-s),r.push(t,e,n),a++,l.next()}}if(a){let e=new Uint16Array(4*a),s=r[r.length-2];for(let t=r.length-3,n=0;t>=0;t-=3)e[n++]=r[t],e[n++]=r[t+1]-s,e[n++]=r[t+2]-s,e[n++]=n;n.push(new I(e,r[2]-s,o)),i.push(s-t)}}function p(t,e,n,i,r,s,a,g,l){let A=[],c=[];for(;t.length>i;)A.push(t.pop()),c.push(e.pop()+n-r);t.push(v(o.types[a],A,c,s-r,g-s,l)),e.push(r-n)}function v(t,e,n,i,o,s,a){if(s){let t=[r.contextHash,s];a=a?[t].concat(a):[t]}if(o>25){let t=[r.lookAhead,o];a=a?[t].concat(a):[t]}return new h(t,e,n,i,a)}function m(t,e,n){let{id:i,start:r,end:o,size:s}=l;if(l.next(),s>=0&&i<g){let a=n;if(s>4){let i=l.pos-(s-4);for(;l.pos>i;)n=m(t,e,n)}e[--n]=a,e[--n]=o-t,e[--n]=r-t,e[--n]=i}else-3==s?c=i:-4==s&&(d=i);return n}let y=[],b=[];for(;l.pos>0;)u(e.start||0,e.bufferStart||0,y,b,-1,0);let w=null!==(n=e.length)&&void 0!==n?n:y.length?b[0]+y[0].length:0;return new h(A[e.topID],y.reverse(),b.reverse(),w)}(e)}}h.empty=new h(a.none,[],[],0);class C{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new C(this.buffer,this.index)}}class I{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return a.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],i=this.set.types[e],r=i.name;if(/\W/.test(r)&&!i.isError&&(r=JSON.stringify(r)),n==(t+=4))return r;let o=[];for(;t<n;)o.push(this.childString(t)),t=this.buffer[t+3];return r+"("+o.join(",")+")"}findChild(t,e,n,i,r){let{buffer:o}=this,s=-1;for(let a=t;a!=e&&!(d(r,i,o[a+1],o[a+2])&&(s=a,n>0));a=o[a+3]);return s}slice(t,e,n){let i=this.buffer,r=new Uint16Array(e-t),o=0;for(let s=t,a=0;s<e;){r[a++]=i[s++],r[a++]=i[s++]-n;let e=r[a++]=i[s++]-n;r[a++]=i[s++]-t,o=Math.max(o,e)}return new I(r,o,this.set)}}function d(t,e,n,i){switch(t){case-2:return n<e;case-1:return i>=e&&n<e;case 0:return n<e&&i>e;case 1:return n<=e&&i>e;case 2:return i>e;case 4:return!0}}function u(t,e,n,i){for(var r;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let e=!i&&t instanceof p&&t.index<0?null:t.parent;if(!e)return t;t=e}let o=i?0:c.IgnoreOverlays;if(i)for(let i=t,s=i.parent;s;i=s,s=i.parent)i instanceof p&&i.index<0&&(null===(r=s.enter(e,n,o))||void 0===r?void 0:r.from)!=i.from&&(t=s);for(;;){let i=t.enter(e,n,o);if(!i)return t;t=i}}class f{cursor(t=0){return new E(this,t)}getChild(t,e=null,n=null){let i=v(this,t,e,n);return i.length?i[0]:null}getChildren(t,e=null,n=null){return v(this,t,e,n)}resolve(t,e=0){return u(this,t,e,!1)}resolveInner(t,e=0){return u(this,t,e,!0)}matchContext(t){return m(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),n=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(n=e,e=t.prevSibling):e=t}return n}get node(){return this}get next(){return this.parent}}class p extends f{constructor(t,e,n,i){super(),this._tree=t,this.from=e,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,n,i,r=0){for(let s=this;;){for(let{children:a,positions:g}=s._tree,l=e>0?a.length:-1;t!=l;t+=e){let l=a[t],A=g[t]+s.from;if(d(i,n,A,A+l.length))if(l instanceof I){if(r&c.ExcludeBuffers)continue;let o=l.findChild(0,l.buffer.length,e,n-A,i);if(o>-1)return new b(new y(s,l,t,A),null,o)}else if(r&c.IncludeAnonymous||!l.type.isAnonymous||k(l)){let a;if(!(r&c.IgnoreMounts)&&(a=o.get(l))&&!a.overlay)return new p(a.tree,A,t,s);let g=new p(l,A,t,s);return r&c.IncludeAnonymous||!g.type.isAnonymous?g:g.nextChild(e<0?l.children.length-1:0,e,n,i)}}if(r&c.IncludeAnonymous||!s.type.isAnonymous)return null;if(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,n=0){let i;if(!(n&c.IgnoreOverlays)&&(i=o.get(this._tree))&&i.overlay){let n=t-this.from;for(let{from:t,to:r}of i.overlay)if((e>0?t<=n:t<n)&&(e<0?r>=n:r>n))return new p(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,n)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function v(t,e,n,i){let r=t.cursor(),o=[];if(!r.firstChild())return o;if(null!=n)for(let t=!1;!t;)if(t=r.type.is(n),!r.nextSibling())return o;for(;;){if(null!=i&&r.type.is(i))return o;if(r.type.is(e)&&o.push(r.node),!r.nextSibling())return null==i?o:[]}}function m(t,e,n=e.length-1){for(let i=t;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}class y{constructor(t,e,n,i){this.parent=t,this.buffer=e,this.index=n,this.start=i}}class b extends f{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,n){super(),this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}child(t,e,n){let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.context.start,n);return r<0?null:new b(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,n=0){if(n&c.ExcludeBuffers)return null;let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return r<0?null:new b(this.context,this,r)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new b(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new b(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,i=this.index+4,r=n.buffer[this.index+3];if(r>i){let o=n.buffer[this.index+1];t.push(n.slice(i,r,o)),e.push(0)}return new h(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function w(t){if(!t.length)return null;let e=0,n=t[0];for(let i=1;i<t.length;i++){let r=t[i];(r.from>n.from||r.to<n.to)&&(n=r,e=i)}let i=n instanceof p&&n.index<0?null:n.parent,r=t.slice();return i?r[e]=i:r.splice(e,1),new x(r,n)}class x{constructor(t,e){this.heads=t,this.node=e}get next(){return w(this.heads)}}class E{get name(){return this.type.name}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof p)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:n,buffer:i}=this.buffer;return this.type=e||i.set.types[i.buffer[t]],this.from=n+i.buffer[t+1],this.to=n+i.buffer[t+2],!0}yield(t){return!!t&&(t instanceof p?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,n,this.mode));let{buffer:i}=this.buffer,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.buffer.start,n);return!(r<0)&&(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,n=this.mode){return this.buffer?!(n&c.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&c.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&c.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let t=n<0?0:this.stack[n]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(t)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:i}=this;if(i){if(t>0){if(this.index<i.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(i.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:n}=i)}else({index:e,_parent:n}=this._tree);for(;n;({index:e,_parent:n}=n))if(e>-1)for(let i=e+t,r=t<0?-1:n._tree.children.length;i!=r;i+=t){let t=n._tree.children[i];if(this.mode&c.IncludeAnonymous||t instanceof I||!t.type.isAnonymous||k(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let i=this.index,r=this.stack.length;r>=0;){for(let o=t;o;o=o._parent)if(o.index==i){if(i==this.index)return o;e=o,n=r+1;break t}i=this.stack[--r]}for(let t=n;t<this.stack.length;t++)e=new b(this.buffer,e,this.stack[t]);return this.bufferNode=new b(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let n=0;;){let i=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&e&&e(this),i=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,i=!0}}}matchContext(t){if(!this.buffer)return m(this.node.parent,t);let{buffer:e}=this.buffer,{types:n}=e.set;for(let i=t.length-1,r=this.stack.length-1;i>=0;r--){if(r<0)return m(this._tree,t,i);let o=n[e.buffer[this.stack[r]]];if(!o.isAnonymous){if(t[i]&&t[i]!=o.name)return!1;i--}}return!0}}function k(t){return t.children.some((t=>t instanceof I||!t.type.isAnonymous||k(t)))}const S=new WeakMap;function T(t,e){if(!t.isAnonymous||e instanceof I||e.type!=t)return 1;let n=S.get(e);if(null==n){n=1;for(let i of e.children){if(i.type!=t||!(i instanceof h)){n=1;break}n+=T(t,i)}S.set(e,n)}return n}function O(t,e,n,i,r,o,s,a,g){let l=0;for(let n=i;n<r;n++)l+=T(t,e[n]);let A=Math.ceil(1.5*l/8),c=[],h=[];return function e(n,i,r,s,a){for(let l=r;l<s;){let r=l,C=i[l],I=T(t,n[l]);for(l++;l<s;l++){let e=T(t,n[l]);if(I+e>=A)break;I+=e}if(l==r+1){if(I>A){let t=n[r];e(t.children,t.positions,0,t.children.length,i[r]+a);continue}c.push(n[r])}else{let e=i[l-1]+n[l-1].length-C;c.push(O(t,n,i,r,l,C,e,null,g))}h.push(C+a-o)}}(e,n,i,r,0),(a||g)(c,h,s)}class R{constructor(t,e,n,i,r=!1,o=!1){this.from=t,this.to=e,this.tree=n,this.offset=i,this.open=(r?1:0)|(o?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,e=[],n=!1){let i=[new R(0,t.length,t,0,!1,n)];for(let n of e)n.to>t.length&&i.push(n);return i}static applyChanges(t,e,n=128){if(!e.length)return t;let i=[],r=1,o=t.length?t[0]:null;for(let s=0,a=0,g=0;;s++){let l=s<e.length?e[s]:null,A=l?l.fromA:1e9;if(A-a>=n)for(;o&&o.from<A;){let e=o;if(a>=e.from||A<=e.to||g){let t=Math.max(e.from,a)-g,n=Math.min(e.to,A)-g;e=t>=n?null:new R(t,n,e.tree,e.offset+g,s>0,!!l)}if(e&&i.push(e),o.to>A)break;o=r<t.length?t[r++]:null}if(!l)break;a=l.toA,g=l.toA-l.toB}return i}}class _{startParse(t,e,n){return"string"==typeof t&&(t=new N(t)),n=n?n.length?n.map((t=>new i(t.from,t.to))):[new i(0,0)]:[new i(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let i=this.startParse(t,e,n);for(;;){let t=i.advance();if(t)return t}}}class N{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new r({perNode:!0});let D=[],P=[];function M(t){if(t<768)return!1;for(let e=0,n=D.length;;){let i=e+n>>1;if(t<D[i])n=i;else{if(!(t>=P[i]))return!0;e=i+1}if(e==n)return!1}}function L(t){return t>=127462&&t<=127487}function j(t,e,n=!0,i=!0){return(n?B:F)(t,e,i)}function B(t,e,n){if(e==t.length)return e;e&&V(t.charCodeAt(e))&&G(t.charCodeAt(e-1))&&e--;let i=z(t,e);for(e+=U(i);e<t.length;){let r=z(t,e);if(8205==i||8205==r||n&&M(r))e+=U(r),i=r;else{if(!L(r))break;{let n=0,i=e-2;for(;i>=0&&L(z(t,i));)n++,i-=2;if(n%2==0)break;e+=2}}}return e}function F(t,e,n){for(;e>0;){let i=B(t,e-2,n);if(i<e)return i;e--}return 0}function z(t,e){let n=t.charCodeAt(e);if(!G(n)||e+1==t.length)return n;let i=t.charCodeAt(e+1);return V(i)?i-56320+(n-55296<<10)+65536:n}function V(t){return t>=56320&&t<57344}function G(t){return t>=55296&&t<56320}function U(t){return t<65536?1:2}(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((t=>t?parseInt(t,36):1));for(let e=0,n=0;e<t.length;e++)(e%2?P:D).push(n+=t[e])})();class W{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,n){[t,e]=$(this,t,e);let i=[];return this.decompose(0,t,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(e,this.length,i,1),H.from(i,this.length-(e-t)+n.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){[t,e]=$(this,t,e);let n=[];return this.decompose(t,e,n,0),H.from(n,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),n=this.length-this.scanIdentical(t,-1),i=new Q(this),r=new Q(t);for(let t=e,o=e;;){if(i.next(t),r.next(t),t=0,i.lineBreak!=r.lineBreak||i.done!=r.done||i.value!=r.value)return!1;if(o+=i.value.length,i.done||o>=n)return!0}}iter(t=1){return new Q(this,t)}iterRange(t,e=this.length){return new K(this,t,e)}iterLines(t,e){let n;if(null==t)n=this.iter();else{null==e&&(e=this.lines+1);let i=this.line(t).from;n=this.iterRange(i,Math.max(i,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new X(n)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new Z(t):H.from(Z.split(t,[])):W.empty}}class Z extends W{constructor(t,e=function(t){let e=-1;for(let n of t)e+=n.length+1;return e}(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,n,i){for(let r=0;;r++){let o=this.text[r],s=i+o.length;if((e?n:s)>=t)return new J(i,s,n,o);i=s+1,n++}}decompose(t,e,n,i){let r=t<=0&&e>=this.length?this:new Z(Y(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(1&i){let t=n.pop(),e=q(r.text,t.text.slice(),0,r.length);if(e.length<=32)n.push(new Z(e,t.length+r.length));else{let t=e.length>>1;n.push(new Z(e.slice(0,t)),new Z(e.slice(t)))}}else n.push(r)}replace(t,e,n){if(!(n instanceof Z))return super.replace(t,e,n);[t,e]=$(this,t,e);let i=q(this.text,q(n.text,Y(this.text,0,t)),e),r=this.length+n.length-(e-t);return i.length<=32?new Z(i,r):H.from(Z.split(i,[]),r)}sliceString(t,e=this.length,n="\n"){[t,e]=$(this,t,e);let i="";for(let r=0,o=0;r<=e&&o<this.text.length;o++){let s=this.text[o],a=r+s.length;r>t&&o&&(i+=n),t<a&&e>r&&(i+=s.slice(Math.max(0,t-r),e-r)),r=a+1}return i}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let n=[],i=-1;for(let r of t)n.push(r),i+=r.length+1,32==n.length&&(e.push(new Z(n,i)),n=[],i=-1);return i>-1&&e.push(new Z(n,i)),e}}class H extends W{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let e of t)this.lines+=e.lines}lineInner(t,e,n,i){for(let r=0;;r++){let o=this.children[r],s=i+o.length,a=n+o.lines-1;if((e?a:s)>=t)return o.lineInner(t,e,n,i);i=s+1,n=a+1}}decompose(t,e,n,i){for(let r=0,o=0;o<=e&&r<this.children.length;r++){let s=this.children[r],a=o+s.length;if(t<=a&&e>=o){let r=i&((o<=t?1:0)|(a>=e?2:0));o>=t&&a<=e&&!r?n.push(s):s.decompose(t-o,e-o,n,r)}o=a+1}}replace(t,e,n){if([t,e]=$(this,t,e),n.lines<this.lines)for(let i=0,r=0;i<this.children.length;i++){let o=this.children[i],s=r+o.length;if(t>=r&&e<=s){let a=o.replace(t-r,e-r,n),g=this.lines-o.lines+a.lines;if(a.lines<g>>4&&a.lines>g>>6){let r=this.children.slice();return r[i]=a,new H(r,this.length-(e-t)+n.length)}return super.replace(r,s,a)}r=s+1}return super.replace(t,e,n)}sliceString(t,e=this.length,n="\n"){[t,e]=$(this,t,e);let i="";for(let r=0,o=0;r<this.children.length&&o<=e;r++){let s=this.children[r],a=o+s.length;o>t&&r&&(i+=n),t<a&&e>o&&(i+=s.sliceString(t-o,e-o,n)),o=a+1}return i}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof H))return 0;let n=0,[i,r,o,s]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;i+=e,r+=e){if(i==o||r==s)return n;let a=this.children[i],g=t.children[r];if(a!=g)return n+a.scanIdentical(g,e);n+=a.length+1}}static from(t,e=t.reduce(((t,e)=>t+e.length+1),-1)){let n=0;for(let e of t)n+=e.lines;if(n<32){let n=[];for(let e of t)e.flatten(n);return new Z(n,e)}let i=Math.max(32,n>>5),r=i<<1,o=i>>1,s=[],a=0,g=-1,l=[];function A(t){let e;if(t.lines>r&&t instanceof H)for(let e of t.children)A(e);else t.lines>o&&(a>o||!a)?(c(),s.push(t)):t instanceof Z&&a&&(e=l[l.length-1])instanceof Z&&t.lines+e.lines<=32?(a+=t.lines,g+=t.length+1,l[l.length-1]=new Z(e.text.concat(t.text),e.length+1+t.length)):(a+t.lines>i&&c(),a+=t.lines,g+=t.length+1,l.push(t))}function c(){0!=a&&(s.push(1==l.length?l[0]:H.from(l,g)),g=-1,a=l.length=0)}for(let e of t)A(e);return c(),1==s.length?s[0]:new H(s,e)}}function q(t,e,n=0,i=1e9){for(let r=0,o=0,s=!0;o<t.length&&r<=i;o++){let a=t[o],g=r+a.length;g>=n&&(g>i&&(a=a.slice(0,i-r)),r<n&&(a=a.slice(n-r)),s?(e[e.length-1]+=a,s=!1):e.push(a)),r=g+1}return e}function Y(t,e,n){return q(t,[""],e,n)}W.empty=new Z([""],0);class Q{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof Z?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],r=this.offsets[n],o=r>>1,s=i instanceof Z?i.text.length:i.children.length;if(o==(e>0?s:0)){if(0==n)return this.done=!0,this.value="",this;e>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&r)==(e>0?0:1)){if(this.offsets[n]+=e,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(i instanceof Z){let r=i.text[o+(e<0?-1:0)];if(this.offsets[n]+=e,r.length>Math.max(0,t))return this.value=0==t?r:e>0?r.slice(t):r.slice(0,r.length-t),this;t-=r.length}else{let r=i.children[o+(e<0?-1:0)];t>r.length?(t-=r.length,this.offsets[n]+=e):(e<0&&this.offsets[n]--,this.nodes.push(r),this.offsets.push(e>0?1:(r instanceof Z?r.text.length:r.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class K{constructor(t,e,n){this.value="",this.done=!1,this.cursor=new Q(t,e>n?-1:1),this.pos=e>n?t.length:0,this.from=Math.min(e,n),this.to=Math.max(e,n)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let n=e<0?this.pos-this.from:this.to-this.pos;t>n&&(t=n),n-=t;let{value:i}=this.cursor.next(t);return this.pos+=(i.length+t)*e,this.value=i.length<=n?i:e<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class X{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:n,value:i}=this.inner.next(t);return e&&this.afterBreak?(this.value="",this.afterBreak=!1):e?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(W.prototype[Symbol.iterator]=function(){return this.iter()},Q.prototype[Symbol.iterator]=K.prototype[Symbol.iterator]=X.prototype[Symbol.iterator]=function(){return this});class J{constructor(t,e,n,i){this.from=t,this.to=e,this.number=n,this.text=i}get length(){return this.to-this.from}}function $(t,e,n){return[e=Math.max(0,Math.min(t.length,e)),Math.max(e,Math.min(t.length,n))]}function tt(t,e,n=!0,i=!0){return j(t,e,n,i)}const et=/\r\n?|\n/;var nt=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(nt||(nt={}));class it{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e+1];t+=n<0?this.sections[e]:n}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let e=0,n=0,i=0;e<this.sections.length;){let r=this.sections[e++],o=this.sections[e++];o<0?(t(n,i,r),i+=r):i+=o,n+=r}}iterChangedRanges(t,e=!1){at(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let n=this.sections[e++],i=this.sections[e++];i<0?t.push(n,i):t.push(i,n)}return new it(t)}composeDesc(t){return this.empty?t:t.empty?this:lt(this,t)}mapDesc(t,e=!1){return t.empty?this:gt(this,t,e)}mapPos(t,e=-1,n=nt.Simple){let i=0,r=0;for(let o=0;o<this.sections.length;){let s=this.sections[o++],a=this.sections[o++],g=i+s;if(a<0){if(g>t)return r+(t-i);r+=s}else{if(n!=nt.Simple&&g>=t&&(n==nt.TrackDel&&i<t&&g>t||n==nt.TrackBefore&&i<t||n==nt.TrackAfter&&g>t))return null;if(g>t||g==t&&e<0&&!s)return t==i||e<0?r:r+a;r+=a}i=g}if(t>i)throw new RangeError(`Position ${t} is out of range for changeset of length ${i}`);return r}touchesRange(t,e=t){for(let n=0,i=0;n<this.sections.length&&i<=e;){let r=i+this.sections[n++];if(this.sections[n++]>=0&&i<=e&&r>=t)return!(i<t&&r>e)||"cover";i=r}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let n=this.sections[e++],i=this.sections[e++];t+=(t?" ":"")+n+(i>=0?":"+i:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some((t=>"number"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new it(t)}static create(t){return new it(t)}}class rt extends it{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return at(this,((e,n,i,r,o)=>t=t.replace(i,i+(n-e),o)),!1),t}mapDesc(t,e=!1){return gt(this,t,e,!0)}invert(t){let e=this.sections.slice(),n=[];for(let i=0,r=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s>=0){e[i]=s,e[i+1]=o;let a=i>>1;for(;n.length<a;)n.push(W.empty);n.push(o?t.slice(r,r+o):W.empty)}r+=o}return new rt(e,n)}compose(t){return this.empty?t:t.empty?this:lt(this,t,!0)}map(t,e=!1){return t.empty?this:gt(this,t,e,!0)}iterChanges(t,e=!1){at(this,t,e)}get desc(){return it.create(this.sections)}filter(t){let e=[],n=[],i=[],r=new At(this);t:for(let o=0,s=0;;){let a=o==t.length?1e9:t[o++];for(;s<a||s==a&&0==r.len;){if(r.done)break t;let t=Math.min(r.len,a-s);ot(i,t,-1);let o=-1==r.ins?-1:0==r.off?r.ins:0;ot(e,t,o),o>0&&st(n,e,r.text),r.forward(t),s+=t}let g=t[o++];for(;s<g;){if(r.done)break t;let t=Math.min(r.len,g-s);ot(e,t,-1),ot(i,t,-1==r.ins?-1:0==r.off?r.ins:0),r.forward(t),s+=t}}return{changes:new rt(e,n),filtered:it.create(i)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e],i=this.sections[e+1];i<0?t.push(n):0==i?t.push([n]):t.push([n].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,n){let i=[],r=[],o=0,s=null;function a(t=!1){if(!t&&!i.length)return;o<e&&ot(i,e-o,-1);let n=new rt(i,r);s=s?s.compose(n.map(s)):n,i=[],r=[],o=0}return function t(g){if(Array.isArray(g))for(let e of g)t(e);else if(g instanceof rt){if(g.length!=e)throw new RangeError(`Mismatched change set length (got ${g.length}, expected ${e})`);a(),s=s?s.compose(g.map(s)):g}else{let{from:t,to:s=t,insert:l}=g;if(t>s||t<0||s>e)throw new RangeError(`Invalid change range ${t} to ${s} (in doc of length ${e})`);let A=l?"string"==typeof l?W.of(l.split(n||et)):l:W.empty,c=A.length;if(t==s&&0==c)return;t<o&&a(),t>o&&ot(i,t-o,-1),ot(i,s-t,c),st(r,i,A),o=s}}(t),a(!s),s}static empty(t){return new rt(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],n=[];for(let i=0;i<t.length;i++){let r=t[i];if("number"==typeof r)e.push(r,-1);else{if(!Array.isArray(r)||"number"!=typeof r[0]||r.some(((t,e)=>e&&"string"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==r.length)e.push(r[0],0);else{for(;n.length<i;)n.push(W.empty);n[i]=W.of(r.slice(1)),e.push(r[0],n[i].length)}}}return new rt(e,n)}static createSet(t,e){return new rt(t,e)}}function ot(t,e,n,i=!1){if(0==e&&n<=0)return;let r=t.length-2;r>=0&&n<=0&&n==t[r+1]?t[r]+=e:r>=0&&0==e&&0==t[r]?t[r+1]+=n:i?(t[r]+=e,t[r+1]+=n):t.push(e,n)}function st(t,e,n){if(0==n.length)return;let i=e.length-2>>1;if(i<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<i;)t.push(W.empty);t.push(n)}}function at(t,e,n){let i=t.inserted;for(let r=0,o=0,s=0;s<t.sections.length;){let a=t.sections[s++],g=t.sections[s++];if(g<0)r+=a,o+=a;else{let l=r,A=o,c=W.empty;for(;l+=a,A+=g,g&&i&&(c=c.append(i[s-2>>1])),!(n||s==t.sections.length||t.sections[s+1]<0);)a=t.sections[s++],g=t.sections[s++];e(r,l,o,A,c),r=l,o=A}}}function gt(t,e,n,i=!1){let r=[],o=i?[]:null,s=new At(t),a=new At(e);for(let t=-1;;){if(s.done&&a.len||a.done&&s.len)throw new Error("Mismatched change set lengths");if(-1==s.ins&&-1==a.ins){let t=Math.min(s.len,a.len);ot(r,t,-1),s.forward(t),a.forward(t)}else if(a.ins>=0&&(s.ins<0||t==s.i||0==s.off&&(a.len<s.len||a.len==s.len&&!n))){let e=a.len;for(ot(r,a.ins,-1);e;){let n=Math.min(s.len,e);s.ins>=0&&t<s.i&&s.len<=n&&(ot(r,0,s.ins),o&&st(o,r,s.text),t=s.i),s.forward(n),e-=n}a.next()}else{if(!(s.ins>=0)){if(s.done&&a.done)return o?rt.createSet(r,o):it.create(r);throw new Error("Mismatched change set lengths")}{let e=0,n=s.len;for(;n;)if(-1==a.ins){let t=Math.min(n,a.len);e+=t,n-=t,a.forward(t)}else{if(!(0==a.ins&&a.len<n))break;n-=a.len,a.next()}ot(r,e,t<s.i?s.ins:0),o&&t<s.i&&st(o,r,s.text),t=s.i,s.forward(s.len-n)}}}}function lt(t,e,n=!1){let i=[],r=n?[]:null,o=new At(t),s=new At(e);for(let t=!1;;){if(o.done&&s.done)return r?rt.createSet(i,r):it.create(i);if(0==o.ins)ot(i,o.len,0,t),o.next();else if(0!=s.len||s.done){if(o.done||s.done)throw new Error("Mismatched change set lengths");{let e=Math.min(o.len2,s.len),n=i.length;if(-1==o.ins){let n=-1==s.ins?-1:s.off?0:s.ins;ot(i,e,n,t),r&&n&&st(r,i,s.text)}else-1==s.ins?(ot(i,o.off?0:o.len,e,t),r&&st(r,i,o.textBit(e))):(ot(i,o.off?0:o.len,s.off?0:s.ins,t),r&&!s.off&&st(r,i,s.text));t=(o.ins>e||s.ins>=0&&s.len>e)&&(t||i.length>n),o.forward2(e),s.forward(e)}}else ot(i,0,s.ins,t),r&&st(r,i,s.text),s.next()}}class At{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?W.empty:t[e]}textBit(t){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length&&!t?W.empty:e[n].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class ct{constructor(t,e,n){this.from=t,this.to=e,this.flags=n}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let t=7&this.flags;return 7==t?null:t}get goalColumn(){let t=this.flags>>6;return 16777215==t?void 0:t}map(t,e=-1){let n,i;return this.empty?n=i=t.mapPos(this.from,e):(n=t.mapPos(this.from,1),i=t.mapPos(this.to,-1)),n==this.from&&i==this.to?this:new ct(n,i,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return ht.range(t,e);let n=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return ht.range(this.anchor,n)}eq(t,e=!1){return!(this.anchor!=t.anchor||this.head!=t.head||e&&this.empty&&this.assoc!=t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return ht.range(t.anchor,t.head)}static create(t,e,n){return new ct(t,e,n)}}class ht{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:ht.create(this.ranges.map((n=>n.map(t,e))),this.mainIndex)}eq(t,e=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(t.ranges[n],e))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new ht([this.main],0)}addRange(t,e=!0){return ht.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let n=this.ranges.slice();return n[e]=t,ht.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((t=>t.toJSON())),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new ht(t.ranges.map((t=>ct.fromJSON(t))),t.main)}static single(t,e=t){return new ht([ht.range(t,e)],0)}static create(t,e=0){if(0==t.length)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<t.length;i++){let r=t[i];if(r.empty?r.from<=n:r.from<n)return ht.normalized(t.slice(),e);n=r.to}return new ht(t,e)}static cursor(t,e=0,n,i){return ct.create(t,t,(0==e?0:e<0?8:16)|(null==n?7:Math.min(6,n))|(null!=i?i:16777215)<<6)}static range(t,e,n,i){let r=(null!=n?n:16777215)<<6|(null==i?7:Math.min(6,i));return e<t?ct.create(e,t,48|r):ct.create(t,e,(e>t?8:0)|r)}static normalized(t,e=0){let n=t[e];t.sort(((t,e)=>t.from-e.from)),e=t.indexOf(n);for(let n=1;n<t.length;n++){let i=t[n],r=t[n-1];if(i.empty?i.from<=r.to:i.from<r.to){let o=r.from,s=Math.max(i.to,r.to);n<=e&&e--,t.splice(--n,2,i.anchor>i.head?ht.range(s,o):ht.range(o,s))}}return new ht(t,e)}}function Ct(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let It=0;class dt{constructor(t,e,n,i,r){this.combine=t,this.compareInput=e,this.compare=n,this.isStatic=i,this.id=It++,this.default=t([]),this.extensions="function"==typeof r?r(this):r}get reader(){return this}static define(t={}){return new dt(t.combine||(t=>t),t.compareInput||((t,e)=>t===e),t.compare||(t.combine?(t,e)=>t===e:ut),!!t.static,t.enables)}of(t){return new ft([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new ft(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new ft(t,this,2,e)}from(t,e){return e||(e=t=>t),this.compute([t],(n=>e(n.field(t))))}}function ut(t,e){return t==e||t.length==e.length&&t.every(((t,n)=>t===e[n]))}class ft{constructor(t,e,n,i){this.dependencies=t,this.facet=e,this.type=n,this.value=i,this.id=It++}dynamicSlot(t){var e;let n=this.value,i=this.facet.compareInput,r=this.id,o=t[r]>>1,s=2==this.type,a=!1,g=!1,l=[];for(let n of this.dependencies)"doc"==n?a=!0:"selection"==n?g=!0:1&(null!==(e=t[n.id])&&void 0!==e?e:1)||l.push(t[n.id]);return{create:t=>(t.values[o]=n(t),1),update(t,e){if(a&&e.docChanged||g&&(e.docChanged||e.selection)||vt(t,l)){let e=n(t);if(s?!pt(e,t.values[o],i):!i(e,t.values[o]))return t.values[o]=e,1}return 0},reconfigure:(t,e)=>{let a,g=e.config.address[r];if(null!=g){let r=Rt(e,g);if(this.dependencies.every((n=>n instanceof dt?e.facet(n)===t.facet(n):!(n instanceof bt)||e.field(n,!1)==t.field(n,!1)))||(s?pt(a=n(t),r,i):i(a=n(t),r)))return t.values[o]=r,0}else a=n(t);return t.values[o]=a,1}}}}function pt(t,e,n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!1;return!0}function vt(t,e){let n=!1;for(let i of e)1&Ot(t,i)&&(n=!0);return n}function mt(t,e,n){let i=n.map((e=>t[e.id])),r=n.map((t=>t.type)),o=i.filter((t=>!(1&t))),s=t[e.id]>>1;function a(t){let n=[];for(let e=0;e<i.length;e++){let o=Rt(t,i[e]);if(2==r[e])for(let t of o)n.push(t);else n.push(o)}return e.combine(n)}return{create(t){for(let e of i)Ot(t,e);return t.values[s]=a(t),1},update(t,n){if(!vt(t,o))return 0;let i=a(t);return e.compare(i,t.values[s])?0:(t.values[s]=i,1)},reconfigure(t,r){let o=vt(t,i),g=r.config.facets[e.id],l=r.facet(e);if(g&&!o&&ut(n,g))return t.values[s]=l,0;let A=a(t);return e.compare(A,l)?(t.values[s]=l,0):(t.values[s]=A,1)}}}const yt=dt.define({static:!0});class bt{constructor(t,e,n,i,r){this.id=t,this.createF=e,this.updateF=n,this.compareF=i,this.spec=r,this.provides=void 0}static define(t){let e=new bt(It++,t.create,t.update,t.compare||((t,e)=>t===e),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(yt).find((t=>t.field==this));return((null==e?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:t=>(t.values[e]=this.create(t),1),update:(t,n)=>{let i=t.values[e],r=this.updateF(i,n);return this.compareF(i,r)?0:(t.values[e]=r,1)},reconfigure:(t,n)=>{let i,r=t.facet(yt),o=n.facet(yt);return(i=r.find((t=>t.field==this)))&&i!=o.find((t=>t.field==this))?(t.values[e]=i.create(t),1):null!=n.config.address[this.id]?(t.values[e]=n.field(this),0):(t.values[e]=this.create(t),1)}}}init(t){return[this,yt.of({field:this,create:t})]}get extension(){return this}}function wt(t){return e=>new Et(e,t)}const xt={highest:wt(0),high:wt(1),default:wt(2),low:wt(3),lowest:wt(4)};class Et{constructor(t,e){this.inner=t,this.prec=e}}class kt{of(t){return new St(this,t)}reconfigure(t){return kt.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class St{constructor(t,e){this.compartment=t,this.inner=e}}class Tt{constructor(t,e,n,i,r,o){for(this.base=t,this.compartments=e,this.dynamicSlots=n,this.address=i,this.staticValues=r,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}static resolve(t,e,n){let i=[],r=Object.create(null),o=new Map;for(let n of function(t,e,n){let i=[[],[],[],[],[]],r=new Map;return function t(o,s){let a=r.get(o);if(null!=a){if(a<=s)return;let t=i[a].indexOf(o);t>-1&&i[a].splice(t,1),o instanceof St&&n.delete(o.compartment)}if(r.set(o,s),Array.isArray(o))for(let e of o)t(e,s);else if(o instanceof St){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let i=e.get(o.compartment)||o.inner;n.set(o.compartment,i),t(i,s)}else if(o instanceof Et)t(o.inner,o.prec);else if(o instanceof bt)i[s].push(o),o.provides&&t(o.provides,s);else if(o instanceof ft)i[s].push(o),o.facet.extensions&&t(o.facet.extensions,2);else{let e=o.extension;if(!e)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);t(e,s)}}(t,2),i.reduce(((t,e)=>t.concat(e)))}(t,e,o))n instanceof bt?i.push(n):(r[n.facet.id]||(r[n.facet.id]=[])).push(n);let s=Object.create(null),a=[],g=[];for(let t of i)s[t.id]=g.length<<1,g.push((e=>t.slot(e)));let l=null==n?void 0:n.config.facets;for(let t in r){let e=r[t],i=e[0].facet,o=l&&l[t]||[];if(e.every((t=>0==t.type)))if(s[i.id]=a.length<<1|1,ut(o,e))a.push(n.facet(i));else{let t=i.combine(e.map((t=>t.value)));a.push(n&&i.compare(t,n.facet(i))?n.facet(i):t)}else{for(let t of e)0==t.type?(s[t.id]=a.length<<1|1,a.push(t.value)):(s[t.id]=g.length<<1,g.push((e=>t.dynamicSlot(e))));s[i.id]=g.length<<1,g.push((t=>mt(t,i,e)))}}let A=g.map((t=>t(s)));return new Tt(t,o,A,s,a,r)}}function Ot(t,e){if(1&e)return 2;let n=e>>1,i=t.status[n];if(4==i)throw new Error("Cyclic dependency between fields and/or facets");if(2&i)return i;t.status[n]=4;let r=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|r}function Rt(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}const _t=dt.define(),Nt=dt.define({combine:t=>t.some((t=>t)),static:!0}),Dt=dt.define({combine:t=>t.length?t[0]:void 0,static:!0}),Pt=dt.define(),Mt=dt.define(),Lt=dt.define(),jt=dt.define({combine:t=>!!t.length&&t[0]});class Bt{constructor(t,e){this.type=t,this.value=e}static define(){return new Ft}}class Ft{of(t){return new Bt(this,t)}}class zt{constructor(t){this.map=t}of(t){return new Vt(this,t)}}class Vt{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return void 0===e?void 0:e==this.value?this:new Vt(this.type,e)}is(t){return this.type==t}static define(t={}){return new zt(t.map||(t=>t))}static mapEffects(t,e){if(!t.length)return t;let n=[];for(let i of t){let t=i.map(e);t&&n.push(t)}return n}}Vt.reconfigure=Vt.define(),Vt.appendConfig=Vt.define();class Gt{constructor(t,e,n,i,r,o){this.startState=t,this.changes=e,this.selection=n,this.effects=i,this.annotations=r,this.scrollIntoView=o,this._doc=null,this._state=null,n&&Ct(n,e.newLength),r.some((t=>t.type==Gt.time))||(this.annotations=r.concat(Gt.time.of(Date.now())))}static create(t,e,n,i,r,o){return new Gt(t,e,n,i,r,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(Gt.userEvent);return!(!e||!(e==t||e.length>t.length&&e.slice(0,t.length)==t&&"."==e[t.length]))}}function Ut(t,e){let n=[];for(let i=0,r=0;;){let o,s;if(i<t.length&&(r==e.length||e[r]>=t[i]))o=t[i++],s=t[i++];else{if(!(r<e.length))return n;o=e[r++],s=e[r++]}!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function Wt(t,e,n){var i;let r,o,s;return n?(r=e.changes,o=rt.empty(e.changes.length),s=t.changes.compose(e.changes)):(r=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(r)),{changes:s,selection:e.selection?e.selection.map(o):null===(i=t.selection)||void 0===i?void 0:i.map(r),effects:Vt.mapEffects(t.effects,r).concat(Vt.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Zt(t,e,n){let i=e.selection,r=Yt(e.annotations);return e.userEvent&&(r=r.concat(Gt.userEvent.of(e.userEvent))),{changes:e.changes instanceof rt?e.changes:rt.of(e.changes||[],n,t.facet(Dt)),selection:i&&(i instanceof ht?i:ht.single(i.anchor,i.head)),effects:Yt(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function Ht(t,e,n){let i=Zt(t,e.length?e[0]:{},t.doc.length);e.length&&!1===e[0].filter&&(n=!1);for(let r=1;r<e.length;r++){!1===e[r].filter&&(n=!1);let o=!!e[r].sequential;i=Wt(i,Zt(t,e[r],o?i.changes.newLength:t.doc.length),o)}let r=Gt.create(t,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return function(t){let e=t.startState,n=e.facet(Lt),i=t;for(let r=n.length-1;r>=0;r--){let o=n[r](t);o&&Object.keys(o).length&&(i=Wt(i,Zt(e,o,t.changes.newLength),!0))}return i==t?t:Gt.create(e,t.changes,t.selection,i.effects,i.annotations,i.scrollIntoView)}(n?function(t){let e=t.startState,n=!0;for(let i of e.facet(Pt)){let e=i(t);if(!1===e){n=!1;break}Array.isArray(e)&&(n=!0===n?e:Ut(n,e))}if(!0!==n){let i,r;if(!1===n)r=t.changes.invertedDesc,i=rt.empty(e.doc.length);else{let e=t.changes.filter(n);i=e.changes,r=e.filtered.mapDesc(e.changes).invertedDesc}t=Gt.create(e,i,t.selection&&t.selection.map(r),Vt.mapEffects(t.effects,r),t.annotations,t.scrollIntoView)}let i=e.facet(Mt);for(let n=i.length-1;n>=0;n--){let r=i[n](t);t=r instanceof Gt?r:Array.isArray(r)&&1==r.length&&r[0]instanceof Gt?r[0]:Ht(e,Yt(r),!1)}return t}(r):r)}Gt.time=Bt.define(),Gt.userEvent=Bt.define(),Gt.addToHistory=Bt.define(),Gt.remote=Bt.define();const qt=[];function Yt(t){return null==t?qt:Array.isArray(t)?t:[t]}var Qt=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(Qt||(Qt={}));const Kt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Xt;try{Xt=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(t){}class Jt{constructor(t,e,n,i,r,o){this.config=t,this.doc=e,this.selection=n,this.values=i,this.status=t.statusTemplate.slice(),this.computeSlot=r,o&&(o._state=this);for(let t=0;t<this.config.dynamicSlots.length;t++)Ot(this,t<<1);this.computeSlot=null}field(t,e=!0){let n=this.config.address[t.id];if(null!=n)return Ot(this,n),Rt(this,n);if(e)throw new RangeError("Field is not present in this state")}update(...t){return Ht(this,t,!0)}applyTransaction(t){let e,n=this.config,{base:i,compartments:r}=n;for(let e of t.effects)e.is(kt.reconfigure)?(n&&(r=new Map,n.compartments.forEach(((t,e)=>r.set(e,t))),n=null),r.set(e.value.compartment,e.value.extension)):e.is(Vt.reconfigure)?(n=null,i=e.value):e.is(Vt.appendConfig)&&(n=null,i=Yt(i).concat(e.value));n?e=t.startState.values.slice():(n=Tt.resolve(i,r,this),e=new Jt(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((t,e)=>e.reconfigure(t,this)),null).values);let o=t.startState.facet(Nt)?t.newSelection:t.newSelection.asSingle();new Jt(n,t.newDoc,o,e,((e,n)=>n.update(e,t)),t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:t},range:ht.cursor(e.from+t.length)})))}changeByRange(t){let e=this.selection,n=t(e.ranges[0]),i=this.changes(n.changes),r=[n.range],o=Yt(n.effects);for(let n=1;n<e.ranges.length;n++){let s=t(e.ranges[n]),a=this.changes(s.changes),g=a.map(i);for(let t=0;t<n;t++)r[t]=r[t].map(g);let l=i.mapDesc(a,!0);r.push(s.range.map(l)),i=i.compose(g),o=Vt.mapEffects(o,g).concat(Vt.mapEffects(Yt(s.effects),l))}return{changes:i,selection:ht.create(r,e.mainIndex),effects:o}}changes(t=[]){return t instanceof rt?t:rt.of(t,this.doc.length,this.facet(Jt.lineSeparator))}toText(t){return W.of(t.split(this.facet(Jt.lineSeparator)||et))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return null==e?t.default:(Ot(this,e),Rt(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let n in t){let i=t[n];i instanceof bt&&null!=this.config.address[i.id]&&(e[n]=i.spec.toJSON(this.field(t[n]),this))}return e}static fromJSON(t,e={},n){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(n)for(let e in n)if(Object.prototype.hasOwnProperty.call(t,e)){let r=n[e],o=t[e];i.push(r.init((t=>r.spec.fromJSON(o,t))))}return Jt.create({doc:t.doc,selection:ht.fromJSON(t.selection),extensions:e.extensions?i.concat([e.extensions]):i})}static create(t={}){let e=Tt.resolve(t.extensions||[],new Map),n=t.doc instanceof W?t.doc:W.of((t.doc||"").split(e.staticFacet(Jt.lineSeparator)||et)),i=t.selection?t.selection instanceof ht?t.selection:ht.single(t.selection.anchor,t.selection.head):ht.single(0);return Ct(i,n.length),e.staticFacet(Nt)||(i=i.asSingle()),new Jt(e,n,i,e.dynamicSlots.map((()=>null)),((t,e)=>e.create(t)),null)}get tabSize(){return this.facet(Jt.tabSize)}get lineBreak(){return this.facet(Jt.lineSeparator)||"\n"}get readOnly(){return this.facet(jt)}phrase(t,...e){for(let e of this.facet(Jt.phrases))if(Object.prototype.hasOwnProperty.call(e,t)){t=e[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,((t,n)=>{if("$"==n)return"$";let i=+(n||1);return!i||i>e.length?t:e[i-1]}))),t}languageDataAt(t,e,n=-1){let i=[];for(let r of this.facet(_t))for(let o of r(this,e,n))Object.prototype.hasOwnProperty.call(o,t)&&i.push(o[t]);return i}charCategorizer(t){return e=this.languageDataAt("wordChars",t).join(""),t=>{if(!/\S/.test(t))return Qt.Space;if(function(t){if(Xt)return Xt.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>"Â€"&&(n.toUpperCase()!=n.toLowerCase()||Kt.test(n)))return!0}return!1}(t))return Qt.Word;for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return Qt.Word;return Qt.Other};var e}wordAt(t){let{text:e,from:n,length:i}=this.doc.lineAt(t),r=this.charCategorizer(t),o=t-n,s=t-n;for(;o>0;){let t=tt(e,o,!1);if(r(e.slice(t,o))!=Qt.Word)break;o=t}for(;s<i;){let t=tt(e,s);if(r(e.slice(s,t))!=Qt.Word)break;s=t}return o==s?null:ht.range(o+n,s+n)}}Jt.allowMultipleSelections=Nt,Jt.tabSize=dt.define({combine:t=>t.length?t[0]:4}),Jt.lineSeparator=Dt,Jt.readOnly=jt,Jt.phrases=dt.define({compare(t,e){let n=Object.keys(t),i=Object.keys(e);return n.length==i.length&&n.every((n=>t[n]==e[n]))}}),Jt.languageData=_t,Jt.changeFilter=Pt,Jt.transactionFilter=Mt,Jt.transactionExtender=Lt,kt.reconfigure=Vt.define();class $t{eq(t){return this==t}range(t,e=t){return te.create(t,e,this)}}$t.prototype.startSide=$t.prototype.endSide=0,$t.prototype.point=!1,$t.prototype.mapMode=nt.TrackDel;class te{constructor(t,e,n){this.from=t,this.to=e,this.value=n}static create(t,e,n){return new te(t,e,n)}}function ee(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class ne{constructor(t,e,n,i){this.from=t,this.to=e,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(t,e,n,i=0){let r=n?this.to:this.from;for(let o=i,s=r.length;;){if(o==s)return o;let i=o+s>>1,a=r[i]-t||(n?this.value[i].endSide:this.value[i].startSide)-e;if(i==o)return a>=0?o:s;a>=0?s=i:o=i+1}}between(t,e,n,i){for(let r=this.findIndex(e,-1e9,!0),o=this.findIndex(n,1e9,!1,r);r<o;r++)if(!1===i(this.from[r]+t,this.to[r]+t,this.value[r]))return!1}map(t,e){let n=[],i=[],r=[],o=-1,s=-1;for(let a=0;a<this.value.length;a++){let g,l,A=this.value[a],c=this.from[a]+t,h=this.to[a]+t;if(c==h){let t=e.mapPos(c,A.startSide,A.mapMode);if(null==t)continue;if(g=l=t,A.startSide!=A.endSide&&(l=e.mapPos(c,A.endSide),l<g))continue}else if(g=e.mapPos(c,A.startSide),l=e.mapPos(h,A.endSide),g>l||g==l&&A.startSide>0&&A.endSide<=0)continue;(l-g||A.endSide-A.startSide)<0||(o<0&&(o=g),A.point&&(s=Math.max(s,l-g)),n.push(A),i.push(g-o),r.push(l-o))}return{mapped:n.length?new ne(i,r,n,s):null,pos:o}}}class ie{constructor(t,e,n,i){this.chunkPos=t,this.chunk=e,this.nextLayer=n,this.maxPoint=i}static create(t,e,n,i){return new ie(t,e,n,i)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:n=!1,filterFrom:i=0,filterTo:r=this.length}=t,o=t.filter;if(0==e.length&&!o)return this;if(n&&(e=e.slice().sort(ee)),this.isEmpty)return e.length?ie.of(e):this;let s=new se(this,null,-1).goto(0),a=0,g=[],l=new re;for(;s.value||a<e.length;)if(a<e.length&&(s.from-e[a].from||s.startSide-e[a].value.startSide)>=0){let t=e[a++];l.addInner(t.from,t.to,t.value)||g.push(t)}else 1==s.rangeIndex&&s.chunkIndex<this.chunk.length&&(a==e.length||this.chunkEnd(s.chunkIndex)<e[a].from)&&(!o||i>this.chunkEnd(s.chunkIndex)||r<this.chunkPos[s.chunkIndex])&&l.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!o||i>s.to||r<s.from||o(s.from,s.to,s.value))&&(l.addInner(s.from,s.to,s.value)||g.push(te.create(s.from,s.to,s.value))),s.next());return l.finishInner(this.nextLayer.isEmpty&&!g.length?ie.empty:this.nextLayer.update({add:g,filter:o,filterFrom:i,filterTo:r}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],n=[],i=-1;for(let r=0;r<this.chunk.length;r++){let o=this.chunkPos[r],s=this.chunk[r],a=t.touchesRange(o,o+s.length);if(!1===a)i=Math.max(i,s.maxPoint),e.push(s),n.push(t.mapPos(o));else if(!0===a){let{mapped:r,pos:a}=s.map(o,t);r&&(i=Math.max(i,r.maxPoint),e.push(r),n.push(a))}}let r=this.nextLayer.map(t);return 0==e.length?r:new ie(n,e,r||ie.empty,i)}between(t,e,n){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let r=this.chunkPos[i],o=this.chunk[i];if(e>=r&&t<=r+o.length&&!1===o.between(r,t-r,e-r,n))return}this.nextLayer.between(t,e,n)}}iter(t=0){return ae.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return ae.from(t).goto(e)}static compare(t,e,n,i,r=-1){let o=t.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=r)),s=e.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=r)),a=oe(o,s,n),g=new le(o,a,r),l=new le(s,a,r);n.iterGaps(((t,e,n)=>Ae(g,t,l,e,n,i))),n.empty&&0==n.length&&Ae(g,0,l,0,0,i)}static eq(t,e,n=0,i){null==i&&(i=999999999);let r=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0)),o=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0));if(r.length!=o.length)return!1;if(!r.length)return!0;let s=oe(r,o),a=new le(r,s,0).goto(n),g=new le(o,s,0).goto(n);for(;;){if(a.to!=g.to||!ce(a.active,g.active)||a.point&&(!g.point||!a.point.eq(g.point)))return!1;if(a.to>i)return!0;a.next(),g.next()}}static spans(t,e,n,i,r=-1){let o=new le(t,null,r).goto(e),s=e,a=o.openStart;for(;;){let t=Math.min(o.to,n);if(o.point){let n=o.activeForPoint(o.to),r=o.pointFrom<e?n.length+1:o.point.startSide<0?n.length:Math.min(n.length,a);i.point(s,t,o.point,n,r,o.pointRank),a=Math.min(o.openEnd(t),n.length)}else t>s&&(i.span(s,t,o.active,a),a=o.openEnd(t));if(o.to>n)return a+(o.point&&o.to>n?1:0);s=o.to,o.next()}}static of(t,e=!1){let n=new re;for(let i of t instanceof te?[t]:e?function(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let i=t[n];if(ee(e,i)>0)return t.slice().sort(ee);e=i}return t}(t):t)n.add(i.from,i.to,i.value);return n.finish()}static join(t){if(!t.length)return ie.empty;let e=t[t.length-1];for(let n=t.length-2;n>=0;n--)for(let i=t[n];i!=ie.empty;i=i.nextLayer)e=new ie(i.chunkPos,i.chunk,e,Math.max(i.maxPoint,e.maxPoint));return e}}ie.empty=new ie([],[],null,-1),ie.empty.nextLayer=ie.empty;class re{finishChunk(t){this.chunks.push(new ne(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,e,n){this.addInner(t,e,n)||(this.nextLayer||(this.nextLayer=new re)).add(t,e,n)}addInner(t,e,n){let i=t-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(t-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(i<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=n,this.lastFrom=t,this.lastTo=e,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),0))}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let n=e.value.length-1;return this.last=e.value[n],this.lastFrom=e.from[n]+t,this.lastTo=e.to[n]+t,!0}finish(){return this.finishInner(ie.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let e=ie.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function oe(t,e,n){let i=new Map;for(let e of t)for(let t=0;t<e.chunk.length;t++)e.chunk[t].maxPoint<=0&&i.set(e.chunk[t],e.chunkPos[t]);let r=new Set;for(let t of e)for(let e=0;e<t.chunk.length;e++){let o=i.get(t.chunk[e]);null==o||(n?n.mapPos(o):o)!=t.chunkPos[e]||(null==n?void 0:n.touchesRange(o,o+t.chunk[e].length))||r.add(t.chunk[e])}return r}class se{constructor(t,e,n,i=0){this.layer=t,this.skip=e,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,n){for(;this.chunkIndex<this.layer.chunk.length;){let e=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(e)||this.layer.chunkEnd(this.chunkIndex)<t||e.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],n=t+e.from[this.rangeIndex];if(this.from=n,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class ae{constructor(t){this.heap=t}static from(t,e=null,n=-1){let i=[];for(let r=0;r<t.length;r++)for(let o=t[r];!o.isEmpty;o=o.nextLayer)o.maxPoint>=n&&i.push(new se(o,e,n,r));return 1==i.length?i[0]:new ae(i)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let n of this.heap)n.goto(t,e);for(let t=this.heap.length>>1;t>=0;t--)ge(this.heap,t);return this.next(),this}forward(t,e){for(let n of this.heap)n.forward(t,e);for(let t=this.heap.length>>1;t>=0;t--)ge(this.heap,t);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),ge(this.heap,0)}}}function ge(t,e){for(let n=t[e];;){let i=1+(e<<1);if(i>=t.length)break;let r=t[i];if(i+1<t.length&&r.compare(t[i+1])>=0&&(r=t[i+1],i++),n.compare(r)<0)break;t[i]=n,t[e]=r,e=i}}class le{constructor(t,e,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=ae.from(t,e,n)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){he(this.active,t),he(this.activeTo,t),he(this.activeRank,t),this.minActive=Ie(this.active,this.activeTo)}addActive(t){let e=0,{value:n,to:i,rank:r}=this.cursor;for(;e<this.activeRank.length&&(r-this.activeRank[e]||i-this.activeTo[e])>0;)e++;Ce(this.active,e,n),Ce(this.activeTo,e,i),Ce(this.activeRank,e,r),t&&Ce(t,e,this.cursor.from),this.minActive=Ie(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>t){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&he(n,i)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let t=this.cursor.value;if(t.point){if(!(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=t,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=t.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){this.openStart=0;for(let e=n.length-1;e>=0&&n[e]<t;e--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>t||this.activeTo[n]==t&&this.active[n].endSide>=this.point.endSide)&&e.push(this.active[n]);return e.reverse()}openEnd(t){let e=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>t;n--)e++;return e}}function Ae(t,e,n,i,r,o){t.goto(e),n.goto(i);let s=i+r,a=i,g=i-e;for(;;){let e=t.to+g-n.to,i=e||t.endSide-n.endSide,r=i<0?t.to+g:n.to,l=Math.min(r,s);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&ce(t.activeForPoint(t.to),n.activeForPoint(n.to))||o.comparePoint(a,l,t.point,n.point):l>a&&!ce(t.active,n.active)&&o.compareRange(a,l,t.active,n.active),r>s)break;(e||t.openEnd!=n.openEnd)&&o.boundChange&&o.boundChange(r),a=r,i<=0&&t.next(),i>=0&&n.next()}}function ce(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function he(t,e){for(let n=e,i=t.length-1;n<i;n++)t[n]=t[n+1];t.pop()}function Ce(t,e,n){for(let n=t.length-1;n>=e;n--)t[n+1]=t[n];t[e]=n}function Ie(t,e){let n=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||t[r].endSide-t[n].endSide)<0&&(n=r,i=e[r]);return n}function de(t,e,n=t.length){let i=0;for(let r=0;r<n&&r<t.length;)9==t.charCodeAt(r)?(i+=e-i%e,r++):(i++,r=tt(t,r));return i}const ue="undefined"==typeof Symbol?"__Í¼":Symbol.for("Í¼"),fe="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),pe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class ve{constructor(t,e){this.rules=[];let{finish:n}=e||{};function i(t){return/^@/.test(t)?[t]:t.split(/,\s*/)}function r(t,e,o,s){let a=[],g=/^@(\w+)\b/.exec(t[0]),l=g&&"keyframes"==g[1];if(g&&null==e)return o.push(t[0]+";");for(let n in e){let s=e[n];if(/&/.test(n))r(n.split(/,\s*/).map((e=>t.map((t=>e.replace(/&/,t))))).reduce(((t,e)=>t.concat(e))),s,o);else if(s&&"object"==typeof s){if(!g)throw new RangeError("The value of a property ("+n+") should be a primitive value.");r(i(n),s,a,l)}else null!=s&&a.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))+": "+s+";")}(a.length||l)&&o.push((!n||g||s?t:t.map(n)).join(", ")+" {"+a.join(" ")+"}")}for(let e in t)r(i(e),t[e],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let t=pe[ue]||1;return pe[ue]=t+1,"Í¼"+t.toString(36)}static mount(t,e,n){let i=t[fe],r=n&&n.nonce;i?r&&i.setNonce(r):i=new ye(t,r),i.mount(Array.isArray(e)?e:[e],t)}}let me=new Map;class ye{constructor(t,e){let n=t.ownerDocument||t,i=n.defaultView;if(!t.head&&t.adoptedStyleSheets&&i.CSSStyleSheet){let e=me.get(n);if(e)return t[fe]=e;this.sheet=new i.CSSStyleSheet,me.set(n,this)}else this.styleTag=n.createElement("style"),e&&this.styleTag.setAttribute("nonce",e);this.modules=[],t[fe]=this}mount(t,e){let n=this.sheet,i=0,r=0;for(let e=0;e<t.length;e++){let o=t[e],s=this.modules.indexOf(o);if(s<r&&s>-1&&(this.modules.splice(s,1),r--,s=-1),-1==s){if(this.modules.splice(r++,0,o),n)for(let t=0;t<o.rules.length;t++)n.insertRule(o.rules[t],i++)}else{for(;r<s;)i+=this.modules[r++].rules.length;i+=o.rules.length,r++}}if(n)e.adoptedStyleSheets.indexOf(this.sheet)<0&&(e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets]);else{let t="";for(let e=0;e<this.modules.length;e++)t+=this.modules[e].getRules()+"\n";this.styleTag.textContent=t;let n=e.head||e;this.styleTag.parentNode!=n&&n.insertBefore(this.styleTag,n.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}for(var be={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},we={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},xe="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Ee="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ke=0;ke<10;ke++)be[48+ke]=be[96+ke]=String(ke);for(ke=1;ke<=24;ke++)be[ke+111]="F"+ke;for(ke=65;ke<=90;ke++)be[ke]=String.fromCharCode(ke+32),we[ke]=String.fromCharCode(ke);for(var Se in be)we.hasOwnProperty(Se)||(we[Se]=be[Se]);function Te(t){let e;return e=11==t.nodeType?t.getSelection?t:t.ownerDocument:t,e.getSelection()}function Oe(t,e){return!!e&&(t==e||t.contains(1!=e.nodeType?e.parentNode:e))}function Re(t,e){if(!e.anchorNode)return!1;try{return Oe(t,e.anchorNode)}catch(t){return!1}}function _e(t){return 3==t.nodeType?We(t,0,t.nodeValue.length).getClientRects():1==t.nodeType?t.getClientRects():[]}function Ne(t,e,n,i){return!!n&&(Me(t,e,n,i,-1)||Me(t,e,n,i,1))}function De(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e}function Pe(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function Me(t,e,n,i,r){for(;;){if(t==n&&e==i)return!0;if(e==(r<0?0:Le(t))){if("DIV"==t.nodeName)return!1;let n=t.parentNode;if(!n||1!=n.nodeType)return!1;e=De(t)+(r<0?0:1),t=n}else{if(1!=t.nodeType)return!1;if(1==(t=t.childNodes[e+(r<0?-1:0)]).nodeType&&"false"==t.contentEditable)return!1;e=r<0?Le(t):0}}}function Le(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function je(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function Be(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function Fe(t,e){let n=e.width/t.offsetWidth,i=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-t.offsetHeight)<1)&&(i=1),{scaleX:n,scaleY:i}}class ze{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:e,focusNode:n}=t;this.set(e,Math.min(t.anchorOffset,e?Le(e):0),n,Math.min(t.focusOffset,n?Le(n):0))}set(t,e,n,i){this.anchorNode=t,this.anchorOffset=e,this.focusNode=n,this.focusOffset=i}}let Ve,Ge=null;function Ue(t){if(t.setActive)return t.setActive();if(Ge)return t.focus(Ge);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(null==Ge?{get preventScroll(){return Ge={preventScroll:!0},!0}}:void 0),!Ge){Ge=!1;for(let t=0;t<e.length;){let n=e[t++],i=e[t++],r=e[t++];n.scrollTop!=i&&(n.scrollTop=i),n.scrollLeft!=r&&(n.scrollLeft=r)}}}function We(t,e,n=e){let i=Ve||(Ve=document.createRange());return i.setEnd(t,n),i.setStart(t,e),i}function Ze(t,e,n,i){let r={key:e,code:e,keyCode:n,which:n,cancelable:!0};i&&({altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,metaKey:r.metaKey}=i);let o=new KeyboardEvent("keydown",r);o.synthetic=!0,t.dispatchEvent(o);let s=new KeyboardEvent("keyup",r);return s.synthetic=!0,t.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function He(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function qe(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function Ye(t,e){for(let n=t,i=e;;){if(3==n.nodeType&&i>0)return{node:n,offset:i};if(1==n.nodeType&&i>0){if("false"==n.contentEditable)return null;n=n.childNodes[i-1],i=Le(n)}else{if(!n.parentNode||Pe(n))return null;i=De(n),n=n.parentNode}}}function Qe(t,e){for(let n=t,i=e;;){if(3==n.nodeType&&i<n.nodeValue.length)return{node:n,offset:i};if(1==n.nodeType&&i<n.childNodes.length){if("false"==n.contentEditable)return null;n=n.childNodes[i],i=0}else{if(!n.parentNode||Pe(n))return null;i=De(n)+1,n=n.parentNode}}}class Ke{constructor(t,e,n=!0){this.node=t,this.offset=e,this.precise=n}static before(t,e){return new Ke(t.parentNode,De(t),e)}static after(t,e){return new Ke(t.parentNode,De(t)+1,e)}}const Xe=[];class Je{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let n of this.children){if(n==t)return e;e+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,e){if(2&this.flags){let n,i=this.dom,r=null;for(let o of this.children){if(7&o.flags){if(!o.dom&&(n=r?r.nextSibling:i.firstChild)){let t=Je.get(n);(!t||!t.parent&&t.canReuseDOM(o))&&o.reuseDOM(n)}o.sync(t,e),o.flags&=-8}if(n=r?r.nextSibling:i.firstChild,e&&!e.written&&e.node==i&&n!=o.dom&&(e.written=!0),o.dom.parentNode==i)for(;n&&n!=o.dom;)n=$e(n);else i.insertBefore(o.dom,n);r=o.dom}for(n=r?r.nextSibling:i.firstChild,n&&e&&e.node==i&&(e.written=!0);n;)n=$e(n)}else if(1&this.flags)for(let n of this.children)7&n.flags&&(n.sync(t,e),n.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,e){let n;if(t==this.dom)n=this.dom.childNodes[e];else{let i=0==Le(t)?0:0==e?-1:1;for(;;){let e=t.parentNode;if(e==this.dom)break;0==i&&e.firstChild!=e.lastChild&&(i=t==e.firstChild?-1:1),t=e}n=i<0?t:t.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!Je.get(n);)n=n.nextSibling;if(!n)return this.length;for(let t=0,e=0;;t++){let i=this.children[t];if(i.dom==n)return e;e+=i.length+i.breakAfter}}domBoundsAround(t,e,n=0){let i=-1,r=-1,o=-1,s=-1;for(let a=0,g=n,l=n;a<this.children.length;a++){let n=this.children[a],A=g+n.length;if(g<t&&A>e)return n.domBoundsAround(t,e,g);if(A>=t&&-1==i&&(i=a,r=g),g>e&&n.dom.parentNode==this.dom){o=a,s=l;break}l=A,g=A+n.breakAfter}return{from:r,to:s<0?n+this.length:s,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.flags|=2),1&e.flags)return;e.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,7&this.flags&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,n=Xe){this.markDirty();for(let i=t;i<e;i++){let t=this.children[i];t.parent==this&&n.indexOf(t)<0&&t.destroy()}n.length<250?this.children.splice(t,e-t,...n):this.children=[].concat(this.children.slice(0,t),n,this.children.slice(e));for(let t=0;t<n.length;t++)n[t].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new tn(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==t?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,e,n,i,r,o){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!(8&(this.flags|t.flags))}getSide(){return 0}destroy(){for(let t of this.children)t.parent==this&&t.destroy();this.parent=null}}function $e(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}Je.prototype.breakAfter=0;class tn{constructor(t,e,n){this.children=t,this.pos=e,this.i=n,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function en(t,e,n,i,r,o,s,a,g){let{children:l}=t,A=l.length?l[e]:null,c=o.length?o[o.length-1]:null,h=c?c.breakAfter:s;if(!(e==i&&A&&!s&&!h&&o.length<2&&A.merge(n,r,o.length?c:null,0==n,a,g))){if(i<l.length){let t=l[i];t&&(r<t.length||t.breakAfter&&(null==c?void 0:c.breakAfter))?(e==i&&(t=t.split(r),r=0),!h&&c&&t.merge(0,r,c,!0,0,g)?o[o.length-1]=t:((r||t.children.length&&!t.children[0].length)&&t.merge(0,r,null,!1,0,g),o.push(t))):(null==t?void 0:t.breakAfter)&&(c?c.breakAfter=1:s=1),i++}for(A&&(A.breakAfter=s,n>0&&(!s&&o.length&&A.merge(n,A.length,o[0],!1,a,0)?A.breakAfter=o.shift().breakAfter:(n<A.length||A.children.length&&0==A.children[A.children.length-1].length)&&A.merge(n,A.length,null,!1,a,0),e++));e<i&&o.length;)if(l[i-1].become(o[o.length-1]))i--,o.pop(),g=o.length?0:a;else{if(!l[e].become(o[0]))break;e++,o.shift(),a=o.length?0:g}!o.length&&e&&i<l.length&&!l[e-1].breakAfter&&l[i].merge(0,0,l[e-1],!1,a,g)&&e--,(e<i||o.length)&&t.replaceChildren(e,i,o)}}function nn(t,e,n,i,r,o){let s=t.childCursor(),{i:a,off:g}=s.findPos(n,1),{i:l,off:A}=s.findPos(e,-1),c=e-n;for(let t of i)c+=t.length;t.length+=c,en(t,l,A,a,g,i,0,r,o)}let rn="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},on="undefined"!=typeof document?document:{documentElement:{style:{}}};const sn=/Edge\/(\d+)/.exec(rn.userAgent),an=/MSIE \d/.test(rn.userAgent),gn=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(rn.userAgent),ln=!!(an||gn||sn),An=!ln&&/gecko\/(\d+)/i.test(rn.userAgent),cn=!ln&&/Chrome\/(\d+)/.exec(rn.userAgent),hn="webkitFontSmoothing"in on.documentElement.style,Cn=!ln&&/Apple Computer/.test(rn.vendor),In=Cn&&(/Mobile\/\w+/.test(rn.userAgent)||rn.maxTouchPoints>2);var dn={mac:In||/Mac/.test(rn.platform),windows:/Win/.test(rn.platform),linux:/Linux|X11/.test(rn.platform),ie:ln,ie_version:an?on.documentMode||6:gn?+gn[1]:sn?+sn[1]:0,gecko:An,gecko_version:An?+(/Firefox\/(\d+)/.exec(rn.userAgent)||[0,0])[1]:0,chrome:!!cn,chrome_version:cn?+cn[1]:0,ios:In,android:/Android\b/.test(rn.userAgent),webkit:hn,safari:Cn,webkit_version:hn?+(/\bAppleWebKit\/(\d+)/.exec(rn.userAgent)||[0,0])[1]:0,tabSize:null!=on.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class un extends Je{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){3==t.nodeType&&this.createDOM(t)}merge(t,e,n){return!(8&this.flags||n&&(!(n instanceof un)||this.length-(e-t)+n.length>256||8&n.flags)||(this.text=this.text.slice(0,t)+(n?n.text:"")+this.text.slice(e),this.markDirty(),0))}split(t){let e=new un(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e.flags|=8&this.flags,e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new Ke(this.dom,t)}domBoundsAround(t,e,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return function(t,e,n){let i=t.nodeValue.length;e>i&&(e=i);let r=e,o=e,s=0;0==e&&n<0||e==i&&n>=0?dn.chrome||dn.gecko||(e?(r--,s=1):o<i&&(o++,s=-1)):n<0?r--:o<i&&o++;let a=We(t,r,o).getClientRects();if(!a.length)return null;let g=a[(s?s<0:n>=0)?0:a.length-1];return dn.safari&&!s&&0==g.width&&(g=Array.prototype.find.call(a,(t=>t.width))||g),s?je(g,s<0):g||null}(this.dom,t,e)}}class fn extends Je{constructor(t,e=[],n=0){super(),this.mark=t,this.children=e,this.length=n;for(let t of e)t.setParent(this)}setAttrs(t){if(He(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!(8&(this.flags|t.flags))}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,e){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,e)}merge(t,e,n,i,r,o){return!(n&&(!(n instanceof fn&&n.mark.eq(this.mark))||t&&r<=0||e<this.length&&o<=0)||(nn(this,t,e,n?n.children.slice():[],r-1,o-1),this.markDirty(),0))}split(t){let e=[],n=0,i=-1,r=0;for(let o of this.children){let s=n+o.length;s>t&&e.push(n<t?o.split(t-n):o),i<0&&n>=t&&(i=r),n=s,r++}let o=this.length-t;return this.length=t,i>-1&&(this.children.length=i,this.markDirty()),new fn(this.mark,e,o)}domAtPos(t){return mn(this,t)}coordsAt(t,e){return bn(this,t,e)}}class pn extends Je{static create(t,e,n){return new pn(t,e,n)}constructor(t,e,n){super(),this.widget=t,this.length=e,this.side=n,this.prevWidget=null}split(t){let e=pn.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(t,e,n,i,r,o){return!(n&&(!(n instanceof pn&&this.widget.compare(n.widget))||t>0&&r<=0||e<this.length&&o<=0)||(this.length=t+(n?n.length:0)+(this.length-e),0))}become(t){return t instanceof pn&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(0==this.length)return W.empty;let t=this;for(;t.parent;)t=t.parent;let{view:e}=t,n=e&&e.state.doc,i=this.posAtStart;return n?n.slice(i,i+this.length):W.empty}domAtPos(t){return(this.length?0==t:this.side>0)?Ke.before(this.dom):Ke.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let n=this.widget.coordsAt(this.dom,t,e);if(n)return n;let i=this.dom.getClientRects(),r=null;if(!i.length)return null;let o=this.side?this.side<0:t>0;for(let e=o?i.length-1:0;r=i[e],!(t>0?0==e:e==i.length-1||r.top<r.bottom);e+=o?-1:1);return je(r,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class vn extends Je{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof vn&&t.side==this.side}split(){return new vn(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?Ke.before(this.dom):Ke.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return W.empty}get isHidden(){return!0}}function mn(t,e){let n=t.dom,{children:i}=t,r=0;for(let t=0;r<i.length;r++){let o=i[r],s=t+o.length;if(!(s==t&&o.getSide()<=0)){if(e>t&&e<s&&o.dom.parentNode==n)return o.domAtPos(e-t);if(e<=t)break;t=s}}for(let t=r;t>0;t--){let e=i[t-1];if(e.dom.parentNode==n)return e.domAtPos(e.length)}for(let t=r;t<i.length;t++){let e=i[t];if(e.dom.parentNode==n)return e.domAtPos(0)}return new Ke(n,0)}function yn(t,e,n){let i,{children:r}=t;n>0&&e instanceof fn&&r.length&&(i=r[r.length-1])instanceof fn&&i.mark.eq(e.mark)?yn(i,e.children[0],n-1):(r.push(e),e.setParent(t)),t.length+=e.length}function bn(t,e,n){let i=null,r=-1,o=null,s=-1;!function t(e,a){for(let g=0,l=0;g<e.children.length&&l<=a;g++){let A=e.children[g],c=l+A.length;c>=a&&(A.children.length?t(A,a-l):(!o||o.isHidden&&(n>0||wn(o,A)))&&(c>a||l==c&&A.getSide()>0)?(o=A,s=a-l):(l<a||l==c&&A.getSide()<0&&!A.isHidden)&&(i=A,r=a-l)),l=c}}(t,e);let a=(n<0?i:o)||i||o;return a?a.coordsAt(Math.max(0,a==i?r:s),n):function(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=_e(e);return n[n.length-1]||null}(t)}function wn(t,e){let n=t.coordsAt(0,1),i=e.coordsAt(0,1);return n&&i&&i.top<n.bottom}function xn(t,e){for(let n in t)"class"==n&&e.class?e.class+=" "+t.class:"style"==n&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}un.prototype.children=pn.prototype.children=vn.prototype.children=Xe;const En=Object.create(null);function kn(t,e,n){if(t==e)return!0;t||(t=En),e||(e=En);let i=Object.keys(t),r=Object.keys(e);if(i.length-(n&&i.indexOf(n)>-1?1:0)!=r.length-(n&&r.indexOf(n)>-1?1:0))return!1;for(let o of i)if(o!=n&&(-1==r.indexOf(o)||t[o]!==e[o]))return!1;return!0}function Sn(t,e,n){let i=!1;if(e)for(let r in e)n&&r in n||(i=!0,"style"==r?t.style.cssText="":t.removeAttribute(r));if(n)for(let r in n)e&&e[r]==n[r]||(i=!0,"style"==r?t.style.cssText=n[r]:t.setAttribute(r,n[r]));return i}function Tn(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let i=t.attributes[n];e[i.name]=i.value}return e}class On{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,e,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}}var Rn=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Rn||(Rn={}));class _n extends $t{constructor(t,e,n,i){super(),this.startSide=t,this.endSide=e,this.widget=n,this.spec=i}get heightRelevant(){return!1}static mark(t){return new Nn(t)}static widget(t){let e=Math.max(-1e4,Math.min(1e4,t.side||0)),n=!!t.block;return e+=n&&!t.inlineOrder?e>0?3e8:-4e8:e>0?1e8:-1e8,new Pn(t,e,e,n,t.widget||null,!1)}static replace(t){let e,n,i=!!t.block;if(t.isBlockGap)e=-5e8,n=4e8;else{let{start:r,end:o}=Mn(t,i);e=(r?i?-3e8:-1:5e8)-1,n=1+(o?i?2e8:1:-6e8)}return new Pn(t,e,n,i,t.widget||null,!0)}static line(t){return new Dn(t)}static set(t,e=!1){return ie.of(t,e)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}_n.none=ie.empty;class Nn extends _n{constructor(t){let{start:e,end:n}=Mn(t);super(e?-1:5e8,n?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var e,n;return this==t||t instanceof Nn&&this.tagName==t.tagName&&(this.class||(null===(e=this.attrs)||void 0===e?void 0:e.class))==(t.class||(null===(n=t.attrs)||void 0===n?void 0:n.class))&&kn(this.attrs,t.attrs,"class")}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}Nn.prototype.point=!1;class Dn extends _n{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof Dn&&this.spec.class==t.spec.class&&kn(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}Dn.prototype.mapMode=nt.TrackBefore,Dn.prototype.point=!0;class Pn extends _n{constructor(t,e,n,i,r,o){super(e,n,r,t),this.block=i,this.isReplace=o,this.mapMode=i?e<=0?nt.TrackBefore:nt.TrackAfter:nt.TrackDel}get type(){return this.startSide!=this.endSide?Rn.WidgetRange:this.startSide<=0?Rn.WidgetBefore:Rn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof Pn&&((e=this.widget)==(n=t.widget)||!!(e&&n&&e.compare(n)))&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide;var e,n}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}function Mn(t,e=!1){let{inclusiveStart:n,inclusiveEnd:i}=t;return null==n&&(n=t.inclusive),null==i&&(i=t.inclusive),{start:null!=n?n:e,end:null!=i?i:e}}function Ln(t,e,n,i=0){let r=n.length-1;r>=0&&n[r]+i>=t?n[r]=Math.max(n[r],e):n.push(t,e)}Pn.prototype.point=!0;class jn extends Je{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,n,i,r,o){if(n){if(!(n instanceof jn))return!1;this.dom||n.transferDOM(this)}return i&&this.setDeco(n?n.attrs:null),nn(this,t,e,n?n.children.slice():[],r,o),!0}split(t){let e=new jn;if(e.breakAfter=this.breakAfter,0==this.length)return e;let{i:n,off:i}=this.childPos(t);i&&(e.append(this.children[n].split(i),0),this.children[n].merge(i,this.children[n].length,null,!1,0,0),n++);for(let t=n;t<this.children.length;t++)e.append(this.children[t],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){kn(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){yn(this,t,e)}addLineDeco(t){let e=t.spec.attributes,n=t.spec.class;e&&(this.attrs=xn(e,this.attrs||{})),n&&(this.attrs=xn({class:n},this.attrs||{}))}domAtPos(t){return mn(this,t)}reuseDOM(t){"DIV"==t.nodeName&&(this.setDOM(t),this.flags|=6)}sync(t,e){var n;this.dom?4&this.flags&&(He(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(Sn(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,e);let i=this.dom.lastChild;for(;i&&Je.get(i)instanceof fn;)i=i.lastChild;if(!(i&&this.length&&("BR"==i.nodeName||0!=(null===(n=Je.get(i))||void 0===n?void 0:n.isEditable)||dn.ios&&this.children.some((t=>t instanceof un))))){let t=document.createElement("BR");t.cmIgnore=!0,this.dom.appendChild(t)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t,e=0;for(let n of this.children){if(!(n instanceof un)||/[^ -~]/.test(n.text))return null;let i=_e(n.dom);if(1!=i.length)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(t,e){let n=bn(this,t,e);if(!this.children.length&&n&&this.parent){let{heightOracle:t}=this.parent.view.viewState,e=n.bottom-n.top;if(Math.abs(e-t.lineHeight)<2&&t.textHeight<e){let i=(e-t.textHeight)/2;return{top:n.top+i,bottom:n.bottom-i,left:n.left,right:n.left}}}return n}become(t){return t instanceof jn&&0==this.children.length&&0==t.children.length&&kn(this.attrs,t.attrs)&&this.breakAfter==t.breakAfter}covers(){return!0}static find(t,e){for(let n=0,i=0;n<t.children.length;n++){let r=t.children[n],o=i+r.length;if(o>=e){if(r instanceof jn)return r;if(o>e)break}i=o+r.breakAfter}return null}}class Bn extends Je{constructor(t,e,n){super(),this.widget=t,this.length=e,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(t,e,n,i,r,o){return!(n&&(!(n instanceof Bn&&this.widget.compare(n.widget))||t>0&&r<=0||e<this.length&&o<=0)||(this.length=t+(n?n.length:0)+(this.length-e),0))}domAtPos(t){return 0==t?Ke.before(this.dom):Ke.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let n=new Bn(this.widget,e,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return Xe}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):W.empty}domBoundsAround(){return null}become(t){return t instanceof Bn&&t.widget.constructor==this.widget.constructor&&(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,e){return this.widget.coordsAt(this.dom,t,e)||(this.widget instanceof Fn?null:je(this.dom.getBoundingClientRect(),this.length?0==t:e<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:e,endSide:n}=this.deco;return e!=n&&(t<0?e<0:n>0)}}class Fn extends On{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class zn{constructor(t,e,n,i){this.doc=t,this.pos=e,this.end=n,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof Bn&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new jn),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Vn(new vn(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||t&&this.content.length&&this.content[this.content.length-1]instanceof Bn||this.getLine()}buildText(t,e,n){for(;t>0;){if(this.textOff==this.text.length){let{value:e,lineBreak:n,done:i}=this.cursor.next(this.skip);if(this.skip=0,i)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}this.text=e,this.textOff=0}let i=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(e.length-n)),this.getLine().append(Vn(new un(this.text.slice(this.textOff,this.textOff+i)),e),n),this.atCursorPos=!0,this.textOff+=i,t-=i,n=0}}span(t,e,n,i){this.buildText(e-t,n,i),this.pos=e,this.openStart<0&&(this.openStart=i)}point(t,e,n,i,r,o){if(this.disallowBlockEffectsFor[o]&&n instanceof Pn){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let s=e-t;if(n instanceof Pn)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Bn(n.widget||Gn.block,s,n));else{let o=pn.create(n.widget||Gn.inline,s,s?0:n.startSide),a=this.atCursorPos&&!o.isEditable&&r<=i.length&&(t<e||n.startSide>0),g=!o.isEditable&&(t<e||r>i.length||n.startSide<=0),l=this.getLine();2!=this.pendingBuffer||a||o.isEditable||(this.pendingBuffer=0),this.flushBuffer(i),a&&(l.append(Vn(new vn(1),i),r),r=i.length+Math.max(0,r-i.length)),l.append(Vn(o,i),r),this.atCursorPos=g,this.pendingBuffer=g?t<e||r>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=r)}static build(t,e,n,i,r){let o=new zn(t,e,n,r);return o.openEnd=ie.spans(i,e,n,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Vn(t,e){for(let n of e)t=new fn(n,[t],t.length);return t}class Gn extends On{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Gn.inline=new Gn("span"),Gn.block=new Gn("div");var Un=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Un||(Un={}));const Wn=Un.LTR,Zn=Un.RTL;function Hn(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const qn=Hn("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Yn=Hn("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Qn=Object.create(null),Kn=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);Qn[e]=n,Qn[n]=-e}function Xn(t){return t<=247?qn[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Yn[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const Jn=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class $n{get dir(){return this.level%2?Zn:Wn}constructor(t,e,n){this.from=t,this.to=e,this.level=n}side(t,e){return this.dir==e==t?this.to:this.from}forward(t,e){return t==(this.dir==e)}static find(t,e,n,i){let r=-1;for(let o=0;o<t.length;o++){let s=t[o];if(s.from<=e&&s.to>=e){if(s.level==n)return o;(r<0||(0!=i?i<0?s.from<e:s.to>e:t[r].level>s.level))&&(r=o)}}if(r<0)throw new RangeError("Index out of range");return r}}function ti(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],r=e[n];if(i.from!=r.from||i.to!=r.to||i.direction!=r.direction||!ti(i.inner,r.inner))return!1}return!0}const ei=[];function ni(t,e,n,i,r,o,s){let a=i%2?2:1;if(i%2==r%2)for(let g=e,l=0;g<n;){let e=!0,A=!1;if(l==o.length||g<o[l].from){let t=ei[g];t!=a&&(e=!1,A=16==t)}let c=e||1!=a?null:[],h=e?i:i+1,C=g;t:for(;;)if(l<o.length&&C==o[l].from){if(A)break t;let I=o[l];if(!e)for(let t=I.to,e=l+1;;){if(t==n)break t;if(!(e<o.length&&o[e].from==t)){if(ei[t]==a)break t;break}t=o[e++].to}l++,c?c.push(I):(I.from>g&&s.push(new $n(g,I.from,h)),ii(t,I.direction==Wn!=!(h%2)?i+1:i,r,I.inner,I.from,I.to,s),g=I.to),C=I.to}else{if(C==n||(e?ei[C]!=a:ei[C]==a))break;C++}c?ni(t,g,C,i+1,r,c,s):g<C&&s.push(new $n(g,C,h)),g=C}else for(let g=n,l=o.length;g>e;){let n=!0,A=!1;if(!l||g>o[l-1].to){let t=ei[g-1];t!=a&&(n=!1,A=16==t)}let c=n||1!=a?null:[],h=n?i:i+1,C=g;t:for(;;)if(l&&C==o[l-1].to){if(A)break t;let I=o[--l];if(!n)for(let t=I.from,n=l;;){if(t==e)break t;if(!n||o[n-1].to!=t){if(ei[t-1]==a)break t;break}t=o[--n].from}c?c.push(I):(I.to<g&&s.push(new $n(I.to,g,h)),ii(t,I.direction==Wn!=!(h%2)?i+1:i,r,I.inner,I.from,I.to,s),g=I.from),C=I.from}else{if(C==e||(n?ei[C-1]!=a:ei[C-1]==a))break;C--}c?ni(t,C,g,i+1,r,c,s):C<g&&s.push(new $n(C,g,h)),g=C}}function ii(t,e,n,i,r,o,s){let a=e%2?2:1;!function(t,e,n,i,r){for(let o=0;o<=i.length;o++){let s=o?i[o-1].to:e,a=o<i.length?i[o].from:n,g=o?256:r;for(let e=s,n=g,i=g;e<a;e++){let r=Xn(t.charCodeAt(e));512==r?r=n:8==r&&4==i&&(r=16),ei[e]=4==r?2:r,7&r&&(i=r),n=r}for(let t=s,e=g,i=g;t<a;t++){let r=ei[t];if(128==r)t<a-1&&e==ei[t+1]&&24&e?r=ei[t]=e:ei[t]=256;else if(64==r){let r=t+1;for(;r<a&&64==ei[r];)r++;let o=t&&8==e||r<n&&8==ei[r]?1==i?1:8:256;for(let e=t;e<r;e++)ei[e]=o;t=r-1}else 8==r&&1==i&&(ei[t]=1);e=r,7&r&&(i=r)}}}(t,r,o,i,a),function(t,e,n,i,r){let o=1==r?2:1;for(let s=0,a=0,g=0;s<=i.length;s++){let l=s?i[s-1].to:e,A=s<i.length?i[s].from:n;for(let e,n,i,s=l;s<A;s++)if(n=Qn[e=t.charCodeAt(s)])if(n<0){for(let t=a-3;t>=0;t-=3)if(Kn[t+1]==-n){let e=Kn[t+2],n=2&e?r:4&e?1&e?o:r:0;n&&(ei[s]=ei[Kn[t]]=n),a=t;break}}else{if(189==Kn.length)break;Kn[a++]=s,Kn[a++]=e,Kn[a++]=g}else if(2==(i=ei[s])||1==i){let t=i==r;g=t?0:1;for(let e=a-3;e>=0;e-=3){let n=Kn[e+2];if(2&n)break;if(t)Kn[e+2]|=2;else{if(4&n)break;Kn[e+2]|=4}}}}}(t,r,o,i,a),function(t,e,n,i){for(let r=0,o=i;r<=n.length;r++){let s=r?n[r-1].to:t,a=r<n.length?n[r].from:e;for(let g=s;g<a;){let s=ei[g];if(256==s){let s=g+1;for(;;)if(s==a){if(r==n.length)break;s=n[r++].to,a=r<n.length?n[r].from:e}else{if(256!=ei[s])break;s++}let l=1==o,A=l==(1==(s<e?ei[s]:i))?l?1:2:i;for(let e=s,i=r,o=i?n[i-1].to:t;e>g;)e==o&&(e=n[--i].from,o=i?n[i-1].to:t),ei[--e]=A;g=s}else o=s,g++}}}(r,o,i,a),ni(t,r,o,e,n,i,s)}function ri(t){return[new $n(0,t,0)]}let oi="";function si(t,e,n,i,r){var o;let s=i.head-t.from,a=$n.find(e,s,null!==(o=i.bidiLevel)&&void 0!==o?o:-1,i.assoc),g=e[a],l=g.side(r,n);if(s==l){let t=a+=r?1:-1;if(t<0||t>=e.length)return null;g=e[a=t],s=g.side(!r,n),l=g.side(r,n)}let A=tt(t.text,s,g.forward(r,n));(A<g.from||A>g.to)&&(A=l),oi=t.text.slice(Math.min(s,A),Math.max(s,A));let c=a==(r?e.length-1:0)?null:e[a+(r?1:-1)];return c&&A==l&&c.level+(r?0:1)<g.level?ht.cursor(c.side(!r,n)+t.from,c.forward(r,n)?1:-1,c.level):ht.cursor(A+t.from,g.forward(r,n)?-1:1,g.level)}function ai(t,e,n){for(let i=e;i<n;i++){let e=Xn(t.charCodeAt(i));if(1==e)return Wn;if(2==e||4==e)return Zn}return Wn}const gi=dt.define(),li=dt.define(),Ai=dt.define(),ci=dt.define(),hi=dt.define(),Ci=dt.define(),Ii=dt.define(),di=dt.define(),ui=dt.define(),fi=dt.define({combine:t=>t.some((t=>t))}),pi=dt.define({combine:t=>t.some((t=>t))}),vi=dt.define();class mi{constructor(t,e="nearest",n="nearest",i=5,r=5,o=!1){this.range=t,this.y=e,this.x=n,this.yMargin=i,this.xMargin=r,this.isSnapshot=o}map(t){return t.empty?this:new mi(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new mi(ht.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const yi=Vt.define({map:(t,e)=>t.map(e)}),bi=Vt.define();function wi(t,e,n){let i=t.facet(ci);i.length?i[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const xi=dt.define({combine:t=>!t.length||t[0]});let Ei=0;const ki=dt.define();class Si{constructor(t,e,n,i,r){this.id=t,this.create=e,this.domEventHandlers=n,this.domEventObservers=i,this.extension=r(this)}static define(t,e){const{eventHandlers:n,eventObservers:i,provide:r,decorations:o}=e||{};return new Si(Ei++,t,n,i,(t=>{let e=[ki.of(t)];return o&&e.push(_i.of((e=>{let n=e.plugin(t);return n?o(n):_n.none}))),r&&e.push(r(t)),e}))}static fromClass(t,e){return Si.define((e=>new t(e)),e)}}class Ti{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(e){if(wi(t.state,e,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(t){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){wi(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(null===(e=this.value)||void 0===e?void 0:e.destroy)try{this.value.destroy()}catch(e){wi(t.state,e,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Oi=dt.define(),Ri=dt.define(),_i=dt.define(),Ni=dt.define(),Di=dt.define(),Pi=dt.define();function Mi(t,e){let n=t.state.facet(Pi);if(!n.length)return n;let i=n.map((e=>e instanceof Function?e(t):e)),r=[];return ie.spans(i,e.from,e.to,{point(){},span(t,n,i,o){let s=t-e.from,a=n-e.from,g=r;for(let t=i.length-1;t>=0;t--,o--){let n,r=i[t].spec.bidiIsolate;if(null==r&&(r=ai(e.text,s,a)),o>0&&g.length&&(n=g[g.length-1]).to==s&&n.direction==r)n.to=a,g=n.inner;else{let t={from:s,to:a,direction:r,inner:[]};g.push(t),g=t.inner}}}}),r}const Li=dt.define();function ji(t){let e=0,n=0,i=0,r=0;for(let o of t.state.facet(Li)){let s=o(t);s&&(null!=s.left&&(e=Math.max(e,s.left)),null!=s.right&&(n=Math.max(n,s.right)),null!=s.top&&(i=Math.max(i,s.top)),null!=s.bottom&&(r=Math.max(r,s.bottom)))}return{left:e,right:n,top:i,bottom:r}}const Bi=dt.define();class Fi{constructor(t,e,n,i){this.fromA=t,this.toA=e,this.fromB=n,this.toB=i}join(t){return new Fi(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,n=this;for(;e>0;e--){let i=t[e-1];if(!(i.fromA>n.toA)){if(i.toA<n.fromA)break;n=n.join(i),t.splice(e-1,1)}}return t.splice(e,0,n),t}static extendWithRanges(t,e){if(0==e.length)return t;let n=[];for(let i=0,r=0,o=0,s=0;;i++){let a=i==t.length?null:t[i],g=o-s,l=a?a.fromB:1e9;for(;r<e.length&&e[r]<l;){let t=e[r],i=e[r+1],o=Math.max(s,t),a=Math.min(l,i);if(o<=a&&new Fi(o+g,a+g,o,a).addToSet(n),i>l)break;r+=2}if(!a)return n;new Fi(a.fromA,a.toA,a.fromB,a.toB).addToSet(n),o=a.toA,s=a.toB}}}class zi{constructor(t,e,n){this.view=t,this.state=e,this.transactions=n,this.flags=0,this.startState=t.state,this.changes=rt.empty(this.startState.doc.length);for(let t of n)this.changes=this.changes.compose(t.changes);let i=[];this.changes.iterChangedRanges(((t,e,n,r)=>i.push(new Fi(t,e,n,r)))),this.changedRanges=i}static create(t,e,n){return new zi(t,e,n)}get viewportChanged(){return(4&this.flags)>0}get viewportMoved(){return(8&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(18&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((t=>t.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}class Vi extends Je{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=_n.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new jn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Fi(0,0,0,t.state.doc.length)],0,null)}update(t){var e;let n=t.changedRanges;this.minWidth>0&&n.length&&(n.every((({fromA:t,toA:e})=>e<this.minWidthFrom||t>this.minWidthTo))?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(t);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&((null===(e=this.domChanged)||void 0===e?void 0:e.newSel)?i=this.domChanged.newSel.head:function(t,e){let n=!1;return e&&t.iterChangedRanges(((t,i)=>{t<e.to&&i>e.from&&(n=!0)})),n}(t.changes,this.hasComposition)||t.selectionSet||(i=t.state.selection.main.head));let r=i>-1?function(t,e,n){let i=Gi(t,n);if(!i)return null;let{node:r,from:o,to:s}=i,a=r.nodeValue;if(/[\n\r]/.test(a))return null;if(t.state.doc.sliceString(i.from,i.to)!=a)return null;let g=e.invertedDesc,l=new Fi(g.mapPos(o),g.mapPos(s),o,s),A=[];for(let e=r.parentNode;;e=e.parentNode){let n=Je.get(e);if(n instanceof fn)A.push({node:e,deco:n.mark});else{if(n instanceof jn||"DIV"==e.nodeName&&e.parentNode==t.contentDOM)return{range:l,text:r,marks:A,line:e};if(e==t.contentDOM)return null;A.push({node:e,deco:new Nn({inclusive:!0,attributes:Tn(e),tagName:e.tagName.toLowerCase()})})}}}(this.view,t.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:e,to:i}=this.hasComposition;n=new Fi(e,i,t.changes.mapPos(e,-1),t.changes.mapPos(i,1)).addToSet(n.slice())}this.hasComposition=r?{from:r.range.fromB,to:r.range.toB}:null,(dn.ie||dn.chrome)&&!r&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let o=function(t,e,n){let i=new Ui;return ie.compare(t,e,n,i),i.changes}(this.decorations,this.updateDeco(),t.changes);return n=Fi.extendWithRanges(n,o),!!(7&this.flags||0!=n.length)&&(this.updateInner(n,t.startState.doc.length,r),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e,n);let{observer:i}=this.view;i.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let t=dn.chrome||dn.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,t),this.flags&=-8,t&&(t.written||i.selectionRange.focusNode!=t.node)&&(this.forceSelection=!0),this.dom.style.height=""})),this.markedForComposition.forEach((t=>t.flags&=-9));let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let t of this.children)t instanceof Bn&&t.widget instanceof Fn&&r.push(t.dom);i.updateGaps(r)}updateChildren(t,e,n){let i=n?n.range.addToSet(t.slice()):t,r=this.childCursor(e);for(let t=i.length-1;;t--){let e=t>=0?i[t]:null;if(!e)break;let o,s,a,g,{fromA:l,toA:A,fromB:c,toB:h}=e;if(n&&n.range.fromB<h&&n.range.toB>c){let t=zn.build(this.view.state.doc,c,n.range.fromB,this.decorations,this.dynamicDecorationMap),e=zn.build(this.view.state.doc,n.range.toB,h,this.decorations,this.dynamicDecorationMap);s=t.breakAtStart,a=t.openStart,g=e.openEnd;let i=this.compositionView(n);e.breakAtStart?i.breakAfter=1:e.content.length&&i.merge(i.length,i.length,e.content[0],!1,e.openStart,0)&&(i.breakAfter=e.content[0].breakAfter,e.content.shift()),t.content.length&&i.merge(0,0,t.content[t.content.length-1],!0,0,t.openEnd)&&t.content.pop(),o=t.content.concat(i).concat(e.content)}else({content:o,breakAtStart:s,openStart:a,openEnd:g}=zn.build(this.view.state.doc,c,h,this.decorations,this.dynamicDecorationMap));let{i:C,off:I}=r.findPos(A,1),{i:d,off:u}=r.findPos(l,-1);en(this,d,u,C,I,o,s,a,g)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(t){this.editContextFormatting=this.editContextFormatting.map(t.changes);for(let e of t.transactions)for(let t of e.effects)t.is(bi)&&(this.editContextFormatting=t.value)}compositionView(t){let e=new un(t.text.nodeValue);e.flags|=8;for(let{deco:n}of t.marks)e=new fn(n,[e],e.length);let n=new jn;return n.append(e,0),n}fixCompositionDOM(t){let e=(t,e)=>{e.flags|=8|(e.children.some((t=>7&t.flags))?1:0),this.markedForComposition.add(e);let n=Je.get(t);n&&n!=e&&(n.dom=null),e.setDOM(t)},n=this.childPos(t.range.fromB,1),i=this.children[n.i];e(t.line,i);for(let r=t.marks.length-1;r>=-1;r--)n=i.childPos(n.off,1),i=i.children[n.i],e(r>=0?t.marks[r].node:t.text,i)}updateSelection(t=!1,e=!1){!t&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let n=this.view.root.activeElement,i=n==this.dom,r=!i&&!(this.view.state.facet(xi)||this.dom.tabIndex>-1)&&Re(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(i||e||r))return;let o=this.forceSelection;this.forceSelection=!1;let s=this.view.state.selection.main,a=this.moveToLine(this.domAtPos(s.anchor)),g=s.empty?a:this.moveToLine(this.domAtPos(s.head));if(dn.gecko&&s.empty&&!this.hasComposition&&1==(l=a).node.nodeType&&l.node.firstChild&&(0==l.offset||"false"==l.node.childNodes[l.offset-1].contentEditable)&&(l.offset==l.node.childNodes.length||"false"==l.node.childNodes[l.offset].contentEditable)){let t=document.createTextNode("");this.view.observer.ignore((()=>a.node.insertBefore(t,a.node.childNodes[a.offset]||null))),a=g=new Ke(t,0),o=!0}var l;let A=this.view.observer.selectionRange;!o&&A.focusNode&&(Ne(a.node,a.offset,A.anchorNode,A.anchorOffset)&&Ne(g.node,g.offset,A.focusNode,A.focusOffset)||this.suppressWidgetCursorChange(A,s))||(this.view.observer.ignore((()=>{dn.android&&dn.chrome&&this.dom.contains(A.focusNode)&&function(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(A.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let t=Te(this.view.root);if(t)if(s.empty){if(dn.gecko){let t=function(t,e){return 1!=t.nodeType?0:(e&&"false"==t.childNodes[e-1].contentEditable?1:0)|(e<t.childNodes.length&&"false"==t.childNodes[e].contentEditable?2:0)}(a.node,a.offset);if(t&&3!=t){let e=(1==t?Ye:Qe)(a.node,a.offset);e&&(a=new Ke(e.node,e.offset))}}t.collapse(a.node,a.offset),null!=s.bidiLevel&&void 0!==t.caretBidiLevel&&(t.caretBidiLevel=s.bidiLevel)}else if(t.extend){t.collapse(a.node,a.offset);try{t.extend(g.node,g.offset)}catch(t){}}else{let e=document.createRange();s.anchor>s.head&&([a,g]=[g,a]),e.setEnd(g.node,g.offset),e.setStart(a.node,a.offset),t.removeAllRanges(),t.addRange(e)}r&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())})),this.view.observer.setSelectionRange(a,g)),this.impreciseAnchor=a.precise?null:new Ke(A.anchorNode,A.anchorOffset),this.impreciseHead=g.precise?null:new Ke(A.focusNode,A.focusOffset)}suppressWidgetCursorChange(t,e){return this.hasComposition&&e.empty&&Ne(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==e.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,e=t.state.selection.main,n=Te(t.root),{anchorNode:i,anchorOffset:r}=t.observer.selectionRange;if(!(n&&e.empty&&e.assoc&&n.modify))return;let o=jn.find(this,e.head);if(!o)return;let s=o.posAtStart;if(e.head==s||e.head==s+o.length)return;let a=this.coordsAt(e.head,-1),g=this.coordsAt(e.head,1);if(!a||!g||a.bottom>g.top)return;let l=this.domAtPos(e.head+e.assoc);n.collapse(l.node,l.offset),n.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let A=t.observer.selectionRange;t.docView.posFromDOM(A.anchorNode,A.anchorOffset)!=e.from&&n.collapse(i,r)}moveToLine(t){let e,n=this.dom;if(t.node!=n)return t;for(let i=t.offset;!e&&i<n.childNodes.length;i++){let t=Je.get(n.childNodes[i]);t instanceof jn&&(e=t.domAtPos(0))}for(let i=t.offset-1;!e&&i>=0;i--){let t=Je.get(n.childNodes[i]);t instanceof jn&&(e=t.domAtPos(t.length))}return e?new Ke(e.node,e.offset,!0):t}nearest(t){for(let e=t;e;){let t=Je.get(e);if(t&&t.rootView==this)return t;e=e.parentNode}return null}posFromDOM(t,e){let n=this.nearest(t);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(t,e)+n.posAtStart}domAtPos(t){let{i:e,off:n}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let t=this.children[e];if(n<t.length||t instanceof jn)break;e++,n=0}return this.children[e].domAtPos(n)}coordsAt(t,e){let n=null,i=0;for(let r=this.length,o=this.children.length-1;o>=0;o--){let s=this.children[o],a=r-s.breakAfter,g=a-s.length;if(a<t)break;if(g<=t&&(g<t||s.covers(-1))&&(a>t||s.covers(1))&&(!n||s instanceof jn&&!(n instanceof jn&&e>=0)))n=s,i=g;else if(n&&g==t&&a==t&&s instanceof Bn&&Math.abs(e)<2){if(s.deco.startSide<0)break;o&&(n=null)}r=g}return n?n.coordsAt(t-i,e):null}coordsForChar(t){let{i:e,off:n}=this.childPos(t,1),i=this.children[e];if(!(i instanceof jn))return null;for(;i.children.length;){let{i:t,off:e}=i.childPos(n,1);for(;;t++){if(t==i.children.length)return null;if((i=i.children[t]).length)break}n=e}if(!(i instanceof un))return null;let r=tt(i.text,n);if(r==n)return null;let o=We(i.dom,n,r).getClientRects();for(let t=0;t<o.length;t++){let e=o[t];if(t==o.length-1||e.top<e.bottom&&e.left<e.right)return e}return null}measureVisibleLineHeights(t){let e=[],{from:n,to:i}=t,r=this.view.contentDOM.clientWidth,o=r>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,a=this.view.textDirection==Un.LTR;for(let t=0,g=0;g<this.children.length;g++){let l=this.children[g],A=t+l.length;if(A>i)break;if(t>=n){let n=l.dom.getBoundingClientRect();if(e.push(n.height),o){let e=l.dom.lastChild,i=e?_e(e):[];if(i.length){let e=i[i.length-1],o=a?e.right-n.left:n.right-e.left;o>s&&(s=o,this.minWidth=r,this.minWidthFrom=t,this.minWidthTo=A)}}}t=A+l.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return"rtl"==getComputedStyle(this.children[e].dom).direction?Un.RTL:Un.LTR}measureTextSize(){for(let t of this.children)if(t instanceof jn){let e=t.measureTextSize();if(e)return e}let t,e,n,i=document.createElement("div");return i.className="cm-line",i.style.width="99999px",i.style.position="absolute",i.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(i);let r=_e(i.firstChild)[0];t=i.getBoundingClientRect().height,e=r?r.width/27:7,n=r?r.height:t,i.remove()})),{lineHeight:t,charWidth:e,textHeight:n}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new tn(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let n=0,i=0;;i++){let r=i==e.viewports.length?null:e.viewports[i],o=r?r.from-1:this.length;if(o>n){let i=(e.lineBlockAt(o).bottom-e.lineBlockAt(n).top)/this.view.scaleY;t.push(_n.replace({widget:new Fn(i),block:!0,inclusive:!0,isBlockGap:!0}).range(n,o))}if(!r)break;n=r.to+1}return _n.set(t)}updateDeco(){let t=1,e=this.view.state.facet(_i).map((e=>(this.dynamicDecorationMap[t++]="function"==typeof e)?e(this.view):e)),n=!1,i=this.view.state.facet(Ni).map(((t,e)=>{let i="function"==typeof t;return i&&(n=!0),i?t(this.view):t}));for(i.length&&(this.dynamicDecorationMap[t++]=n,e.push(ie.join(i))),this.decorations=[this.editContextFormatting,...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;return this.decorations}scrollIntoView(t){if(t.isSnapshot){let e=this.view.viewState.lineBlockAt(t.range.head);return this.view.scrollDOM.scrollTop=e.top-t.yMargin,void(this.view.scrollDOM.scrollLeft=t.xMargin)}for(let e of this.view.state.facet(vi))try{if(e(this.view,t.range,t))return!0}catch(t){wi(this.view.state,t,"scroll handler")}let e,{range:n}=t,i=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!i)return;!n.empty&&(e=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(i={left:Math.min(i.left,e.left),top:Math.min(i.top,e.top),right:Math.max(i.right,e.right),bottom:Math.max(i.bottom,e.bottom)});let r=ji(this.view),o={left:i.left-r.left,top:i.top-r.top,right:i.right+r.right,bottom:i.bottom+r.bottom},{offsetWidth:s,offsetHeight:a}=this.view.scrollDOM;!function(t,e,n,i,r,o,s,a){let g=t.ownerDocument,l=g.defaultView||window;for(let A=t,c=!1;A&&!c;)if(1==A.nodeType){let t,h=A==g.body,C=1,I=1;if(h)t=Be(l);else{if(/^(fixed|sticky)$/.test(getComputedStyle(A).position)&&(c=!0),A.scrollHeight<=A.clientHeight&&A.scrollWidth<=A.clientWidth){A=A.assignedSlot||A.parentNode;continue}let e=A.getBoundingClientRect();({scaleX:C,scaleY:I}=Fe(A,e)),t={left:e.left,right:e.left+A.clientWidth*C,top:e.top,bottom:e.top+A.clientHeight*I}}let d=0,u=0;if("nearest"==r)e.top<t.top?(u=e.top-(t.top+s),n>0&&e.bottom>t.bottom+u&&(u=e.bottom-t.bottom+s)):e.bottom>t.bottom&&(u=e.bottom-t.bottom+s,n<0&&e.top-u<t.top&&(u=e.top-(t.top+s)));else{let i=e.bottom-e.top,o=t.bottom-t.top;u=("center"==r&&i<=o?e.top+i/2-o/2:"start"==r||"center"==r&&n<0?e.top-s:e.bottom-o+s)-t.top}if("nearest"==i?e.left<t.left?(d=e.left-(t.left+o),n>0&&e.right>t.right+d&&(d=e.right-t.right+o)):e.right>t.right&&(d=e.right-t.right+o,n<0&&e.left<t.left+d&&(d=e.left-(t.left+o))):d=("center"==i?e.left+(e.right-e.left)/2-(t.right-t.left)/2:"start"==i==a?e.left-o:e.right-(t.right-t.left)+o)-t.left,d||u)if(h)l.scrollBy(d,u);else{let t=0,n=0;if(u){let t=A.scrollTop;A.scrollTop+=u/I,n=(A.scrollTop-t)*I}if(d){let e=A.scrollLeft;A.scrollLeft+=d/C,t=(A.scrollLeft-e)*C}e={left:e.left-t,top:e.top-n,right:e.right-t,bottom:e.bottom-n},t&&Math.abs(t-d)<1&&(i="nearest"),n&&Math.abs(n-u)<1&&(r="nearest")}if(h)break;(e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)&&(e={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)}),A=A.assignedSlot||A.parentNode}else{if(11!=A.nodeType)break;A=A.host}}(this.view.scrollDOM,o,n.head<n.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,s),-s),Math.max(Math.min(t.yMargin,a),-a),this.view.textDirection==Un.LTR)}}function Gi(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let i=Ye(n.focusNode,n.focusOffset),r=Qe(n.focusNode,n.focusOffset),o=i||r;if(r&&i&&r.node!=i.node){let e=Je.get(r.node);if(!e||e instanceof un&&e.text!=r.node.nodeValue)o=r;else if(t.docView.lastCompositionAfterCursor){let t=Je.get(i.node);!t||t instanceof un&&t.text!=i.node.nodeValue||(o=r)}}if(t.docView.lastCompositionAfterCursor=o!=i,!o)return null;let s=e-o.offset;return{from:s,to:s+o.node.nodeValue.length,node:o.node}}let Ui=class{constructor(){this.changes=[]}compareRange(t,e){Ln(t,e,this.changes)}comparePoint(t,e){Ln(t,e,this.changes)}boundChange(t){Ln(t,t,this.changes)}};function Wi(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function Zi(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function Hi(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function qi(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function Yi(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Qi(t,e,n){let i,r,o,s,a,g,l,A,c=!1;for(let h=t.firstChild;h;h=h.nextSibling){let t=_e(h);for(let C=0;C<t.length;C++){let I=t[C];r&&Hi(r,I)&&(I=qi(Yi(I,r.bottom),r.top));let d=Wi(e,I),u=Zi(n,I);if(0==d&&0==u)return 3==h.nodeType?Ki(h,e,n):Qi(h,e,n);if(!i||s>u||s==u&&o>d){i=h,r=I,o=d,s=u;let a=u?n<I.top?-1:1:d?e<I.left?-1:1:0;c=!a||(a>0?C<t.length-1:C>0)}0==d?n>I.bottom&&(!l||l.bottom<I.bottom)?(a=h,l=I):n<I.top&&(!A||A.top>I.top)&&(g=h,A=I):l&&Hi(l,I)?l=Yi(l,I.bottom):A&&Hi(A,I)&&(A=qi(A,I.top))}}if(l&&l.bottom>=n?(i=a,r=l):A&&A.top<=n&&(i=g,r=A),!i)return{node:t,offset:0};let h=Math.max(r.left,Math.min(r.right,e));return 3==i.nodeType?Ki(i,h,n):c&&"false"!=i.contentEditable?Qi(i,h,n):{node:t,offset:Array.prototype.indexOf.call(t.childNodes,i)+(e>=(r.left+r.right)/2?1:0)}}function Ki(t,e,n){let i=t.nodeValue.length,r=-1,o=1e9,s=0;for(let a=0;a<i;a++){let i=We(t,a,a+1).getClientRects();for(let g=0;g<i.length;g++){let l=i[g];if(l.top==l.bottom)continue;s||(s=e-l.left);let A=(l.top>n?l.top-n:n-l.bottom)-1;if(l.left-1<=e&&l.right+1>=e&&A<o){let n=e>=(l.left+l.right)/2,i=n;if((dn.chrome||dn.gecko)&&We(t,a).getBoundingClientRect().left==l.right&&(i=!n),A<=0)return{node:t,offset:a+(i?1:0)};r=a+(i?1:0),o=A}}}return{node:t,offset:r>-1?r:s>0?t.nodeValue.length:0}}function Xi(t,e,n,i=-1){var r,o;let s,a=t.contentDOM.getBoundingClientRect(),g=a.top+t.viewState.paddingTop,{docHeight:l}=t.viewState,{x:A,y:c}=e,h=c-g;if(h<0)return 0;if(h>l)return t.state.doc.length;for(let e=t.viewState.heightOracle.textHeight/2,r=!1;s=t.elementAtHeight(h),s.type!=Rn.Text;)for(;h=i>0?s.bottom+e:s.top-e,!(h>=0&&h<=l);){if(r)return n?null:0;r=!0,i=-i}c=g+h;let C=s.from;if(C<t.viewport.from)return 0==t.viewport.from?0:n?null:Ji(t,a,s,A,c);if(C>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:Ji(t,a,s,A,c);let I=t.dom.ownerDocument,d=t.root.elementFromPoint?t.root:I,u=d.elementFromPoint(A,c);u&&!t.contentDOM.contains(u)&&(u=null),u||(A=Math.max(a.left+1,Math.min(a.right-1,A)),u=d.elementFromPoint(A,c),u&&!t.contentDOM.contains(u)&&(u=null));let f,p=-1;if(u&&0!=(null===(r=t.docView.nearest(u))||void 0===r?void 0:r.isEditable)){if(I.caretPositionFromPoint){let t=I.caretPositionFromPoint(A,c);t&&({offsetNode:f,offset:p}=t)}else if(I.caretRangeFromPoint){let e=I.caretRangeFromPoint(A,c);e&&(({startContainer:f,startOffset:p}=e),(!t.contentDOM.contains(f)||dn.safari&&function(t,e,n){let i;if(3!=t.nodeType||e!=(i=t.nodeValue.length))return!1;for(let e=t.nextSibling;e;e=e.nextSibling)if(1!=e.nodeType||"BR"!=e.nodeName)return!1;return We(t,i-1,i).getBoundingClientRect().left>n}(f,p,A)||dn.chrome&&function(t,e,n){if(0!=e)return!1;for(let e=t;;){let t=e.parentNode;if(!t||1!=t.nodeType||t.firstChild!=e)return!1;if(t.classList.contains("cm-line"))break;e=t}return n-(1==t.nodeType?t.getBoundingClientRect():We(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect()).left>5}(f,p,A))&&(f=void 0))}f&&(p=Math.min(Le(f),p))}if(!f||!t.docView.dom.contains(f)){let e=jn.find(t.docView,C);if(!e)return h>s.top+s.height/2?s.to:s.from;({node:f,offset:p}=Qi(e.dom,A,c))}let v=t.docView.nearest(f);if(!v)return null;if(v.isWidget&&1==(null===(o=v.dom)||void 0===o?void 0:o.nodeType)){let t=v.dom.getBoundingClientRect();return e.y<t.top||e.y<=t.bottom&&e.x<=(t.left+t.right)/2?v.posAtStart:v.posAtEnd}return v.localPosFromDOM(f,p)+v.posAtStart}function Ji(t,e,n,i,r){let o=Math.round((i-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>1.5*t.defaultLineHeight){let e=t.viewState.heightOracle.textHeight;o+=Math.floor((r-n.top-.5*(t.defaultLineHeight-e))/e)*t.viewState.heightOracle.lineLength}let s=t.state.sliceDoc(n.from,n.to);return n.from+function(t,e,n){for(let i=0,r=0;;){if(r>=e)return i;if(i==t.length)break;r+=9==t.charCodeAt(i)?n-r%n:1,i=tt(t,i)}return t.length}(s,o,t.state.tabSize)}function $i(t,e,n,i){let r=t.state.doc.lineAt(e.head),o=t.bidiSpans(r),s=t.textDirectionAt(r.from);for(let a=e,g=null;;){let e=si(r,o,s,a,n),l=oi;if(!e){if(r.number==(n?t.state.doc.lines:1))return a;l="\n",r=t.state.doc.line(r.number+(n?1:-1)),o=t.bidiSpans(r),e=t.visualLineSide(r,!n)}if(g){if(!g(l))return a}else{if(!i)return e;g=i(l)}a=e}}function tr(t,e,n){for(;;){let i=0;for(let r of t)r.between(e-1,e+1,((t,r,o)=>{if(e>t&&e<r){let o=i||n||(e-t<r-e?-1:1);e=o<0?t:r,i=o}}));if(!i)return e}}function er(t,e,n){let i=tr(t.state.facet(Di).map((e=>e(t))),n.from,e.head>n.from?-1:1);return i==n.from?n:ht.cursor(i,i<n.from?1:-1)}const nr="ï¿¿";class ir{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(Jt.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=nr}readRange(t,e){if(!t)return this;let n=t.parentNode;for(let i=t;;){this.findPointBefore(n,i);let t=this.text.length;this.readNode(i);let r=i.nextSibling;if(r==e)break;let o=Je.get(i),s=Je.get(r);(o&&s?o.breakAfter:(o?o.breakAfter:Pe(i))||Pe(r)&&("BR"!=i.nodeName||i.cmIgnore)&&this.text.length>t)&&this.lineBreak(),i=r}return this.findPointBefore(n,e),this}readTextNode(t){let e=t.nodeValue;for(let n of this.points)n.node==t&&(n.pos=this.text.length+Math.min(n.offset,e.length));for(let n=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let r,o=-1,s=1;if(this.lineSeparator?(o=e.indexOf(this.lineSeparator,n),s=this.lineSeparator.length):(r=i.exec(e))&&(o=r.index,s=r[0].length),this.append(e.slice(n,o<0?e.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let e of this.points)e.node==t&&e.pos>this.text.length&&(e.pos-=s-1);n=o+s}}readNode(t){if(t.cmIgnore)return;let e=Je.get(t),n=e&&e.overrideDOMText;if(null!=n){this.findPointInside(t,n.length);for(let t=n.iter();!t.next().done;)t.lineBreak?this.lineBreak():this.append(t.value)}else 3==t.nodeType?this.readTextNode(t):"BR"==t.nodeName?t.nextSibling&&this.lineBreak():1==t.nodeType&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let n of this.points)n.node==t&&t.childNodes[n.offset]==e&&(n.pos=this.text.length)}findPointInside(t,e){for(let n of this.points)(3==t.nodeType?n.node==t:t.contains(n.node))&&(n.pos=this.text.length+(rr(t,n.node,n.offset)?e:0))}}function rr(t,e,n){for(;;){if(!e||n<Le(e))return!1;if(e==t)return!0;n=De(e)+1,e=e.parentNode}}class or{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class sr{constructor(t,e,n,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=e>-1;let{impreciseHead:r,impreciseAnchor:o}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=t.docView.domBoundsAround(e,n,0))){let e=r||o?[]:function(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:o}=t.observer.selectionRange;return n&&(e.push(new or(n,i)),r==n&&o==i||e.push(new or(r,o))),e}(t),n=new ir(e,t.state);n.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=n.text,this.newSel=function(t,e){if(0==t.length)return null;let n=t[0].pos,i=2==t.length?t[1].pos:n;return n>-1&&i>-1?ht.single(n+e,i+e):null}(e,this.bounds.from)}else{let e=t.observer.selectionRange,n=r&&r.node==e.focusNode&&r.offset==e.focusOffset||!Oe(t.contentDOM,e.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(e.focusNode,e.focusOffset),i=o&&o.node==e.anchorNode&&o.offset==e.anchorOffset||!Oe(t.contentDOM,e.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(e.anchorNode,e.anchorOffset),s=t.viewport;if((dn.ios||dn.chrome)&&t.state.selection.main.empty&&n!=i&&(s.from>0||s.to<t.state.doc.length)){let e=Math.min(n,i),r=Math.max(n,i),o=s.from-e,a=s.to-r;0!=o&&1!=o&&0!=e||0!=a&&-1!=a&&r!=t.state.doc.length||(n=0,i=t.state.doc.length)}this.newSel=ht.single(i,n)}}}function ar(t,e){let n,{newSel:i}=e,r=t.state.selection.main,o=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:i,to:s}=e.bounds,a=r.from,g=null;(8===o||dn.android&&e.text.length<s-i)&&(a=r.to,g="end");let l=function(t,e,n,i){let r=Math.min(t.length,e.length),o=0;for(;o<r&&t.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==r&&t.length==e.length)return null;let s=t.length,a=e.length;for(;s>0&&a>0&&t.charCodeAt(s-1)==e.charCodeAt(a-1);)s--,a--;return"end"==i&&(n-=s+Math.max(0,o-Math.min(s,a))-o),s<o&&t.length<e.length?(o-=n<=o&&n>=s?o-n:0,a=o+(a-s),s=o):a<o&&(o-=n<=o&&n>=a?o-n:0,s=o+(s-a),a=o),{from:o,toA:s,toB:a}}(t.state.doc.sliceString(i,s,nr),e.text,a-i,g);l&&(dn.chrome&&13==o&&l.toB==l.from+2&&e.text.slice(l.from,l.toB)==nr+nr&&l.toB--,n={from:i+l.from,to:i+l.toA,insert:W.of(e.text.slice(l.from,l.toB).split(nr))})}else i&&(!t.hasFocus&&t.state.facet(xi)||i.main.eq(r))&&(i=null);if(!n&&!i)return!1;if(!n&&e.typeOver&&!r.empty&&i&&i.main.empty?n={from:r.from,to:r.to,insert:t.state.doc.slice(r.from,r.to)}:(dn.mac||dn.android)&&n&&n.from==n.to&&n.from==r.head-1&&/^\. ?$/.test(n.insert.toString())&&"off"==t.contentDOM.getAttribute("autocorrect")?(i&&2==n.insert.length&&(i=ht.single(i.main.anchor-1,i.main.head-1)),n={from:n.from,to:n.to,insert:W.of([n.insert.toString().replace("."," ")])}):n&&n.from>=r.from&&n.to<=r.to&&(n.from!=r.from||n.to!=r.to)&&r.to-r.from-(n.to-n.from)<=4?n={from:r.from,to:r.to,insert:t.state.doc.slice(r.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,r.to))}:dn.chrome&&n&&n.from==n.to&&n.from==r.head&&"\n "==n.insert.toString()&&t.lineWrapping&&(i&&(i=ht.single(i.main.anchor-1,i.main.head-1)),n={from:r.from,to:r.to,insert:W.of([" "])}),n)return gr(t,n,i,o);if(i&&!i.main.eq(r)){let e=!1,n="select";return t.inputState.lastSelectionTime>Date.now()-50&&("select"==t.inputState.lastSelectionOrigin&&(e=!0),n=t.inputState.lastSelectionOrigin),t.dispatch({selection:i,scrollIntoView:e,userEvent:n}),!0}return!1}function gr(t,e,n,i=-1){if(dn.ios&&t.inputState.flushIOSKey(e))return!0;let r=t.state.selection.main;if(dn.android&&(e.to==r.to&&(e.from==r.from||e.from==r.from-1&&" "==t.state.sliceDoc(e.from,r.from))&&1==e.insert.length&&2==e.insert.lines&&Ze(t.contentDOM,"Enter",13)||(e.from==r.from-1&&e.to==r.to&&0==e.insert.length||8==i&&e.insert.length<e.to-e.from&&e.to>r.head)&&Ze(t.contentDOM,"Backspace",8)||e.from==r.from&&e.to==r.to+1&&0==e.insert.length&&Ze(t.contentDOM,"Delete",46)))return!0;let o,s=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let a=()=>o||(o=function(t,e,n){let i,r=t.state,o=r.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let n=o.from<e.from?r.sliceDoc(o.from,e.from):"",s=o.to>e.to?r.sliceDoc(e.to,o.to):"";i=r.replaceSelection(t.state.toText(n+e.insert.sliceString(0,void 0,t.state.lineBreak)+s))}else{let s=r.changes(e),a=n&&n.main.to<=s.newLength?n.main:void 0;if(r.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let g,l=t.state.sliceDoc(e.from,e.to),A=n&&Gi(t,n.main.head);if(A){let t=e.insert.length-(e.to-e.from);g={from:A.from,to:A.to-t}}else g=t.state.doc.lineAt(o.head);let c=o.to-e.to,h=o.to-o.from;i=r.changeByRange((n=>{if(n.from==o.from&&n.to==o.to)return{changes:s,range:a||n.map(s)};let i=n.to-c,A=i-l.length;if(n.to-n.from!=h||t.state.sliceDoc(A,i)!=l||n.to>=g.from&&n.from<=g.to)return{range:n};let C=r.changes({from:A,to:i,insert:e.insert}),I=n.to-o.to;return{changes:C,range:a?ht.range(Math.max(0,a.anchor+I),Math.max(0,a.head+I)):n.map(C)}}))}else i={changes:s,selection:a&&r.selection.replaceRange(a)}}let s="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,s+=".compose",t.inputState.compositionFirstChange&&(s+=".start",t.inputState.compositionFirstChange=!1)),r.update(i,{userEvent:s,scrollIntoView:!0})}(t,e,n));return t.state.facet(Ci).some((n=>n(t,e.from,e.to,s,a)))||t.dispatch(a()),!0}class lr{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,dn.safari&&t.contentDOM.addEventListener("input",(()=>null)),dn.gecko&&function(t){Lr.has(t)||(Lr.add(t),t.addEventListener("copy",(()=>{})),t.addEventListener("cut",(()=>{})))}(t.contentDOM.ownerDocument)}handleEvent(t){(function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n,i=e.target;i!=t.contentDOM;i=i.parentNode)if(!i||11==i.nodeType||(n=Je.get(i))&&n.ignoreEvent(e))return!1;return!0})(this.view,t)&&!this.ignoreDuringComposition(t)&&("keydown"==t.type&&this.keydown(t)||(0!=this.view.updateState?Promise.resolve().then((()=>this.runHandlers(t.type,t))):this.runHandlers(t.type,t)))}runHandlers(t,e){let n=this.handlers[t];if(n){for(let t of n.observers)t(this.view,e);for(let t of n.handlers){if(e.defaultPrevented)break;if(t(this.view,e)){e.preventDefault();break}}}}ensureHandlers(t){let e=cr(t),n=this.handlers,i=this.view.contentDOM;for(let t in e)if("scroll"!=t){let r=!e[t].handlers.length,o=n[t];o&&r!=!o.handlers.length&&(i.removeEventListener(t,this.handleEvent),o=null),o||i.addEventListener(t,this.handleEvent,{passive:r})}for(let t in n)"scroll"==t||e[t]||i.removeEventListener(t,this.handleEvent);this.handlers=e}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&27!=t.keyCode&&Ir.indexOf(t.keyCode)<0&&(this.tabFocusMode=-1),dn.android&&dn.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let e;return!dn.ios||t.synthetic||t.altKey||t.metaKey||!((e=hr.find((e=>e.keyCode==t.keyCode)))&&!t.ctrlKey||Cr.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(229!=t.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=e||t,setTimeout((()=>this.flushIOSKey()),250),!0)}flushIOSKey(t){let e=this.pendingIOSKey;return!!e&&!("Enter"==e.key&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString()))&&(this.pendingIOSKey=void 0,Ze(this.view.contentDOM,e.key,e.keyCode,e instanceof KeyboardEvent?e:void 0))}ignoreDuringComposition(t){return!!/^key/.test(t.type)&&(this.composing>0||!!(dn.safari&&!dn.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.view.observer.update(t),this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Ar(t,e){return(n,i)=>{try{return e.call(t,i,n)}catch(t){wi(n.state,t)}}}function cr(t){let e=Object.create(null);function n(t){return e[t]||(e[t]={observers:[],handlers:[]})}for(let e of t){let t=e.spec;if(t&&t.domEventHandlers)for(let i in t.domEventHandlers){let r=t.domEventHandlers[i];r&&n(i).handlers.push(Ar(e.value,r))}if(t&&t.domEventObservers)for(let i in t.domEventObservers){let r=t.domEventObservers[i];r&&n(i).observers.push(Ar(e.value,r))}}for(let t in fr)n(t).handlers.push(fr[t]);for(let t in pr)n(t).observers.push(pr[t]);return e}const hr=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Cr="dthko",Ir=[16,17,18,20,91,92,224,225];function dr(t){return.7*Math.max(0,t)+8}class ur{constructor(t,e,n,i){this.view=t,this.startEvent=e,this.style=n,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParents=function(t){let e,n,i=t.ownerDocument;for(let r=t.parentNode;r&&!(r==i.body||e&&n);)if(1==r.nodeType)!n&&r.scrollHeight>r.clientHeight&&(n=r),!e&&r.scrollWidth>r.clientWidth&&(e=r),r=r.assignedSlot||r.parentNode;else{if(11!=r.nodeType)break;r=r.host}return{x:e,y:n}}(t.contentDOM),this.atoms=t.state.facet(Di).map((e=>e(t)));let r=t.contentDOM.ownerDocument;r.addEventListener("mousemove",this.move=this.move.bind(this)),r.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(Jt.allowMultipleSelections)&&function(t,e){let n=t.state.facet(gi);return n.length?n[0](e):dn.mac?e.metaKey:e.ctrlKey}(t,e),this.dragging=!(!function(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let i=Te(t.root);if(!i||0==i.rangeCount)return!0;let r=i.getRangeAt(0).getClientRects();for(let t=0;t<r.length;t++){let n=r[t];if(n.left<=e.clientX&&n.right>=e.clientX&&n.top<=e.clientY&&n.bottom>=e.clientY)return!0}return!1}(t,e)||1!=Rr(e))&&null}start(t){!1===this.dragging&&this.select(t)}move(t){if(0==t.buttons)return this.destroy();if(this.dragging||null==this.dragging&&(e=this.startEvent,n=t,Math.max(Math.abs(e.clientX-n.clientX),Math.abs(e.clientY-n.clientY))<10))return;var e,n;this.select(this.lastEvent=t);let i=0,r=0,o=0,s=0,a=this.view.win.innerWidth,g=this.view.win.innerHeight;this.scrollParents.x&&({left:o,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:g}=this.scrollParents.y.getBoundingClientRect());let l=ji(this.view);t.clientX-l.left<=o+6?i=-dr(o-t.clientX):t.clientX+l.right>=a-6&&(i=dr(t.clientX-a)),t.clientY-l.top<=s+6?r=-dr(s-t.clientY):t.clientY+l.bottom>=g-6&&(r=dr(t.clientY-g)),this.setScrollSpeed(i,r)}up(t){null==this.dragging&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval((()=>this.scroll()),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:t,y:e}=this.scrollSpeed;t&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=t,t=0),e&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=e,e=0),(t||e)&&this.view.win.scrollBy(t,e),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(t){let e=null;for(let n=0;n<t.ranges.length;n++){let i=t.ranges[n],r=null;if(i.empty){let t=tr(this.atoms,i.from,0);t!=i.from&&(r=ht.cursor(t,-1))}else{let t=tr(this.atoms,i.from,-1),e=tr(this.atoms,i.to,1);t==i.from&&e==i.to||(r=ht.range(i.from==i.anchor?t:e,i.from==i.head?t:e))}r&&(e||(e=t.ranges.slice()),e[n]=r)}return e?ht.create(e,t.mainIndex):t}select(t){let{view:e}=this,n=this.skipAtoms(this.style.get(t,this.extend,this.multiple));!this.mustSelect&&n.eq(e.state.selection,!1===this.dragging)||this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.transactions.some((t=>t.isUserEvent("input.type")))?this.destroy():this.style.update(t)&&setTimeout((()=>this.select(this.lastEvent)),20)}}const fr=Object.create(null),pr=Object.create(null),vr=dn.ie&&dn.ie_version<15||dn.ios&&dn.webkit_version<604;function mr(t,e,n){for(let i of t.facet(e))n=i(n,t);return n}function yr(t,e){e=mr(t.state,di,e);let n,{state:i}=t,r=1,o=i.toText(e),s=o.lines==i.selection.ranges.length;if(null!=Nr&&i.selection.ranges.every((t=>t.empty))&&Nr==o.toString()){let t=-1;n=i.changeByRange((n=>{let a=i.doc.lineAt(n.from);if(a.from==t)return{range:n};t=a.from;let g=i.toText((s?o.line(r++).text:e)+i.lineBreak);return{changes:{from:a.from,insert:g},range:ht.cursor(n.from+g.length)}}))}else n=s?i.changeByRange((t=>{let e=o.line(r++);return{changes:{from:t.from,to:t.to,insert:e.text},range:ht.cursor(t.from+e.length)}})):i.replaceSelection(o);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function br(t,e,n,i){if(1==i)return ht.cursor(e,n);if(2==i)return function(t,e,n=1){let i=t.charCategorizer(e),r=t.doc.lineAt(e),o=e-r.from;if(0==r.length)return ht.cursor(e);0==o?n=1:o==r.length&&(n=-1);let s=o,a=o;n<0?s=tt(r.text,o,!1):a=tt(r.text,o);let g=i(r.text.slice(s,a));for(;s>0;){let t=tt(r.text,s,!1);if(i(r.text.slice(t,s))!=g)break;s=t}for(;a<r.length;){let t=tt(r.text,a);if(i(r.text.slice(a,t))!=g)break;a=t}return ht.range(s+r.from,a+r.from)}(t.state,e,n);{let n=jn.find(t.docView,e),i=t.state.doc.lineAt(n?n.posAtEnd:e),r=n?n.posAtStart:i.from,o=n?n.posAtEnd:i.to;return o<t.state.doc.length&&o==i.to&&o++,ht.range(r,o)}}pr.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft},fr.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),27==e.keyCode&&0!=t.inputState.tabFocusMode&&(t.inputState.tabFocusMode=Date.now()+2e3),!1),pr.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},pr.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")},fr.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let i of t.state.facet(Ai))if(n=i(t,e),n)break;if(n||0!=e.button||(n=function(t,e){let n=Er(t,e),i=Rr(e),r=t.state.selection;return{update(t){t.docChanged&&(n.pos=t.changes.mapPos(n.pos),r=r.map(t.changes))},get(e,o,s){let a,g=Er(t,e),l=br(t,g.pos,g.bias,i);if(n.pos!=g.pos&&!o){let e=br(t,n.pos,n.bias,i),r=Math.min(e.from,l.from),o=Math.max(e.to,l.to);l=r<l.from?ht.range(r,o):ht.range(o,r)}return o?r.replaceRange(r.main.extend(l.from,l.to)):s&&1==i&&r.ranges.length>1&&(a=function(t,e){for(let n=0;n<t.ranges.length;n++){let{from:i,to:r}=t.ranges[n];if(i<=e&&r>=e)return ht.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}(r,g.pos))?a:s?r.addRange(l):ht.create([l])}}}(t,e)),n){let i=!t.hasFocus;t.inputState.startMouseSelection(new ur(t,e,n,i)),i&&t.observer.ignore((()=>{Ue(t.contentDOM);let e=t.root.activeElement;e&&!e.contains(t.contentDOM)&&e.blur()}));let r=t.inputState.mouseSelection;if(r)return r.start(e),!1===r.dragging}return!1};let wr=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function xr(t,e,n,i){let r=jn.find(t.docView,e);if(!r)return 1;let o=e-r.posAtStart;if(0==o)return 1;if(o==r.length)return-1;let s=r.coordsAt(o,-1);if(s&&wr(n,i,s))return-1;let a=r.coordsAt(o,1);return a&&wr(n,i,a)?1:s&&s.bottom>=i?-1:1}function Er(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:xr(t,n,e.clientX,e.clientY)}}const kr=dn.ie&&dn.ie_version<=11;let Sr=null,Tr=0,Or=0;function Rr(t){if(!kr)return t.detail;let e=Sr,n=Or;return Sr=t,Or=Date.now(),Tr=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(Tr+1)%3:1}function _r(t,e,n,i){if(!(n=mr(t.state,di,n)))return;let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=t.inputState,s=i&&o&&function(t,e){let n=t.state.facet(li);return n.length?n[0](e):dn.mac?!e.altKey:!e.ctrlKey}(t,e)?{from:o.from,to:o.to}:null,a={from:r,insert:n},g=t.state.changes(s?[s,a]:a);t.focus(),t.dispatch({changes:g,selection:{anchor:g.mapPos(r,-1),head:g.mapPos(r,1)},userEvent:s?"move.drop":"input.drop"}),t.inputState.draggedContent=null}fr.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let t=i.posAtStart,e=t+i.length;(t>=n.to||e<=n.from)&&(n=ht.range(t,e))}}let{inputState:i}=t;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",mr(t.state,ui,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1},fr.dragend=t=>(t.inputState.draggedContent=null,!1),fr.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let i=Array(n.length),r=0,o=()=>{++r==n.length&&_r(t,e,i.filter((t=>null!=t)).join(t.state.lineBreak),!1)};for(let t=0;t<n.length;t++){let e=new FileReader;e.onerror=o,e.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(e.result)||(i[t]=e.result),o()},e.readAsText(n[t])}return!0}{let n=e.dataTransfer.getData("Text");if(n)return _r(t,e,n,!0),!0}return!1},fr.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=vr?null:e.clipboardData;return n?(yr(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(function(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{t.focus(),n.remove(),yr(t,n.value)}),50)}(t),!1)};let Nr=null;fr.copy=fr.cut=(t,e)=>{let{text:n,ranges:i,linewise:r}=function(t){let e=[],n=[],i=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let r=-1;for(let{from:i}of t.selection.ranges){let o=t.doc.lineAt(i);o.number>r&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),r=o.number}i=!0}return{text:mr(t,ui,e.join(t.lineBreak)),ranges:n,linewise:i}}(t.state);if(!n&&!r)return!1;Nr=r?n:null,"cut"!=e.type||t.state.readOnly||t.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let o=vr?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",n),!0):(function(t,e){let n=t.dom.parentNode;if(!n)return;let i=n.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout((()=>{i.remove(),t.focus()}),50)}(t,n),!1)};const Dr=Bt.define();function Pr(t,e){let n=[];for(let i of t.facet(Ii)){let r=i(t,e);r&&n.push(r)}return n?t.update({effects:n,annotations:Dr.of(!0)}):null}function Mr(t){setTimeout((()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=Pr(t.state,e);n?t.dispatch(n):t.update([])}}),10)}pr.focus=t=>{t.inputState.lastFocusTime=Date.now(),t.scrollDOM.scrollTop||!t.inputState.lastScrollTop&&!t.inputState.lastScrollLeft||(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),Mr(t)},pr.blur=t=>{t.observer.clearSelectionRange(),Mr(t)},pr.compositionstart=pr.compositionupdate=t=>{t.observer.editContext||(null==t.inputState.compositionFirstChange&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))},pr.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,dn.chrome&&dn.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then((()=>t.observer.flush())):setTimeout((()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])}),50))},pr.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()},fr.beforeinput=(t,e)=>{var n,i;if("insertReplacementText"==e.inputType&&t.observer.editContext){let i=null===(n=e.dataTransfer)||void 0===n?void 0:n.getData("text/plain"),r=e.getTargetRanges();if(i&&r.length){let e=r[0],n=t.posAtDOM(e.startContainer,e.startOffset),o=t.posAtDOM(e.endContainer,e.endOffset);return gr(t,{from:n,to:o,insert:t.state.toText(i)},null),!0}}let r;if(dn.chrome&&dn.android&&(r=hr.find((t=>t.inputType==e.inputType)))&&(t.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){let e=(null===(i=window.visualViewport)||void 0===i?void 0:i.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>e+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())}),100)}return dn.ios&&"deleteContentForward"==e.inputType&&t.observer.flushSoon(),dn.safari&&"insertText"==e.inputType&&t.inputState.composing>=0&&setTimeout((()=>pr.compositionend(t,e)),20),!1};const Lr=new Set,jr=["pre-wrap","normal","pre-line","break-spaces"];let Br=!1;function Fr(){Br=!1}class zr{constructor(t){this.lineWrapping=t,this.doc=W.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(t,e){let n=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((e-t-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return jr.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let n=0;n<t.length;n++){let i=t[n];i<0?n++:this.heightSamples[Math.floor(10*i)]||(e=!0,this.heightSamples[Math.floor(10*i)]=!0)}return e}refresh(t,e,n,i,r,o){let s=jr.indexOf(t)>-1,a=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=e,this.charWidth=n,this.textHeight=i,this.lineLength=r,a){this.heightSamples={};for(let t=0;t<o.length;t++){let e=o[t];e<0?t++:this.heightSamples[Math.floor(10*e)]=!0}}return a}}class Vr{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class Gr{constructor(t,e,n,i,r){this.from=t,this.length=e,this.top=n,this.height=i,this._content=r}get type(){return"number"==typeof this._content?Rn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Pn?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(t){let e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new Gr(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var Ur=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Ur||(Ur={}));const Wr=.001;class Zr{constructor(t,e,n=2){this.length=t,this.height=e,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t){this.height!=t&&(Math.abs(this.height-t)>Wr&&(Br=!0),this.height=t)}replace(t,e,n){return Zr.of(n)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,n,i){let r=this,o=n.doc;for(let s=i.length-1;s>=0;s--){let{fromA:a,toA:g,fromB:l,toB:A}=i[s],c=r.lineAt(a,Ur.ByPosNoHeight,n.setDoc(e),0,0),h=c.to>=g?c:r.lineAt(g,Ur.ByPosNoHeight,n,0,0);for(A+=h.to-g,g=h.to;s>0&&c.from<=i[s-1].toA;)a=i[s-1].fromA,l=i[s-1].fromB,s--,a<c.from&&(c=r.lineAt(a,Ur.ByPosNoHeight,n,0,0));l+=c.from-a,a=c.from;let C=Jr.build(n.setDoc(o),t,l,A);r=Hr(r,r.replace(a,g,C))}return r.updateHeight(n,0)}static empty(){return new Yr(0,0)}static of(t){if(1==t.length)return t[0];let e=0,n=t.length,i=0,r=0;for(;;)if(e==n)if(i>2*r){let r=t[e-1];r.break?t.splice(--e,1,r.left,null,r.right):t.splice(--e,1,r.left,r.right),n+=1+r.break,i-=r.size}else{if(!(r>2*i))break;{let e=t[n];e.break?t.splice(n,1,e.left,null,e.right):t.splice(n,1,e.left,e.right),n+=2+e.break,r-=e.size}}else if(i<r){let n=t[e++];n&&(i+=n.size)}else{let e=t[--n];e&&(r+=e.size)}let o=0;return null==t[e-1]?(o=1,e--):null==t[e]&&(o=1,n++),new Kr(Zr.of(t.slice(0,e)),o,Zr.of(t.slice(n)))}}function Hr(t,e){return t==e?t:(t.constructor!=e.constructor&&(Br=!0),e)}Zr.prototype.size=1;class qr extends Zr{constructor(t,e,n){super(t,e),this.deco=n}blockAt(t,e,n,i){return new Gr(i,this.length,n,this.height,this.deco||0)}lineAt(t,e,n,i,r){return this.blockAt(0,n,i,r)}forEachLine(t,e,n,i,r,o){t<=r+this.length&&e>=r&&o(this.blockAt(0,n,i,r))}updateHeight(t,e=0,n=!1,i){return i&&i.from<=e&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Yr extends qr{constructor(t,e){super(t,e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,e,n,i){return new Gr(i,this.length,n,this.height,this.breaks)}replace(t,e,n){let i=n[0];return 1==n.length&&(i instanceof Yr||i instanceof Qr&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof Qr?i=new Yr(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Zr.of(n)}updateHeight(t,e=0,n=!1,i){return i&&i.from<=e&&i.more?this.setHeight(i.heights[i.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Qr extends Zr{constructor(t){super(t,0)}heightMetrics(t,e){let n,i=t.doc.lineAt(e).number,r=t.doc.lineAt(e+this.length).number,o=r-i+1,s=0;if(t.lineWrapping){let e=Math.min(this.height,t.lineHeight*o);n=e/o,this.length>o+1&&(s=(this.height-e)/(this.length-o-1))}else n=this.height/o;return{firstLine:i,lastLine:r,perLine:n,perChar:s}}blockAt(t,e,n,i){let{firstLine:r,lastLine:o,perLine:s,perChar:a}=this.heightMetrics(e,i);if(e.lineWrapping){let r=i+(t<e.lineHeight?0:Math.round(Math.max(0,Math.min(1,(t-n)/this.height))*this.length)),o=e.doc.lineAt(r),g=s+o.length*a,l=Math.max(n,t-g/2);return new Gr(o.from,o.length,l,g,0)}{let i=Math.max(0,Math.min(o-r,Math.floor((t-n)/s))),{from:a,length:g}=e.doc.line(r+i);return new Gr(a,g,n+s*i,s,0)}}lineAt(t,e,n,i,r){if(e==Ur.ByHeight)return this.blockAt(t,n,i,r);if(e==Ur.ByPosNoHeight){let{from:e,to:i}=n.doc.lineAt(t);return new Gr(e,i-e,0,0,0)}let{firstLine:o,perLine:s,perChar:a}=this.heightMetrics(n,r),g=n.doc.lineAt(t),l=s+g.length*a,A=g.number-o,c=i+s*A+a*(g.from-r-A);return new Gr(g.from,g.length,Math.max(i,Math.min(c,i+this.height-l)),l,0)}forEachLine(t,e,n,i,r,o){t=Math.max(t,r),e=Math.min(e,r+this.length);let{firstLine:s,perLine:a,perChar:g}=this.heightMetrics(n,r);for(let l=t,A=i;l<=e;){let e=n.doc.lineAt(l);if(l==t){let n=e.number-s;A+=a*n+g*(t-r-n)}let i=a+g*e.length;o(new Gr(e.from,e.length,A,i,0)),A+=i,l=e.to+1}}replace(t,e,n){let i=this.length-e;if(i>0){let t=n[n.length-1];t instanceof Qr?n[n.length-1]=new Qr(t.length+i):n.push(null,new Qr(i-1))}if(t>0){let e=n[0];e instanceof Qr?n[0]=new Qr(t+e.length):n.unshift(new Qr(t-1),null)}return Zr.of(n)}decomposeLeft(t,e){e.push(new Qr(t-1),null)}decomposeRight(t,e){e.push(null,new Qr(this.length-t-1))}updateHeight(t,e=0,n=!1,i){let r=e+this.length;if(i&&i.from<=e+this.length&&i.more){let n=[],o=Math.max(e,i.from),s=-1;for(i.from>e&&n.push(new Qr(i.from-e-1).updateHeight(t,e));o<=r&&i.more;){let e=t.doc.lineAt(o).length;n.length&&n.push(null);let r=i.heights[i.index++];-1==s?s=r:Math.abs(r-s)>=Wr&&(s=-2);let a=new Yr(e,r);a.outdated=!1,n.push(a),o+=e+1}o<=r&&n.push(null,new Qr(r-o).updateHeight(t,o));let a=Zr.of(n);return(s<0||Math.abs(a.height-this.height)>=Wr||Math.abs(s-this.heightMetrics(t,e).perLine)>=Wr)&&(Br=!0),Hr(this,a)}return(n||this.outdated)&&(this.setHeight(t.heightForGap(e,e+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class Kr extends Zr{constructor(t,e,n){super(t.length+e+n.length,t.height+n.height,e|(t.outdated||n.outdated?2:0)),this.left=t,this.right=n,this.size=t.size+n.size}get break(){return 1&this.flags}blockAt(t,e,n,i){let r=n+this.left.height;return t<r?this.left.blockAt(t,e,n,i):this.right.blockAt(t,e,r,i+this.left.length+this.break)}lineAt(t,e,n,i,r){let o=i+this.left.height,s=r+this.left.length+this.break,a=e==Ur.ByHeight?t<o:t<s,g=a?this.left.lineAt(t,e,n,i,r):this.right.lineAt(t,e,n,o,s);if(this.break||(a?g.to<s:g.from>s))return g;let l=e==Ur.ByPosNoHeight?Ur.ByPosNoHeight:Ur.ByPos;return a?g.join(this.right.lineAt(s,l,n,o,s)):this.left.lineAt(s,l,n,i,r).join(g)}forEachLine(t,e,n,i,r,o){let s=i+this.left.height,a=r+this.left.length+this.break;if(this.break)t<a&&this.left.forEachLine(t,e,n,i,r,o),e>=a&&this.right.forEachLine(t,e,n,s,a,o);else{let g=this.lineAt(a,Ur.ByPos,n,i,r);t<g.from&&this.left.forEachLine(t,g.from-1,n,i,r,o),g.to>=t&&g.from<=e&&o(g),e>g.to&&this.right.forEachLine(g.to+1,e,n,s,a,o)}}replace(t,e,n){let i=this.left.length+this.break;if(e<i)return this.balanced(this.left.replace(t,e,n),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-i,e-i,n));let r=[];t>0&&this.decomposeLeft(t,r);let o=r.length;for(let t of n)r.push(t);if(t>0&&Xr(r,o-1),e<this.length){let t=r.length;this.decomposeRight(e,r),Xr(r,t)}return Zr.of(r)}decomposeLeft(t,e){let n=this.left.length;if(t<=n)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(n++,t>=n&&e.push(null)),t>n&&this.right.decomposeLeft(t-n,e)}decomposeRight(t,e){let n=this.left.length,i=n+this.break;if(t>=i)return this.right.decomposeRight(t-i,e);t<n&&this.left.decomposeRight(t,e),this.break&&t<i&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?Zr.of(this.break?[t,null,e]:[t,e]):(this.left=Hr(this.left,t),this.right=Hr(this.right,e),this.setHeight(t.height+e.height),this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,n=!1,i){let{left:r,right:o}=this,s=e+r.length+this.break,a=null;return i&&i.from<=e+r.length&&i.more?a=r=r.updateHeight(t,e,n,i):r.updateHeight(t,e,n),i&&i.from<=s+o.length&&i.more?a=o=o.updateHeight(t,s,n,i):o.updateHeight(t,s,n),a?this.balanced(r,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Xr(t,e){let n,i;null==t[e]&&(n=t[e-1])instanceof Qr&&(i=t[e+1])instanceof Qr&&t.splice(e-1,3,new Qr(n.length+1+i.length))}class Jr{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let t=Math.min(e,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof Yr?n.length+=t-this.pos:(t>this.pos||!this.isCovered)&&this.nodes.push(new Yr(t-this.pos,-1)),this.writtenTo=t,e>t&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,n){if(t<e||n.heightRelevant){let i=n.widget?n.widget.estimatedHeight:0,r=n.widget?n.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=e-t;n.block?this.addBlock(new qr(o,i,n)):(o||r||i>=5)&&this.addLineDeco(i,r,o)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Yr(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let n=new Qr(e-t);return this.oracle.doc.lineAt(t).to==e&&(n.flags|=4),n}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof Yr)return t;let e=new Yr(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine();let e=t.deco;e&&e.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,e&&e.endSide>0&&(this.covering=t)}addLineDeco(t,e,n){let i=this.ensureLine();i.length+=n,i.collapsed+=n,i.widgetHeight=Math.max(i.widgetHeight,t),i.breaks+=e,this.writtenTo=this.pos=this.pos+n}finish(t){let e=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||e instanceof Yr||this.isCovered?(this.writtenTo<this.pos||null==e)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Yr(0,-1));let n=t;for(let t of this.nodes)t instanceof Yr&&t.updateHeight(this.oracle,n),n+=t?t.length:1;return this.nodes}static build(t,e,n,i){let r=new Jr(n,t);return ie.spans(e,n,i,r,0),r.finish(n)}}class $r{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,n,i){(t<e||n&&n.heightRelevant||i&&i.heightRelevant)&&Ln(t,e,this.changes,5)}}function to(t,e){let n=t.getBoundingClientRect(),i=t.ownerDocument,r=i.defaultView||window,o=Math.max(0,n.left),s=Math.min(r.innerWidth,n.right),a=Math.max(0,n.top),g=Math.min(r.innerHeight,n.bottom);for(let e=t.parentNode;e&&e!=i.body;)if(1==e.nodeType){let n=e,i=window.getComputedStyle(n);if((n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)&&"visible"!=i.overflow){let i=n.getBoundingClientRect();o=Math.max(o,i.left),s=Math.min(s,i.right),a=Math.max(a,i.top),g=Math.min(e==t.parentNode?r.innerHeight:g,i.bottom)}e="absolute"==i.position||"fixed"==i.position?n.offsetParent:n.parentNode}else{if(11!=e.nodeType)break;e=e.host}return{left:o-n.left,right:Math.max(o,s)-n.left,top:a-(n.top+e),bottom:Math.max(a,g)-(n.top+e)}}function eo(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class no{constructor(t,e,n,i){this.from=t,this.to=e,this.size=n,this.displaySize=i}static same(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],r=e[n];if(i.from!=r.from||i.to!=r.to||i.size!=r.size)return!1}return!0}draw(t,e){return _n.replace({widget:new io(this.displaySize*(e?t.scaleY:t.scaleX),e)}).range(this.from,this.to)}}class io extends On{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class ro{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=go,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Un.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(Ri).some((t=>"function"!=typeof t&&"cm-lineWrapping"==t.class));this.heightOracle=new zr(e),this.stateDeco=t.facet(_i).filter((t=>"function"!=typeof t)),this.heightMap=Zr.empty().applyChanges(this.stateDeco,W.empty,this.heightOracle.setDoc(t.doc),[new Fi(0,0,0,t.doc.length)]);for(let t=0;t<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());t++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=_n.set(this.lineGaps.map((t=>t.draw(this,!1)))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let n=0;n<=1;n++){let i=n?e.head:e.anchor;if(!t.some((({from:t,to:e})=>i>=t&&i<=e))){let{from:e,to:n}=this.lineBlockAt(i);t.push(new oo(e,n))}}return this.viewports=t.sort(((t,e)=>t.from-e.from)),this.updateScaler()}updateScaler(){let t=this.scaler;return this.scaler=this.heightMap.height<=7e6?go:new lo(this.heightOracle,this.heightMap,this.viewports),t.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(t=>{this.viewportLines.push(Ao(t,this.scaler))}))}update(t,e=null){this.state=t.state;let n=this.stateDeco;this.stateDeco=this.state.facet(_i).filter((t=>"function"!=typeof t));let i=t.changedRanges,r=Fi.extendWithRanges(i,function(t,e,n){let i=new $r;return ie.compare(t,e,n,i,0),i.changes}(n,this.stateDeco,t?t.changes:rt.empty(this.state.doc.length))),o=this.heightMap.height,s=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Fr(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),r),(this.heightMap.height!=o||Br)&&(t.flags|=2),s?(this.scrollAnchorPos=t.changes.mapPos(s.from,-1),this.scrollAnchorHeight=s.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let a=r.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<a.from||e.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,e));let g=a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,t.flags|=this.updateForViewport(),(g||!t.changes.empty||2&t.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(t.changes),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(pi)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,n=window.getComputedStyle(e),i=this.heightOracle,r=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?Un.RTL:Un.LTR;let o=this.heightOracle.mustRefreshForWrapping(r),s=e.getBoundingClientRect(),a=o||this.mustMeasureContent||this.contentDOMHeight!=s.height;this.contentDOMHeight=s.height,this.mustMeasureContent=!1;let g=0,l=0;if(s.width&&s.height){let{scaleX:t,scaleY:n}=Fe(e,s);(t>.005&&Math.abs(this.scaleX-t)>.005||n>.005&&Math.abs(this.scaleY-n)>.005)&&(this.scaleX=t,this.scaleY=n,g|=16,o=a=!0)}let A=(parseInt(n.paddingTop)||0)*this.scaleY,c=(parseInt(n.paddingBottom)||0)*this.scaleY;this.paddingTop==A&&this.paddingBottom==c||(this.paddingTop=A,this.paddingBottom=c,g|=18),this.editorWidth!=t.scrollDOM.clientWidth&&(i.lineWrapping&&(a=!0),this.editorWidth=t.scrollDOM.clientWidth,g|=16);let h=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=h&&(this.scrollAnchorHeight=-1,this.scrollTop=h),this.scrolledToBottom=qe(t.scrollDOM);let C=(this.printing?eo:to)(e,this.paddingTop),I=C.top-this.pixelViewport.top,d=C.bottom-this.pixelViewport.bottom;this.pixelViewport=C;let u=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(u!=this.inView&&(this.inView=u,u&&(a=!0)),!this.inView&&!this.scrollTarget&&!function(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}(t.dom))return 0;let f=s.width;if(this.contentDOMWidth==f&&this.editorHeight==t.scrollDOM.clientHeight||(this.contentDOMWidth=s.width,this.editorHeight=t.scrollDOM.clientHeight,g|=16),a){let e=t.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(e)&&(o=!0),o||i.lineWrapping&&Math.abs(f-this.contentDOMWidth)>i.charWidth){let{lineHeight:n,charWidth:s,textHeight:a}=t.docView.measureTextSize();o=n>0&&i.refresh(r,n,s,a,f/s,e),o&&(t.docView.minWidth=0,g|=16)}I>0&&d>0?l=Math.max(I,d):I<0&&d<0&&(l=Math.min(I,d)),Fr();for(let n of this.viewports){let r=n.from==this.viewport.from?e:t.docView.measureVisibleLineHeights(n);this.heightMap=(o?Zr.empty().applyChanges(this.stateDeco,W.empty,this.heightOracle,[new Fi(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new Vr(n.from,r))}Br&&(g|=2)}let p=!this.viewportIsAppropriate(this.viewport,l)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return p&&(2&g&&(g|=this.updateScaler()),this.viewport=this.getViewport(l,this.scrollTarget),g|=this.updateForViewport()),(2&g||p)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,t)),g|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),g}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let n=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),i=this.heightMap,r=this.heightOracle,{visibleTop:o,visibleBottom:s}=this,a=new oo(i.lineAt(o-1e3*n,Ur.ByHeight,r,0,0).from,i.lineAt(s+1e3*(1-n),Ur.ByHeight,r,0,0).to);if(e){let{head:t}=e.range;if(t<a.from||t>a.to){let n,o=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),s=i.lineAt(t,Ur.ByPos,r,0,0);n="center"==e.y?(s.top+s.bottom)/2-o/2:"start"==e.y||"nearest"==e.y&&t<a.from?s.top:s.bottom-o,a=new oo(i.lineAt(n-500,Ur.ByHeight,r,0,0).from,i.lineAt(n+o+500,Ur.ByHeight,r,0,0).to)}}return a}mapViewport(t,e){let n=e.mapPos(t.from,-1),i=e.mapPos(t.to,1);return new oo(this.heightMap.lineAt(n,Ur.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Ur.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:e},n=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(t,Ur.ByPos,this.heightOracle,0,0),{bottom:r}=this.heightMap.lineAt(e,Ur.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:s}=this;return(0==t||i<=o-Math.max(10,Math.min(-n,250)))&&(e==this.state.doc.length||r>=s+Math.max(10,Math.min(n,250)))&&i>o-2e3&&r<s+2e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let n=[];for(let i of t)e.touchesRange(i.from,i.to)||n.push(new no(e.mapPos(i.from),e.mapPos(i.to),i.size,i.displaySize));return n}ensureLineGaps(t,e){let n=this.heightOracle.lineWrapping,i=n?1e4:2e3,r=i>>1,o=i<<1;if(this.defaultTextDirection!=Un.LTR&&!n)return[];let s=[],a=(i,o,g,l)=>{if(o-i<r)return;let A=this.state.selection.main,c=[A.from];A.empty||c.push(A.to);for(let t of c)if(t>i&&t<o)return a(i,t-10,g,l),void a(t+10,o,g,l);let h=function(t,e){for(let n of t)if(e(n))return n}(t,(t=>t.from>=g.from&&t.to<=g.to&&Math.abs(t.from-i)<r&&Math.abs(t.to-o)<r&&!c.some((e=>t.from<e&&t.to>e))));if(!h){if(o<g.to&&e&&n&&e.visibleRanges.some((t=>t.from<=o&&t.to>=o))){let t=e.moveToLineBoundary(ht.cursor(o),!1,!0).head;t>i&&(o=t)}let t=this.gapSize(g,i,o,l);h=new no(i,o,t,n||t<2e6?t:2e6)}s.push(h)},g=e=>{if(e.length<o||e.type!=Rn.Text)return;let r=function(t,e,n){let i=[],r=t,o=0;return ie.spans(n,t,e,{span(){},point(t,e){t>r&&(i.push({from:r,to:t}),o+=t-r),r=e}},20),r<e&&(i.push({from:r,to:e}),o+=e-r),{total:o,ranges:i}}(e.from,e.to,this.stateDeco);if(r.total<o)return;let s,g,l=this.scrollTarget?this.scrollTarget.range.head:null;if(n){let t,n,o=i/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=l){let i=ao(r,l),s=((this.visibleBottom-this.visibleTop)/2+o)/e.height;t=i-s,n=i+s}else t=(this.visibleTop-e.top-o)/e.height,n=(this.visibleBottom-e.top+o)/e.height;s=so(r,t),g=so(r,n)}else{let n=r.total*this.heightOracle.charWidth,o=i*this.heightOracle.charWidth,a=0;if(n>2e6)for(let n of t)n.from>=e.from&&n.from<e.to&&n.size!=n.displaySize&&n.from*this.heightOracle.charWidth+a<this.pixelViewport.left&&(a=n.size-n.displaySize);let A,c,h=this.pixelViewport.left+a,C=this.pixelViewport.right+a;if(null!=l){let t=ao(r,l),e=((C-h)/2+o)/n;A=t-e,c=t+e}else A=(h-o)/n,c=(C+o)/n;s=so(r,A),g=so(r,c)}s>e.from&&a(e.from,s,e,r),g<e.to&&a(g,e.to,e,r)};for(let t of this.viewportLines)Array.isArray(t.type)?t.type.forEach(g):g(t);return s}gapSize(t,e,n,i){let r=ao(i,n)-ao(i,e);return this.heightOracle.lineWrapping?t.height*r:i.total*this.heightOracle.charWidth*r}updateLineGaps(t){no.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=_n.set(t.map((t=>t.draw(this,this.heightOracle.lineWrapping)))))}computeVisibleRanges(t){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];ie.spans(e,this.viewport.from,this.viewport.to,{span(t,e){n.push({from:t,to:e})},point(){}},20);let i=0;if(n.length!=this.visibleRanges.length)i=12;else for(let e=0;e<n.length&&!(8&i);e++){let r=this.visibleRanges[e],o=n[e];r.from==o.from&&r.to==o.to||(i|=4,t&&t.mapPos(r.from,-1)==o.from&&t.mapPos(r.to,1)==o.to||(i|=8))}return this.visibleRanges=n,i}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find((e=>e.from<=t&&e.to>=t))||Ao(this.heightMap.lineAt(t,Ur.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return t>=this.viewportLines[0].top&&t<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find((e=>e.top<=t&&e.bottom>=t))||Ao(this.heightMap.lineAt(this.scaler.fromDOM(t),Ur.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let e=this.lineBlockAtHeight(t+8);return e.from>=this.viewport.from||this.viewportLines[0].top-t>200?e:this.viewportLines[0]}elementAtHeight(t){return Ao(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class oo{constructor(t,e){this.from=t,this.to=e}}function so({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let i=Math.floor(t*n);for(let t=0;;t++){let{from:n,to:r}=e[t],o=r-n;if(i<=o)return n+i;i-=o}}function ao(t,e){let n=0;for(let{from:i,to:r}of t.ranges){if(e<=r){n+=e-i;break}n+=r-i}return n/t.total}const go={toDOM:t=>t,fromDOM:t=>t,scale:1,eq(t){return t==this}};class lo{constructor(t,e,n){let i=0,r=0,o=0;this.viewports=n.map((({from:n,to:r})=>{let o=e.lineAt(n,Ur.ByPos,t,0,0).top,s=e.lineAt(r,Ur.ByPos,t,0,0).bottom;return i+=s-o,{from:n,to:r,top:o,bottom:s,domTop:0,domBottom:0}})),this.scale=(7e6-i)/(e.height-i);for(let t of this.viewports)t.domTop=o+(t.top-r)*this.scale,o=t.domBottom=t.domTop+(t.bottom-t.top),r=t.bottom}toDOM(t){for(let e=0,n=0,i=0;;e++){let r=e<this.viewports.length?this.viewports[e]:null;if(!r||t<r.top)return i+(t-n)*this.scale;if(t<=r.bottom)return r.domTop+(t-r.top);n=r.bottom,i=r.domBottom}}fromDOM(t){for(let e=0,n=0,i=0;;e++){let r=e<this.viewports.length?this.viewports[e]:null;if(!r||t<r.domTop)return n+(t-i)/this.scale;if(t<=r.domBottom)return r.top+(t-r.domTop);n=r.bottom,i=r.domBottom}}eq(t){return t instanceof lo&&this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every(((e,n)=>e.from==t.viewports[n].from&&e.to==t.viewports[n].to))}}function Ao(t,e){if(1==e.scale)return t;let n=e.toDOM(t.top),i=e.toDOM(t.bottom);return new Gr(t.from,t.length,n,i-n,Array.isArray(t._content)?t._content.map((t=>Ao(t,e))):t._content)}const co=dt.define({combine:t=>t.join(" ")}),ho=dt.define({combine:t=>t.indexOf(!0)>-1}),Co=ve.newName(),Io=ve.newName(),uo=ve.newName(),fo={"&light":"."+Io,"&dark":"."+uo};function po(t,e,n){return new ve(e,{finish:e=>/&/.test(e)?e.replace(/&\w*/,(e=>{if("&"==e)return t;if(!n||!n[e])throw new RangeError(`Unsupported selector: ${e}`);return n[e]})):t+" "+e})}const vo=po("."+Co,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},fo),mo={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},yo=dn.ie&&dn.ie_version<=11;class bo{constructor(t){this.view=t,this.active=!1,this.editContext=null,this.selectionRange=new ze,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver((e=>{for(let t of e)this.queue.push(t);(dn.ie&&dn.ie_version<=11||dn.ios&&t.composing)&&e.some((t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length))?this.flushSoon():this.flush()})),!window.EditContext||!1===t.constructor.EDIT_CONTEXT||dn.chrome&&dn.chrome_version<126||(this.editContext=new Eo(t),t.state.facet(xi)&&(t.contentDOM.editContext=this.editContext.editContext)),yo&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((()=>{var t;(null===(t=this.view.docView)||void 0===t?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()})),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(t){("change"!=t.type&&t.type||t.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some(((e,n)=>e!=t[n])))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,i=this.selectionRange;if(n.state.facet(xi)?n.root.activeElement!=this.dom:!Re(this.dom,i))return;let r=i.anchorNode&&n.docView.nearest(i.anchorNode);r&&r.ignoreEvent(t)?e||(this.selectionChanged=!1):(dn.ie&&dn.ie_version<=11||dn.android&&dn.chrome)&&!n.state.selection.main.empty&&i.focusNode&&Ne(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=Te(t.root);if(!e)return!1;let n=dn.safari&&11==t.root.nodeType&&t.root.activeElement==this.dom&&function(t,e){if(e.getComposedRanges){let n=e.getComposedRanges(t.root)[0];if(n)return xo(t,n)}let n=null;function i(t){t.preventDefault(),t.stopImmediatePropagation(),n=t.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",i,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",i,!0),n?xo(t,n):null}(this.view,e)||e;if(!n||this.selectionRange.eq(n))return!1;let i=Re(this.dom,n);return i&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&function(t,e){let n=e.focusNode,i=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=i)return!1;for(i=Math.min(i,Le(n));;)if(i){if(1!=n.nodeType)return!1;let t=n.childNodes[i-1];"false"==t.contentEditable?i--:(n=t,i=Le(n))}else{if(n==t)return!0;i=De(n),n=n.parentNode}}(this.dom,n)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(n),i&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let n=this.dom;n;)if(1==n.nodeType)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==n?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);for(let t of this.scrollTargets=e)t.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,mo),yo&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),yo&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var n;if(!this.delayedAndroidKey){let t=()=>{let t=this.delayedAndroidKey;t&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=t.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&t.force&&Ze(this.dom,t.key,t.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(t)}this.delayedAndroidKey&&"Enter"!=t||(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!!(null===(n=this.delayedAndroidKey)||void 0===n?void 0:n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((()=>{this.delayedFlush=-1,this.flush()})))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,n=-1,i=!1;for(let r of t){let t=this.readMutation(r);t&&(t.typeOver&&(i=!0),-1==e?({from:e,to:n}=t):(e=Math.min(t.from,e),n=Math.max(t.to,n)))}return{from:e,to:n,typeOver:i}}readChange(){let{from:t,to:e,typeOver:n}=this.processRecords(),i=this.selectionChanged&&Re(this.dom,this.selectionRange);if(t<0&&!i)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let r=new sr(this.view,t,e,n);return this.view.docView.domChanged={newSel:r.newSel?r.newSel.main:null},r}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return this.view.requestMeasure(),!1;let n=this.view.state,i=ar(this.view,e);return this.view.state==n&&(e.domChanged||e.newSel&&!e.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty("attributes"==t.type),"attributes"==t.type&&(e.flags|=4),"childList"==t.type){let n=wo(e,t.previousSibling||t.target.previousSibling,-1),i=wo(e,t.nextSibling||t.target.nextSibling,1);return{from:n?e.posAfter(n):e.posAtStart,to:i?e.posBefore(i):e.posAtEnd,typeOver:!1}}return"characterData"==t.type?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}update(t){this.editContext&&(this.editContext.update(t),t.startState.facet(xi)!=t.state.facet(xi)&&(t.view.contentDOM.editContext=t.state.facet(xi)?this.editContext.editContext:null))}destroy(){var t,e,n;this.stop(),null===(t=this.intersection)||void 0===t||t.disconnect(),null===(e=this.gapIntersection)||void 0===e||e.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect();for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function wo(t,e,n){for(;e;){let i=Je.get(e);if(i&&i.parent==t)return i;let r=e.parentNode;e=r!=t.dom?r:n>0?e.nextSibling:e.previousSibling}return null}function xo(t,e){let n=e.startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset,s=t.docView.domAtPos(t.state.selection.main.anchor);return Ne(s.node,s.offset,r,o)&&([n,i,r,o]=[r,o,n,i]),{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:o}}class Eo{constructor(t){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(t.state);let e=this.editContext=new window.EditContext({text:t.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,t.state.selection.main.anchor))),selectionEnd:this.toContextPos(t.state.selection.main.head)});this.handlers.textupdate=e=>{let n=t.state.selection.main,{anchor:i,head:r}=n,o=this.toEditorPos(e.updateRangeStart),s=this.toEditorPos(e.updateRangeEnd);t.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:e.updateRangeStart,editorBase:o,drifted:!1});let a={from:o,to:s,insert:W.of(e.text.split("\n"))};if(a.from==this.from&&i<this.from?a.from=i:a.to==this.to&&i>this.to&&(a.to=i),a.from!=a.to||a.insert.length){if((dn.mac||dn.android)&&a.from==r-1&&/^\. ?$/.test(e.text)&&"off"==t.contentDOM.getAttribute("autocorrect")&&(a={from:o,to:s,insert:W.of([e.text.replace("."," ")])}),this.pendingContextChange=a,!t.state.readOnly){let n=this.to-this.from+(a.to-a.from+a.insert.length);gr(t,a,ht.single(this.toEditorPos(e.selectionStart,n),this.toEditorPos(e.selectionEnd,n)))}this.pendingContextChange&&(this.revertPending(t.state),this.setSelection(t.state))}else{let i=ht.single(this.toEditorPos(e.selectionStart),this.toEditorPos(e.selectionEnd));i.main.eq(n)||t.dispatch({selection:i,userEvent:"select"})}},this.handlers.characterboundsupdate=n=>{let i=[],r=null;for(let e=this.toEditorPos(n.rangeStart),o=this.toEditorPos(n.rangeEnd);e<o;e++){let n=t.coordsForChar(e);r=n&&new DOMRect(n.left,n.top,n.right-n.left,n.bottom-n.top)||r||new DOMRect,i.push(r)}e.updateCharacterBounds(n.rangeStart,i)},this.handlers.textformatupdate=e=>{let n=[];for(let t of e.getTextFormats()){let e=t.underlineStyle,i=t.underlineThickness;if("None"!=e&&"None"!=i){let r=this.toEditorPos(t.rangeStart),o=this.toEditorPos(t.rangeEnd);if(r<o){let t=`text-decoration: underline ${"Dashed"==e?"dashed ":"Squiggle"==e?"wavy ":""}${"Thin"==i?1:2}px`;n.push(_n.mark({attributes:{style:t}}).range(r,o))}}}t.dispatch({effects:bi.of(_n.set(n))})},this.handlers.compositionstart=()=>{t.inputState.composing<0&&(t.inputState.composing=0,t.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(t.inputState.composing=-1,t.inputState.compositionFirstChange=null,this.composing){let{drifted:e}=this.composing;this.composing=null,e&&this.reset(t.state)}};for(let t in this.handlers)e.addEventListener(t,this.handlers[t]);this.measureReq={read:t=>{this.editContext.updateControlBounds(t.contentDOM.getBoundingClientRect());let e=Te(t.root);e&&e.rangeCount&&this.editContext.updateSelectionBounds(e.getRangeAt(0).getBoundingClientRect())}}}applyEdits(t){let e=0,n=!1,i=this.pendingContextChange;return t.changes.iterChanges(((r,o,s,a,g)=>{if(n)return;let l=g.length-(o-r);if(i&&o>=i.to){if(i.from==r&&i.to==o&&i.insert.eq(g))return i=this.pendingContextChange=null,e+=l,void(this.to+=l);i=null,this.revertPending(t.state)}if(r+=e,(o+=e)<=this.from)this.from+=l,this.to+=l;else if(r<this.to){if(r<this.from||o>this.to||this.to-this.from+g.length>3e4)return void(n=!0);this.editContext.updateText(this.toContextPos(r),this.toContextPos(o),g.toString()),this.to+=l}e+=l})),i&&!n&&this.revertPending(t.state),!n}update(t){let e=this.pendingContextChange,n=t.startState.selection.main;this.composing&&(this.composing.drifted||!t.changes.touchesRange(n.from,n.to)&&t.transactions.some((t=>!t.isUserEvent("input.type")&&t.changes.touchesRange(this.from,this.to))))?(this.composing.drifted=!0,this.composing.editorBase=t.changes.mapPos(this.composing.editorBase)):this.applyEdits(t)&&this.rangeIsValid(t.state)?(t.docChanged||t.selectionSet||e)&&this.setSelection(t.state):(this.pendingContextChange=null,this.reset(t.state)),(t.geometryChanged||t.docChanged||t.selectionSet)&&t.view.requestMeasure(this.measureReq)}resetRange(t){let{head:e}=t.selection.main;this.from=Math.max(0,e-1e4),this.to=Math.min(t.doc.length,e+1e4)}reset(t){this.resetRange(t),this.editContext.updateText(0,this.editContext.text.length,t.doc.sliceString(this.from,this.to)),this.setSelection(t)}revertPending(t){let e=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(e.from),this.toContextPos(e.from+e.insert.length),t.doc.sliceString(e.from,e.to))}setSelection(t){let{main:e}=t.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,e.anchor))),i=this.toContextPos(e.head);this.editContext.selectionStart==n&&this.editContext.selectionEnd==i||this.editContext.updateSelection(n,i)}rangeIsValid(t){let{head:e}=t.selection.main;return!(this.from>0&&e-this.from<500||this.to<t.doc.length&&this.to-e<500||this.to-this.from>3e4)}toEditorPos(t,e=this.to-this.from){t=Math.min(t,e);let n=this.composing;return n&&n.drifted?n.editorBase+(t-n.contextBase):t+this.from}toContextPos(t){let e=this.composing;return e&&e.drifted?e.contextBase+(t-e.editorBase):t-this.from}destroy(){for(let t in this.handlers)this.editContext.removeEventListener(t,this.handlers[t])}}class ko{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(t={}){var e;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),t.parent&&t.parent.appendChild(this.dom);let{dispatch:n}=t;this.dispatchTransactions=t.dispatchTransactions||n&&(t=>t.forEach((t=>n(t,this))))||(t=>this.update(t)),this.dispatch=this.dispatch.bind(this),this._root=t.root||function(t){for(;t;){if(t&&(9==t.nodeType||11==t.nodeType&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}(t.parent)||document,this.viewState=new ro(t.state||Jt.create(t)),t.scrollTo&&t.scrollTo.is(yi)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(ki).map((t=>new Ti(t)));for(let t of this.plugins)t.update(this);this.observer=new bo(this),this.inputState=new lr(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Vi(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),(null===(e=document.fonts)||void 0===e?void 0:e.ready)&&document.fonts.ready.then((()=>this.requestMeasure()))}dispatch(...t){let e=1==t.length&&t[0]instanceof Gt?t:1==t.length&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(e,this)}update(t){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e,n=!1,i=!1,r=this.state;for(let e of t){if(e.startState!=r)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");r=e.state}if(this.destroyed)return void(this.viewState.state=r);let o=this.hasFocus,s=0,a=null;t.some((t=>t.annotation(Dr)))?(this.inputState.notifiedFocused=o,s=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,a=Pr(r,o),a||(s=1));let g=this.observer.delayedAndroidKey,l=null;if(g?(this.observer.clearDelayedAndroidKey(),l=this.observer.readChange(),(l&&!this.state.doc.eq(r.doc)||!this.state.selection.eq(r.selection))&&(l=null)):this.observer.clear(),r.facet(Jt.phrases)!=this.state.facet(Jt.phrases))return this.setState(r);e=zi.create(this,r,t),e.flags|=s;let A=this.viewState.scrollTarget;try{this.updateState=2;for(let e of t){if(A&&(A=A.map(e.changes)),e.scrollIntoView){let{main:t}=e.state.selection;A=new mi(t.empty?t:ht.cursor(t.head,t.head>t.anchor?-1:1))}for(let t of e.effects)t.is(yi)&&(A=t.value.clip(this.state))}this.viewState.update(e,A),this.bidiCache=Oo.update(this.bidiCache,e.changes),e.empty||(this.updatePlugins(e),this.inputState.update(e)),n=this.docView.update(e),this.state.facet(Bi)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(n,t.some((t=>t.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(e.startState.facet(co)!=e.state.facet(co)&&(this.viewState.mustMeasureContent=!0),(n||i||A||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!e.empty)for(let t of this.state.facet(hi))try{t(e)}catch(t){wi(this.state,t,"update listener")}(a||l)&&Promise.resolve().then((()=>{a&&this.state==a.startState&&this.dispatch(a),l&&!ar(this,l)&&g.force&&Ze(this.contentDOM,g.key,g.keyCode)}))}setState(t){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=t);this.updateState=2;let e=this.hasFocus;try{for(let t of this.plugins)t.destroy(this);this.viewState=new ro(t),this.plugins=t.facet(ki).map((t=>new Ti(t))),this.pluginMap.clear();for(let t of this.plugins)t.update(this);this.docView.destroy(),this.docView=new Vi(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(ki),n=t.state.facet(ki);if(e!=n){let i=[];for(let r of n){let n=e.indexOf(r);if(n<0)i.push(new Ti(r));else{let e=this.plugins[n];e.mustUpdate=t,i.push(e)}}for(let e of this.plugins)e.mustUpdate!=t&&e.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let e of this.plugins)e.mustUpdate=t;for(let t=0;t<this.plugins.length;t++)this.plugins[t].update(this);e!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let t of this.plugins){let e=t.value;if(e&&e.docViewUpdate)try{e.docViewUpdate(this)}catch(t){wi(this.state,t,"doc view update listener")}}}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,n=this.scrollDOM,i=n.scrollTop*this.scaleY,{scrollAnchorPos:r,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let t=0;;t++){if(o<0)if(qe(n))r=-1,o=this.viewState.heightMap.height;else{let t=this.viewState.scrollAnchorAt(i);r=t.from,o=t.top}this.updateState=1;let s=this.viewState.measure(this);if(!s&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(t>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let a=[];4&s||([this.measureRequests,a]=[a,this.measureRequests]);let g=a.map((t=>{try{return t.read(this)}catch(t){return wi(this.state,t),To}})),l=zi.create(this,this.state,[]),A=!1;l.flags|=s,e?e.flags|=s:e=l,this.updateState=2,l.empty||(this.updatePlugins(l),this.inputState.update(l),this.updateAttrs(),A=this.docView.update(l),A&&this.docViewUpdate());for(let t=0;t<a.length;t++)if(g[t]!=To)try{let e=a[t];e.write&&e.write(g[t],this)}catch(t){wi(this.state,t)}if(A&&this.docView.updateSelection(!0),!l.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}{let t=(r<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(r).top)-o;if(t>1||t<-1){i+=t,n.scrollTop=i/this.scaleY,o=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let t of this.state.facet(hi))t(e)}get themeClasses(){return Co+" "+(this.state.facet(ho)?uo:Io)+" "+this.state.facet(co)}updateAttrs(){let t=Ro(this,Oi,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(xi)?"true":"false",class:"cm-content",style:`${dn.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),Ro(this,Ri,e);let n=this.observer.ignore((()=>{let n=Sn(this.contentDOM,this.contentAttrs,e),i=Sn(this.dom,this.editorAttrs,t);return n||i}));return this.editorAttrs=t,this.contentAttrs=e,n}showAnnouncements(t){let e=!0;for(let n of t)for(let t of n.effects)t.is(ko.announce)&&(e&&(this.announceDOM.textContent=""),e=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=t.value)}mountStyles(){this.styleModules=this.state.facet(Bi);let t=this.state.facet(ko.cspNonce);ve.mount(this.root,this.styleModules.concat(vo).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((()=>this.measure()))),t){if(this.measureRequests.indexOf(t)>-1)return;if(null!=t.key)for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key)return void(this.measureRequests[e]=t);this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(void 0===e||e&&e.spec!=t)&&this.pluginMap.set(t,e=this.plugins.find((e=>e.spec==t))||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,n){return er(this,t,$i(this,t,e,n))}moveByGroup(t,e){return er(this,t,$i(this,t,e,(e=>function(t,e,n){let i=t.state.charCategorizer(e),r=i(n);return t=>{let e=i(t);return r==Qt.Space&&(r=e),r==e}}(this,t.head,e))))}visualLineSide(t,e){let n=this.bidiSpans(t),i=this.textDirectionAt(t.from),r=n[e?n.length-1:0];return ht.cursor(r.side(e,i)+t.from,r.forward(!e,i)?1:-1)}moveToLineBoundary(t,e,n=!0){return function(t,e,n,i){let r=function(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type))for(let t of n.type)if(t.to>e||t.to==e&&(t.to==n.to||t.type==Rn.Text))return t;return n}(t,e.head),o=i&&r.type==Rn.Text&&(t.lineWrapping||r.widgetLineBreaks)?t.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head):null;if(o){let e=t.dom.getBoundingClientRect(),i=t.textDirectionAt(r.from),s=t.posAtCoords({x:n==(i==Un.LTR)?e.right-1:e.left+1,y:(o.top+o.bottom)/2});if(null!=s)return ht.cursor(s,n?-1:1)}return ht.cursor(n?r.to:r.from,n?-1:1)}(this,t,e,n)}moveVertically(t,e,n){return er(this,t,function(t,e,n,i){let r=e.head,o=n?1:-1;if(r==(n?t.state.doc.length:0))return ht.cursor(r,e.assoc);let s,a=e.goalColumn,g=t.contentDOM.getBoundingClientRect(),l=t.coordsAtPos(r,e.assoc||-1),A=t.documentTop;if(l)null==a&&(a=l.left-g.left),s=o<0?l.top:l.bottom;else{let e=t.viewState.lineBlockAt(r);null==a&&(a=Math.min(g.right-g.left,t.defaultCharacterWidth*(r-e.from))),s=(o<0?e.top:e.bottom)+A}let c=g.left+a,h=null!=i?i:t.viewState.heightOracle.textHeight>>1;for(let e=0;;e+=10){let n=s+(h+e)*o,i=Xi(t,{x:c,y:n},!1,o);if(n<g.top||n>g.bottom||(o<0?i<r:i>r)){let e=t.docView.coordsForChar(i),r=!e||n<e.top?-1:1;return ht.cursor(i,r,void 0,a)}}}(this,t,e,n))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),Xi(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let n=this.docView.coordsAt(t,e);if(!n||n.left==n.right)return n;let i=this.state.doc.lineAt(t),r=this.bidiSpans(i);return je(n,r[$n.find(r,t-i.from,-1,e)].dir==Un.LTR==e>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(fi)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>So)return ri(t.length);let e,n=this.textDirectionAt(t.from);for(let i of this.bidiCache)if(i.from==t.from&&i.dir==n&&(i.fresh||ti(i.isolates,e=Mi(this,t))))return i.order;e||(e=Mi(this,t));let i=function(t,e,n){if(!t)return[new $n(0,0,e==Zn?1:0)];if(e==Wn&&!n.length&&!Jn.test(t))return ri(t.length);if(n.length)for(;t.length>ei.length;)ei[ei.length]=256;let i=[],r=e==Wn?0:1;return ii(t,r,r,n,0,t.length,i),i}(t.text,n,e);return this.bidiCache.push(new Oo(t.from,t.to,n,e,!0,i)),i}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||dn.safari&&(null===(t=this.inputState)||void 0===t?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{Ue(this.contentDOM),this.docView.updateSelection()}))}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((9==t.nodeType?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return yi.of(new mi("number"==typeof t?ht.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:e}=this.scrollDOM,n=this.viewState.scrollAnchorAt(t);return yi.of(new mi(ht.cursor(n.from),"start","start",n.top-t,e,!0))}setTabFocusMode(t){null==t?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:"boolean"==typeof t?this.inputState.tabFocusMode=t?0:-1:0!=this.inputState.tabFocusMode&&(this.inputState.tabFocusMode=Date.now()+t)}static domEventHandlers(t){return Si.define((()=>({})),{eventHandlers:t})}static domEventObservers(t){return Si.define((()=>({})),{eventObservers:t})}static theme(t,e){let n=ve.newName(),i=[co.of(n),Bi.of(po(`.${n}`,t))];return e&&e.dark&&i.push(ho.of(!0)),i}static baseTheme(t){return xt.lowest(Bi.of(po("."+Co,t,fo)))}static findFromDOM(t){var e;let n=t.querySelector(".cm-content"),i=n&&Je.get(n)||Je.get(t);return(null===(e=null==i?void 0:i.rootView)||void 0===e?void 0:e.view)||null}}ko.styleModule=Bi,ko.inputHandler=Ci,ko.clipboardInputFilter=di,ko.clipboardOutputFilter=ui,ko.scrollHandler=vi,ko.focusChangeEffect=Ii,ko.perLineTextDirection=fi,ko.exceptionSink=ci,ko.updateListener=hi,ko.editable=xi,ko.mouseSelectionStyle=Ai,ko.dragMovesSelection=li,ko.clickAddsSelectionRange=gi,ko.decorations=_i,ko.outerDecorations=Ni,ko.atomicRanges=Di,ko.bidiIsolatedRanges=Pi,ko.scrollMargins=Li,ko.darkTheme=ho,ko.cspNonce=dt.define({combine:t=>t.length?t[0]:""}),ko.contentAttributes=Ri,ko.editorAttributes=Oi,ko.lineWrapping=ko.contentAttributes.of({class:"cm-lineWrapping"}),ko.announce=Vt.define();const So=4096,To={};class Oo{constructor(t,e,n,i,r,o){this.from=t,this.to=e,this.dir=n,this.isolates=i,this.fresh=r,this.order=o}static update(t,e){if(e.empty&&!t.some((t=>t.fresh)))return t;let n=[],i=t.length?t[t.length-1].dir:Un.LTR;for(let r=Math.max(0,t.length-10);r<t.length;r++){let o=t[r];o.dir!=i||e.touchesRange(o.from,o.to)||n.push(new Oo(e.mapPos(o.from,1),e.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return n}}function Ro(t,e,n){for(let i=t.state.facet(e),r=i.length-1;r>=0;r--){let e=i[r],o="function"==typeof e?e(t):e;o&&xn(o,n)}return n}const _o=dn.mac?"mac":dn.windows?"win":dn.linux?"linux":"key";function No(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}const Do=xt.default(ko.domEventHandlers({keydown:(t,e)=>function(t,e,n,i){Bo=e;let r=function(t){var e=!(xe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Ee&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?we:be)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(e),o=function(t){return t<65536?1:2}(function(t,e){let n=t.charCodeAt(e);if(!((i=n)>=55296&&i<56320&&e+1!=t.length))return n;var i;let r=t.charCodeAt(e+1);return function(t){return t>=56320&&t<57344}(r)?r-56320+(n-55296<<10)+65536:n}(r,0))==r.length&&" "!=r,s="",a=!1,g=!1,l=!1;Lo&&Lo.view==n&&Lo.scope==i&&(s=Lo.prefix+" ",Ir.indexOf(e.keyCode)<0&&(g=!0,Lo=null));let A,c,h=new Set,C=t=>{if(t){for(let e of t.run)if(!h.has(e)&&(h.add(e),e(n)))return t.stopPropagation&&(l=!0),!0;t.preventDefault&&(t.stopPropagation&&(l=!0),g=!0)}return!1},I=t[i];return I&&(C(I[s+No(r,e,!o)])?a=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(dn.windows&&e.ctrlKey&&e.altKey)&&(A=be[e.keyCode])&&A!=r?(C(I[s+No(A,e,!0)])||e.shiftKey&&(c=we[e.keyCode])!=r&&c!=A&&C(I[s+No(c,e,!1)]))&&(a=!0):o&&e.shiftKey&&C(I[s+No(r,e,!0)])&&(a=!0),!a&&C(I._any)&&(a=!0)),g&&(a=!0),a&&l&&e.stopPropagation(),Bo=null,a}(function(t){let e=t.facet(Po),n=Mo.get(e);return n||Mo.set(e,n=function(t,e=_o){let n=Object.create(null),i=Object.create(null),r=(t,e)=>{let n=i[t];if(null==n)i[t]=e;else if(n!=e)throw new Error("Key binding "+t+" is used both as a regular binding and as a multi-stroke prefix")},o=(t,i,o,s,a)=>{var g,l;let A=n[t]||(n[t]=Object.create(null)),c=i.split(/ (?!$)/).map((t=>function(t,e){const n=t.split(/-(?!$)/);let i,r,o,s,a=n[n.length-1];"Space"==a&&(a=" ");for(let t=0;t<n.length-1;++t){const a=n[t];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))i=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else if(/^s(hift)?$/i.test(a))o=!0;else{if(!/^mod$/i.test(a))throw new Error("Unrecognized modifier name: "+a);"mac"==e?s=!0:r=!0}}return i&&(a="Alt-"+a),r&&(a="Ctrl-"+a),s&&(a="Meta-"+a),o&&(a="Shift-"+a),a}(t,e)));for(let e=1;e<c.length;e++){let n=c.slice(0,e).join(" ");r(n,!0),A[n]||(A[n]={preventDefault:!0,stopPropagation:!1,run:[e=>{let i=Lo={view:e,prefix:n,scope:t};return setTimeout((()=>{Lo==i&&(Lo=null)}),jo),!0}]})}let h=c.join(" ");r(h,!1);let C=A[h]||(A[h]={preventDefault:!1,stopPropagation:!1,run:(null===(l=null===(g=A._any)||void 0===g?void 0:g.run)||void 0===l?void 0:l.slice())||[]});o&&C.run.push(o),s&&(C.preventDefault=!0),a&&(C.stopPropagation=!0)};for(let i of t){let t=i.scope?i.scope.split(" "):["editor"];if(i.any)for(let e of t){let t=n[e]||(n[e]=Object.create(null));t._any||(t._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:r}=i;for(let e in t)t[e].run.push((t=>r(t,Bo)))}let r=i[e]||i.key;if(r)for(let e of t)o(e,r,i.run,i.preventDefault,i.stopPropagation),i.shift&&o(e,"Shift-"+r,i.shift,i.preventDefault,i.stopPropagation)}return n}(e.reduce(((t,e)=>t.concat(e)),[]))),n}(e.state),t,e,"editor")})),Po=dt.define({enables:Do}),Mo=new WeakMap;let Lo=null;const jo=4e3;let Bo=null;function Fo(){return Vo}const zo=_n.line({class:"cm-activeLine"}),Vo=Si.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let i of t.state.selection.ranges){let r=t.lineBlockAt(i.head);r.from>e&&(n.push(zo.range(r.from)),e=r.from)}return _n.set(n)}},{decorations:t=>t.decorations});class Go extends $t{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}Go.prototype.elementClass="",Go.prototype.toDOM=void 0,Go.prototype.mapMode=nt.TrackBefore,Go.prototype.startSide=Go.prototype.endSide=-1,Go.prototype.point=!0;const Uo=dt.define(),Wo=dt.define(),Zo={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>ie.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Ho=dt.define(),qo=dt.define({combine:t=>t.some((t=>t))});function Yo(t){let e=[Qo];return t&&!1===t.fixed&&e.push(qo.of(!0)),e}const Qo=Si.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Ho).map((e=>new $o(t,e)));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!t.state.facet(qo),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,i=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(i<.8*(n.to-n.from))}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(qo)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=ie.iter(this.view.state.facet(Uo),this.view.viewport.from),i=[],r=this.gutters.map((t=>new Jo(t,this.view.viewport,-this.view.documentPadding.top)));for(let t of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(t.type)){let e=!0;for(let o of t.type)if(o.type==Rn.Text&&e){Xo(n,i,o.from);for(let t of r)t.line(this.view,o,i);e=!1}else if(o.widget)for(let t of r)t.widget(this.view,o)}else if(t.type==Rn.Text){Xo(n,i,t.from);for(let e of r)e.line(this.view,t,i)}else if(t.widget)for(let e of r)e.widget(this.view,t);for(let t of r)t.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Ho),n=t.state.facet(Ho),i=t.docChanged||t.heightChanged||t.viewportChanged||!ie.eq(t.startState.facet(Uo),t.state.facet(Uo),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let e of this.gutters)e.update(t)&&(i=!0);else{i=!0;let r=[];for(let i of n){let n=e.indexOf(i);n<0?r.push(new $o(this.view,i)):(this.gutters[n].update(t),r.push(this.gutters[n]))}for(let t of this.gutters)t.dom.remove(),r.indexOf(t)<0&&t.destroy();for(let t of r)this.dom.appendChild(t.dom);this.gutters=r}return i}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>ko.scrollMargins.of((e=>{let n=e.plugin(t);return n&&0!=n.gutters.length&&n.fixed?e.textDirection==Un.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}:null}))});function Ko(t){return Array.isArray(t)?t:[t]}function Xo(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class Jo{constructor(t,e,n){this.gutter=t,this.height=n,this.i=0,this.cursor=ie.iter(t.markers,e.from)}addElement(t,e,n){let{gutter:i}=this,r=(e.top-this.height)/t.scaleY,o=e.height/t.scaleY;if(this.i==i.elements.length){let e=new ts(t,o,r,n);i.elements.push(e),i.dom.appendChild(e.dom)}else i.elements[this.i].update(t,o,r,n);this.height=e.bottom,this.i++}line(t,e,n){let i=[];Xo(this.cursor,i,e.from),n.length&&(i=i.concat(n));let r=this.gutter.config.lineMarker(t,e,i);r&&i.unshift(r);let o=this.gutter;(0!=i.length||o.config.renderEmptyElements)&&this.addElement(t,e,i)}widget(t,e){let n=this.gutter.config.widgetMarker(t,e.widget,e),i=n?[n]:null;for(let n of t.state.facet(Wo)){let r=n(t,e.widget,e);r&&(i||(i=[])).push(r)}i&&this.addElement(t,e,i)}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}}class $o{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in e.domEventHandlers)this.dom.addEventListener(n,(i=>{let r,o=i.target;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let t=o.getBoundingClientRect();r=(t.top+t.bottom)/2}else r=i.clientY;let s=t.lineBlockAtHeight(r-t.documentTop);e.domEventHandlers[n](t,s,i)&&i.preventDefault()}));this.markers=Ko(e.markers(t)),e.initialSpacer&&(this.spacer=new ts(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=Ko(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let e=this.config.updateSpacer(this.spacer.markers[0],t);e!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[e])}let n=t.view.viewport;return!ie.eq(this.markers,e,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(t)}destroy(){for(let t of this.elements)t.destroy()}}class ts{constructor(t,e,n,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,n,i)}update(t,e,n,i){this.height!=e&&(this.height=e,this.dom.style.height=e+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}(this.markers,i)||this.setMarkers(t,i)}setMarkers(t,e){let n="cm-gutterElement",i=this.dom.firstChild;for(let r=0,o=0;;){let s=o,a=r<e.length?e[r++]:null,g=!1;if(a){let t=a.elementClass;t&&(n+=" "+t);for(let t=o;t<this.markers.length;t++)if(this.markers[t].compare(a)){s=t,g=!0;break}}else s=this.markers.length;for(;o<s;){let t=this.markers[o++];if(t.toDOM){t.destroy(i);let e=i.nextSibling;i.remove(),i=e}}if(!a)break;a.toDOM&&(g?i=i.nextSibling:this.dom.insertBefore(a.toDOM(t),i)),g&&o++}this.dom.className=n,this.markers=e}destroy(){this.setMarkers(null,[])}}const es=dt.define(),ns=dt.define(),is=dt.define({combine:t=>function(t,e,n={}){let i={};for(let e of t)for(let t of Object.keys(e)){let r=e[t],o=i[t];if(void 0===o)i[t]=r;else if(o===r||void 0===r);else{if(!Object.hasOwnProperty.call(n,t))throw new Error("Config merge conflict for field "+t);i[t]=n[t](o,r)}}for(let t in e)void 0===i[t]&&(i[t]=e[t]);return i}(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let n=Object.assign({},t);for(let t in e){let i=n[t],r=e[t];n[t]=i?(t,e,n)=>i(t,e,n)||r(t,e,n):r}return n}})});class rs extends Go{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function os(t,e){return t.state.facet(is).formatNumber(e,t.state)}const ss=Ho.compute([is],(t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:t=>t.state.facet(es),lineMarker:(t,e,n)=>n.some((t=>t.toDOM))?null:new rs(os(t,t.state.doc.lineAt(e.from).number)),widgetMarker:(t,e,n)=>{for(let i of t.state.facet(ns)){let r=i(t,e,n);if(r)return r}return null},lineMarkerChange:t=>t.startState.facet(is)!=t.state.facet(is),initialSpacer:t=>new rs(os(t,gs(t.state.doc.lines))),updateSpacer(t,e){let n=os(e.view,gs(e.view.state.doc.lines));return n==t.number?t:new rs(n)},domEventHandlers:t.facet(is).domEventHandlers})));function as(t={}){return[is.of(t),Yo(),ss]}function gs(t){let e=9;for(;e<t;)e=10*e+9;return e}let ls=0;class As{constructor(t,e,n,i){this.name=t,this.set=e,this.base=n,this.modified=i,this.id=ls++}toString(){let{name:t}=this;for(let e of this.modified)e.name&&(t=`${e.name}(${t})`);return t}static define(t,e){let n="string"==typeof t?t:"?";if(t instanceof As&&(e=t),null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let i=new As(n,[],null,[]);if(i.set.push(i),e)for(let t of e.set)i.set.push(t);return i}static defineModifier(t){let e=new hs(t);return t=>t.modified.indexOf(e)>-1?t:hs.get(t.base||t,t.modified.concat(e).sort(((t,e)=>t.id-e.id)))}}let cs=0;class hs{constructor(t){this.name=t,this.instances=[],this.id=cs++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find((n=>{return n.base==t&&(i=e,r=n.modified,i.length==r.length&&i.every(((t,e)=>t==r[e])));var i,r}));if(n)return n;let i=[],r=new As(t.name,i,t,e);for(let t of e)t.instances.push(r);let o=function(t){let e=[[]];for(let n=0;n<t.length;n++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(t[n]));return e.sort(((t,e)=>e.length-t.length))}(e);for(let e of t.set)if(!e.modified.length)for(let t of o)i.push(hs.get(e,t));return r}}function Cs(t){let e=Object.create(null);for(let n in t){let i=t[n];Array.isArray(i)||(i=[i]);for(let t of n.split(" "))if(t){let n=[],r=2,o=t;for(let e=0;;){if("..."==o&&e>0&&e+3==t.length){r=1;break}let i=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!i)throw new RangeError("Invalid path: "+t);if(n.push("*"==i[0]?"":'"'==i[0][0]?JSON.parse(i[0]):i[0]),e+=i[0].length,e==t.length)break;let s=t[e++];if(e==t.length&&"!"==s){r=0;break}if("/"!=s)throw new RangeError("Invalid path: "+t);o=t.slice(e)}let s=n.length-1,a=n[s];if(!a)throw new RangeError("Invalid path: "+t);let g=new ds(i,r,s>0?n.slice(0,s):null);e[a]=g.sort(e[a])}}return Is.add(e)}const Is=new r;class ds{constructor(t,e,n,i){this.tags=t,this.mode=e,this.context=n,this.next=i}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}function us(t,e){let n=Object.create(null);for(let e of t)if(Array.isArray(e.tag))for(let t of e.tag)n[t.id]=e.class;else n[e.tag.id]=e.class;let{scope:i,all:r=null}=e||{};return{style:t=>{let e=r;for(let i of t)for(let t of i.set){let i=n[t.id];if(i){e=e?e+" "+i:i;break}}return e},scope:i}}function fs(t,e,n,i=0,r=t.length){let o=new ps(i,Array.isArray(e)?e:[e],n);o.highlightRange(t.cursor(),i,r,"",o.highlighters),o.flush(r)}ds.empty=new ds([],2,null);class ps{constructor(t,e,n){this.at=t,this.highlighters=e,this.span=n,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,n,i,o){let{type:s,from:a,to:g}=t;if(a>=n||g<=e)return;s.isTop&&(o=this.highlighters.filter((t=>!t.scope||t.scope(s))));let l=i,A=function(t){let e=t.type.prop(Is);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}(t)||ds.empty,c=function(t,e){let n=null;for(let i of t){let t=i.style(e);t&&(n=n?n+" "+t:t)}return n}(o,A.tags);if(c&&(l&&(l+=" "),l+=c,1==A.mode&&(i+=(i?" ":"")+c)),this.startSpan(Math.max(e,a),l),A.opaque)return;let h=t.tree&&t.tree.prop(r.mounted);if(h&&h.overlay){let r=t.node.enter(h.overlay[0].from+a,1),s=this.highlighters.filter((t=>!t.scope||t.scope(h.tree.type))),A=t.firstChild();for(let c=0,C=a;;c++){let I=c<h.overlay.length?h.overlay[c]:null,d=I?I.from+a:g,u=Math.max(e,C),f=Math.min(n,d);if(u<f&&A)for(;t.from<f&&(this.highlightRange(t,u,f,i,o),this.startSpan(Math.min(f,t.to),l),!(t.to>=d)&&t.nextSibling()););if(!I||d>n)break;C=I.to+a,C>e&&(this.highlightRange(r.cursor(),Math.max(e,I.from+a),Math.min(n,C),"",s),this.startSpan(Math.min(n,C),l))}A&&t.parent()}else if(t.firstChild()){h&&(i="");do{if(!(t.to<=e)){if(t.from>=n)break;this.highlightRange(t,e,n,i,o),this.startSpan(Math.min(n,t.to),l)}}while(t.nextSibling());t.parent()}}}const vs=As.define,ms=vs(),ys=vs(),bs=vs(ys),ws=vs(ys),xs=vs(),Es=vs(xs),ks=vs(xs),Ss=vs(),Ts=vs(Ss),Os=vs(),Rs=vs(),_s=vs(),Ns=vs(_s),Ds=vs(),Ps={comment:ms,lineComment:vs(ms),blockComment:vs(ms),docComment:vs(ms),name:ys,variableName:vs(ys),typeName:bs,tagName:vs(bs),propertyName:ws,attributeName:vs(ws),className:vs(ys),labelName:vs(ys),namespace:vs(ys),macroName:vs(ys),literal:xs,string:Es,docString:vs(Es),character:vs(Es),attributeValue:vs(Es),number:ks,integer:vs(ks),float:vs(ks),bool:vs(xs),regexp:vs(xs),escape:vs(xs),color:vs(xs),url:vs(xs),keyword:Os,self:vs(Os),null:vs(Os),atom:vs(Os),unit:vs(Os),modifier:vs(Os),operatorKeyword:vs(Os),controlKeyword:vs(Os),definitionKeyword:vs(Os),moduleKeyword:vs(Os),operator:Rs,derefOperator:vs(Rs),arithmeticOperator:vs(Rs),logicOperator:vs(Rs),bitwiseOperator:vs(Rs),compareOperator:vs(Rs),updateOperator:vs(Rs),definitionOperator:vs(Rs),typeOperator:vs(Rs),controlOperator:vs(Rs),punctuation:_s,separator:vs(_s),bracket:Ns,angleBracket:vs(Ns),squareBracket:vs(Ns),paren:vs(Ns),brace:vs(Ns),content:Ss,heading:Ts,heading1:vs(Ts),heading2:vs(Ts),heading3:vs(Ts),heading4:vs(Ts),heading5:vs(Ts),heading6:vs(Ts),contentSeparator:vs(Ss),list:vs(Ss),quote:vs(Ss),emphasis:vs(Ss),strong:vs(Ss),link:vs(Ss),monospace:vs(Ss),strikethrough:vs(Ss),inserted:vs(),deleted:vs(),changed:vs(),invalid:vs(),meta:Ds,documentMeta:vs(Ds),annotation:vs(Ds),processingInstruction:vs(Ds),definition:As.defineModifier("definition"),constant:As.defineModifier("constant"),function:As.defineModifier("function"),standard:As.defineModifier("standard"),local:As.defineModifier("local"),special:As.defineModifier("special")};for(let t in Ps){let e=Ps[t];e instanceof As&&(e.name=t)}var Ms;us([{tag:Ps.link,class:"tok-link"},{tag:Ps.heading,class:"tok-heading"},{tag:Ps.emphasis,class:"tok-emphasis"},{tag:Ps.strong,class:"tok-strong"},{tag:Ps.keyword,class:"tok-keyword"},{tag:Ps.atom,class:"tok-atom"},{tag:Ps.bool,class:"tok-bool"},{tag:Ps.url,class:"tok-url"},{tag:Ps.labelName,class:"tok-labelName"},{tag:Ps.inserted,class:"tok-inserted"},{tag:Ps.deleted,class:"tok-deleted"},{tag:Ps.literal,class:"tok-literal"},{tag:Ps.string,class:"tok-string"},{tag:Ps.number,class:"tok-number"},{tag:[Ps.regexp,Ps.escape,Ps.special(Ps.string)],class:"tok-string2"},{tag:Ps.variableName,class:"tok-variableName"},{tag:Ps.local(Ps.variableName),class:"tok-variableName tok-local"},{tag:Ps.definition(Ps.variableName),class:"tok-variableName tok-definition"},{tag:Ps.special(Ps.variableName),class:"tok-variableName2"},{tag:Ps.definition(Ps.propertyName),class:"tok-propertyName tok-definition"},{tag:Ps.typeName,class:"tok-typeName"},{tag:Ps.namespace,class:"tok-namespace"},{tag:Ps.className,class:"tok-className"},{tag:Ps.macroName,class:"tok-macroName"},{tag:Ps.propertyName,class:"tok-propertyName"},{tag:Ps.operator,class:"tok-operator"},{tag:Ps.comment,class:"tok-comment"},{tag:Ps.meta,class:"tok-meta"},{tag:Ps.invalid,class:"tok-invalid"},{tag:Ps.punctuation,class:"tok-punctuation"}]);const Ls=new r;const js=new r;class Bs{constructor(t,e,n=[],i=""){this.data=t,this.name=i,Jt.prototype.hasOwnProperty("tree")||Object.defineProperty(Jt.prototype,"tree",{get(){return zs(this)}}),this.parser=e,this.extension=[Qs.of(this),Jt.languageData.of(((t,e,n)=>{let i=Fs(t,e,n),r=i.type.prop(Ls);if(!r)return[];let o=t.facet(r),s=i.type.prop(js);if(s){let r=i.resolve(e-i.from,n);for(let e of s)if(e.test(r,t)){let n=t.facet(e.facet);return"replace"==e.type?n:n.concat(o)}}return o}))].concat(n)}isActiveAt(t,e,n=-1){return Fs(t,e,n).type.prop(Ls)==this.data}findRegions(t){let e=t.facet(Qs);if((null==e?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let n=[],i=(t,e)=>{if(t.prop(Ls)==this.data)return void n.push({from:e,to:e+t.length});let o=t.prop(r.mounted);if(o){if(o.tree.prop(Ls)==this.data){if(o.overlay)for(let t of o.overlay)n.push({from:t.from+e,to:t.to+e});else n.push({from:e,to:e+t.length});return}if(o.overlay){let t=n.length;if(i(o.tree,o.overlay[0].from+e),n.length>t)return}}for(let n=0;n<t.children.length;n++){let r=t.children[n];r instanceof h&&i(r,t.positions[n]+e)}};return i(zs(t),0),n}get allowsNesting(){return!0}}function Fs(t,e,n){let i=t.facet(Qs),r=zs(t).topNode;if(!i||i.allowsNesting)for(let t=r;t;t=t.enter(e,n,c.ExcludeBuffers))t.type.isTop&&(r=t);return r}function zs(t){let e=t.field(Bs.state,!1);return e?e.tree:h.empty}Bs.setState=Vt.define();class Vs{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let n=this.cursorPos-this.string.length;return t<n||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-n,e-n)}}let Gs=null;class Us{constructor(t,e,n=[],i,r,o,s,a){this.parser=t,this.state=e,this.fragments=n,this.tree=i,this.treeLen=r,this.viewport=o,this.skipped=s,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(t,e,n){return new Us(t,e,[],h.empty,0,n,[],null)}startParse(){return this.parser.startParse(new Vs(this.state.doc),this.fragments)}work(t,e){return null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=h.empty&&this.isDone(null!=e?e:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof t){let e=Date.now()+t;t=()=>Date.now()>e}for(this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let i=this.parse.advance();if(i){if(this.fragments=this.withoutTempSkipped(R.addTree(i,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=i,this.parse=null,!(this.treeLen<(null!=e?e:this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}}))}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext((()=>{for(;!(e=this.parse.advance()););})),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(R.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=Gs;Gs=this;try{return t()}finally{Gs=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=Ws(t,e.from,e.to);return t}changes(t,e){let{fragments:n,tree:i,treeLen:r,viewport:o,skipped:s}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges(((t,n,i,r)=>e.push({fromA:t,toA:n,fromB:i,toB:r}))),n=R.applyChanges(n,e),i=h.empty,r=0,o={from:t.mapPos(o.from,-1),to:t.mapPos(o.to,1)},this.skipped.length){s=[];for(let e of this.skipped){let n=t.mapPos(e.from,1),i=t.mapPos(e.to,-1);n<i&&s.push({from:n,to:i})}}}return new Us(this.parser,e,n,i,r,o,s,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let e=0;e<this.skipped.length;e++){let{from:n,to:i}=this.skipped[e];n<t.to&&i>t.from&&(this.fragments=Ws(this.fragments,n,i),this.skipped.splice(e--,1))}return!(this.skipped.length>=e||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends _{createParse(e,n,i){let r=i[0].from,o=i[i.length-1].to;return{parsedPos:r,advance(){let e=Gs;if(e){for(let t of i)e.tempSkipped.push(t);t&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,t]):t)}return this.parsedPos=o,new h(a.none,[],[],o-r)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&0==e[0].from&&e[0].to>=t}static get(){return Gs}}function Ws(t,e,n){return R.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Zs{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),n=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,n)||e.takeTree(),new Zs(e)}static init(t){let e=Math.min(3e3,t.doc.length),n=Us.create(t.facet(Qs).parser,t,{from:0,to:e});return n.work(20,e)||n.takeTree(),new Zs(n)}}Bs.state=bt.define({create:Zs.init,update(t,e){for(let t of e.effects)if(t.is(Bs.setState))return t.value;return e.startState.facet(Qs)!=e.state.facet(Qs)?Zs.init(e.state):t.apply(e)}});let Hs=t=>{let e=setTimeout((()=>t()),500);return()=>clearTimeout(e)};"undefined"!=typeof requestIdleCallback&&(Hs=t=>{let e=-1,n=setTimeout((()=>{e=requestIdleCallback(t,{timeout:400})}),100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const qs="undefined"!=typeof navigator&&(null===(Ms=navigator.scheduling)||void 0===Ms?void 0:Ms.isInputPending)?()=>navigator.scheduling.isInputPending():null,Ys=Si.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(Bs.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(Bs.state);e.tree==e.context.tree&&e.context.isDone(t.doc.length)||(this.working=Hs(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,r=n.field(Bs.state);if(r.tree==r.context.tree&&r.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,t&&!qs?Math.max(25,t.timeRemaining()-5):1e9),s=r.context.treeLen<i&&n.doc.length>i+1e3,a=r.context.work((()=>qs&&qs()||Date.now()>o),i+(s?0:1e5));this.chunkBudget-=Date.now()-e,(a||this.chunkBudget<=0)&&(r.context.takeTree(),this.view.dispatch({effects:Bs.setState.of(new Zs(r.context))})),this.chunkBudget>0&&(!a||s)&&this.scheduleWork(),this.checkAsyncSchedule(r.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then((()=>this.scheduleWork())).catch((t=>wi(this.view.state,t))).then((()=>this.workScheduled--)),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Qs=dt.define({combine:t=>t.length?t[0]:null,enables:t=>[Bs.state,Ys,ko.contentAttributes.compute([t],(e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}}))]}),Ks=dt.define(),Xs=dt.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some((t=>t!=e[0])))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Js(t){let e=t.facet(Xs);return 9==e.charCodeAt(0)?t.tabSize*e.length:e.length}function $s(t,e){let n="",i=t.tabSize,r=t.facet(Xs)[0];if("\t"==r){for(;e>=i;)n+="\t",e-=i;r=" "}for(let t=0;t<e;t++)n+=r;return n}function ta(t,e){t instanceof Jt&&(t=new ea(t));for(let n of t.state.facet(Ks)){let i=n(t,e);if(void 0!==i)return i}let n=zs(t.state);return n.length>=e?function(t,e,n){let i=e.resolveStack(n),r=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(r!=i.node){let t=[];for(let e=r;e&&(e.from!=i.node.from||e.type!=i.node.type);e=e.parent)t.push(e);for(let e=t.length-1;e>=0;e--)i={node:t[e],next:i}}return ia(i,t,n)}(t,n,e):null}class ea{constructor(t,e={}){this.state=t,this.options=e,this.unit=Js(t)}lineAt(t,e=1){let n=this.state.doc.lineAt(t),{simulateBreak:i,simulateDoubleBreak:r}=this.options;return null!=i&&i>=n.from&&i<=n.to?r&&i==t?{text:"",from:t}:(e<0?i<t:i<=t)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:n,from:i}=this.lineAt(t,e);return n.slice(t-i,Math.min(n.length,t+100-i))}column(t,e=1){let{text:n,from:i}=this.lineAt(t,e),r=this.countColumn(n,t-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(r+=o-this.countColumn(n,n.search(/\S|$/))),r}countColumn(t,e=t.length){return de(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:n,from:i}=this.lineAt(t,e),r=this.options.overrideIndentation;if(r){let t=r(i);if(t>-1)return t}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const na=new r;function ia(t,e,n){for(let i=t;i;i=i.next){let t=ra(i.node);if(t)return t(sa.create(e,n,i))}return 0}function ra(t){let e=t.type.prop(na);if(e)return e;let n,i=t.firstChild;if(i&&(n=i.type.prop(r.closedBy))){let e=t.lastChild,i=e&&n.indexOf(e.name)>-1;return t=>function(t,e,n,i,r){let o=t.textAfter,s=o.match(/^\s*/)[0].length,a=i&&o.slice(s,s+i.length)==i||r==t.pos+s,g=e?function(t){let e=t.node,n=e.childAfter(e.from),i=e.lastChild;if(!n)return null;let r=t.options.simulateBreak,o=t.state.doc.lineAt(n.from),s=null==r||r<=o.from?o.to:Math.min(o.to,r);for(let t=n.to;;){let r=e.childAfter(t);if(!r||r==i)return null;if(!r.type.isSkipped){if(r.from>=s)return null;let t=/^ */.exec(o.text.slice(n.to-o.from))[0].length;return{from:n.from,to:n.to+t}}t=r.to}}(t):null;return g?a?t.column(g.from):t.column(g.to):t.baseIndent+(a?0:t.unit*n)}(t,!0,1,void 0,i&&!function(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}(t)?e.from:void 0)}return null==t.parent?oa:null}function oa(){return 0}class sa extends ea{constructor(t,e,n){super(t.state,t.options),this.base=t,this.pos=e,this.context=n}get node(){return this.context.node}static create(t,e,n){return new sa(t,e,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let e=this.state.doc.lineAt(t.from);for(;;){let n=t.resolve(e.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(aa(n,t))break;e=this.state.doc.lineAt(n.from)}return this.lineIndent(e.from)}continue(){return ia(this.context.next,this.base,this.pos)}}function aa(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}class ga{constructor(t,e){let n;function i(t){let e=ve.newName();return(n||(n=Object.create(null)))["."+e]=t,e}this.specs=t;const r="string"==typeof e.all?e.all:e.all?i(e.all):void 0,o=e.scope;this.scope=o instanceof Bs?t=>t.prop(Ls)==o.data:o?t=>t==o:void 0,this.style=us(t.map((t=>({tag:t.tag,class:t.class||i(Object.assign({},t,{tag:null}))}))),{all:r}).style,this.module=n?new ve(n):null,this.themeType=e.themeType}static define(t,e){return new ga(t,e||{})}}const la=dt.define(),Aa=dt.define({combine:t=>t.length?[t[0]]:null});function ca(t){let e=t.facet(la);return e.length?e:t.facet(Aa)}function ha(t,e){let n,i=[Ia];return t instanceof ga&&(t.module&&i.push(ko.styleModule.of(t.module)),n=t.themeType),(null==e?void 0:e.fallback)?i.push(Aa.of(t)):n?i.push(la.computeN([ko.darkTheme],(e=>e.facet(ko.darkTheme)==("dark"==n)?[t]:[]))):i.push(la.of(t)),i}class Ca{constructor(t){this.markCache=Object.create(null),this.tree=zs(t.state),this.decorations=this.buildDeco(t,ca(t.state)),this.decoratedTo=t.viewport.to}update(t){let e=zs(t.state),n=ca(t.state),i=n!=ca(t.startState),{viewport:r}=t.view,o=t.changes.mapPos(this.decoratedTo,1);e.length<r.to&&!i&&e.type==this.tree.type&&o>=r.to?(this.decorations=this.decorations.map(t.changes),this.decoratedTo=o):(e!=this.tree||t.viewportChanged||i)&&(this.tree=e,this.decorations=this.buildDeco(t.view,n),this.decoratedTo=r.to)}buildDeco(t,e){if(!e||!this.tree.length)return _n.none;let n=new re;for(let{from:i,to:r}of t.visibleRanges)fs(this.tree,e,((t,e,i)=>{n.add(t,e,this.markCache[i]||(this.markCache[i]=_n.mark({class:i})))}),i,r);return n.finish()}}const Ia=xt.high(Si.fromClass(Ca,{decorations:t=>t.decorations})),da=(Ps.meta,Ps.link,Ps.heading,Ps.emphasis,Ps.strong,Ps.strikethrough,Ps.keyword,Ps.atom,Ps.bool,Ps.url,Ps.contentSeparator,Ps.labelName,Ps.literal,Ps.inserted,Ps.string,Ps.deleted,Ps.regexp,Ps.escape,Ps.string,Ps.variableName,Ps.variableName,Ps.typeName,Ps.namespace,Ps.className,Ps.variableName,Ps.macroName,Ps.propertyName,Ps.comment,Ps.invalid,"()[]{}"),ua=new r;function fa(t,e,n){let i=t.prop(e<0?r.openedBy:r.closedBy);if(i)return i;if(1==t.name.length){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function pa(t){let e=t.type.prop(ua);return e?e(t.node):t}function va(t,e,n,i={}){let r=i.maxScanDistance||1e4,o=i.brackets||da,s=zs(t),a=s.resolveInner(e,n);for(let t=a;t;t=t.parent){let i=fa(t.type,n,o);if(i&&t.from<t.to){let r=pa(t);if(r&&(n>0?e>=r.from&&e<r.to:e>r.from&&e<=r.to))return ma(0,0,n,t,r,i,o)}}return function(t,e,n,i,r,o,s){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),g=s.indexOf(a);if(g<0||g%2==0!=n>0)return null;let l={from:n<0?e-1:e,to:n>0?e+1:e},A=t.doc.iterRange(e,n>0?t.doc.length:0),c=0;for(let t=0;!A.next().done&&t<=o;){let o=A.value;n<0&&(t+=o.length);let a=e+t*n;for(let t=n>0?0:o.length-1,e=n>0?o.length:-1;t!=e;t+=n){let e=s.indexOf(o[t]);if(!(e<0||i.resolveInner(a+t,1).type!=r))if(e%2==0==n>0)c++;else{if(1==c)return{start:l,end:{from:a+t,to:a+t+1},matched:e>>1==g>>1};c--}}n>0&&(t+=o.length)}return A.done?{start:l,matched:!1}:null}(t,e,n,s,a.type,r,o)}function ma(t,e,n,i,r,o,s){let a=i.parent,g={from:r.from,to:r.to},l=0,A=null==a?void 0:a.cursor();if(A&&(n<0?A.childBefore(i.from):A.childAfter(i.to)))do{if(n<0?A.to<=i.from:A.from>=i.to){if(0==l&&o.indexOf(A.type.name)>-1&&A.from<A.to){let t=pa(A);return{start:g,end:t?{from:t.from,to:t.to}:void 0,matched:!0}}if(fa(A.type,n,s))l++;else if(fa(A.type,-n,s)){if(0==l){let t=pa(A);return{start:g,end:t&&t.from<t.to?{from:t.from,to:t.to}:void 0,matched:!1}}l--}}}while(n<0?A.prevSibling():A.nextSibling());return{start:g,matched:!1}}function ya(t,e,n,i=0,r=0){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);let o=r;for(let r=i;r<e;r++)9==t.charCodeAt(r)?o+=n-o%n:o++;return o}class ba{constructor(t,e,n,i){this.string=t,this.tabSize=e,this.indentUnit=n,this.overrideIndent=i,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return 0==this.pos}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(t){let e,n=this.string.charAt(this.pos);if(e="string"==typeof t?n==t:n&&(t instanceof RegExp?t.test(n):t(n)),e)return++this.pos,n}eatWhile(t){let e=this.pos;for(;this.eat(t););return this.pos>e}eatSpace(){let t=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t}skipToEnd(){this.pos=this.string.length}skipTo(t){let e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0}backUp(t){this.pos-=t}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ya(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var t;return null!==(t=this.overrideIndent)&&void 0!==t?t:ya(this.string,null,this.tabSize)}match(t,e,n){if("string"==typeof t){let i=t=>n?t.toLowerCase():t;return i(this.string.substr(this.pos,t.length))==i(t)?(!1!==e&&(this.pos+=t.length),!0):null}{let n=this.string.slice(this.pos).match(t);return n&&n.index>0?null:(n&&!1!==e&&(this.pos+=n[0].length),n)}}current(){return this.string.slice(this.start,this.pos)}}function wa(t){if("object"!=typeof t)return t;let e={};for(let n in t){let i=t[n];e[n]=i instanceof Array?i.slice():i}return e}const xa=new WeakMap;class Ea extends Bs{constructor(t){let e,n=(o=t.languageData,dt.define({combine:o?t=>t.concat(o):void 0})),i={name:(s=t).name||"",token:s.token,blankLine:s.blankLine||(()=>{}),startState:s.startState||(()=>!0),copyState:s.copyState||wa,indent:s.indent||(()=>null),languageData:s.languageData||{},tokenTable:s.tokenTable||Ra,mergeTokens:!1!==s.mergeTokens};var o,s;super(n,new class extends _{createParse(t,n,i){return new Ta(e,t,n,i)}},[],t.name),this.topNode=function(t,e){let n=a.define({id:_a.length,name:"Document",props:[Ls.add((()=>t)),na.add((()=>t=>e.getIndent(t)))],top:!0});return _a.push(n),n}(n,this),e=this,this.streamParser=i,this.stateAfter=new r({perNode:!0}),this.tokenTable=t.tokenTable?new La(i.tokenTable):ja}static define(t){return new Ea(t)}getIndent(t){let e,{overrideIndentation:n}=t.options;n&&(e=xa.get(t.state),null!=e&&e<t.pos-1e4&&(e=void 0));let i,r,o=ka(this,t.node.tree,t.node.from,t.node.from,null!=e?e:t.pos);if(o?(r=o.state,i=o.pos+1):(r=this.streamParser.startState(t.unit),i=t.node.from),t.pos-i>1e4)return null;for(;i<t.pos;){let e=t.state.doc.lineAt(i),o=Math.min(t.pos,e.to);if(e.length){let i=n?n(e.from):-1,s=new ba(e.text,t.state.tabSize,t.unit,i<0?void 0:i);for(;s.pos<o-e.from;)Oa(this.streamParser.token,s,r)}else this.streamParser.blankLine(r,t.unit);if(o==t.pos)break;i=e.to+1}let s=t.lineAt(t.pos);return n&&null==e&&xa.set(t.state,s.from),this.streamParser.indent(r,/^\s*(.*)/.exec(s.text)[1],t)}get allowsNesting(){return!1}}function ka(t,e,n,i,r){let o=n>=i&&n+e.length<=r&&e.prop(t.stateAfter);if(o)return{state:t.streamParser.copyState(o),pos:n+e.length};for(let o=e.children.length-1;o>=0;o--){let s=e.children[o],a=n+e.positions[o],g=s instanceof h&&a<r&&ka(t,s,a,i,r);if(g)return g}return null}function Sa(t,e,n,i,r){if(r&&n<=0&&i>=e.length)return e;r||0!=n||e.type!=t.topNode||(r=!0);for(let o=e.children.length-1;o>=0;o--){let s,a=e.positions[o],g=e.children[o];if(a<i&&g instanceof h){if(!(s=Sa(t,g,n-a,i-a,r)))break;return r?new h(e.type,e.children.slice(0,o).concat(s),e.positions.slice(0,o+1),a+s.length):s}}return null}class Ta{constructor(t,e,n,i){this.lang=t,this.input=e,this.fragments=n,this.ranges=i,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=i[i.length-1].to;let r=Us.get(),o=i[0].from,{state:s,tree:a}=function(t,e,n,i,r){for(let r of e){let e,o=r.from+(r.openStart?25:0),s=r.to-(r.openEnd?25:0),a=o<=n&&s>n&&ka(t,r.tree,0-r.offset,n,s);if(a&&a.pos<=i&&(e=Sa(t,r.tree,n+r.offset,a.pos+r.offset,!1)))return{state:a.state,tree:e}}return{state:t.streamParser.startState(r?Js(r):4),tree:h.empty}}(t,n,o,this.to,null==r?void 0:r.state);this.state=s,this.parsedPos=this.chunkStart=o+a.length;for(let t=0;t<a.children.length;t++)this.chunks.push(a.children[t]),this.chunkPos.push(a.positions[t]);r&&this.parsedPos<r.viewport.from-1e5&&i.some((t=>t.from<=r.viewport.from&&t.to>=r.viewport.from))&&(this.state=this.lang.streamParser.startState(Js(r.state)),r.skipUntilInView(this.parsedPos,r.viewport.from),this.parsedPos=r.viewport.from),this.moveRangeIndex()}advance(){let t=Us.get(),e=null==this.stoppedAt?this.to:Math.min(this.to,this.stoppedAt),n=Math.min(e,this.chunkStart+2048);for(t&&(n=Math.min(n,t.viewport.to));this.parsedPos<n;)this.parseLine(t);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=e?this.finish():t&&this.parsedPos>=t.viewport.to?(t.skipUntilInView(this.parsedPos,e),this.finish()):null}stopAt(t){this.stoppedAt=t}lineAfter(t){let e=this.input.chunk(t);if(this.input.lineChunks)"\n"==e&&(e="");else{let t=e.indexOf("\n");t>-1&&(e=e.slice(0,t))}return t+e.length<=this.to?e:e.slice(0,this.to-t)}nextLine(){let t=this.parsedPos,e=this.lineAfter(t),n=t+e.length;for(let t=this.rangeIndex;;){let i=this.ranges[t].to;if(i>=n)break;if(e=e.slice(0,i-(n-e.length)),t++,t==this.ranges.length)break;let r=this.ranges[t].from,o=this.lineAfter(r);e+=o,n=r+o.length}return{line:e,end:n}}skipGapsTo(t,e,n){for(;;){let i=this.ranges[this.rangeIndex].to,r=t+e;if(n>0?i>r:i>=r)break;e+=this.ranges[++this.rangeIndex].from-i}return e}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(t,e,n,i){let r=4;if(this.ranges.length>1){e+=i=this.skipGapsTo(e,i,1);let t=this.chunk.length;n+=i=this.skipGapsTo(n,i,-1),r+=this.chunk.length-t}let o=this.chunk.length-4;return this.lang.streamParser.mergeTokens&&4==r&&o>=0&&this.chunk[o]==t&&this.chunk[o+2]==e?this.chunk[o+2]=n:this.chunk.push(t,e,n,r),i}parseLine(t){let{line:e,end:n}=this.nextLine(),i=0,{streamParser:r}=this.lang,o=new ba(e,t?t.state.tabSize:4,t?Js(t.state):2);if(o.eol())r.blankLine(this.state,o.indentUnit);else for(;!o.eol();){let t=Oa(r.token,o,this.state);if(t&&(i=this.emitToken(this.lang.tokenTable.resolve(t),this.parsedPos+o.start,this.parsedPos+o.pos,i)),o.start>1e4)break}this.parsedPos=n,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let t=h.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:Na,topID:0,maxBufferLength:2048,reused:this.chunkReused});t=new h(t.type,t.children,t.positions,t.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(t),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new h(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function Oa(t,e,n){e.start=e.pos;for(let i=0;i<10;i++){let i=t(e,n);if(e.pos>e.start)return i}throw new Error("Stream parser failed to advance stream.")}const Ra=Object.create(null),_a=[a.none],Na=new g(_a),Da=[],Pa=Object.create(null),Ma=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Ma[t]=Fa(Ra,e);class La{constructor(t){this.extra=t,this.table=Object.assign(Object.create(null),Ma)}resolve(t){return t?this.table[t]||(this.table[t]=Fa(this.extra,t)):0}}const ja=new La(Ra);function Ba(t,e){Da.indexOf(t)>-1||(Da.push(t),console.warn(e))}function Fa(t,e){let n=[];for(let i of e.split(" ")){let e=[];for(let n of i.split(".")){let i=t[n]||Ps[n];i?"function"==typeof i?e.length?e=e.map(i):Ba(n,`Modifier ${n} used at start of tag`):e.length?Ba(n,`Tag ${n} used as modifier`):e=Array.isArray(i)?i:[i]:Ba(n,`Unknown highlighting tag ${n}`)}for(let t of e)n.push(t)}if(!n.length)return 0;let i=e.replace(/ /g,"_"),r=i+" "+n.map((t=>t.id)),o=Pa[r];if(o)return o.id;let s=Pa[r]=a.define({id:_a.length,name:i,props:[Cs({[i]:n})]});return _a.push(s),s.id}Un.RTL,Un.LTR;const za=ha(ga.define([{tag:Ps.keyword,color:"#7e57c2",fontWeight:"bold"},{tag:Ps.definition,color:"#0277bd",fontWeight:"bold"},{tag:Ps.string,color:"#d81b60"},{tag:Ps.comment,color:"#546e7a",fontStyle:"italic"},{tag:Ps.number,color:"#00796b"},{tag:Ps.bool,color:"#2e7d32"},{tag:Ps.operator,color:"#ff6f00",fontWeight:"bold"},{tag:Ps.propertyName,color:"#6200ea",fontWeight:"bold"},{tag:Ps.atom,color:"#f57c00",fontWeight:"bold"},{tag:Ps.typeName,color:"#039be5"},{tag:Ps.invalid,color:"#c62828",textDecoration:"wavy underline"},{tag:Ps.bracket,color:"#616161"},{tag:Ps.labelName,color:"#9900cc"},{tag:Ps.meta,color:"#9900cc"},{tag:Ps.moduleKeyword,color:"#006400",fontWeight:"bold"},{tag:[Ps.special(Ps.variableName)],color:"#4CAF50",fontWeight:"bold"},{tag:Ps.variableName,color:"#039be5"},{tag:Ps.special(Ps.string),color:"#FFA500",fontWeight:"bold"}]));function Va(t,e){return({state:n,dispatch:i})=>{if(n.readOnly)return!1;let r=t(e,n);return!!r&&(i(n.update(r)),!0)}}const Ga=Va(Ya,0),Ua=Va(qa,0),Wa=Va(((t,e)=>qa(t,e,function(t){let e=[];for(let n of t.selection.ranges){let i=t.doc.lineAt(n.from),r=n.to<=i.to?i:t.doc.lineAt(n.to);r.from>i.from&&r.from==n.to&&(r=n.to==i.to+1?i:t.doc.lineAt(n.to-1));let o=e.length-1;o>=0&&e[o].to>i.from?e[o].to=r.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:r.to})}return e}(e))),0);function Za(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const Ha=50;function qa(t,e,n=e.selection.ranges){let i=n.map((t=>Za(e,t.from).block));if(!i.every((t=>t)))return null;let r=n.map(((t,n)=>function(t,{open:e,close:n},i,r){let o,s,a=t.sliceDoc(i-Ha,i),g=t.sliceDoc(r,r+Ha),l=/\s*$/.exec(a)[0].length,A=/^\s*/.exec(g)[0].length,c=a.length-l;if(a.slice(c-e.length,c)==e&&g.slice(A,A+n.length)==n)return{open:{pos:i-l,margin:l&&1},close:{pos:r+A,margin:A&&1}};r-i<=2*Ha?o=s=t.sliceDoc(i,r):(o=t.sliceDoc(i,i+Ha),s=t.sliceDoc(r-Ha,r));let h=/^\s*/.exec(o)[0].length,C=/\s*$/.exec(s)[0].length,I=s.length-C-n.length;return o.slice(h,h+e.length)==e&&s.slice(I,I+n.length)==n?{open:{pos:i+h+e.length,margin:/\s/.test(o.charAt(h+e.length))?1:0},close:{pos:r-C-n.length,margin:/\s/.test(s.charAt(I-1))?1:0}}:null}(e,i[n],t.from,t.to)));if(2!=t&&!r.every((t=>t)))return{changes:e.changes(n.map(((t,e)=>r[e]?[]:[{from:t.from,insert:i[e].open+" "},{from:t.to,insert:" "+i[e].close}])))};if(1!=t&&r.some((t=>t))){let t=[];for(let e,n=0;n<r.length;n++)if(e=r[n]){let r=i[n],{open:o,close:s}=e;t.push({from:o.pos-r.open.length,to:o.pos+o.margin},{from:s.pos-s.margin,to:s.pos+r.close.length})}return{changes:t}}return null}function Ya(t,e,n=e.selection.ranges){let i=[],r=-1;for(let{from:t,to:o}of n){let n=i.length,s=1e9,a=Za(e,t).line;if(a){for(let n=t;n<=o;){let g=e.doc.lineAt(n);if(g.from>r&&(t==o||o>g.from)){r=g.from;let t=/^\s*/.exec(g.text)[0].length,e=t==g.length,n=g.text.slice(t,t+a.length)==a?t:-1;t<g.text.length&&t<s&&(s=t),i.push({line:g,comment:n,token:a,indent:t,empty:e,single:!1})}n=g.to+1}if(s<1e9)for(let t=n;t<i.length;t++)i[t].indent<i[t].line.text.length&&(i[t].indent=s);i.length==n+1&&(i[n].single=!0)}}if(2!=t&&i.some((t=>t.comment<0&&(!t.empty||t.single)))){let t=[];for(let{line:e,token:n,indent:r,empty:o,single:s}of i)!s&&o||t.push({from:e.from+r,insert:n+" "});let n=e.changes(t);return{changes:n,selection:e.selection.map(n,1)}}if(1!=t&&i.some((t=>t.comment>=0))){let t=[];for(let{line:e,comment:n,token:r}of i)if(n>=0){let i=e.from+n,o=i+r.length;" "==e.text[o-e.from]&&o++,t.push({from:i,to:o})}return{changes:t}}return null}const Qa=Bt.define(),Ka=dt.define();class Xa{constructor(t,e,n,i,r){this.changes=t,this.effects=e,this.mapped=n,this.startSelection=i,this.selectionsAfter=r}setSelAfter(t){return new Xa(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,n;return{changes:null===(t=this.changes)||void 0===t?void 0:t.toJSON(),mapped:null===(e=this.mapped)||void 0===e?void 0:e.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((t=>t.toJSON()))}}static fromJSON(t){return new Xa(t.changes&&rt.fromJSON(t.changes),[],t.mapped&&it.fromJSON(t.mapped),t.startSelection&&ht.fromJSON(t.startSelection),t.selectionsAfter.map(ht.fromJSON))}static fromTransaction(t,e){let n=tg;for(let e of t.startState.facet(Ka)){let i=e(t);i.length&&(n=n.concat(i))}return!n.length&&t.changes.empty?null:new Xa(t.changes.invert(t.startState.doc),n,void 0,e||t.startState.selection,tg)}static selection(t){return new Xa(void 0,tg,void 0,void 0,t)}}function Ja(t,e,n,i){let r=e+1>n+20?e-n-1:0,o=t.slice(r,e);return o.push(i),o}function $a(t,e){return t.length?e.length?t.concat(e):t:e}const tg=[];function eg(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function ng(t,e){if(!t.length)return t;let n=t.length,i=tg;for(;n;){let r=ig(t[n-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let e=t.slice(0,n);return e[n-1]=r,e}e=r.mapped,n--,i=r.selectionsAfter}return i.length?[Xa.selection(i)]:tg}function ig(t,e,n){let i=$a(t.selectionsAfter.length?t.selectionsAfter.map((t=>t.map(e))):tg,n);if(!t.changes)return Xa.selection(i);let r=t.changes.map(e),o=e.mapDesc(t.changes,!0),s=t.mapped?t.mapped.composeDesc(o):o;return new Xa(r,Vt.mapEffects(t.effects,e),s,t.startSelection.map(o),i)}const rg=/^(input\.type|delete)($|\.)/;class og{constructor(t,e,n=0,i=void 0){this.done=t,this.undone=e,this.prevTime=n,this.prevUserEvent=i}isolate(){return this.prevTime?new og(this.done,this.undone):this}addChanges(t,e,n,i,r){let o=this.done,s=o[o.length-1];return o=s&&s.changes&&!s.changes.empty&&t.changes&&(!n||rg.test(n))&&(!s.selectionsAfter.length&&e-this.prevTime<i.newGroupDelay&&i.joinToEvent(r,function(t,e){let n=[],i=!1;return t.iterChangedRanges(((t,e)=>n.push(t,e))),e.iterChangedRanges(((t,e,r,o)=>{for(let t=0;t<n.length;){let e=n[t++],s=n[t++];o>=e&&r<=s&&(i=!0)}})),i}(s.changes,t.changes))||"input.type.compose"==n)?Ja(o,o.length-1,i.minDepth,new Xa(t.changes.compose(s.changes),$a(Vt.mapEffects(t.effects,s.changes),s.effects),s.mapped,s.startSelection,tg)):Ja(o,o.length,i.minDepth,t),new og(o,tg,e,n)}addSelection(t,e,n,i){let r=this.done.length?this.done[this.done.length-1].selectionsAfter:tg;return r.length>0&&e-this.prevTime<i&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&(o=r[r.length-1],s=t,o.ranges.length==s.ranges.length&&0===o.ranges.filter(((t,e)=>t.empty!=s.ranges[e].empty)).length)?this:new og(function(t,e){if(t.length){let n=t[t.length-1],i=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-200));return i.length&&i[i.length-1].eq(e)?t:(i.push(e),Ja(t,t.length-1,1e9,n.setSelAfter(i)))}return[Xa.selection([e])]}(this.done,t),this.undone,e,n);var o,s}addMapping(t){return new og(ng(this.done,t),ng(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,n){let i=0==t?this.done:this.undone;if(0==i.length)return null;let r=i[i.length-1],o=r.selectionsAfter[0]||e.selection;if(n&&r.selectionsAfter.length)return e.update({selection:r.selectionsAfter[r.selectionsAfter.length-1],annotations:Qa.of({side:t,rest:eg(i),selection:o}),userEvent:0==t?"select.undo":"select.redo",scrollIntoView:!0});if(r.changes){let n=1==i.length?tg:i.slice(0,i.length-1);return r.mapped&&(n=ng(n,r.mapped)),e.update({changes:r.changes,selection:r.startSelection,effects:r.effects,annotations:Qa.of({side:t,rest:n,selection:o}),filter:!1,userEvent:0==t?"undo":"redo",scrollIntoView:!0})}return null}}function sg(t,e){return ht.create(t.ranges.map(e),t.mainIndex)}function ag(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function gg({state:t,dispatch:e},n){let i=sg(t.selection,n);return!i.eq(t.selection,!0)&&(e(ag(t,i)),!0)}function lg(t,e){return ht.cursor(e?t.to:t.from)}function Ag(t,e){return gg(t,(n=>n.empty?t.moveByChar(n,e):lg(n,e)))}function cg(t){return t.textDirectionAt(t.state.selection.main.head)==Un.LTR}og.empty=new og(tg,tg);const hg=t=>Ag(t,!cg(t)),Cg=t=>Ag(t,cg(t));function Ig(t,e){return gg(t,(n=>n.empty?t.moveByGroup(n,e):lg(n,e)))}function dg(t,e,n){if(e.type.prop(n))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function ug(t,e,n){let i,o,s=zs(t).resolveInner(e.head),a=n?r.closedBy:r.openedBy;for(let i=e.head;;){let e=n?s.childAfter(i):s.childBefore(i);if(!e)break;dg(t,e,a)?s=e:i=n?e.to:e.from}return o=s.type.prop(a)&&(i=n?va(t,s.from,1):va(t,s.to,-1))&&i.matched?n?i.end.to:i.end.from:n?s.to:s.from,ht.cursor(o,n?-1:1)}function fg(t,e){return gg(t,(n=>{if(!n.empty)return lg(n,e);let i=t.moveVertically(n,e);return i.head!=n.head?i:t.moveToLineBoundary(n,e)}))}"undefined"!=typeof Intl&&Intl.Segmenter;const pg=t=>fg(t,!1),vg=t=>fg(t,!0);function mg(t){let e,n=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,i=0,r=0;if(n){for(let e of t.state.facet(ko.scrollMargins)){let n=e(t);(null==n?void 0:n.top)&&(i=Math.max(null==n?void 0:n.top,i)),(null==n?void 0:n.bottom)&&(r=Math.max(null==n?void 0:n.bottom,r))}e=t.scrollDOM.clientHeight-i-r}else e=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:i,marginBottom:r,selfScroll:n,height:Math.max(t.defaultLineHeight,e-5)}}function yg(t,e){let n,i=mg(t),{state:r}=t,o=sg(r.selection,(n=>n.empty?t.moveVertically(n,e,i.height):lg(n,e)));if(o.eq(r.selection))return!1;if(i.selfScroll){let e=t.coordsAtPos(r.selection.main.head),s=t.scrollDOM.getBoundingClientRect(),a=s.top+i.marginTop,g=s.bottom-i.marginBottom;e&&e.top>a&&e.bottom<g&&(n=ko.scrollIntoView(o.main.head,{y:"start",yMargin:e.top-a}))}return t.dispatch(ag(r,o),{effects:n}),!0}const bg=t=>yg(t,!1),wg=t=>yg(t,!0);function xg(t,e,n){let i=t.lineBlockAt(e.head),r=t.moveToLineBoundary(e,n);if(r.head==e.head&&r.head!=(n?i.to:i.from)&&(r=t.moveToLineBoundary(e,n,!1)),!n&&r.head==i.from&&i.length){let n=/^\s*/.exec(t.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;n&&e.head!=i.from+n&&(r=ht.cursor(i.from+n))}return r}function Eg(t,e){let n=sg(t.state.selection,(t=>{let n=e(t);return ht.range(t.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)}));return!n.eq(t.state.selection)&&(t.dispatch(ag(t.state,n)),!0)}function kg(t,e){return Eg(t,(n=>t.moveByChar(n,e)))}const Sg=t=>kg(t,!cg(t)),Tg=t=>kg(t,cg(t));function Og(t,e){return Eg(t,(n=>t.moveByGroup(n,e)))}function Rg(t,e){return Eg(t,(n=>t.moveVertically(n,e)))}const _g=t=>Rg(t,!1),Ng=t=>Rg(t,!0);function Dg(t,e){return Eg(t,(n=>t.moveVertically(n,e,mg(t).height)))}const Pg=t=>Dg(t,!1),Mg=t=>Dg(t,!0),Lg=({state:t,dispatch:e})=>(e(ag(t,{anchor:0})),!0),jg=({state:t,dispatch:e})=>(e(ag(t,{anchor:t.doc.length})),!0),Bg=({state:t,dispatch:e})=>(e(ag(t,{anchor:t.selection.main.anchor,head:0})),!0),Fg=({state:t,dispatch:e})=>(e(ag(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0);function zg(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:i}=t,r=i.changeByRange((i=>{let{from:r,to:o}=i;if(r==o){let s=e(i);s<r?(n="delete.backward",s=Vg(t,s,!1)):s>r&&(n="delete.forward",s=Vg(t,s,!0)),r=Math.min(r,s),o=Math.max(o,s)}else r=Vg(t,r,!1),o=Vg(t,o,!0);return r==o?{range:i}:{changes:{from:r,to:o},range:ht.cursor(r,r<i.head?-1:1)}}));return!r.changes.empty&&(t.dispatch(i.update(r,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?ko.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function Vg(t,e,n){if(t instanceof ko)for(let i of t.state.facet(ko.atomicRanges).map((e=>e(t))))i.between(e,e,((t,i)=>{t<e&&i>e&&(e=n?i:t)}));return e}const Gg=(t,e,n)=>zg(t,(i=>{let r,o,s=i.from,{state:a}=t,g=a.doc.lineAt(s);if(n&&!e&&s>g.from&&s<g.from+200&&!/[^ \t]/.test(r=g.text.slice(0,s-g.from))){if("\t"==r[r.length-1])return s-1;let t=de(r,a.tabSize)%Js(a)||Js(a);for(let e=0;e<t&&" "==r[r.length-1-e];e++)s--;o=s}else o=tt(g.text,s-g.from,e,e)+g.from,o==s&&g.number!=(e?a.doc.lines:1)?o+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(g.text.slice(o-g.from,s-g.from))&&(o=tt(g.text,o-g.from,!1,!1)+g.from);return o})),Ug=t=>Gg(t,!1,!0),Wg=t=>Gg(t,!0,!1),Zg=(t,e)=>zg(t,(n=>{let i=n.head,{state:r}=t,o=r.doc.lineAt(i),s=r.charCategorizer(i);for(let t=null;;){if(i==(e?o.to:o.from)){i==n.head&&o.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let a=tt(o.text,i-o.from,e)+o.from,g=o.text.slice(Math.min(i,a)-o.from,Math.max(i,a)-o.from),l=s(g);if(null!=t&&l!=t)break;" "==g&&i==n.head||(t=l),i=a}return i})),Hg=t=>Zg(t,!1);function qg(t){let e=[],n=-1;for(let i of t.selection.ranges){let r=t.doc.lineAt(i.from),o=t.doc.lineAt(i.to);if(i.empty||i.to!=o.from||(o=t.doc.lineAt(i.to-1)),n>=r.number){let t=e[e.length-1];t.to=o.to,t.ranges.push(i)}else e.push({from:r.from,to:o.to,ranges:[i]});n=o.number+1}return e}function Yg(t,e,n){if(t.readOnly)return!1;let i=[],r=[];for(let e of qg(t)){if(n?e.to==t.doc.length:0==e.from)continue;let o=t.doc.lineAt(n?e.to+1:e.from-1),s=o.length+1;if(n){i.push({from:e.to,to:o.to},{from:e.from,insert:o.text+t.lineBreak});for(let n of e.ranges)r.push(ht.range(Math.min(t.doc.length,n.anchor+s),Math.min(t.doc.length,n.head+s)))}else{i.push({from:o.from,to:e.from},{from:e.to,insert:t.lineBreak+o.text});for(let t of e.ranges)r.push(ht.range(t.anchor-s,t.head-s))}}return!!i.length&&(e(t.update({changes:i,scrollIntoView:!0,selection:ht.create(r,t.selection.mainIndex),userEvent:"move.line"})),!0)}function Qg(t,e,n){if(t.readOnly)return!1;let i=[];for(let e of qg(t))n?i.push({from:e.from,insert:t.doc.slice(e.from,e.to)+t.lineBreak}):i.push({from:e.to,insert:t.lineBreak+t.doc.slice(e.from,e.to)});return e(t.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Kg=Xg(!1);function Xg(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let i=e.changeByRange((n=>{let{from:i,to:o}=n,s=e.doc.lineAt(i),a=!t&&i==o&&function(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n,i=zs(t).resolveInner(e),o=i.childBefore(e),s=i.childAfter(e);return o&&s&&o.to<=e&&s.from>=e&&(n=o.type.prop(r.closedBy))&&n.indexOf(s.name)>-1&&t.doc.lineAt(o.to).from==t.doc.lineAt(s.from).from&&!/\S/.test(t.sliceDoc(o.to,s.from))?{from:o.to,to:s.from}:null}(e,i);t&&(i=o=(o<=s.to?s:e.doc.lineAt(o)).to);let g=new ea(e,{simulateBreak:i,simulateDoubleBreak:!!a}),l=ta(g,i);for(null==l&&(l=de(/^\s*/.exec(e.doc.lineAt(i).text)[0],e.tabSize));o<s.to&&/\s/.test(s.text[o-s.from]);)o++;a?({from:i,to:o}=a):i>s.from&&i<s.from+100&&!/\S/.test(s.text.slice(0,i))&&(i=s.from);let A=["",$s(e,l)];return a&&A.push($s(e,g.lineIndent(s.from,-1))),{changes:{from:i,to:o,insert:W.of(A)},range:ht.cursor(i+1+A[1].length)}}));return n(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function Jg(t,e){let n=-1;return t.changeByRange((i=>{let r=[];for(let o=i.from;o<=i.to;){let s=t.doc.lineAt(o);s.number>n&&(i.empty||i.to>s.from)&&(e(s,r,i),n=s.number),o=s.to+1}let o=t.changes(r);return{changes:r,range:ht.range(o.mapPos(i.anchor,1),o.mapPos(i.head,1))}}))}const $g=[{key:"Ctrl-b",run:hg,shift:Sg,preventDefault:!0},{key:"Ctrl-f",run:Cg,shift:Tg},{key:"Ctrl-p",run:pg,shift:_g},{key:"Ctrl-n",run:vg,shift:Ng},{key:"Ctrl-a",run:t=>gg(t,(e=>ht.cursor(t.lineBlockAt(e.head).from,1))),shift:t=>Eg(t,(e=>ht.cursor(t.lineBlockAt(e.head).from)))},{key:"Ctrl-e",run:t=>gg(t,(e=>ht.cursor(t.lineBlockAt(e.head).to,-1))),shift:t=>Eg(t,(e=>ht.cursor(t.lineBlockAt(e.head).to)))},{key:"Ctrl-d",run:Wg},{key:"Ctrl-h",run:Ug},{key:"Ctrl-k",run:t=>zg(t,(e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}))},{key:"Ctrl-Alt-h",run:Hg},{key:"Ctrl-o",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:W.of(["",""])},range:ht.cursor(t.from)})));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange((e=>{if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};let n=e.from,i=t.doc.lineAt(n),r=n==i.from?n-1:tt(i.text,n-i.from,!1)+i.from,o=n==i.to?n+1:tt(i.text,n-i.from,!0)+i.from;return{changes:{from:r,to:o,insert:t.doc.slice(n,o).append(t.doc.slice(r,n))},range:ht.cursor(o)}}));return!n.changes.empty&&(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:wg}],tl=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:t=>gg(t,(e=>ug(t.state,e,!cg(t)))),shift:t=>Eg(t,(e=>ug(t.state,e,!cg(t))))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:t=>gg(t,(e=>ug(t.state,e,cg(t)))),shift:t=>Eg(t,(e=>ug(t.state,e,cg(t))))},{key:"Alt-ArrowUp",run:({state:t,dispatch:e})=>Yg(t,e,!1)},{key:"Shift-Alt-ArrowUp",run:({state:t,dispatch:e})=>Qg(t,e,!1)},{key:"Alt-ArrowDown",run:({state:t,dispatch:e})=>Yg(t,e,!0)},{key:"Shift-Alt-ArrowDown",run:({state:t,dispatch:e})=>Qg(t,e,!0)},{key:"Escape",run:({state:t,dispatch:e})=>{let n=t.selection,i=null;return n.ranges.length>1?i=ht.create([n.main]):n.main.empty||(i=ht.create([ht.cursor(n.main.head)])),!!i&&(e(ag(t,i)),!0)}},{key:"Mod-Enter",run:Xg(!0)},{key:"Alt-l",mac:"Ctrl-l",run:({state:t,dispatch:e})=>{let n=qg(t).map((({from:e,to:n})=>ht.range(e,Math.min(n+1,t.doc.length))));return e(t.update({selection:ht.create(n),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:t,dispatch:e})=>{let n=sg(t.selection,(e=>{let n=zs(t),i=n.resolveStack(e.from,1);if(e.empty){let t=n.resolveStack(e.from,-1);t.node.from>=i.node.from&&t.node.to<=i.node.to&&(i=t)}for(let t=i;t;t=t.next){let{node:n}=t;if((n.from<e.from&&n.to>=e.to||n.to>e.to&&n.from<=e.from)&&t.next)return ht.range(n.to,n.from)}return e}));return!n.eq(t.selection)&&(e(ag(t,n)),!0)},preventDefault:!0},{key:"Mod-[",run:({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(Jg(t,((e,n)=>{let i=/^\s*/.exec(e.text)[0];if(!i)return;let r=de(i,t.tabSize),o=0,s=$s(t,Math.max(0,r-Js(t)));for(;o<i.length&&o<s.length&&i.charCodeAt(o)==s.charCodeAt(o);)o++;n.push({from:e.from+o,to:e.from+i.length,insert:s.slice(o)})})),{userEvent:"delete.dedent"})),!0)},{key:"Mod-]",run:({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(Jg(t,((e,n)=>{n.push({from:e.from,insert:t.facet(Xs)})})),{userEvent:"input.indent"})),!0)},{key:"Mod-Alt-\\",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),i=new ea(t,{overrideIndentation:t=>{let e=n[t];return null==e?-1:e}}),r=Jg(t,((e,r,o)=>{let s=ta(i,e.from);if(null==s)return;/\S/.test(e.text)||(s=0);let a=/^\s*/.exec(e.text)[0],g=$s(t,s);(a!=g||o.from<e.from+a.length)&&(n[e.from]=s,r.push({from:e.from,to:e.from+a.length,insert:g}))}));return r.changes.empty||e(t.update(r,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(qg(e).map((({from:t,to:n})=>(t>0?t--:n<e.doc.length&&n++,{from:t,to:n})))),i=sg(e.selection,(e=>{let n;if(t.lineWrapping){let i=t.lineBlockAt(e.head),r=t.coordsAtPos(e.head,e.assoc||1);r&&(n=i.bottom+t.documentTop-r.bottom+t.defaultLineHeight/2)}return t.moveVertically(e,!0,n)})).map(n);return t.dispatch({changes:n,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:t,dispatch:e})=>function(t,e,n){let i=!1,r=sg(t.selection,(e=>{let r=va(t,e.head,-1)||va(t,e.head,1)||e.head>0&&va(t,e.head-1,1)||e.head<t.doc.length&&va(t,e.head+1,-1);if(!r||!r.end)return e;i=!0;let o=r.start.from==e.head?r.end.to:r.end.from;return n?ht.range(e.anchor,o):ht.cursor(o)}));return!!i&&(e(ag(t,r)),!0)}(t,e,!1)},{key:"Mod-/",run:t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),i=Za(t.state,n.from);return i.line?Ga(t):!!i.block&&Wa(t)}},{key:"Alt-A",run:Ua},{key:"Ctrl-m",mac:"Shift-Alt-m",run:t=>(t.setTabFocusMode(),!0)}].concat([{key:"ArrowLeft",run:hg,shift:Sg,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:t=>Ig(t,!cg(t)),shift:t=>Og(t,!cg(t)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:t=>gg(t,(e=>xg(t,e,!cg(t)))),shift:t=>Eg(t,(e=>xg(t,e,!cg(t)))),preventDefault:!0},{key:"ArrowRight",run:Cg,shift:Tg,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:t=>Ig(t,cg(t)),shift:t=>Og(t,cg(t)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:t=>gg(t,(e=>xg(t,e,cg(t)))),shift:t=>Eg(t,(e=>xg(t,e,cg(t)))),preventDefault:!0},{key:"ArrowUp",run:pg,shift:_g,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Lg,shift:Bg},{mac:"Ctrl-ArrowUp",run:bg,shift:Pg},{key:"ArrowDown",run:vg,shift:Ng,preventDefault:!0},{mac:"Cmd-ArrowDown",run:jg,shift:Fg},{mac:"Ctrl-ArrowDown",run:wg,shift:Mg},{key:"PageUp",run:bg,shift:Pg},{key:"PageDown",run:wg,shift:Mg},{key:"Home",run:t=>gg(t,(e=>xg(t,e,!1))),shift:t=>Eg(t,(e=>xg(t,e,!1))),preventDefault:!0},{key:"Mod-Home",run:Lg,shift:Bg},{key:"End",run:t=>gg(t,(e=>xg(t,e,!0))),shift:t=>Eg(t,(e=>xg(t,e,!0))),preventDefault:!0},{key:"Mod-End",run:jg,shift:Fg},{key:"Enter",run:Kg,shift:Kg},{key:"Mod-a",run:({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:Ug,shift:Ug},{key:"Delete",run:Wg},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Hg},{key:"Mod-Delete",mac:"Alt-Delete",run:t=>Zg(t,!0)},{mac:"Mod-Backspace",run:t=>zg(t,(e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}))},{mac:"Mod-Delete",run:t=>zg(t,(e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}))}].concat($g.map((t=>({mac:t.key,run:t.run,shift:t.shift}))))),el=class{constructor(t,e){this.Impl=t,this.options=e}import(t,e){const n=new this.Impl(t,{...this.options,...e});return t.on("end",(()=>{n.readable||n.emit("end")})),t.on("error",(t=>{n.emit("error",t)})),n}};class nl{constructor(t){this.value=t}equals(t){return!!t&&t.termType===this.termType&&t.value===this.value}}nl.prototype.termType="BlankNode";const il=nl;class rl{equals(t){return!!t&&t.termType===this.termType}}rl.prototype.termType="DefaultGraph",rl.prototype.value="";const ol=rl,sl=function(t,e){if(!e)return null;if("BlankNode"===e.termType)return t.blankNode(e.value);if("DefaultGraph"===e.termType)return t.defaultGraph();if("Literal"===e.termType)return t.literal(e.value,e.language||t.namedNode(e.datatype.value));if("NamedNode"===e.termType)return t.namedNode(e.value);if("Quad"===e.termType){const n=t.fromTerm(e.subject),i=t.fromTerm(e.predicate),r=t.fromTerm(e.object),o=t.fromTerm(e.graph);return t.quad(n,i,r,o)}if("Variable"===e.termType)return t.variable(e.value);throw new Error(`unknown termType ${e.termType}`)};class al{constructor(t,e,n,i=""){this.value=t,this.language=e,this.datatype=n,this.direction=i}equals(t){return!!t&&t.termType===this.termType&&t.value===this.value&&t.language===this.language&&t.datatype.equals(this.datatype)&&(t.direction||"")===this.direction}}al.prototype.termType="Literal";const gl=al;class ll{constructor(t){this.value=t}equals(t){return!!t&&t.termType===this.termType&&t.value===this.value}}ll.prototype.termType="NamedNode";const Al=ll;class cl{constructor(t,e,n,i){this.subject=t,this.predicate=e,this.object=n,this.graph=i}equals(t){return!!t&&("Quad"===t.termType||!t.termType)&&t.subject.equals(this.subject)&&t.predicate.equals(this.predicate)&&t.object.equals(this.object)&&t.graph.equals(this.graph)}}cl.prototype.termType="Quad",cl.prototype.value="";const hl=cl;class Cl{constructor(t){this.value=t}equals(t){return!!t&&t.termType===this.termType&&t.value===this.value}}Cl.prototype.termType="Variable";const Il=Cl,dl=new Al("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),ul=new Al("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),fl=new Al("http://www.w3.org/2001/XMLSchema#string");class pl{constructor(){this.init()}init(){this._data={blankNodeCounter:0,defaultGraph:new ol}}namedNode(t){return new Al(t)}blankNode(t){return t=t||"b"+ ++this._data.blankNodeCounter,new il(t)}literal(t,e){return"string"==typeof e?new gl(t,e,ul):"string"==typeof e?.language?new gl(t,e.language,e.direction?dl:ul,e.direction):new gl(t,"",e||fl)}variable(t){return new Il(t)}defaultGraph(){return this._data.defaultGraph}quad(t,e,n,i=this.defaultGraph()){return new hl(t,e,n,i)}fromTerm(t){return sl(this,t)}fromQuad(t){return sl(this,t)}}pl.exports=["blankNode","defaultGraph","fromQuad","fromTerm","literal","namedNode","quad","variable"];const vl=new pl,ml=new Set(["_write","_writableState","writable"]),yl=function(t){return new Proxy(t,{has(t,e){return!ml.has(e)&&Reflect.has(...arguments)},get(t,e){if(ml.has(e))return;const n=Reflect.get(...arguments);return n&&"function"==typeof n.bind?n.bind(t):n},set(t,e,n){if(!ml.has(e))return Reflect.set(...arguments)}})};var bl=n(9198),wl=n(8287);const xl="http://www.w3.org/1999/02/22-rdf-syntax-ns#",El="http://www.w3.org/2001/XMLSchema#",kl="http://www.w3.org/2000/10/swap/",Sl={xsd:{decimal:`${El}decimal`,boolean:`${El}boolean`,double:`${El}double`,integer:`${El}integer`,string:`${El}string`},rdf:{type:`${xl}type`,nil:`${xl}nil`,first:`${xl}first`,rest:`${xl}rest`,langString:`${xl}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${kl}reify#forSome`,forAll:`${kl}reify#forAll`},log:{implies:`${kl}log#implies`,isImpliedBy:`${kl}log#isImpliedBy`}},{xsd:Tl}=Sl,Ol=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,Rl={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},_l=/[\x00-\x20<>\\"\{\}\|\^\`]/,Nl={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},Dl=/$0^/;class Pl{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._isImpliedBy=t.isImpliedBy,this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const t in this)!(t in Nl)&&this[t]instanceof RegExp&&(this[t]=Dl)}else this._n3Mode=!1!==t.n3;this.comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,e){let n=this._input,i=n.length;for(;;){let t,s;for(;t=this._newline.exec(n);)this.comments&&(s=this._comment.exec(t[0]))&&r("comment",s[1],"",this._line,t[0].length),n=n.substr(t[0].length,n.length),i=n.length,this._line++;if(!t&&(t=this._whitespace.exec(n))&&(n=n.substr(t[0].length,n.length)),this._endOfFile.test(n))return e&&(this.comments&&(s=this._comment.exec(n))&&r("comment",s[1],"",this._line,n.length),n=null,r("eof","","",this._line,0)),this._input=n;const a=this._line,g=n[0];let l="",A="",c="",h=null,C=0,I=!1;switch(g){case"^":if(n.length<3)break;if("^"!==n[1]){this._n3Mode&&(C=1,l="^");break}if(this._previousMarker="^^",n=n.substr(2),"<"!==n[0]){I=!0;break}case"<":if(h=this._unescapedIri.exec(n))l="IRI",A=h[1];else if(h=this._iri.exec(n)){if(A=this._unescape(h[1]),null===A||_l.test(A))return o(this);l="IRI"}else n.length>1&&"<"===n[1]?(l="<<",C=2):this._n3Mode&&n.length>1&&"="===n[1]&&(C=2,this._isImpliedBy?(l="abbreviation",A="<"):(l="inverse",A=">"));break;case">":n.length>1&&">"===n[1]&&(l=">>",C=2);break;case"_":((h=this._blank.exec(n))||e&&(h=this._blank.exec(`${n} `)))&&(l="blank",c="_",A=h[1]);break;case'"':if(h=this._simpleQuotedString.exec(n))A=h[1];else if(({value:A,matchLength:C}=this._parseLiteral(n)),null===A)return o(this);null===h&&0===C||(l="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(h=this._simpleApostropheString.exec(n))A=h[1];else if(({value:A,matchLength:C}=this._parseLiteral(n)),null===A)return o(this);null===h&&0===C||(l="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(h=this._variable.exec(n))&&(l="var",A=h[0]);break;case"@":"literal"===this._previousMarker&&(h=this._langcode.exec(n))?(l="langcode",A=h[1]):(h=this._keyword.exec(n))&&(l=h[0]);break;case".":if(1===n.length?e:n[1]<"0"||n[1]>"9"){l=".",C=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(h=this._number.exec(n)||e&&(h=this._number.exec(`${n} `)))&&(l="literal",A=h[0],c="string"==typeof h[1]?Tl.double:"string"==typeof h[2]?Tl.decimal:Tl.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(h=this._sparqlKeyword.exec(n))?l=h[0].toUpperCase():I=!0;break;case"f":case"t":(h=this._boolean.exec(n))?(l="literal",A=h[0],c=Tl.boolean):I=!0;break;case"a":(h=this._shortPredicates.exec(n))?(l="abbreviation",A="a"):I=!0;break;case"=":this._n3Mode&&n.length>1&&(l="abbreviation",">"!==n[1]?(C=1,A="="):(C=2,A=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(C=1,l=g);break;case"{":!this._lineMode&&n.length>=2&&("|"===n[1]?(l="{|",C=2):(l=g,C=1));break;case"|":n.length>=2&&"}"===n[1]&&(l="|}",C=2);break;default:I=!0}if(I&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(h=this._prefix.exec(n))?((h=this._prefixed.exec(n))||e&&(h=this._prefixed.exec(`${n} `)))&&(l="prefixed",c=h[1]||"",A=this._unescape(h[2])):(l="prefix",A=h[1]||"")),"^^"===this._previousMarker)switch(l){case"prefixed":l="type";break;case"IRI":l="typeIRI";break;default:l=""}if(!l)return e||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?o(this):this._input=n;const d=C||h[0].length,u=r(l,A,c,a,d);this.previousToken=u,this._previousMarker=l,n=n.substr(d,n.length)}function r(e,r,o,s,a){const g=n?i-n.length:i,l={type:e,value:r,prefix:o,line:s,start:g,end:g+a};return t(null,l),l}function o(e){t(e._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(t){let e=!1;const n=t.replace(Ol,((t,n,i,r)=>{if("string"==typeof n)return String.fromCharCode(Number.parseInt(n,16));if("string"==typeof i){let t=Number.parseInt(i,16);return t<=65535?String.fromCharCode(Number.parseInt(i,16)):String.fromCharCode(55296+((t-=65536)>>10),56320+(1023&t))}return r in Rl?Rl[r]:(e=!0,"")}));return e?null:n}_parseLiteral(t){if(t.length>=3){const e=t.match(/^(?:"""|"|'''|'|)/)[0],n=e.length;let i=Math.max(this._literalClosingPos,n);for(;(i=t.indexOf(e,i))>0;){let e=0;for(;"\\"===t[i-e-1];)e++;if(e%2==0){const e=t.substring(n,i),r=e.split(/\r\n|\r|\n/).length-1,o=i+n;if(1===n&&0!==r||3===n&&this._lineMode)break;return this._line+=r,{value:this._unescape(e),matchLength:o}}i++}this._literalClosingPos=t.length-n+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const e=new Error(`Unexpected "${t}" on line ${this._line}.`);return e.context={token:void 0,line:this._line,previousToken:this.previousToken},e}_readStartingBom(t){return t.startsWith("\ufeff")?t.substr(1):t}tokenize(t,e){if(this._line=1,"string"==typeof t){if(this._input=this._readStartingBom(t),"function"!=typeof e){const t=[];let e;if(this._tokenizeToEnd(((n,i)=>n?e=n:t.push(i)),!0),e)throw e;return t}queueMicrotask((()=>this._tokenizeToEnd(e,!0)))}else this._pendingBuffer=null,"function"==typeof t.setEncoding&&t.setEncoding("utf8"),t.on("data",(t=>{null!==this._input&&0!==t.length&&(this._pendingBuffer&&(t=wl.Buffer.concat([this._pendingBuffer,t]),this._pendingBuffer=null),128&t[t.length-1]?this._pendingBuffer=t:(void 0===this._input?this._input=this._readStartingBom("string"==typeof t?t:t.toString()):this._input+=t,this._tokenizeToEnd(e,!1)))})),t.on("end",(()=>{"string"==typeof this._input&&this._tokenizeToEnd(e,!0)})),t.on("error",e)}}const{rdf:Ml,xsd:Ll}=Sl;let jl,Bl=0;const Fl={namedNode:Hl,blankNode:ql,variable:Ql,literal:Yl,defaultGraph:function(){return jl},quad:Kl,triple:Kl,fromTerm:Xl,fromQuad:Jl};class zl{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof zl?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class Vl extends zl{get termType(){return"NamedNode"}}class Gl extends zl{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let e=t.lastIndexOf('"')+1;return e<t.length&&"@"===t[e++]?t.substr(e).toLowerCase():""}get datatype(){return new Vl(this.datatypeString)}get datatypeString(){const t=this.id,e=t.lastIndexOf('"')+1,n=e<t.length?t[e]:"";return"^"===n?t.substr(e+2):"@"!==n?Ll.string:Ml.langString}equals(t){return t instanceof Gl?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class Ul extends zl{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class Wl extends zl{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}jl=new class extends zl{constructor(){return super(""),jl||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}};class Zl extends zl{constructor(t,e,n,i){super(""),this._subject=t,this._predicate=e,this._object=n,this._graph=i||jl}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}}function Hl(t){return new Vl(t)}function ql(t){return new Ul(t||"n3-"+Bl++)}function Yl(t,e){if("string"==typeof e)return new Gl(`"${t}"@${e.toLowerCase()}`);let n=e?e.value:"";return""===n&&("boolean"==typeof t?n=Ll.boolean:"number"==typeof t&&(Number.isFinite(t)?n=Number.isInteger(t)?Ll.integer:Ll.double:(n=Ll.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),""===n||n===Ll.string?new Gl(`"${t}"`):new Gl(`"${t}"^^${n}`)}function Ql(t){return new Wl(t)}function Kl(t,e,n,i){return new Zl(t,e,n,i)}function Xl(t){if(t instanceof zl)return t;switch(t.termType){case"NamedNode":return Hl(t.value);case"BlankNode":return ql(t.value);case"Variable":return Ql(t.value);case"DefaultGraph":return jl;case"Literal":return Yl(t.value,t.language||t.datatype);case"Quad":return Jl(t);default:throw new Error(`Unexpected termType: ${t.termType}`)}}function Jl(t){if(t instanceof Zl)return t;if("Quad"!==t.termType)throw new Error(`Unexpected termType: ${t.termType}`);return Kl(Xl(t.subject),Xl(t.predicate),Xl(t.object),Xl(t.graph))}let $l=0;class tA{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&nA(this,t.factory);const e="string"==typeof t.format?t.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(e),i=/trig/.test(e),r=/triple/.test(e),o=/quad/.test(e),s=this._n3Mode=/n3/.test(e),a=r||o;(this._supportsNamedGraphs=!(n||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||i||r||s),this._isImpliedBy=t.isImpliedBy,this._supportsRDFStar=""===e||/star|\*$/.test(e),a&&(this._resolveRelativeIRI=t=>null),this._blankNodePrefix="string"!=typeof t.blankNodePrefix?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new Pl({lineMode:a,n3:s,isImpliedBy:this._isImpliedBy}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){$l=0}_setBase(t){if(t){const e=t.indexOf("#");e>=0&&(t=t.substr(0,e)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}else this._base="",this._basePath=""}_saveContext(t,e,n,i,r){const o=this._n3Mode;this._contextStack.push({type:t,subject:n,predicate:i,object:r,graph:e,inverse:!!o&&this._inversePredicate,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,e){const n=this._contextStack.pop();if(!n||n.type!==t)return this._error(`Unexpected ${e.type}`,e);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(t){switch(t.type){case"eof":return null!==this._graph?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,e){let n;switch(t.type){case"IRI":case"typeIRI":const e=this._resolveIRI(t.value);if(null===e)return this._error("Invalid IRI",t);n=this._factory.namedNode(e);break;case"type":case"prefixed":const i=this._prefixes[t.prefix];if(void 0===i)return this._error(`Undefined prefix "${t.prefix}:"`,t);n=this._factory.namedNode(i+t.value);break;case"blank":n=this._factory.blankNode(this._prefixes[t.prefix]+t.value);break;case"var":n=this._factory.variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!e&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(0===t.prefix.length)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if(void 0===(this._subject=this._readEntity(t)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const e=t.type;switch(e){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return null===this._predicate?this._error(`Unexpected ${e}`,t):(this._subject=null,"]"===e?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if(void 0===(this._predicate=this._readEntity(t)))return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(0===t.prefix.length)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if(void 0===(this._object=this._readEntity(t)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return"{"===t.type?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return"{"!==t.type?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return"]"===t.type?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if("]"!==t.type)return this._readBlankNodePunctuation(t);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);const e=null===this._predicate;return this._restoreContext("blank",t),null!==this._object?this._getContextEndReader():null!==this._predicate?this._readObject:e?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let e=null,n=null,i=this._readListItem;const r=this._subject,o=this._contextStack,s=o[o.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,n=this._factory.blankNode(),this.RDF_FIRST,this._subject=e=this._factory.blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),0!==o.length&&"list"===o[o.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;n=this.RDF_NIL;break;case"literal":0===t.prefix.length?(this._literalValue=t.value,i=this._readListItemDataTypeOrLang):(e=this._factory.literal(t.value,this._factory.namedNode(t.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if(void 0===(e=this._readEntity(t)))return}if(null===n&&(this._subject=n=this._factory.blankNode()),null===r?null===s.predicate?s.subject=n:s.object=n:this._emit(r,this.RDF_REST,n,this._graph),null!==e){if(this._n3Mode&&("IRI"===t.type||"prefixed"===t.type))return this._saveContext("item",this._graph,n,this.RDF_FIRST,e),this._subject=e,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,e,this._graph)}return i}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let e=this._factory.literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const n=this._readEntity(t);if(void 0===n)return;e=this._factory.literal(this._literalValue,n),t=null;break;case"langcode":e=this._factory.literal(this._literalValue,t.value),t=null}return{token:t,literal:e}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,e){const n=this._completeLiteral(t);if(n)return this._object=n.literal,e&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===n.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(t){return"}"!==t.type?this._readPunctuation(t):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let e,n=this._graph;const i=this._subject,r=this._inversePredicate;switch(t.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,e=this._contextStack.length?this._readSubject:this._readInTopContext,r&&(this._inversePredicate=!1);break;case";":e=this._readPredicate;break;case",":e=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",t);const o=this._predicate,s=this._object;this._subject=this._factory.quad(i,o,s,this.DEFAULTGRAPH),e=this._readPredicate;break;case"|}":if("Quad"!==this._subject.termType)return this._error("Unexpected asserted triple closing",t);this._subject=null,e=this._readPunctuation;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(n=this._readEntity(t))){e=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(null!==i){const t=this._predicate,e=this._object;r?this._emit(e,t,i,n):this._emit(i,t,e,n)}return e}_readBlankNodePunctuation(t){let e;switch(t.type){case";":e=this._readPredicate;break;case",":e=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),e}_readQuadPunctuation(t){return"."!==t.type?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return"prefix"!==t.type?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if("IRI"!==t.type)return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const e=this._readEntity(t);return this._prefixes[this._prefix]=e.value,this._prefixCallback(this._prefix,e),this._readDeclarationPunctuation}_readBaseIRI(t){const e="IRI"===t.type&&this._resolveIRI(t.value);return e?(this._setBase(e),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return"]"!==t.type?this._error("Invalid graph label",t):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):"."!==t.type?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let e;switch(t.type){case"IRI":case"prefixed":if(void 0!==(e=this._readEntity(t,!0)))break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,e,this.QUANTIFIERS_GRAPH)):this._quantified[e.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return","===t.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const e=this._contextStack,n=e.length&&e[e.length-1];if(n&&"item"===n.type){const e=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,e,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let e,n;const i=this._factory.blankNode();if(void 0!==(n=this._readEntity(t)))return null===this._predicate?(e=this._subject,this._subject=i):(e=this._object,this._object=i),this._emit(e,n,i,this._graph),this._readPath}_readBackwardPath(t){const e=this._factory.blankNode();let n,i;if(void 0!==(n=this._readEntity(t)))return null===this._predicate?(i=this._subject,this._subject=e):(i=this._object,this._object=e),this._emit(e,n,i,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return">>"!==t.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(t))?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(">>"!==t.type)return this._error(`Expected >> but got ${t.type}`,t);const e=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),null===this._subject?(this._subject=e,this._readPredicate):(this._object=e,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,e,n,i){this._callback(null,this._factory.quad(t,e,n,i||this.DEFAULTGRAPH))}_error(t,e){const n=new Error(`${t} on line ${e.line}.`);n.context={token:e,line:e.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=eA}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return("/"===t[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const e=t.length;let n="",i=-1,r=-1,o=0,s="/";for(;i<e;){switch(s){case":":if(r<0&&"/"===t[++i]&&"/"===t[++i])for(;(r=i+1)<e&&"/"!==t[r];)i=r;break;case"?":case"#":i=e;break;case"/":if("."===t[i+1])switch(s=t[1+ ++i],s){case"/":n+=t.substring(o,i-1),o=i+1;break;case void 0:case"?":case"#":return n+t.substring(o,i)+t.substr(i+1);case".":if(s=t[1+ ++i],void 0===s||"/"===s||"?"===s||"#"===s){if(n+=t.substring(o,i-2),(o=n.lastIndexOf("/"))>=r&&(n=n.substr(0,o)),"/"!==s)return`${n}/${t.substr(i+1)}`;o=i+1}}}s=t[++i]}return n+t.substring(o)}parse(t,e,n){let i,r,o;if(e&&(e.onQuad||e.onPrefix||e.onComment)?(i=e.onQuad,r=e.onPrefix,o=e.onComment):(i=e,r=n),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${$l++}_`,this._prefixCallback=r||eA,this._inversePredicate=!1,this._quantified=Object.create(null),!i){const e=[];let n;if(this._callback=(t,i)=>{t?n=t:i&&e.push(i)},this._lexer.tokenize(t).every((t=>this._readCallback=this._readCallback(t))),n)throw n;return e}let s=(t,e)=>{null!==t?(this._callback(t),this._callback=eA):this._readCallback&&(this._readCallback=this._readCallback(e))};o&&(this._lexer.comments=!0,s=(t,e)=>{null!==t?(this._callback(t),this._callback=eA):this._readCallback&&("comment"===e.type?o(e.value):this._readCallback=this._readCallback(e))}),this._callback=i,this._lexer.tokenize(t,s)}}function eA(){}function nA(t,e){t._factory=e,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=e.namedNode(Sl.rdf.first),t.RDF_REST=e.namedNode(Sl.rdf.rest),t.RDF_NIL=e.namedNode(Sl.rdf.nil),t.N3_FORALL=e.namedNode(Sl.r.forAll),t.N3_FORSOME=e.namedNode(Sl.r.forSome),t.ABBREVIATIONS={a:e.namedNode(Sl.rdf.type),"=":e.namedNode(Sl.owl.sameAs),">":e.namedNode(Sl.log.implies),"<":e.namedNode(Sl.log.isImpliedBy)},t.QUANTIFIERS_GRAPH=e.namedNode("urn:n3:quantifiers")}nA(tA.prototype,Fl);class iA extends bl.Transform{constructor(t){super({decodeStrings:!0}),this._readableState.objectMode=!0;const e=new tA(t);let n,i;const r={onQuad:(t,e)=>{t&&this.emit("error",t)||e&&this.push(e)},onPrefix:(t,e)=>{this.emit("prefix",t,e)}};t&&t.comments&&(r.onComment=t=>{this.emit("comment",t)}),e.parse({on:(t,e)=>{switch(t){case"data":n=e;break;case"end":i=e}}},r),this._transform=(t,e,i)=>{n(t),i()},this._flush=t=>{i(),t()}}import(t){return t.on("data",(t=>{this.write(t)})),t.on("end",(()=>{this.end()})),t.on("error",(t=>{this.emit("error",t)})),this}}const rA=class{constructor(t,{baseIRI:e="",factory:n=vl,...i}={}){const r={blankNode:n.blankNode.bind(n),defaultGraph:n.defaultGraph.bind(n),literal:n.literal.bind(n),namedNode:n.namedNode.bind(n),quad:n.quad.bind(n),variable:n.variable.bind(n)},o=new iA({baseIRI:e,factory:r,...i});return t.pipe(o),yl(o)}},oA=class extends el{constructor(t){super(rA,t)}};class sA{constructor(t,{bind:e=!1}={}){this._factories=t.slice();for(const t of this._factories){"function"==typeof t.prototype.init&&t.prototype.init.call(this);for(const n of t.exports||[])this[n]=e?t.prototype[n].bind(this):t.prototype[n]}}clone(){const t=new sA(this._factories);for(const e of t._factories)"function"==typeof e.prototype.clone&&e.prototype.clone.call(t,this);return t}}const aA=sA;var gA=n(3141);const lA=async function(t,e){const n=new gA.StringDecoder(e);let i="";for await(const e of t)i+=n.write(e);return i+=n.end(),i},AA=async function(t,e,n){const i="PUT"===e.method?"write":"read",r="read"===i?"from":"to";if(!n.ok)throw new Error(`can't ${i} data ${r} <${t.toString()}>[${n.status}]: ${await n.text()}`)},cA=new Map([["json","application/ld+json"],["n3","text/n3"],["nq","application/n-quads"],["nt","application/n-triples"],["rdf","application/rdf+xml"],["trig","application/trig"],["ttl","text/turtle"]]),hA=function(t,e){const n=new Headers,i=t.toString().match(/\.([a-z]+)$/),r=cA.get(i&&i[1]);return r&&n.set("content-type",r),{method:"PUT",headers:n,body:e}},CA={apply:(t,e,n)=>t(n[0]),get:(t,e)=>t(e)},IA=function(t,{factory:e=vl}={}){const n=(n="")=>e.namedNode(`${t}${n.raw||n}`);return"undefined"==typeof Proxy?n:new Proxy(n,CA)};class dA{namespace(t){return IA(t,{factory:this})}}dA.exports=["namespace"];const uA=dA;class fA extends Map{constructor(t=[],{factory:e}){super(t),this.factory=e}resolve(t){if(t.value.includes("://"))return null;const[e,n]=t.value.split(":",2);return void 0===n?null:this.has(e)?this.factory.namedNode(`${this.get(e).value}${n}`):null}shrink(t){if(!t)return null;const[e]=[...this].filter((([,e])=>t.value.startsWith(e.value))).sort(((t,e)=>e[1].value.length-t[1].value.length));return void 0===e?null:this.factory.namedNode(`${e[0]}:${t.value.slice(e[1].value.length)}`)}import(t){return t.on("prefix",((t,e)=>{this.set(t,e)})),new Promise(((e,n)=>{(0,bl.finished)(t,(t=>{t?n(t):e(this)}))}))}export(t){for(const[e,n]of this)t.emit("prefix",e,n);return this}}const pA=fA;class vA{init(){this.prefixes=new pA([],{factory:this})}clone(t){if(t.prefixes)for(const[e,n]of t.prefixes)this.prefixes.set(e,n)}prefixMap(t){return new pA(t,{factory:this})}}vA.exports=["prefixMap"];const mA=vA,yA=function({factor:t,score:e}){return({dataset:n,graph:i,terms:r=[]})=>e({dataset:n,graph:i,terms:r}).map((e=>(e.score*=t,e)))},bA=function(t){return"<"+t.value+">"},wA=/["\\\\\n\r]/,xA=/["\\\\\n\r]/g,EA={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r"};function kA(t){return EA[t]}const SA=function t(e){if(!e)return null;if("BlankNode"===e.termType)return function(t){return"_:"+t.value}(e);if("DefaultGraph"===e.termType)return"";if("Literal"===e.termType)return function(t){const e=(n=t.value,wA.test(n)?n.replace(xA,kA):n);var n;return"http://www.w3.org/2001/XMLSchema#string"===t.datatype.value?'"'+e+'"':"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"===t.datatype.value?'"'+e+'"@'+t.language:'"'+e+'"^^'+bA(t.datatype)}(e);if("NamedNode"===e.termType)return bA(e);if("Quad"===e.termType||e.subject&&e.predicate&&e.object&&e.graph)return function(t,e){const n=e(t.subject),i=e(t.predicate),r=e(t.object),o=e(t.graph);return`${n} ${i} ${r} ${o?o+" ":""}.`}(e,t);if("Variable"===e.termType)return function(t){return"?"+t.value}(e);if(e[Symbol.iterator])return function(t,e){return[...t].map((t=>e(t))).join("\n")+"\n"}(e,t);throw new Error(`unknown termType ${e.termType}`)};class TA extends Set{constructor(t=[]){super(),this._index=new Map;for(const e of t)this.add(e)}add(t){return this._index.set(TA.key(t),t),super.add(t)}delete(t){const e=this._index.get(TA.key(t));return super.delete(e)}has(t){return this._index.has(TA.key(t))}static key(t){return t.map((t=>t&&SA(t)||"undefined")).join(" ")}}const OA=TA;class RA extends Map{constructor(t=[]){super(),this._keys=new Map;for(const[e,n]of t)this.set(e,n)}delete(t){const e=RA.key(t);return this._keys.delete(e),super.delete(e)}get(t){return super.get(RA.key(t))}has(t){return super.has(RA.key(t))}keys(){return new OA(this._keys.values())}set(t,e){const n=RA.key(t);return this._keys.set(n,t),super.set(n,e)}static key(t){return t.map((t=>t&&SA(t)||"undefined")).join(" ")}}const _A=RA,NA=function(t){return({dataset:e,graph:n,terms:i=[]})=>{const r=new _A;for(let o=0;o<t.length;o++){const s=(0,t[o])({dataset:e,graph:n,terms:i});for(const t of s){const e=r.get([t.term,n]);e?e.score+=t.score:r.set([t.term,n],t)}}return[...r.values()]}};function DA(t){const e=1/t.length;return NA(t.map((t=>yA({factor:e,score:t}))))}DA.prioritized=function(t){const e=2/(t.length*(t.length+1)),n=t.map(((n,i)=>{const r=(t.length-i)*e;return yA({factor:r,score:n})}));return NA(n)};const PA=DA,MA=function(t){return({dataset:e,graph:n,terms:i=[]})=>t.flatMap((t=>t({dataset:e,graph:n,terms:i})))};class LA{constructor(t){if(this.index=new Map,t)for(const[e,n]of t)this.set(e,n)}get size(){return this.index.size}clear(){this.index.clear()}delete(t){return this.index.delete(SA(t))}*entries(){for(const[,{term:t,value:e}]of this.index)yield[t,e]}forEach(t,e){for(const n of this.entries())t.call(e,n[1],n[0],this)}get(t){const e=this.index.get(SA(t));return e&&e.value}has(t){return this.index.has(SA(t))}*keys(){for(const[,{term:t}]of this.index)yield t}set(t,e){const n=SA(t);return this.index.set(n,{term:t,value:e}),this}*values(){for(const[,{value:t}]of this.index)yield t}[Symbol.iterator](){return this.entries()[Symbol.iterator]()}}const jA=LA,BA=function({graph:t,object:e,predicate:n,subject:i=!0}={}){const r={subject:i,predicate:n,object:e,graph:t};return({dataset:t,graph:e,terms:n=[]})=>{const i=new jA;let o=0;const s=r=>{for(const s of n){const n=["subject"===r&&s,"predicate"===r&&s,"object"===r&&s,e||"graph"===r&&s],a=t.match(...n);for(const t of a){const e=t[r],n=i.get(e)||{count:0};i.has(e)||i.set(e,n),n.count++,o++}}};for(const t of["subject","predicate","object","graph"])r[t]&&s(t);const a=[];for(const[n,r]of i)a.push({dataset:t,graph:e,term:n,score:r.count/o});return a}},FA=function(t){const e=new _A;for(const n of t){const t=e.get([n.term,n.graph]);t?t.score<n.score&&(e.delete([n.term,n.graph]),e.set([n.term,n.graph],n)):e.set([n.term,n.graph],n)}return[...e.values()]},zA=function({graph:t,object:e,predicate:n,subject:i}){const r={subject:i,predicate:n,object:e,graph:t};return({dataset:t,graph:e,terms:n=[]})=>{for(const i of n){const n=[{dataset:t,graph:e,term:i,score:1}];if(r.subject&&r.subject.equals(i)&&t.match(i,null,null,e).size>0)return n;if(r.predicate&&r.predicate.equals(i)&&t.match(null,i,null,e).size>0)return n;if(r.object&&r.object.equals(i)&&t.match(null,null,i,e).size>0)return n;if(r.graph&&r.graph.equals(i)&&(!e||r.graph.equals(e))&&t.match(null,null,null,e).size>0)return n}return[]}},VA=function(t){return({dataset:e,graph:n,terms:i=[]})=>{for(const r of t){const t=r({dataset:e,graph:n,terms:i});if(t.length>0)return t}return[]}},GA=function(t){const e=t;return({dataset:t,graph:n,terms:i=[]})=>{for(const r of i)if(r.equals(e))return[{dataset:t,graph:n,term:r,score:1}];return[]}},UA=function(t){const e=new Map;let n;for(const[i,r]of Object.entries(t)){const o=1-i/t.length;"*"===r?n=o:e.set(r,o)}return({dataset:t,graph:i,terms:r=[]})=>{const o=[];for(const s of r){let r=e.get(s.language);void 0===r&&"string"==typeof s.language&&n&&(r=n),void 0!==r&&o.push({dataset:t,graph:i,term:s,score:r})}return o}};function WA(t){try{return SA(t)}catch(t){return null}}class ZA{constructor(t){if(this.index=new Map,t)for(const e of t)this.add(e)}get size(){return this.index.size}add(t){const e=SA(t);return this.index.has(e)||this.index.set(e,t),this}clear(){this.index.clear()}delete(t){return!!t&&this.index.delete(WA(t))}entries(){return this.values().entries()}forEach(t,e){return this.values().forEach(t,e)}has(t){return!!t&&this.index.has(WA(t))}values(){return new Set(this.index.values())}keys(){return this.values()}[Symbol.iterator](){return this.index.values()}}const HA=ZA,qA=function({alpha:t=.85,epsilon:e=1e-6}={}){return({dataset:n,graph:i,terms:r})=>{r=new HA(r);const o=new jA,s=1/r.size;let a=1;for(const t of r){const e=n.match(null,null,t,i);o.set(t,{weight:s,outbound:e.size,subjects:[...e].map((t=>t.subject)).filter((t=>r.has(t)))})}for(;a>e;){const e=new jA;let n=0;for(const[t,i]of o)e.set(t,i.weight),0===i.outbound&&(n+=i.weight),i.weight=0;n*=t;for(const[i,r]of o){for(const n of r.subjects)o.get(n).weight+=t*e.get(i)/r.outbound;r.weight+=(1-t)*s+n*s}a=0;for(const[t,n]of o)a+=Math.abs(n.weight-e.get(t))}const g=[];for(const[t,e]of o)g.push({dataset:n,graph:i,term:t,score:e.weight});return g}},YA=function(){return({dataset:t,graph:e,terms:n=[]})=>{const i=[];for(const r of n){let n=Number.EPSILON;if("NamedNode"===r.termType){let t=new URL(r.value).pathname;t.endsWith("/")&&(t=t.slice(0,-1)),n=1/t.split("/").length}i.push({dataset:t,graph:e,term:r,score:n})}return i}},QA=function(t){return({dataset:e,graph:n,terms:i=[]})=>{const r=[],o=2/(t.length*(t.length+1));for(let s=0;s<t.length;s++){const a=(t.length-s)*o,g=yA({factor:a,score:t[s]});for(const t of g({dataset:e,graph:n,terms:i}))r.push(t)}return r}},KA=function(t){return({dataset:e,graph:n,terms:i=[]})=>{if(0===t.length)return[];const r=t[0]({dataset:e,graph:n,terms:i}),o=new _A(r.map((t=>[[t.term,n],t])));for(let r=1;r<t.length;r++){const s=t[r],a=o.keys(),g=s({dataset:e,graph:n,terms:i});for(const t of g){const e=o.get([t.term,n]);e&&(e.score*=t.score),a.delete([t.term,n])}for(const t of a)o.delete(t)}return[...o.values()]}},XA=function(t){return t.slice().sort(((t,e)=>{const n=e.score-t.score;return 0!==n?n:t.term.value.localeCompare(e.term.value)}))},JA=function({dataset:t,objects:e,score:n,termCallback:i=t=>t.term}={}){const r=new jA(e.map((t=>[i(t),t]))),o=e.map((t=>i(t)));return XA(FA(n({dataset:t,terms:o}))).map((({term:t})=>r.get(t)))},$A=function(t){const e={rdf:{type:vl.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")}};return({dataset:n,graph:i,terms:r=[]})=>{const o=[];for(const s of r)for(const r of n.match(s,e.rdf.type,t,i))o.push({dataset:n,graph:r.graph,term:s,score:1});return o}};class tc{termMap(t){return new jA(t)}}tc.exports=["termMap"];const ec=tc;class nc{termSet(t){return new HA(t)}}nc.exports=["termSet"];const ic=nc;class rc{constructor(){this.quadLevel=new Map}add(t,e){this.quadLevel.set(SA(t),e)}has(t,e){const n=this.quadLevel.get(SA(t));return void 0!==n&&n<=e}}function oc({backward:t,callback:e,dataset:n,filter:i,forward:r,term:o,visited:s=new rc}){const a=(o,g)=>{const l=o=>{for(const l of o){if(s.has(l,g))continue;s.add(l,g);const o={dataset:n,level:g,quad:l};i(o)&&(e(o),r&&a(l.object,g+1),t&&a(l.subject,g+1))}};r&&l(n.match(o)),t&&l(n.match(null,null,o))};a(o,0)}const sc=class{constructor(t,{backward:e=!1,factory:n,forward:i=!0}){this.backward=e,this.factory=n,this.filter=t,this.forward=i}forEach({term:t,dataset:e},n){oc({backward:this.backward,callback:n,dataset:e,filter:this.filter,forward:this.forward,term:t})}match({term:t,dataset:e}){const n=this.factory.dataset();return oc({backward:this.backward,callback:({quad:t})=>n.add(t),dataset:e,filter:this.filter,forward:this.forward,term:t}),n}reduce({term:t,dataset:e},n,i){let r=i;return oc({backward:this.backward,callback:t=>{r=n(t,r)},dataset:e,filter:this.filter,forward:this.forward,term:t}),r}};class ac{traverser(t,{backward:e=!1,forward:n=!0}={}){return new sc(t,{backward:e,factory:this,forward:n})}}ac.exports=["traverser"];const gc=ac;function lc(t,{factory:e}){const n=function(t,{factory:e}){const n=Ac(t,{factory:e});return t=>{const i=n(t.subject),r=n(t.predicate),o=n(t.object);return i===t.subject&&r===t.predicate&&o===t.object?t:e.quad(i,r,o,t.graph)}}(t,{factory:e});return t=>{for(const e of[...t]){const i=n(e);i!==e&&(t.delete(e),t.add(i))}}}function Ac(t,{factory:e}){return n=>"NamedNode"!==n.termType||/^[a-z]+:\/\//.test(n.value)?n:e.namedNode(new URL(n.value,t.value).toString())}const cc=/^[a-z][a-z0-9+.-]*:/;function hc(t,e,{factory:n}){const i=function(t,e,{factory:n}){const i=function(t,e,{factory:n}){return i=>"NamedNode"!==i.termType?i:i.value.startsWith(t.value)?cc.test(i.value)!==cc.test(t.value)?i:n.namedNode(e.value+i.value.slice(t.value.length)):i}(t,e,{factory:n});return t=>{const e=i(t.subject),r=i(t.predicate),o=i(t.object);return e===t.subject&&r===t.predicate&&o===t.object?t:n.quad(e,r,o,t.graph)}}(t,e,{factory:n});return t=>{for(const e of[...t]){const n=i(e);n!==e&&(t.delete(e),t.add(n))}}}function Cc(t,e,{factory:n}){const i=function(t,e,{factory:n}){const i=function(t,e){return n=>n.equals(t)?e:n}(t,e);return t=>{const e=i(t.subject),r=i(t.predicate),o=i(t.object);return e===t.subject&&r===t.predicate&&o===t.object?t:n.quad(e,r,o,t.graph)}}(t,e,{factory:n});return e=>{const n=[...e.match(t),...e.match(null,t),...e.match(null,null,t)];for(const t of n){const n=i(t);n!==t&&(e.delete(t),e.add(n))}}}const Ic=class{constructor({dataset:t,end:e,quad:n,start:i}){this.dataset=t,this.end=e,this.quad=n,this.start=i}get term(){return this.quad[this.end]}get graph(){return this.quad.graph}get startTerm(){return this.quad[this.start]}},dc=(IA("http://www.w3.org/2001/XMLSchema#"),IA("http://www.w3.org/1999/02/22-rdf-syntax-ns#"));IA("http://www.w3.org/2000/01/rdf-schema#");class uc{static add({ptr:t,start:e,end:n,subjects:i=[null],predicates:r=[null],objects:o=[null],graphs:s,callback:a}={}){if(!t.factory)throw new Error("add operation requires a factory");let g=()=>{};a&&(g=i=>{a(new Ic({dataset:t.dataset,start:e,end:n,quad:i}))});for(const n of i)for(const i of r)for(const r of o)for(const o of s){const s={subject:n,predicate:i,object:r,graph:o};s[e]=t.term;const a=t.factory.quad(s.subject,s.predicate,s.object,s.graph);t.dataset.add(a),g(a)}return t}static addList({ptr:t,predicates:e,items:n,graphs:i}){if(t.isAny())throw new Error("can't attach a list to an any ptr");for(const r of e)for(const e of i){const i=n.map((()=>t.factory.blankNode()));t.dataset.add(t.factory.quad(t.term,r,i[0]||dc.nil,e));for(let r=0;r<i.length;r++)t.dataset.add(t.factory.quad(i[r],dc.first,n[r],e)),t.dataset.add(t.factory.quad(i[r],dc.rest,i[r+1]||dc.nil,e))}return t}static delete({ptr:t,start:e,subjects:n=[null],predicates:i=[null],objects:r=[null]}){for(const o of n)for(const n of i)for(const i of r){const r={subject:o,predicate:n,object:i};r[e]=t.term;const s=t.dataset.match(r.subject,r.predicate,r.object);for(const e of s)t.dataset.delete(e)}return t}static deleteList({ptr:t,predicates:e}){const n=[];for(const i of e)for(const e of t.dataset.match(t.term,i)){let i=e.object;for(n.push(e);!dc.nil.equals(i);){i=n[n.length-1].object;const e=t.dataset.match(i);if(0===e.size)break;for(const t of e)n.push(t)}}for(const e of n)t.dataset.delete(e);return t}static execute({ptr:t,operation:e="traverse",quantifier:n,start:i,end:r,subjects:o,predicates:s,objects:a,graphs:g,items:l,callback:A}={}){if("add"===e)return uc.add({ptr:t,start:i,end:r,subjects:o,predicates:s,objects:a,graphs:g,callback:A});if("addList"===e)return uc.addList({ptr:t,predicates:s,items:l,graphs:g});if("delete"===e)return uc.delete({ptr:t,start:i,subjects:o,predicates:s,objects:a});if("deleteList"===e)return uc.deleteList({ptr:t,predicates:s});if("isList"===e)return uc.isList({ptr:t});if("list"===e)return uc.list({ptr:t});if("traverse"===e)return uc.traverse({ptr:t,quantifier:n,start:i,end:r,subjects:o,predicates:s,objects:a,graphs:g});throw new Error(`unknown operation ${e}`)}static isList({ptr:t}){return!t.isAny()&&(!!dc.nil.equals(t.term)||1===uc.traverse({ptr:t,predicates:[dc.first]}).length)}static list({ptr:t}){if(t.isList())return{*[Symbol.iterator](){for(;t&&!t.term.equals(dc.nil);){const e=t.out([dc.first]);if(1!==e.length)throw new Error(`Invalid list: rdf:first count not equals one on ${t.value}`);const n=t.out([dc.rest]);if(1!==n.length)throw new Error(`Invalid list: rdf:rest count not equals one on ${t.value}`);yield e[0],t=n[0]}}}}static traverse({ptr:t,quantifier:e="one",start:n="subject",end:i="object",subjects:r=[null],predicates:o=[null],objects:s=[null],graphs:a=[null],callback:g}){if("one"===e)return uc.traverseOne({ptr:t,start:n,end:i,subjects:r,predicates:o,objects:s,graphs:a,callback:g});if("oneOrMore"===e){const e=uc.traverse({ptr:t,end:i,start:n,subjects:r,predicates:o,objects:s,graphs:a,callback:g});return uc.traverseMore({ptrs:e,end:i,start:n,subjects:r,predicates:o,objects:s,graphs:a,callback:g})}if("zeroOrMore"===e)return uc.traverseMore({ptrs:[t],end:i,start:n,subjects:r,predicates:o,objects:s,graphs:a,callback:g});if("zeroOrOne"===e)return[t,...uc.traverse({ptr:t,end:i,start:n,subjects:r,predicates:o,objects:s,graphs:a,callback:g})];throw new Error(`unknown quantifier ${e}`)}static traverseMore({ptrs:t,end:e,start:n,subjects:i,predicates:r,objects:o,graphs:s,callback:a}={}){let g,l,A=[...t];do{g=[];for(const l of t)g=[...g,...uc.traverseOne({ptr:l,end:e,start:n,subjects:i,predicates:r,objects:o,graphs:s,callback:a})];l&&(g=g.filter((t=>!l.has(t.term)))),t=g,A=[...A,...g],l=new HA(A.map((t=>t.term)))}while(g.length>0);return A}static traverseOne({ptr:t,start:e,end:n,subjects:i,predicates:r,objects:o,graphs:s,callback:a=(t,e)=>e.extend(t)}={}){const g=[];for(const l of i)for(const i of r)for(const r of o)for(const o of s){const s={subject:l,predicate:i,object:r,graph:o};s[e]=t.term;for(const i of t.dataset.match(s.subject,s.predicate,s.object,s.graph))g.push(a(new Ic({dataset:t.dataset,end:n,quad:i,start:e}),t))}return g}}const fc=uc;function pc(t,e){return e?n=>e(t.extend(n)):()=>{}}const vc=class{constructor({dataset:t,edges:e=[],factory:n,graph:i,term:r}){if(!t&&0===e.length)throw new Error("dataset or edges is required");if(0===e.length&&void 0===r)throw new Error("edges or term must be given");if(e.length>0&&r)throw new Error("edges or term must be given");this.dataset=t||e[e.length-1].dataset,this.edges=e,this.factory=n,this._graph=i,0===e.length&&(this._term=r)}get edge(){return this.edges[this.edges.length-1]}get graph(){return"object"==typeof this._graph?this._graph:this.edge&&this.edge.graph}get length(){return void 0!==this._term?1:this.edges.length+1}get startTerm(){return this._term||this.edges[0].startTerm}get term(){return void 0!==this._term?this._term:this.edge.term}get value(){const t=this.term;return null===t?void 0:t.value}addIn(t,e,n){return fc.add({ptr:this,start:"object",end:"subject",subjects:e,predicates:t,graphs:[this.graph||this.factory.defaultGraph()],callback:pc(this,n)})}addList(t,e){return fc.addList({ptr:this,predicates:t,graphs:[this.graph||this.factory.defaultGraph()],items:e})}addOut(t,e,n){return fc.add({ptr:this,start:"subject",end:"object",predicates:t,objects:e,graphs:[this.graph||this.factory.defaultGraph()],callback:pc(this,n)})}deleteIn(t,e){return fc.delete({ptr:this,start:"object",subjects:e,predicates:t})}deleteList(t){return fc.deleteList({ptr:this,predicates:t})}deleteOut(t,e){return fc.delete({ptr:this,start:"subject",predicates:t,objects:e})}execute({operation:t,quantifier:e,start:n,end:i,subjects:r,predicates:o,objects:s,graphs:a,items:g,callback:l}){return fc.execute({ptr:this,operation:t,quantifier:e,start:n,end:i,subjects:r,predicates:o,objects:s,graphs:a,items:g,callback:l})}extend(t){return new this.constructor({dataset:this.dataset,edges:[...this.edges,t],factory:this.factory,graph:this._graph})}hasIn(t,e){return fc.traverse({ptr:this,start:"object",end:"object",subjects:e,predicates:t,graphs:[this.graph]})}hasOut(t,e){return fc.traverse({ptr:this,start:"subject",end:"subject",predicates:t,objects:e,graphs:[this.graph]})}in(t,e){return fc.traverse({ptr:this,start:"object",end:"subject",subjects:e,predicates:t,graphs:[this.graph]})}isAny(){return!this.term}isList(){return fc.isList({ptr:this})}list(){return fc.list({ptr:this})}*nodes(){for(let t=0;t<this.length;t++)void 0!==this._term?yield{dataset:this.dataset,term:this._term}:this.edges.length>t?yield{dataset:this.edges[t].dataset,term:this.edges[t].startTerm}:this.edges.length===t&&(yield{dataset:this.edges[t-1].dataset,term:this.edges[t-1].term})}out(t,e){return fc.traverse({ptr:this,predicates:t,objects:e,graphs:[this.graph]})}*quads(){for(const{quad:t}of this.edges)yield t}trim(){return new this.constructor({dataset:this.dataset,factory:this.factory,graph:this.graph,term:this.term})}},mc=function(t,{factory:e}){if(null===t)return null;if(void 0===t)return;if("string"==typeof t)return e.literal(t);if("URL"===t.constructor.name)return e.namedNode(t.toString());if(t.termType)return t;const n=t.term;if(void 0!==n)return n;throw new Error(`can't convert ${t.toString()} to a Term object`)},yc=function(t,{dataset:e,factory:n,graph:i}){return null===t?null:void 0!==t?function(t){return t instanceof vc}(t)?t:function(t){return"object"==typeof t.term&&"object"==typeof t.dataset}(t)?new vc({dataset:t.dataset,graph:t.graph,term:t.term,factory:t.factory||n}):new vc({dataset:e,graph:i,term:mc(t,{factory:n}),factory:n}):void 0},bc=function(t,{factory:e}){try{t=[mc(t,{factory:e})]}catch(t){}return t[Symbol.iterator]&&(t=[...t]),t.map((t=>mc(t,{factory:e})))},wc=function(t,e){return t?t.equals(e):t===e};function xc(t,e){return e?n=>e(new t.constructor({factory:t.factory,ptrs:[n]})):()=>{}}class Ec{constructor({dataset:t,factory:e,ptrs:n,terms:i,graphs:r}){if(this.factory=e,n)this.ptrs=[...n];else{this.ptrs=[];for(const n of i||[null])for(const i of r||[null])this.ptrs.push(new vc({dataset:t,factory:e,graph:i,term:n}))}}get dataset(){const t=new Set(this.datasets);return 1!==t.size?null:t[Symbol.iterator]().next().value}get datasets(){return this.ptrs.map((t=>t.dataset))}get term(){const t=new HA(this.terms);if(1===t.size)return t[Symbol.iterator]().next().value}get terms(){return this.ptrs.map((t=>t.term))}get value(){const t=this.term;return null==t?void 0:t.value}get values(){return this.ptrs.map((t=>t.value))}addIn(t,e,n){const i=xc(this,n);for(const n of this.ptrs)n.addIn(t,e,i);return this}addList(t,e){if(this.isAny())throw new Error("can't attach a list to an any ptr");for(const n of this.ptrs)n.addList(t,e);return this}addOut(t,e,n){const i=xc(this,n);for(const n of this.ptrs)n.addOut(t,e,i);return this}clone(t){return new this.constructor({factory:this.factory,ptrs:this.ptrs,...t})}deleteIn(t,e){for(const n of this.ptrs)n.deleteIn(t,e);return this}deleteList(t){for(const e of this.ptrs)e.deleteList(t);return this}deleteOut(t,e){for(const n of this.ptrs)n.deleteOut(t,e);return this}distinct(){const t=this.ptrs.reduce(((t,e)=>(t.some((t=>{return i=e,(n=t).dataset===i.dataset&&!!wc(n.graph,i.graph)&&!!wc(n.term,i.term);var n,i}))||t.push(e.trim()),t)),[]);return this.clone({ptrs:t})}execute(t){return this.clone({ptrs:this.ptrs.flatMap((e=>e.execute(t)))})}executeAll(t){let e=this;for(const n of t)e=e.execute(n);return e}filter(t){return this.clone({ptrs:[...this].filter(t).map((t=>t.ptrs[0]))})}hasIn(t,e){return this.clone({ptrs:this.ptrs.flatMap((n=>n.hasIn(t,e)))})}hasOut(t,e){return this.clone({ptrs:this.ptrs.flatMap((n=>n.hasOut(t,e)))})}in(t,e){return this.clone({ptrs:this.ptrs.flatMap((n=>n.in(t,e)))})}isAny(){return this.ptrs.length>0&&this.ptrs.some((t=>t.isAny()))}isList(){return 1===this.ptrs.length&&this.ptrs[0].isList()}list(){if(!this.isList())return;const t=this.ptrs[0].list(),e=this;return function*(){for(const n of t)yield e.clone({ptrs:[n]})}()}map(t){return[...this].map(t)}node(t){const e=this.dataset,n=[...t].map((t=>new vc({dataset:e,factory:this.factory,term:t})));return this.clone({ptrs:n})}out(t,e){return this.clone({ptrs:this.ptrs.flatMap((n=>n.out(t,e)))})}*quads(){for(const{edges:t}of this.ptrs)for(const{quad:e}of t)yield e}trim(){return this.clone({ptrs:this.ptrs.map((t=>t.trim()))})}*[Symbol.iterator](){for(const t of this.ptrs)yield this.clone({ptrs:[t]})}}const kc=Ec,Sc=class extends kc{constructor({dataset:t,factory:e,ptrs:n,term:i,terms:r,graph:o,graphs:s}){(i||r)&&(r=r||i),(o||s)&&(s=s||o),!n&&r&&(n=function(t,{dataset:e,factory:n,graph:i}){try{t=[yc(t,{dataset:e,factory:n,graph:i})]}catch(t){}return t[Symbol.iterator]&&(t=[...t]),t.flatMap((t=>bc(i,{factory:n}).flatMap((i=>yc(t,{dataset:e,factory:n,graph:i})))))}(r,{dataset:t,factory:e,graph:s})),super({dataset:t,factory:e,ptrs:n,graphs:s})}_toTerm(t){return mc(t,{factory:this.factory})}_toTermArray(t){return bc(t,{factory:this.factory})}addIn(t,e,n){return"function"==typeof e&&(n=e,e=null),e||(e=[this.factory.blankNode()]),super.addIn(this._toTermArray(t),this._toTermArray(e),n)}addList(t,e){return super.addList(this._toTermArray(t),this._toTermArray(e))}addOut(t,e,n){return"function"==typeof e&&(n=e,e=null),e||(e=[this.factory.blankNode()]),super.addOut(this._toTermArray(t),this._toTermArray(e),n)}base(t){if(!t)throw new Error("base parameter is required");t=this._toTerm(t);for(const e of this.ptrs)lc(t,{factory:this.factory})(e.dataset);return this.node(Ac(t,{factory:this.factory})(this.term))}best(t){return this.score(t,{limit:1})}deleteIn(t,e){return super.deleteIn(this._toTermArray(t),this._toTermArray(e))}deleteList(t){return super.deleteList(this._toTermArray(t))}deleteOut(t,e){return super.deleteOut(this._toTermArray(t),this._toTermArray(e))}hasIn(t,e){return super.hasIn(this._toTermArray(t),this._toTermArray(e))}hasOut(t,e){return super.hasOut(this._toTermArray(t),this._toTermArray(e))}in(t,e){return super.in(this._toTermArray(t),this._toTermArray(e))}out(t,e){return super.out(this._toTermArray(t),this._toTermArray(e))}node(t=null){return super.node(this._toTermArray(t))}rebase(t){if(!t)throw new Error("base parameter is required");t=this._toTerm(t);for(const e of this.ptrs)hc(e.term,t,{factory:this.factory})(e.dataset);return this.node(t)}replace(t){if(!t)throw new Error("replacement parameter is required");t=this._toTerm(t);for(const e of this.ptrs)Cc(e.term,t,{factory:this.factory})(e.dataset);return this.node(t)}score(t,{limit:e=1/0,offset:n=0}={}){const i=(r=t(this),r.slice().sort(((t,e)=>{const n=e.score-t.score;return 0!==n?n:t.term.value.localeCompare(e.term.value)}))).slice(n,n+e).map((t=>new vc({...t,factory:this.factory})));var r;return this.clone({ptrs:i})}};class Tc{grapoi({...t}={}){return t.dataset||"function"!=typeof this.dataset||(t.dataset=this.dataset()),function(t){return new Sc(t)}({...t,factory:this})}}Tc.exports=["grapoi"];const Oc=Tc,Rc=class extends il{toCanonical(){return SA(this)}toString(){return this.toCanonical()}},_c=class extends ol{toCanonical(){return SA(this)}toString(){return this.toCanonical()}},Nc=class extends gl{toCanonical(){return SA(this)}toString(){return this.value}},Dc=class extends Al{toCanonical(){return SA(this)}toString(){return this.value}toURL(){return new URL(this.value)}},Pc=class extends hl{toCanonical(){return SA(this)}toString(){return this.toCanonical()}},Mc=class extends Il{toCanonical(){return SA(this)}toString(){return this.toCanonical()}},Lc=new Dc("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),jc=new Dc("http://www.w3.org/2001/XMLSchema#string");class Bc{init(){this._data={blankNodeCounter:0,defaultGraph:new _c}}namedNode(t){return"string"!=typeof t&&(t=t.toString()),new Dc(t)}blankNode(t){return t=t||"b"+ ++this._data.blankNodeCounter,new Rc(t)}literal(t,e){return"string"==typeof e?new Nc(t,e,Lc):new Nc(t,"",e||jc)}variable(t){return new Mc(t)}defaultGraph(){return this._data.defaultGraph}quad(t,e,n,i=this.defaultGraph()){return new Pc(t,e,n,i)}fromTerm(t){return sl(this,t)}fromQuad(t){return sl(this,t)}}Bc.exports=["namedNode","blankNode","literal","variable","defaultGraph","quad","fromTerm","fromQuad"];const Fc=Bc;function zc(t){return"string"==typeof t||t instanceof String}function Vc(t){if("string"==typeof t)return t;if(!t)return"";if(void 0!==t.id&&"Quad"!==t.termType)return t.id;let e,n,i,r;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return t.language?`"${t.value}"@${t.language}`:`"${t.value}"${t.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==t.datatype.value?`^^${t.datatype.value}`:""}`;case"Quad":return e=Uc(Vc(t.subject)),n=Uc(Vc(t.predicate)),i=Uc(Vc(t.object)),r="DefaultGraph"===t.graph.termType?"":` ${Vc(t.graph)}`,`<<${e} ${n} ${i}${r}>>`;default:throw new Error(`Unexpected termType: ${t.termType}`)}}const Gc=/^"(.*".*)(?="[^"]*$)/;function Uc(t){return t.replace(Gc,((t,e)=>`"${e.replace(/"/g,'""')}`))}class Wc{constructor(t){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,t)for(const e of t)this.add(e)}get size(){let t=this._size;if(null!==t)return t;t=0;const e=this._graphs;let n,i;for(const r in e)for(const o in n=e[r].subjects)for(const e in i=n[o])t+=Object.keys(i[e]).length;return this._size=t,this._size}add(t){let e=Vc(t.subject),n=Vc(t.predicate),i=Vc(t.object);const r=Vc(t.graph);let o=this._graphs[r];o||(o=this._graphs[r]={subjects:{},predicates:{},objects:{}},Object.freeze(o));const s=this._ids,a=this._entities;return e=s[e]||(s[a[++this._id]=e]=this._id),n=s[n]||(s[a[++this._id]=n]=this._id),i=s[i]||(s[a[++this._id]=i]=this._id),this._addToIndex(o.subjects,e,n,i),this._addToIndex(o.predicates,n,i,e),this._addToIndex(o.objects,i,e,n),this._setQuad(e,n,i,r,t),this._size=null,this}delete(t){let e=Vc(t.subject),n=Vc(t.predicate),i=Vc(t.object);const r=Vc(t.graph),o=this._ids,s=this._graphs;let a,g,l;if(!((e=o[e])&&(n=o[n])&&(i=o[i])&&(a=s[r])&&(g=a.subjects[e])&&(l=g[n])&&i in l))return this;for(e in this._removeFromIndex(a.subjects,e,n,i),this._removeFromIndex(a.predicates,n,i,e),this._removeFromIndex(a.objects,i,e,n),null!==this._size&&this._size--,this._deleteQuad(e,n,i,r),a.subjects)return this;return delete s[r],this}has(t){const e=Vc(t.subject),n=Vc(t.predicate),i=Vc(t.object),r=Vc(t.graph),o=this._graphs[r];if(!o)return!1;const s=this._ids;let a,g,l;return!(zc(e)&&!(a=s[e])||zc(n)&&!(g=s[n])||zc(i)&&!(l=s[i]))&&1===this._countInIndex(o.objects,l,a,g)}match(t,e,n,i){return this._createDataset(this._match(t,e,n,i))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(t,e,n,i){const r=t[e]||(t[e]={}),o=r[n]||(r[n]={}),s=i in o;return s||(o[i]=null),!s}_removeFromIndex(t,e,n,i){const r=t[e],o=r[n];delete o[i];for(const t in o)return;delete r[n];for(const t in r)return;delete t[e]}_findInIndex(t,e,n,i,r,o,s,a,g,l){let A,c,h;e&&((A=t,t={})[e]=A[e]);for(const e in t)if(c=t[e],c){n&&((A=c,c={})[n]=A[n]);for(const t in c)if(h=c[t],h){const n=i?i in h?[i]:[]:Object.keys(h);for(let i=0;i<n.length;i++){const A={[r]:e,[o]:t,[s]:n[i]},c=this._getQuad(A.subject,A.predicate,A.object,a);if(l)l.push(c);else if(g(c))return!0}}}return l}_countInIndex(t,e,n,i){let r,o,s,a=0;e&&((r=t,t={})[e]=r[e]);for(const e in t)if(o=t[e],o){n&&((r=o,o={})[n]=r[n]);for(const t in o)s=o[t],s&&(i?i in s&&a++:a+=Object.keys(s).length)}return a}_getGraphs(t){return zc(t)?{[t]:this._graphs[t]}:this._graphs}_match(t,e,n,i){t=t&&Vc(t),e=e&&Vc(e),n=n&&Vc(n),i=i&&Vc(i);const r=[],o=this._getGraphs(i),s=this._ids;let a,g,l,A;if(zc(t)&&!(g=s[t])||zc(e)&&!(l=s[e])||zc(n)&&!(A=s[n]))return r;for(const t in o)a=o[t],a&&(g?A?this._findInIndex(a.objects,A,g,l,"object","subject","predicate",t,null,r):this._findInIndex(a.subjects,g,l,null,"subject","predicate","object",t,null,r):l?this._findInIndex(a.predicates,l,A,null,"predicate","object","subject",t,null,r):A?this._findInIndex(a.objects,A,null,null,"object","subject","predicate",t,null,r):this._findInIndex(a.subjects,null,null,null,"subject","predicate","object",t,null,r));return r}_getQuad(t,e,n,i){return this._quads.get(this._toId(t,e,n,i))}_setQuad(t,e,n,i,r){this._quads.set(this._toId(t,e,n,i),r)}_deleteQuad(t,e,n,i){this._quads.delete(this._toId(t,e,n,i))}_createDataset(t){return new this.constructor(t)}_toId(t,e,n,i){return`${t}:${e}:${n}:${i}`}}const Zc=Wc;var Hc=n(202);function qc(t){return"BlankNode"===t.termType?{termType:"BlankNode",value:`_:${t.value}`}:t}const Yc=function(t){return new Hc({maxDeepIterations:500}).main(function(t){return[...t].map((t=>function(t){return{subject:qc(t.subject),predicate:qc(t.predicate),object:qc(t.object),graph:qc(t.graph)}}(t)))}(t))};function Qc(t,e){return new t.constructor(e)}const Kc=class extends Zc{addAll(t){for(const e of t)this.add(e);return this}clone(){return Qc(this,this)}deleteMatches(t,e,n,i){for(const r of this.match(t,e,n,i))this.delete(r);return this}difference(t){return this.filter((e=>!t.has(e)))}equals(t){return this.toCanonical()===t.toCanonical()}every(t){return Array.from(this).every((e=>t(e,this)))}filter(t){return Qc(this,Array.from(this).filter((e=>t(e,this))))}forEach(t){Array.from(this).forEach((e=>t(e,this)))}import(t){return t.on("data",(t=>this.add(t))),new Promise(((e,n)=>{(0,bl.finished)(t,(t=>{t?n(t):e(this)}))}))}intersection(t){return this.filter((e=>t.has(e)))}map(t){return Qc(this,Array.from(this).map((e=>t(e,this))))}merge(t){return this.clone().addAll(t)}reduce(t,e){return Array.from(this).reduce(((e,n,i)=>t(e,n,i,this)),e)}some(t){return Array.from(this).some((e=>t(e,this)))}toCanonical(){return Yc(this)}toStream(){return bl.Readable.from(this)}toString(){return SA(this)}};class Xc{dataset(t,e){const n=new Kc;if(t)if(e)for(const i of t)n.add(this.quad(i.subject,i.predicate,i.object,e));else n.addAll(t);return n}}Xc.exports=["dataset"];const Jc=Xc,$c=async function(t={}){if(!t.body||!t.body.readable)return t;const e=await async function(t){const e=[];for await(const n of t)e.push(n);return e}(t.body);return e.length>0?1===e[0].BYTES_PER_ELEMENT?t.body=function(t){const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);let i=0;for(const e of t)n.set(e,i),i+=e.length;return n}(e):t.body=e.join(""):t.body="",t};var th=n(8059);class eh{constructor(t,e){this.obj=t;for(const[t,n]of Object.entries(e))this[t]=n;for(const e of eh.properties(t))e in this||("function"==typeof this.obj[e]?this[e]=(...n)=>this.obj[e].call(t,n):Object.defineProperty(this,e,{get:()=>this.obj[e],set:t=>{this.obj[e]=t},enumerable:!0,configurable:!0}))}static properties(t){return Object.getOwnPropertyNames(Object.getPrototypeOf(t))}}const nh=eh,ih=function(t){if(t.bodyUsed){const e=new bl.Readable({read:()=>e.destroy(new Error("body already in use"))});return t.body=e,t}return t.body&&t.body.readable?t:t.body&&"function"==typeof t.body.getReader?new nh(t,{body:(n=t.body.getReader(),new bl.Readable({read:async function(){try{let t,e;do{t=await n.read(),t.done?this.push(null):e=!this.push(t.value)}while(!t.done&&!e)}catch(t){this.destroy(t)}}}))}):(t.body=(e=()=>t.arrayBuffer(),new bl.Readable({read:th((async function(){try{this.push(new Uint8Array(await e())),this.push(null)}catch(t){this.destroy(t)}}))})),t);var e,n},rh=window.Headers;function oh(t,e){return $c(e).then((e=>fetch(t,e).then((t=>ih(t)))))}const sh=/<(.*)>/,ah=function(t,e,n){t.quadStream=async()=>{if(!t.headers.get("content-type"))throw new Error("Content-Type header missing: couldn't determine parser");let i=t.headers.get("content-type").split(";")[0];const r=function(t,e){if("application/json"!==e)return null;if(!t.headers.has("link"))return null;const n=t.headers.get("link").split(",").map((t=>t.trim())).find((t=>t.includes('rel="http://www.w3.org/ns/json-ld#context"')));if(!n)return null;const i=(sh.exec(n)||[]).slice(-1)[0];return i?new URL(i,t.url).toString():null}(t,i);if(r&&(i="application/ld+json"),!n.has(i))return Promise.reject(new Error(`unknown content type: ${i}`));let o;return r&&(o=await e(r).then((t=>t.json()))),n.import(i,t.body,{baseIRI:t.url,context:o})}};function gh(t){const e=function(e,n={}){const i="function"==typeof t.dataset?t:null;return async function(t,e={}){const n=e.factory,i=e.fetch||oh,r=e.formats;if(!r)throw new Error("no formats given");e=function(t,e){if(t.headers=new rh(t.headers),t.headers.has("accept")||t.headers.set("accept",[...e.parsers.keys()].join(", ")),!t.body)return t;if("string"==typeof t.body)return t;let n=t.headers.get("content-type");if(n&&!e.serializers.has(n))throw new Error(`no serializer found for media type: ${t.headers.get("content-type")}`);return n||(n=e.serializers.keys().next().value,t.headers.set("content-type",n)),!function(t,{checkOpen:e=!0}={}){return function(t,{checkOpen:e=!0}={}){return null!==t&&"object"==typeof t&&(t.writable||t.readable||!e||void 0===t.writable&&void 0===t.readable)&&"function"==typeof t.pipe}(t,{checkOpen:e})&&(t.readable||!e)&&"function"==typeof t.read&&"boolean"==typeof t.readable&&"boolean"==typeof t.readableObjectMode&&"function"==typeof t.destroy&&"boolean"==typeof t.destroyed}(t.body)&&t.body[Symbol.iterator]&&(t.body=bl.Readable.from(t.body)),t.body=e.serializers.import(n,t.body,{prefixes:t.prefixes}),t}(e,r);return function(t,e,n,i){const r=[...t.headers.keys()].some((t=>t.startsWith("content-"))),o="chunked"===t.headers.get("transfer-encoding");return(r||o)&&(ah(t,n,i),e&&function(t,e){t.dataset=async()=>{const n=await t.quadStream();return async function(t,e){for await(const n of e)t.add(n);return t}(e.dataset(),n)}}(t,e)),t}(await i(t,e),n,i,r.parsers)}(e,{fetch:t._fetch.fetch,formats:t.formats,...n,factory:i})};return e.config=function(e,n){t._fetch[e]=n},e.Headers=rh,e}const lh=class{init(){this._fetch={fetch:null},this.fetch=gh(this)}clone(t){for(const[e,n]of Object.entries(t._fetch))this._fetch[e]=n}},Ah=oh;var ch=n(8690);const hh="null:";const Ch=class{constructor(t,{baseIRI:e=hh,context:n=null,documentLoader:i,factory:r=vl}={}){const o=new ch.JsonLdParser({baseIRI:e,context:n,dataFactory:r,documentLoader:i,streamingProfile:!1});t.pipe(o);const s=function(t){const e=function(t){return e=>"NamedNode"!==e.termType?null:e.value.startsWith(hh)?t.namedNode(e.value.slice(5)):null}(t);return n=>{const i=e(n.subject),r=e(n.predicate),o=e(n.object),s=e(n.graph);return i||r||o||s?t.quad(i||n.subject,r||n.predicate,o||n.object,s||n.graph):n}}(r),a=new bl.Transform({objectMode:!0,transform:(t,e,n)=>{n(null,s(t))}});return o.on("context",(t=>{Object.entries(t).forEach((([t,e])=>{a.emit("prefix",t,r.namedNode(e))}))})),o.on("error",(t=>a.destroy(t))),o.pipe(a),yl(a)}},Ih=class{constructor(t){const e=new bl.Transform({objectMode:!0,transform:(t,e,n)=>{n(null,`${SA(t)}\n`)}});return t.pipe(e),yl(e)}},dh=class extends el{constructor(){super(Ih)}};IA("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),IA("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),IA("http://www.w3.org/2001/XMLSchema#"),bl.Readable;class uh extends Map{import(t,e,n){const i=this.get(t);return i?i.import(e,n):null}}const fh=uh,ph=class{constructor(t){this.stream=t,this.array=[]}push(t){this.array.push(t)}end(){this.stream.push(this.array),this.stream.push(null)}},vh=class{constructor(t){this.stream=t,this.first=!0,this.stream.push("[")}push(t){this.first?this.first=!1:this.stream.push(","),this.stream.push(JSON.stringify(t))}end(){this.stream.push("]"),this.stream.push(null)}};class mh extends bl.Readable{constructor(t,{encoding:e="object"}={}){if(super({objectMode:!0,read:()=>{}}),"object"===e&&(this.encoder=new ph(this)),"string"===e&&(this.encoder=new vh(this)),!this.encoder)throw new Error(`unknown encoding: ${e}`);t.on("data",(t=>{const e={};let n=e;"DefaultGraph"!==t.graph.termType&&(e["@id"]=t.graph.value,e["@graph"]={},n=e["@graph"]),n["@id"]=mh.subjectValue(t.subject),"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===t.predicate.value?n["@type"]=mh.subjectValue(t.object):n[t.predicate.value]=mh.objectValue(t.object),this.encoder.push(e)})),t.on("end",(()=>this.encoder.end())),t.on("error",(t=>this.emit("error",t)))}static subjectValue(t){return"BlankNode"===t.termType?"_:"+t.value:t.value}static objectValue(t){return"NamedNode"===t.termType?{"@id":t.value}:"BlankNode"===t.termType?{"@id":"_:"+t.value}:t.language?{"@language":t.language,"@value":t.value}:t.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==t.datatype.value?{"@type":t.datatype.value,"@value":t.value}:t.value}}const yh=mh,bh=class extends el{constructor(t){super(yh,t)}};n(4841),bl.Readable;var wh=n(5611);class xh extends wh.RdfXmlParser{constructor({factory:t,...e}={}){super({...e,dataFactory:t})}}const Eh=xh,kh={parsers:new fh([["application/ld+json",new class extends el{constructor(t){super(Ch,t)}}],["application/trig",new oA],["application/n-quads",new oA],["application/n-triples",new oA],["text/n3",new oA],["text/turtle",new oA],["application/rdf+xml",new Eh]]),serializers:new fh([["application/ld+json",new class extends bh{constructor({...t}={}){super({...t,encoding:"string"})}}],["application/n-quads",new dh],["application/n-triples",new dh],["text/n3",new dh],["text/turtle",new dh]])},Sh=class{constructor({factory:t}){this.factory=t,this.parsers=new fh,this.serializers=new fh}import(t){if(t.parsers)for(const[e,n]of t.parsers)this.parsers.set(e,new n.constructor({factory:this.factory}));if(t.serializers)for(const[e,n]of t.serializers)this.serializers.set(e,new n.constructor({factory:this.factory}));return this}},Th=class{init(){this.formats=new Sh({factory:this})}clone(t){this.formats.import(t.formats)}},Oh=new aA([Fc,Jc,class extends lh{init(){super.init(),this.fetch.config("fetch",Ah)}},class extends Th{init(){super.init(),this.formats.import(kh)}},Oc,class{init(){this.io={dataset:{fromText:(t,e,n)=>async function(t,e,{factory:n,...i}){const r=n.formats.parsers.get(t);if(!r)throw new Error(`unknown media type: ${t}`);const o=n.dataset(),s=r.import(bl.Readable.from([e]),i);for await(const t of s)o.add(t);return o}(t,e,{...n,factory:this}),fromURL:(t,e)=>async function(t,{factory:e,mediaType:n,...i}){const r=await e.fetch(t,{...i,method:"GET"});return await AA(t,{},r),n&&r.headers.set("content-type",n),r.dataset()}(t,{...e,factory:this}),toText:(t,e,n)=>async function(t,e,{factory:n,prefixes:i,...r}){const o=n.formats.serializers.get(t);if(!o)throw new Error(`unknown media type: ${t}`);const s=o.import(bl.Readable.from(e),{...r,prefixes:i});return lA(s,"utf-8")}(t,e,{...n,factory:this}),toURL:(t,e,n)=>async function(t,e,{factory:n,prefixes:i,...r}){const o=hA(t,bl.Readable.from(e)),s=await n.fetch(t,{...r,...o,prefixes:i});await AA(t,o,s)}(t,e,{...n,factory:this})},stream:{fromText:(t,e,n)=>function(t,e,{factory:n,...i}){const r=n.formats.parsers.get(t);return r?r.import(bl.Readable.from([e]),i):new bl.Readable({read(){this.destroy(new Error(`unknown media type: ${t}`))}})}(t,e,{...n,factory:this}),fromURL:(t,e)=>function(t,{factory:e,mediaType:n,...i}){const r=new bl.PassThrough({objectMode:!0});return setTimeout((async()=>{try{const o=await e.fetch(t,{...i,method:"GET"});await AA(t,{},o),n&&o.headers.set("content-type",n),(await o.quadStream()).on("error",(t=>r.destroy(t))).pipe(r)}catch(t){r.destroy(t)}}),0),yl(r)}(t,{...e,factory:this}),toText:(t,e,n)=>async function(t,e,{factory:n,prefixes:i,...r}){const o=n.formats.serializers.get(t);if(!o)throw new Error(`unknown media type: ${t}`);const s=o.import(e,{...r,prefixes:i});return lA(s,"utf-8")}(t,e,{...n,factory:this}),toURL:(t,e,n)=>async function(t,e,{factory:n,prefixes:i,...r}){const o=hA(t,e),s=await n.fetch(t,{...r,...o,prefixes:i});await AA(t,o,s)}(t,{...n,factory:this})}}}},uA,mA,class{init(){this.score={combine:PA,concat:MA,count:BA,distinct:FA,exists:zA,fallback:VA,fixed:GA,language:UA,pageRank:qA,pathDepth:YA,prioritized:QA,product:KA,scale:yA,sort:XA,sortObjects:JA,sum:NA,type:$A}}},ec,ic,gc],{bind:!0});class Rh extends bl.Readable{constructor(t){super(),this.data=t,this.pushed=!1}_read(){this.pushed||(this.push(this.data),this.push(null),this.pushed=!0)}}class _h{constructor(t){this.logger=t,this.parser=new oA({factory:Oh})}parse(t,e={}){try{const n=new Rh(t),i=this.parser.import(n),r=[];let o={};i.on("data",(t=>{e.onTriple&&e.onTriple(t),r.push(t)})),i.on("prefix",((t,e)=>{o[t]=e})),i.on("error",(t=>{e.onError&&e.onError(this._formatError(t))})),i.on("end",(()=>{try{const t=Oh.dataset(r);e.onComplete&&e.onComplete(o,t)}catch(t){e.onError&&e.onError(this._formatError(t))}}))}catch(t){e.onError&&e.onError(this._formatError(t))}}_formatError(t){let e=1,n=0;const i=t.message.match(/line (\d+)/i);i&&(e=parseInt(i[1],10));const r=t.message.match(/column (\d+)/i);return r&&(n=parseInt(r[1],10)),{message:t.message,line:e,column:n}}parseTriples(t){return new Promise(((e,n)=>{const i=[];let r={};this.parse(t,{onError:t=>{n(t)},onTriple:t=>{i.push(t)},onComplete:(t,n)=>{r=t||{},e({triples:i,prefixes:r})}})}))}async isValid(t){try{return await this.parseTriples(t),!0}catch(t){return!1}}}class Nh{static splitNamespace(t){if(t&&"object"==typeof t&&t.value&&(t=t.value),!t||"string"!=typeof t)return{namespace:"",name:""};if(this.isLiteral(t))return{namespace:"",name:t};const e=t.lastIndexOf("#"),n=t.lastIndexOf("/"),i=Math.max(e,n)+1;return i<=0?{namespace:"",name:t}:{namespace:t.substring(0,i),name:t.substring(i)}}static isLiteral(t){if(t&&"object"==typeof t){if("Literal"===t.termType)return!0;if(!t.value)return!1;t=t.value}return!(!t||"string"!=typeof t)&&(t.startsWith('"')||t.startsWith("'")||/^[+-]?\d+(\.\d+)?$/.test(t)||"true"===t||"false"===t)}static shrinkUri(t,e){if(t&&"object"==typeof t&&t.value&&(t=t.value),!t||"string"!=typeof t||this.isLiteral(t))return t;for(const[n,i]of Object.entries(e))if(t.startsWith(i)){const e=t.substring(i.length);if(e&&!e.startsWith("http"))return`${n}:${e}`}for(const[n,i]of Object.entries(e)){const{namespace:e,name:r}=this.splitNamespace(t);if(e===i&&r&&!r.startsWith("http"))return`${n}:${r}`}return t}static expandPrefixed(t,e){if(t&&"object"==typeof t&&t.value&&(t=t.value),!t||"string"!=typeof t||this.isLiteral(t))return t;if("a"===t)return"http://www.w3.org/1999/02/22-rdf-syntax-ns#type";const n=t.indexOf(":");if(-1===n)return t;const i=t.substring(0,n),r=t.substring(n+1);return e[i]?`${e[i]}${r}`:t}static extractBaseUri(t){if(!t||"string"!=typeof t)return null;const e=t.match(/@base\s+<([^>]+)>\s*\./);return e?e[1]:null}static extractPrefixes(t){if(!t||"string"!=typeof t)return{};const e={},n=/@prefix\s+([a-zA-Z0-9_-]+):\s+<([^>]+)>\s*\./g;let i;for(;null!==(i=n.exec(t));)e[i[1]]=i[2];return e}static getLabel(t,e,n=30){if(t&&"object"==typeof t){if("Literal"===t.termType){const e=t.value||"";return e.length<=n||0===n?`"${e}"${t.language?`@${t.language}`:""}`:`"${e.substring(0,n-3)}..."${t.language?`@${t.language}`:""}`}t.value&&(t=t.value)}if(!t||"string"!=typeof t)return"";if(this.isLiteral(t))return n>0&&t.length>n?`${t.substring(0,n-3)}...`:t;const i=this.shrinkUri(t,e);return i===t?this.splitNamespace(t).name||t:n>0&&i.length>n?`${i.substring(0,n-3)}...`:i}}const Dh=Ea.define({name:"turtle",tokenTable:{prefix:Ps.keyword,base:Ps.keyword,prefixName:Ps.definition,prefixDeclaration:Ps.special(Ps.variableName),iri:Ps.special(Ps.string),a:Ps.atom,semicolon:Ps.operator,dot:Ps.operator,comma:Ps.operator,type:Ps.typeName,literal:Ps.string,comment:Ps.comment,bracket:Ps.bracket,number:Ps.number,boolean:Ps.bool,predicate:Ps.propertyName,datatype:Ps.labelName,lang:Ps.meta,error:Ps.invalid,namespacePrefix:Ps.moduleKeyword,localName:Ps.variableName},startState:function(){return{inPrefix:!1,inBase:!1,inIri:!1,inString:!1,inComment:!1,inEscapeSequence:!1,stringDelimiter:null,prefixStart:!1,triplePartCnt:0,subject:null,predicate:null,object:null,lookingFor:"subject"}},token:function(t,e){if("#"===t.peek())return t.skipToEnd(),"comment";if(t.sol()&&("object"===e.lookingFor&&null!==e.predicate||(e.lookingFor="subject")),t.eatSpace())return null;if(t.match("@prefix",!0,!0))return e.inPrefix=!0,e.prefixStart=!0,"prefix";if(t.match("@base",!0,!0))return e.inBase=!0,"base";if(e.inPrefix&&e.prefixStart&&(t.match(/[a-zA-Z0-9_-]+:/,!0)||t.match(/:/,!0)))return e.prefixStart=!1,"prefixDeclaration";if(t.match(/a\b/,!0))return"predicate"===e.lookingFor&&(e.predicate=!0,e.lookingFor="object"),"a";if("<"===t.peek()){e.inIri=!0,t.next();const n=t.string.slice(t.pos).indexOf(">");if(-1!==n){if(t.pos+=n,t.next(),e.inIri=!1,e.inPrefix||e.inBase)e.inPrefix=!1,e.inBase=!1;else if("subject"===e.lookingFor)e.subject=!0,e.lookingFor="predicate";else{if("predicate"===e.lookingFor)return e.predicate=!0,e.lookingFor="object","predicate";"object"===e.lookingFor&&(e.object=!0,e.lookingFor="predicate")}return"iri"}return t.skipToEnd(),"iri"}if('"'===t.peek()||"'"===t.peek()){for(e.stringDelimiter=t.peek(),e.inString=!0,t.next(),'"'===e.stringDelimiter&&'"'===t.peek()&&'"'===t.string.charAt(t.pos+1)&&(t.next(),t.next(),e.stringDelimiter='"""'),"'"===e.stringDelimiter&&"'"===t.peek()&&"'"===t.string.charAt(t.pos+1)&&(t.next(),t.next(),e.stringDelimiter="'''");!t.eol();)if(e.inEscapeSequence)t.next(),e.inEscapeSequence=!1;else if("\\"!==t.peek()){if('"""'===e.stringDelimiter){if('"'===t.peek()&&'"'===t.string.charAt(t.pos+1)&&'"'===t.string.charAt(t.pos+2)){t.next(),t.next(),t.next(),e.inString=!1,e.stringDelimiter=null;break}}else if("'''"===e.stringDelimiter){if("'"===t.peek()&&"'"===t.string.charAt(t.pos+1)&&"'"===t.string.charAt(t.pos+2)){t.next(),t.next(),t.next(),e.inString=!1,e.stringDelimiter=null;break}}else if(t.peek()===e.stringDelimiter){t.next(),e.inString=!1,e.stringDelimiter=null;break}t.next()}else e.inEscapeSequence=!0,t.next();return e.inString||"@"!==t.peek()?e.inString||"^"!==t.peek()||"^"!==t.string.charAt(t.pos+1)?("object"===e.lookingFor&&(e.object=!0,e.lookingFor="predicate"),"literal"):(t.next(),t.next(),"datatype"):(t.next(),t.eatWhile(/[a-zA-Z0-9-]/),"lang")}return t.match(/[a-zA-Z0-9_-]+:/,!1)?(t.string.slice(t.pos).match(/^[a-zA-Z0-9_-]+:/)[0],t.match(/[a-zA-Z0-9_-]+:/,!0),"predicate"===e.lookingFor?(e.predicate=!0,e.lookingFor="object","namespacePrefix"):"namespacePrefix"):t.match(/[a-zA-Z0-9_\-.%]+/,!0)?("subject"===e.lookingFor?(e.subject=!0,e.lookingFor="predicate"):"object"===e.lookingFor&&(e.object=!0,e.lookingFor="predicate"),"localName"):"."===t.peek()?(t.next(),e.subject=null,e.predicate=null,e.object=null,e.lookingFor="subject","dot"):";"===t.peek()?(t.next(),e.predicate=null,e.object=null,e.lookingFor="predicate","semicolon"):","===t.peek()?(t.next(),e.object=null,e.lookingFor="object","comma"):t.match(/_:[a-zA-Z0-9_-]+/,!0)?("subject"===e.lookingFor?(e.subject=!0,e.lookingFor="predicate"):"object"===e.lookingFor&&(e.object=!0,e.lookingFor="predicate"),"type"):t.match(/[+-]?[0-9]+(\.[0-9]*)?([eE][+-]?[0-9]+)?/,!0)?("object"===e.lookingFor&&(e.object=!0,e.lookingFor="predicate"),"number"):t.match(/true|false/,!0)?("object"===e.lookingFor&&(e.object=!0,e.lookingFor="predicate"),"boolean"):t.match(/[\[\]\(\)]/,!0)?"bracket":(t.next(),"error")}}),Ph=Vt.define();class Mh extends Go{constructor(){super()}toDOM(){const t=document.createElement("div");return t.className="cm-error-gutter",t.textContent="âš ",t.title="Syntax error",t}}const Lh=bt.define({create:()=>_n.none,update(t,e){t=t.map(e.changes);for(const n of e.effects)if(n.is(Ph)){const{line:i,message:r}=n.value;if(i<=0)continue;let o=0;for(let t=1;t<i;t++){const n=e.state.doc.line(t).to;if(void 0===n)break;o=n+1}const s=e.state.doc.lineAt(o);t=_n.set([_n.line({class:"cm-error-line",attributes:{title:r}}).range(s.from)])}return t},provide:t=>ko.decorations.from(t)}),jh=(Bh={class:"cm-error-gutter",markers:t=>{const e=t.state.field(Lh,!1);return e?e.update({filter:e=>t.state.doc.lineAt(e).from===e,map:t=>_n.set([_n.widget({widget:new Mh,side:-1}).range(t)])}):_n.none},initialSpacer:()=>new Mh},[Yo(),Ho.of(Object.assign(Object.assign({},Zo),Bh))]);var Bh;const Fh=Vt.define(),zh=bt.define({create:()=>_n.none,update(t,e){t=t.map(e.changes);for(const t of e.effects)if(t.is(Fh)){const n=t.value;if(!n)return _n.none;const i=e.state.doc.toString(),r=[],o=[`<${n}>`,Nh.isLiteral(n)?null:Nh.shrinkUri(n,{})].filter(Boolean);for(const t of o){let e=i.indexOf(t);for(;-1!==e;)r.push(_n.mark({class:"cm-highlight",attributes:{title:"Selected node"}}).range(e,e+t.length)),e=i.indexOf(t,e+t.length)}if(Nh.isLiteral(n)){const t=n.startsWith('"')?n.substring(1,n.lastIndexOf('"')):n;let e=i.indexOf(t);for(;-1!==e;){const n=i.substring(Math.max(0,e-2),e),o=i.substring(e+t.length,Math.min(i.length,e+t.length+2));(n.includes('"')||o.includes('"')||n.includes("'")||o.includes("'"))&&r.push(_n.mark({class:"cm-highlight",attributes:{title:"Selected node"}}).range(e,e+t.length)),e=i.indexOf(t,e+t.length)}}return _n.set(r)}return t},provide:t=>ko.decorations.from(t)}),Vh=new class{constructor(){this.listeners=new Map}on(t,e){return this.listeners.has(t)||this.listeners.set(t,new Set),this.listeners.get(t).add(e),()=>{const n=this.listeners.get(t);n&&(n.delete(e),0===n.size&&this.listeners.delete(t))}}emit(t,e){const n=this.listeners.get(t);n&&n.forEach((t=>{try{t(e)}catch(t){}}))}removeAllListeners(t){t?this.listeners.delete(t):this.listeners.clear()}},Gh="rdf:model:synced",Uh="endpoint:updated";class Wh{constructor(t,e){this.element=t,this.logger=e,this.view=null,this.parser=new _h(e),this.changeCallbacks=[],this.syntaxCheckState="pending",this.prefixes={},this.dynamicNames={},this.syntaxCheckTimeout=null}initialize(){this._addSyntaxStyles();const t=Jt.create({doc:this.element.value,extensions:[as(),Fo(),Po.of(tl),Dh,za,[Lh,jh],[zh],ko.updateListener.of((t=>{t.docChanged&&this._onContentChange()}))]});this.view=new ko({state:t,parent:this.element.parentNode}),this.element.style.display="none",this._onContentChange(),this.logger.debug("Editor initialized with Turtle syntax highlighting")}_addSyntaxStyles(){const t=document.createElement("style");t.textContent="\n      /* CodeMirror 6 syntax highlighting */\n      .cm-content .tok-keyword { color: #7e57c2; font-weight: bold; }\n      .cm-content .tok-definition { color: #0277bd; font-weight: bold; }\n      .cm-content .tok-string { color: #d81b60; }\n      .cm-content .tok-comment { color: #546e7a; font-style: italic; }\n      .cm-content .tok-number { color: #00796b; }\n      .cm-content .tok-bool { color: #2e7d32; }\n      .cm-content .tok-operator { color: #ff6f00; font-weight: bold; }\n      .cm-content .tok-propertyName { color: #6200ea; font-weight: bold; }\n      .cm-content .tok-atom { color: #f57c00; font-weight: bold; }\n      .cm-content .tok-typeName { color: #039be5; }\n      .cm-content .tok-invalid { color: #c62828; text-decoration: wavy underline; }\n      .cm-content .tok-bracket { color: #616161; }\n      \n      /* Override for namespace URIs */\n      .cm-iri, .cm-content .cm-iri { color: #FFA500; font-weight: bold; }\n      \n      /* Node highlighting */\n      .cm-highlight {\n        background-color: rgba(144, 238, 144, 0.4);\n        border-radius: 2px;\n        transition: background-color 0.2s ease;\n        text-decoration: underline;\n        text-decoration-style: wavy;\n        text-decoration-color: darkgreen;\n      }\n\n      .cm-highlight:hover {\n        background-color: rgba(144, 238, 144, 0.7);\n      }\n\n      @keyframes highlight-pulse {\n        0% { background-color: rgba(144, 238, 144, 0.3); }\n        50% { background-color: rgba(144, 238, 144, 0.8); }\n        100% { background-color: rgba(144, 238, 144, 0.3); }\n      }\n\n      .cm-highlight.pulse {\n        animation: highlight-pulse 1s ease;\n      }\n    ",document.head.appendChild(t)}_onContentChange(){this.element.value=this.getValue(),clearTimeout(this.syntaxCheckTimeout),this.syntaxCheckTimeout=setTimeout((()=>{this.checkSyntax()}),500),this._notifyChangeListeners()}_notifyChangeListeners(){const t=this.getValue();Vh.emit(Gh,t),this.changeCallbacks.forEach((e=>e(t)))}getValue(){return this.view?this.view.state.doc.toString():this.element.value}setValue(t){this.view?(this.view.dispatch({changes:{from:0,to:this.view.state.doc.length,insert:t}}),this.prefixes={},this.dynamicNames={},this.checkSyntax()):this.element.value=t}checkSyntax(){this.changeSyntaxCheckState("working");const t=this.getValue();t.trim()?this.parser.parse(t,{onError:t=>{this.changeSyntaxCheckState("failed",t.message),this.view&&t.line&&this.view.dispatch({effects:Ph.of({line:t.line,message:t.message})})},onTriple:t=>{const e=Nh.splitNamespace(t.subject),n=Nh.splitNamespace(t.predicate),i=Nh.splitNamespace(t.object);this._addToDynamicNames(e.namespace,e.name),this._addToDynamicNames(n.namespace,n.name),this._addToDynamicNames(i.namespace,i.name)},onComplete:t=>{this.prefixes=t||{},this.changeSyntaxCheckState("passed"),this.view&&this.view.dispatch({effects:Ph.of({line:0,message:""})})}}):this.changeSyntaxCheckState("passed")}_addToDynamicNames(t,e){t&&e&&(this.dynamicNames[t]=this.dynamicNames[t]||{},this.dynamicNames[t][e]=!0)}highlightNode(t){if(!t||!this.view)return;this.view.dispatch({effects:Fh.of(t)}),this.logger.debug(`Highlighting node: ${t}`);const e=this.view.state.doc.toString();let n=[`<${t}>`,Nh.isLiteral(t)?null:Nh.shrinkUri(t,this.prefixes)].filter(Boolean);Nh.isLiteral(t)&&(n.push(t),t.startsWith('"')&&t.endsWith('"')&&n.push(t.substring(1,t.length-1)));let i=-1;for(const t of n){const n=e.indexOf(t);-1!==n&&(-1===i||n<i)&&(i=n)}-1!==i&&(this.view.state.doc.lineAt(i),this.view.dispatch({effects:ko.scrollIntoView(i,{y:"center"})}),setTimeout((()=>{document.querySelectorAll(".cm-highlight").forEach((t=>{t.classList.add("pulse"),setTimeout((()=>{t.classList.remove("pulse")}),1e3)}))}),100))}changeSyntaxCheckState(t,e){if(t===this.syntaxCheckState)return;this.syntaxCheckState=t;const n=new("undefined"!=typeof window&&window.CustomEvent?window.CustomEvent:CustomEvent)("syntax-check-state-change",{detail:{state:t,error:e}});document.dispatchEvent(n)}onChange(t){this.changeCallbacks.push(t)}offChange(t){const e=this.changeCallbacks.indexOf(t);-1!==e&&this.changeCallbacks.splice(e,1)}getPrefixes(){return this.prefixes}getDynamicNames(){return this.dynamicNames}}const Zh=ha(ga.define([{tag:Ps.keyword,color:"#7e57c2",fontWeight:"bold"},{tag:Ps.variableName,color:"#039be5"},{tag:Ps.string,color:"#d81b60"},{tag:Ps.special(Ps.string),color:"#FFA500",fontWeight:"bold"},{tag:Ps.comment,color:"#546e7a",fontStyle:"italic"},{tag:Ps.number,color:"#00796b"},{tag:Ps.bool,color:"#2e7d32"},{tag:Ps.operator,color:"#ff6f00",fontWeight:"bold"},{tag:Ps.propertyName,color:"#6200ea",fontWeight:"bold"},{tag:Ps.atom,color:"#f57c00",fontWeight:"bold"},{tag:Ps.bracket,color:"#616161"},{tag:Ps.labelName,color:"#9900cc"},{tag:Ps.meta,color:"#9900cc"}])),Hh=Ea.define({name:"sparql",tokenTable:{keyword:Ps.keyword,variableName:Ps.variableName,string:Ps.string,comment:Ps.comment,atom:Ps.atom,bracket:Ps.bracket,number:Ps.number,bool:Ps.bool,uri:Ps.special(Ps.string),predicate:Ps.propertyName,datatype:Ps.labelName,lang:Ps.meta,operator:Ps.operator},startState:()=>({inString:!1,stringType:null}),token:(t,e)=>t.match(/^#.*/)?(t.skipToEnd(),"comment"):t.match(/^(PREFIX|BASE|SELECT|WHERE|ASK|CONSTRUCT|DESCRIBE|FROM|NAMED|FILTER|OPTIONAL|UNION|GRAPH|SERVICE|MINUS|BIND|VALUES|GROUP|BY|HAVING|ORDER|ASC|DESC|LIMIT|OFFSET)\b/i)?"keyword":t.match(/^[\?\$][\w\d_]*/)?"variableName":t.match(/^<[^>]*>/)?"uri":t.match(/^\"([^\"\\]|\\.)*\"(@[a-zA-Z\-]+)?(\^\^[^\s]+)?/)?"string":t.match(/^(a)\b/)?"atom":t.match(/^[\{\}\(\)\[\]]/)?"bracket":t.match(/^[;,\.]/)?"operator":t.match(/^[+-]?\d+(\.\d+)?([eE][+-]?\d+)?/)?"number":t.match(/^(true|false)\b/i)?"bool":t.match(/^[a-zA-Z][a-zA-Z0-9_-]*:[a-zA-Z0-9_-]+/)?"predicate":(t.eatSpace()||t.next(),null)});class qh{constructor(t,e){this.element=t,this.logger=e,this.view=null,this.changeCallbacks=[]}initialize(){const t=Jt.create({doc:this.element.value,extensions:[as(),Fo(),Po.of(tl),Hh,Zh,ko.updateListener.of((t=>{t.docChanged&&this._onContentChange()}))]});this.view=new ko({state:t,parent:this.element.parentNode}),this.element.style.display="none"}onContentChange(t){this.changeCallbacks.push(t)}_onContentChange(){const t=this.view.state.doc.toString();this.changeCallbacks.forEach((e=>e(t)))}setValue(t){this.view.dispatch({changes:{from:0,to:this.view.state.doc.length,insert:t}})}getValue(){return this.view.state.doc.toString()}}var Yh="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function Qh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kh=function(t){return t&&t.Math===Math&&t},Xh=Kh("object"==typeof globalThis&&globalThis)||Kh("object"==typeof window&&window)||Kh("object"==typeof self&&self)||Kh("object"==typeof Yh&&Yh)||function(){return this}()||Yh||Function("return this")(),Jh=function(t){try{return!!t()}catch(t){return!0}},$h=!Jh((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),tC=$h,eC=Function.prototype,nC=eC.apply,iC=eC.call,rC="object"==typeof Reflect&&Reflect.apply||(tC?iC.bind(nC):function(){return iC.apply(nC,arguments)}),oC=$h,sC=Function.prototype,aC=sC.call,gC=oC&&sC.bind.bind(aC,aC),lC=oC?gC:function(t){return function(){return aC.apply(t,arguments)}},AC=lC,cC=AC({}.toString),hC=AC("".slice),CC=function(t){return hC(cC(t),8,-1)},IC=CC,dC=lC,uC=function(t){if("Function"===IC(t))return dC(t)},fC="object"==typeof document&&document.all,pC={all:fC,IS_HTMLDDA:void 0===fC&&void 0!==fC},vC=pC.all,mC=pC.IS_HTMLDDA?function(t){return"function"==typeof t||t===vC}:function(t){return"function"==typeof t},yC={},bC=!Jh((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),wC=$h,xC=Function.prototype.call,EC=wC?xC.bind(xC):function(){return xC.apply(xC,arguments)},kC={},SC={}.propertyIsEnumerable,TC=Object.getOwnPropertyDescriptor,OC=TC&&!SC.call({1:2},1);kC.f=OC?function(t){var e=TC(this,t);return!!e&&e.enumerable}:SC;var RC,_C,NC=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},DC=Jh,PC=CC,MC=Object,LC=lC("".split),jC=DC((function(){return!MC("z").propertyIsEnumerable(0)}))?function(t){return"String"===PC(t)?LC(t,""):MC(t)}:MC,BC=function(t){return null==t},FC=BC,zC=TypeError,VC=function(t){if(FC(t))throw new zC("Can't call method on "+t);return t},GC=jC,UC=VC,WC=function(t){return GC(UC(t))},ZC=mC,HC=pC.all,qC=pC.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:ZC(t)||t===HC}:function(t){return"object"==typeof t?null!==t:ZC(t)},YC={},QC=YC,KC=Xh,XC=mC,JC=function(t){return XC(t)?t:void 0},$C=function(t,e){return arguments.length<2?JC(QC[t])||JC(KC[t]):QC[t]&&QC[t][e]||KC[t]&&KC[t][e]},tI=lC({}.isPrototypeOf),eI="undefined"!=typeof navigator&&String(navigator.userAgent)||"",nI=Xh,iI=eI,rI=nI.process,oI=nI.Deno,sI=rI&&rI.versions||oI&&oI.version,aI=sI&&sI.v8;aI&&(_C=(RC=aI.split("."))[0]>0&&RC[0]<4?1:+(RC[0]+RC[1])),!_C&&iI&&(!(RC=iI.match(/Edge\/(\d+)/))||RC[1]>=74)&&(RC=iI.match(/Chrome\/(\d+)/))&&(_C=+RC[1]);var gI=_C,lI=gI,AI=Jh,cI=Xh.String,hI=!!Object.getOwnPropertySymbols&&!AI((function(){var t=Symbol("symbol detection");return!cI(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&lI&&lI<41})),CI=hI&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,II=$C,dI=mC,uI=tI,fI=Object,pI=CI?function(t){return"symbol"==typeof t}:function(t){var e=II("Symbol");return dI(e)&&uI(e.prototype,fI(t))},vI=String,mI=function(t){try{return vI(t)}catch(t){return"Object"}},yI=mC,bI=mI,wI=TypeError,xI=function(t){if(yI(t))return t;throw new wI(bI(t)+" is not a function")},EI=xI,kI=BC,SI=function(t,e){var n=t[e];return kI(n)?void 0:EI(n)},TI=EC,OI=mC,RI=qC,_I=TypeError,NI={exports:{}},DI=Xh,PI=Object.defineProperty,MI="__core-js_shared__",LI=Xh[MI]||function(t,e){try{PI(DI,t,{value:e,configurable:!0,writable:!0})}catch(n){DI[t]=e}return e}(MI,{}),jI=LI;(NI.exports=function(t,e){return jI[t]||(jI[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.0",mode:"pure",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"});var BI=NI.exports,FI=VC,zI=Object,VI=function(t){return zI(FI(t))},GI=VI,UI=lC({}.hasOwnProperty),WI=Object.hasOwn||function(t,e){return UI(GI(t),e)},ZI=lC,HI=0,qI=Math.random(),YI=ZI(1..toString),QI=function(t){return"Symbol("+(void 0===t?"":t)+")_"+YI(++HI+qI,36)},KI=BI,XI=WI,JI=QI,$I=hI,td=CI,ed=Xh.Symbol,nd=KI("wks"),id=td?ed.for||ed:ed&&ed.withoutSetter||JI,rd=function(t){return XI(nd,t)||(nd[t]=$I&&XI(ed,t)?ed[t]:id("Symbol."+t)),nd[t]},od=EC,sd=qC,ad=pI,gd=SI,ld=TypeError,Ad=rd("toPrimitive"),cd=function(t,e){if(!sd(t)||ad(t))return t;var n,i=gd(t,Ad);if(i){if(void 0===e&&(e="default"),n=od(i,t,e),!sd(n)||ad(n))return n;throw new ld("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var n,i;if("string"===e&&OI(n=t.toString)&&!RI(i=TI(n,t)))return i;if(OI(n=t.valueOf)&&!RI(i=TI(n,t)))return i;if("string"!==e&&OI(n=t.toString)&&!RI(i=TI(n,t)))return i;throw new _I("Can't convert object to primitive value")}(t,e)},hd=pI,Cd=function(t){var e=cd(t,"string");return hd(e)?e:e+""},Id=qC,dd=Xh.document,ud=Id(dd)&&Id(dd.createElement),fd=function(t){return ud?dd.createElement(t):{}},pd=fd,vd=!bC&&!Jh((function(){return 7!==Object.defineProperty(pd("div"),"a",{get:function(){return 7}}).a})),md=bC,yd=EC,bd=kC,wd=NC,xd=WC,Ed=Cd,kd=WI,Sd=vd,Td=Object.getOwnPropertyDescriptor;yC.f=md?Td:function(t,e){if(t=xd(t),e=Ed(e),Sd)try{return Td(t,e)}catch(t){}if(kd(t,e))return wd(!yd(bd.f,t,e),t[e])};var Od=Jh,Rd=mC,_d=/#|\.prototype\./,Nd=function(t,e){var n=Pd[Dd(t)];return n===Ld||n!==Md&&(Rd(e)?Od(e):!!e)},Dd=Nd.normalize=function(t){return String(t).replace(_d,".").toLowerCase()},Pd=Nd.data={},Md=Nd.NATIVE="N",Ld=Nd.POLYFILL="P",jd=Nd,Bd=xI,Fd=$h,zd=uC(uC.bind),Vd=function(t,e){return Bd(t),void 0===e?t:Fd?zd(t,e):function(){return t.apply(e,arguments)}},Gd={},Ud=bC&&Jh((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Wd=qC,Zd=String,Hd=TypeError,qd=function(t){if(Wd(t))return t;throw new Hd(Zd(t)+" is not an object")},Yd=bC,Qd=vd,Kd=Ud,Xd=qd,Jd=Cd,$d=TypeError,tu=Object.defineProperty,eu=Object.getOwnPropertyDescriptor,nu="enumerable",iu="configurable",ru="writable";Gd.f=Yd?Kd?function(t,e,n){if(Xd(t),e=Jd(e),Xd(n),"function"==typeof t&&"prototype"===e&&"value"in n&&ru in n&&!n[ru]){var i=eu(t,e);i&&i[ru]&&(t[e]=n.value,n={configurable:iu in n?n[iu]:i[iu],enumerable:nu in n?n[nu]:i[nu],writable:!1})}return tu(t,e,n)}:tu:function(t,e,n){if(Xd(t),e=Jd(e),Xd(n),Qd)try{return tu(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new $d("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var ou=Gd,su=NC,au=bC?function(t,e,n){return ou.f(t,e,su(1,n))}:function(t,e,n){return t[e]=n,t},gu=Xh,lu=rC,Au=uC,cu=mC,hu=yC.f,Cu=jd,Iu=YC,du=Vd,uu=au,fu=WI,pu=function(t){var e=function(n,i,r){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,i)}return new t(n,i,r)}return lu(t,this,arguments)};return e.prototype=t.prototype,e},vu=function(t,e){var n,i,r,o,s,a,g,l,A,c=t.target,h=t.global,C=t.stat,I=t.proto,d=h?gu:C?gu[c]:(gu[c]||{}).prototype,u=h?Iu:Iu[c]||uu(Iu,c,{})[c],f=u.prototype;for(o in e)i=!(n=Cu(h?o:c+(C?".":"#")+o,t.forced))&&d&&fu(d,o),a=u[o],i&&(g=t.dontCallGetSet?(A=hu(d,o))&&A.value:d[o]),s=i&&g?g:e[o],i&&typeof a==typeof s||(l=t.bind&&i?du(s,gu):t.wrap&&i?pu(s):I&&cu(s)?Au(s):s,(t.sham||s&&s.sham||a&&a.sham)&&uu(l,"sham",!0),uu(u,o,l),I&&(fu(Iu,r=c+"Prototype")||uu(Iu,r,{}),uu(Iu[r],o,s),t.real&&f&&(n||!f[o])&&uu(f,o,s)))},mu=Math.ceil,yu=Math.floor,bu=Math.trunc||function(t){var e=+t;return(e>0?yu:mu)(e)},wu=function(t){var e=+t;return e!=e||0===e?0:bu(e)},xu=wu,Eu=Math.max,ku=Math.min,Su=function(t,e){var n=xu(t);return n<0?Eu(n+e,0):ku(n,e)},Tu=wu,Ou=Math.min,Ru=function(t){return(e=t.length)>0?Ou(Tu(e),9007199254740991):0;var e},_u=WC,Nu=Su,Du=Ru,Pu=function(t){return function(e,n,i){var r,o=_u(e),s=Du(o),a=Nu(i,s);if(t&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},Mu={includes:Pu(!0),indexOf:Pu(!1)},Lu={},ju=WI,Bu=WC,Fu=Mu.indexOf,zu=Lu,Vu=lC([].push),Gu=function(t,e){var n,i=Bu(t),r=0,o=[];for(n in i)!ju(zu,n)&&ju(i,n)&&Vu(o,n);for(;e.length>r;)ju(i,n=e[r++])&&(~Fu(o,n)||Vu(o,n));return o},Uu=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Wu=Gu,Zu=Uu,Hu=Object.keys||function(t){return Wu(t,Zu)},qu={};qu.f=Object.getOwnPropertySymbols;var Yu=bC,Qu=lC,Ku=EC,Xu=Jh,Ju=Hu,$u=qu,tf=kC,ef=VI,nf=jC,rf=Object.assign,of=Object.defineProperty,sf=Qu([].concat),af=!rf||Xu((function(){if(Yu&&1!==rf({b:1},rf(of({},"a",{enumerable:!0,get:function(){of(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!==rf({},t)[n]||Ju(rf({},e)).join("")!==i}))?function(t,e){for(var n=ef(t),i=arguments.length,r=1,o=$u.f,s=tf.f;i>r;)for(var a,g=nf(arguments[r++]),l=o?sf(Ju(g),o(g)):Ju(g),A=l.length,c=0;A>c;)a=l[c++],Yu&&!Ku(s,g,a)||(n[a]=g[a]);return n}:rf;vu({target:"Object",stat:!0,arity:2,forced:Object.assign!==af},{assign:af});var gf=Qh(YC.Object.assign),lf=lC([].slice),Af=lC,cf=xI,hf=qC,Cf=WI,If=lf,df=$h,uf=Function,ff=Af([].concat),pf=Af([].join),vf={},mf=df?uf.bind:function(t){var e=cf(this),n=e.prototype,i=If(arguments,1),r=function(){var n=ff(i,If(arguments));return this instanceof r?function(t,e,n){if(!Cf(vf,e)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";vf[e]=uf("C,a","return new C("+pf(i,",")+")")}return vf[e](t,n)}(e,n.length,n):e.apply(t,n)};return hf(n)&&(r.prototype=n),r},yf=mf;vu({target:"Function",proto:!0,forced:Function.bind!==yf},{bind:yf});var bf=YC,wf=function(t){return bf[t+"Prototype"]},xf=wf("Function").bind,Ef=tI,kf=xf,Sf=Function.prototype,Tf=function(t){var e=t.bind;return t===Sf||Ef(Sf,t)&&e===Sf.bind?kf:e},Of=Qh(Tf);function Rf(t,e,n,i){t.beginPath(),t.arc(e,n,i,0,2*Math.PI,!1),t.closePath()}function _f(t,e,n,i,r,o){var s=Math.PI/180;i-2*o<0&&(o=i/2),r-2*o<0&&(o=r/2),t.beginPath(),t.moveTo(e+o,n),t.lineTo(e+i-o,n),t.arc(e+i-o,n+o,o,270*s,360*s,!1),t.lineTo(e+i,n+r-o),t.arc(e+i-o,n+r-o,o,0,90*s,!1),t.lineTo(e+o,n+r),t.arc(e+o,n+r-o,o,90*s,180*s,!1),t.lineTo(e,n+o),t.arc(e+o,n+o,o,180*s,270*s,!1),t.closePath()}function Nf(t,e,n,i,r){var o=.5522848,s=i/2*o,a=r/2*o,g=e+i,l=n+r,A=e+i/2,c=n+r/2;t.beginPath(),t.moveTo(e,c),t.bezierCurveTo(e,c-a,A-s,n,A,n),t.bezierCurveTo(A+s,n,g,c-a,g,c),t.bezierCurveTo(g,c+a,A+s,l,A,l),t.bezierCurveTo(A-s,l,e,c+a,e,c),t.closePath()}function Df(t,e,n,i,r){var o=r*(1/3),s=.5522848,a=i/2*s,g=o/2*s,l=e+i,A=n+o,c=e+i/2,h=n+o/2,C=n+(r-o/2),I=n+r;t.beginPath(),t.moveTo(l,h),t.bezierCurveTo(l,h+g,c+a,A,c,A),t.bezierCurveTo(c-a,A,e,h+g,e,h),t.bezierCurveTo(e,h-g,c-a,n,c,n),t.bezierCurveTo(c+a,n,l,h-g,l,h),t.lineTo(l,C),t.bezierCurveTo(l,C+g,c+a,I,c,I),t.bezierCurveTo(c-a,I,e,C+g,e,C),t.lineTo(e,h)}function Pf(t,e,n,i,r,o){t.beginPath(),t.moveTo(e,n);for(var s=o.length,a=i-e,g=r-n,l=g/a,A=Math.sqrt(a*a+g*g),c=0,h=!0,C=0,I=+o[0];A>=.1;)(I=+o[c++%s])>A&&(I=A),C=Math.sqrt(I*I/(1+l*l)),e+=C=a<0?-C:C,n+=l*C,!0===h?t.lineTo(e,n):t.moveTo(e,n),A-=I,h=!h}var Mf={circle:Rf,dashedLine:Pf,database:Df,diamond:function(t,e,n,i){t.beginPath(),t.lineTo(e,n+i),t.lineTo(e+i,n),t.lineTo(e,n-i),t.lineTo(e-i,n),t.closePath()},ellipse:Nf,ellipse_vis:Nf,hexagon:function(t,e,n,i){t.beginPath();var r=2*Math.PI/6;t.moveTo(e+i,n);for(var o=1;o<6;o++)t.lineTo(e+i*Math.cos(r*o),n+i*Math.sin(r*o));t.closePath()},roundRect:_f,square:function(t,e,n,i){t.beginPath(),t.rect(e-i,n-i,2*i,2*i),t.closePath()},star:function(t,e,n,i){t.beginPath(),n+=.1*(i*=.82);for(var r=0;r<10;r++){var o=r%2==0?1.3*i:.5*i;t.lineTo(e+o*Math.sin(2*r*Math.PI/10),n-o*Math.cos(2*r*Math.PI/10))}t.closePath()},triangle:function(t,e,n,i){t.beginPath(),n+=.275*(i*=1.15);var r=2*i,o=r/2,s=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-o*o);t.moveTo(e,n-(a-s)),t.lineTo(e+o,n+s),t.lineTo(e-o,n+s),t.lineTo(e,n-(a-s)),t.closePath()},triangleDown:function(t,e,n,i){t.beginPath(),n-=.275*(i*=1.15);var r=2*i,o=r/2,s=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-o*o);t.moveTo(e,n+(a-s)),t.lineTo(e+o,n-s),t.lineTo(e-o,n-s),t.lineTo(e,n+(a-s)),t.closePath()}};function Lf(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}Lf(".vis-overlay {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n\n  /* Must be displayed above for example selected Timeline items */\n  z-index: 10;\n}\n\n.vis-active {\n  box-shadow: 0 0 10px #86d5f8;\n}\n"),Lf('/* override some bootstrap styles screwing up the timelines css */\n\n.vis [class*="span"] {\n  min-height: 0;\n  width: auto;\n}\n'),Lf("div.vis-color-picker {\n  position: absolute;\n  top: 0px;\n  left: 30px;\n  margin-top: -140px;\n  margin-left: 30px;\n  width: 310px;\n  height: 444px;\n  z-index: 1;\n  padding: 10px;\n  border-radius: 15px;\n  background-color: #ffffff;\n  display: none;\n  box-shadow: rgba(0, 0, 0, 0.5) 0px 0px 10px 0px;\n}\n\ndiv.vis-color-picker div.vis-arrow {\n  position: absolute;\n  top: 147px;\n  left: 5px;\n}\n\ndiv.vis-color-picker div.vis-arrow::after,\ndiv.vis-color-picker div.vis-arrow::before {\n  right: 100%;\n  top: 50%;\n  border: solid transparent;\n  content: \" \";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\ndiv.vis-color-picker div.vis-arrow:after {\n  border-color: rgba(255, 255, 255, 0);\n  border-right-color: #ffffff;\n  border-width: 30px;\n  margin-top: -30px;\n}\n\ndiv.vis-color-picker div.vis-color {\n  position: absolute;\n  width: 289px;\n  height: 289px;\n  cursor: pointer;\n}\n\ndiv.vis-color-picker div.vis-brightness {\n  position: absolute;\n  top: 313px;\n}\n\ndiv.vis-color-picker div.vis-opacity {\n  position: absolute;\n  top: 350px;\n}\n\ndiv.vis-color-picker div.vis-selector {\n  position: absolute;\n  top: 137px;\n  left: 137px;\n  width: 15px;\n  height: 15px;\n  border-radius: 15px;\n  border: 1px solid #ffffff;\n  background: #4c4c4c; /* Old browsers */\n  background: -moz-linear-gradient(\n    top,\n    #4c4c4c 0%,\n    #595959 12%,\n    #666666 25%,\n    #474747 39%,\n    #2c2c2c 50%,\n    #000000 51%,\n    #111111 60%,\n    #2b2b2b 76%,\n    #1c1c1c 91%,\n    #131313 100%\n  ); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #4c4c4c),\n    color-stop(12%, #595959),\n    color-stop(25%, #666666),\n    color-stop(39%, #474747),\n    color-stop(50%, #2c2c2c),\n    color-stop(51%, #000000),\n    color-stop(60%, #111111),\n    color-stop(76%, #2b2b2b),\n    color-stop(91%, #1c1c1c),\n    color-stop(100%, #131313)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #4c4c4c 0%,\n    #595959 12%,\n    #666666 25%,\n    #474747 39%,\n    #2c2c2c 50%,\n    #000000 51%,\n    #111111 60%,\n    #2b2b2b 76%,\n    #1c1c1c 91%,\n    #131313 100%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #4c4c4c 0%,\n    #595959 12%,\n    #666666 25%,\n    #474747 39%,\n    #2c2c2c 50%,\n    #000000 51%,\n    #111111 60%,\n    #2b2b2b 76%,\n    #1c1c1c 91%,\n    #131313 100%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(\n    top,\n    #4c4c4c 0%,\n    #595959 12%,\n    #666666 25%,\n    #474747 39%,\n    #2c2c2c 50%,\n    #000000 51%,\n    #111111 60%,\n    #2b2b2b 76%,\n    #1c1c1c 91%,\n    #131313 100%\n  ); /* IE10+ */\n  background: linear-gradient(\n    to bottom,\n    #4c4c4c 0%,\n    #595959 12%,\n    #666666 25%,\n    #474747 39%,\n    #2c2c2c 50%,\n    #000000 51%,\n    #111111 60%,\n    #2b2b2b 76%,\n    #1c1c1c 91%,\n    #131313 100%\n  ); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#4c4c4c', endColorstr='#131313',GradientType=0 ); /* IE6-9 */\n}\n\ndiv.vis-color-picker div.vis-new-color {\n  position: absolute;\n  width: 140px;\n  height: 20px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  top: 380px;\n  left: 159px;\n  text-align: right;\n  padding-right: 2px;\n  font-size: 10px;\n  color: rgba(0, 0, 0, 0.4);\n  vertical-align: middle;\n  line-height: 20px;\n}\n\ndiv.vis-color-picker div.vis-initial-color {\n  position: absolute;\n  width: 140px;\n  height: 20px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  top: 380px;\n  left: 10px;\n  text-align: left;\n  padding-left: 2px;\n  font-size: 10px;\n  color: rgba(0, 0, 0, 0.4);\n  vertical-align: middle;\n  line-height: 20px;\n}\n\ndiv.vis-color-picker div.vis-label {\n  position: absolute;\n  width: 300px;\n  left: 10px;\n}\n\ndiv.vis-color-picker div.vis-label.vis-brightness {\n  top: 300px;\n}\n\ndiv.vis-color-picker div.vis-label.vis-opacity {\n  top: 338px;\n}\n\ndiv.vis-color-picker div.vis-button {\n  position: absolute;\n  width: 68px;\n  height: 25px;\n  border-radius: 10px;\n  vertical-align: middle;\n  text-align: center;\n  line-height: 25px;\n  top: 410px;\n  border: 2px solid #d9d9d9;\n  background-color: #f7f7f7;\n  cursor: pointer;\n}\n\ndiv.vis-color-picker div.vis-button.vis-cancel {\n  /*border:2px solid #ff4e33;*/\n  /*background-color: #ff7761;*/\n  left: 5px;\n}\ndiv.vis-color-picker div.vis-button.vis-load {\n  /*border:2px solid #a153e6;*/\n  /*background-color: #cb8dff;*/\n  left: 82px;\n}\ndiv.vis-color-picker div.vis-button.vis-apply {\n  /*border:2px solid #4588e6;*/\n  /*background-color: #82b6ff;*/\n  left: 159px;\n}\ndiv.vis-color-picker div.vis-button.vis-save {\n  /*border:2px solid #45e655;*/\n  /*background-color: #6dff7c;*/\n  left: 236px;\n}\n\ndiv.vis-color-picker input.vis-range {\n  width: 290px;\n  height: 20px;\n}\n\n/* TODO: is this redundant?\ndiv.vis-color-picker input.vis-range-brightness {\n  width: 289px !important;\n}\n\n\ndiv.vis-color-picker input.vis-saturation-range {\n  width: 289px !important;\n}*/\n"),Lf("div.vis-configuration {\n  position: relative;\n  display: block;\n  float: left;\n  font-size: 12px;\n}\n\ndiv.vis-configuration-wrapper {\n  display: block;\n  width: 700px;\n}\n\ndiv.vis-configuration-wrapper::after {\n  clear: both;\n  content: \"\";\n  display: block;\n}\n\ndiv.vis-configuration.vis-config-option-container {\n  display: block;\n  width: 495px;\n  background-color: #ffffff;\n  border: 2px solid #f7f8fa;\n  border-radius: 4px;\n  margin-top: 20px;\n  left: 10px;\n  padding-left: 5px;\n}\n\ndiv.vis-configuration.vis-config-button {\n  display: block;\n  width: 495px;\n  height: 25px;\n  vertical-align: middle;\n  line-height: 25px;\n  background-color: #f7f8fa;\n  border: 2px solid #ceced0;\n  border-radius: 4px;\n  margin-top: 20px;\n  left: 10px;\n  padding-left: 5px;\n  cursor: pointer;\n  margin-bottom: 30px;\n}\n\ndiv.vis-configuration.vis-config-button.hover {\n  background-color: #4588e6;\n  border: 2px solid #214373;\n  color: #ffffff;\n}\n\ndiv.vis-configuration.vis-config-item {\n  display: block;\n  float: left;\n  width: 495px;\n  height: 25px;\n  vertical-align: middle;\n  line-height: 25px;\n}\n\ndiv.vis-configuration.vis-config-item.vis-config-s2 {\n  left: 10px;\n  background-color: #f7f8fa;\n  padding-left: 5px;\n  border-radius: 3px;\n}\ndiv.vis-configuration.vis-config-item.vis-config-s3 {\n  left: 20px;\n  background-color: #e4e9f0;\n  padding-left: 5px;\n  border-radius: 3px;\n}\ndiv.vis-configuration.vis-config-item.vis-config-s4 {\n  left: 30px;\n  background-color: #cfd8e6;\n  padding-left: 5px;\n  border-radius: 3px;\n}\n\ndiv.vis-configuration.vis-config-header {\n  font-size: 18px;\n  font-weight: bold;\n}\n\ndiv.vis-configuration.vis-config-label {\n  width: 120px;\n  height: 25px;\n  line-height: 25px;\n}\n\ndiv.vis-configuration.vis-config-label.vis-config-s3 {\n  width: 110px;\n}\ndiv.vis-configuration.vis-config-label.vis-config-s4 {\n  width: 100px;\n}\n\ndiv.vis-configuration.vis-config-colorBlock {\n  top: 1px;\n  width: 30px;\n  height: 19px;\n  border: 1px solid #444444;\n  border-radius: 2px;\n  padding: 0px;\n  margin: 0px;\n  cursor: pointer;\n}\n\ninput.vis-configuration.vis-config-checkbox {\n  left: -5px;\n}\n\ninput.vis-configuration.vis-config-rangeinput {\n  position: relative;\n  top: -5px;\n  width: 60px;\n  /*height:13px;*/\n  padding: 1px;\n  margin: 0;\n  pointer-events: none;\n}\n\ninput.vis-configuration.vis-config-range {\n  /*removes default webkit styles*/\n  -webkit-appearance: none;\n\n  /*fix for FF unable to apply focus style bug */\n  border: 0px solid white;\n  background-color: rgba(0, 0, 0, 0);\n\n  /*required for proper track sizing in FF*/\n  width: 300px;\n  height: 20px;\n}\ninput.vis-configuration.vis-config-range::-webkit-slider-runnable-track {\n  width: 300px;\n  height: 5px;\n  background: #dedede; /* Old browsers */\n  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #dedede),\n    color-stop(99%, #c8c8c8)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #dedede 0%,\n    #c8c8c8 99%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #dedede 0%,\n    #c8c8c8 99%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */\n  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */\n\n  border: 1px solid #999999;\n  box-shadow: #aaaaaa 0px 0px 3px 0px;\n  border-radius: 3px;\n}\ninput.vis-configuration.vis-config-range::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  border: 1px solid #14334b;\n  height: 17px;\n  width: 17px;\n  border-radius: 50%;\n  background: #3876c2; /* Old browsers */\n  background: -moz-linear-gradient(top, #3876c2 0%, #385380 100%); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #3876c2),\n    color-stop(100%, #385380)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #3876c2 0%,\n    #385380 100%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #3876c2 0%,\n    #385380 100%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(top, #3876c2 0%, #385380 100%); /* IE10+ */\n  background: linear-gradient(to bottom, #3876c2 0%, #385380 100%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#3876c2', endColorstr='#385380',GradientType=0 ); /* IE6-9 */\n  box-shadow: #111927 0px 0px 1px 0px;\n  margin-top: -7px;\n}\ninput.vis-configuration.vis-config-range:focus {\n  outline: none;\n}\ninput.vis-configuration.vis-config-range:focus::-webkit-slider-runnable-track {\n  background: #9d9d9d; /* Old browsers */\n  background: -moz-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #9d9d9d),\n    color-stop(99%, #c8c8c8)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #9d9d9d 0%,\n    #c8c8c8 99%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #9d9d9d 0%,\n    #c8c8c8 99%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* IE10+ */\n  background: linear-gradient(to bottom, #9d9d9d 0%, #c8c8c8 99%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#9d9d9d', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */\n}\n\ninput.vis-configuration.vis-config-range::-moz-range-track {\n  width: 300px;\n  height: 10px;\n  background: #dedede; /* Old browsers */\n  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #dedede),\n    color-stop(99%, #c8c8c8)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #dedede 0%,\n    #c8c8c8 99%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #dedede 0%,\n    #c8c8c8 99%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */\n  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */\n\n  border: 1px solid #999999;\n  box-shadow: #aaaaaa 0px 0px 3px 0px;\n  border-radius: 3px;\n}\ninput.vis-configuration.vis-config-range::-moz-range-thumb {\n  border: none;\n  height: 16px;\n  width: 16px;\n\n  border-radius: 50%;\n  background: #385380;\n}\n\n/*hide the outline behind the border*/\ninput.vis-configuration.vis-config-range:-moz-focusring {\n  outline: 1px solid white;\n  outline-offset: -1px;\n}\n\ninput.vis-configuration.vis-config-range::-ms-track {\n  width: 300px;\n  height: 5px;\n\n  /*remove bg colour from the track, we'll use ms-fill-lower and ms-fill-upper instead */\n  background: transparent;\n\n  /*leave room for the larger thumb to overflow with a transparent border */\n  border-color: transparent;\n  border-width: 6px 0;\n\n  /*remove default tick marks*/\n  color: transparent;\n}\ninput.vis-configuration.vis-config-range::-ms-fill-lower {\n  background: #777;\n  border-radius: 10px;\n}\ninput.vis-configuration.vis-config-range::-ms-fill-upper {\n  background: #ddd;\n  border-radius: 10px;\n}\ninput.vis-configuration.vis-config-range::-ms-thumb {\n  border: none;\n  height: 16px;\n  width: 16px;\n  border-radius: 50%;\n  background: #385380;\n}\ninput.vis-configuration.vis-config-range:focus::-ms-fill-lower {\n  background: #888;\n}\ninput.vis-configuration.vis-config-range:focus::-ms-fill-upper {\n  background: #ccc;\n}\n\n.vis-configuration-popup {\n  position: absolute;\n  background: rgba(57, 76, 89, 0.85);\n  border: 2px solid #f2faff;\n  line-height: 30px;\n  height: 30px;\n  width: 150px;\n  text-align: center;\n  color: #ffffff;\n  font-size: 14px;\n  border-radius: 4px;\n  -webkit-transition: opacity 0.3s ease-in-out;\n  -moz-transition: opacity 0.3s ease-in-out;\n  transition: opacity 0.3s ease-in-out;\n}\n.vis-configuration-popup:after,\n.vis-configuration-popup:before {\n  left: 100%;\n  top: 50%;\n  border: solid transparent;\n  content: \" \";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.vis-configuration-popup:after {\n  border-color: rgba(136, 183, 213, 0);\n  border-left-color: rgba(57, 76, 89, 0.85);\n  border-width: 8px;\n  margin-top: -8px;\n}\n.vis-configuration-popup:before {\n  border-color: rgba(194, 225, 245, 0);\n  border-left-color: #f2faff;\n  border-width: 12px;\n  margin-top: -12px;\n}\n"),Lf("div.vis-tooltip {\n  position: absolute;\n  visibility: hidden;\n  padding: 5px;\n  white-space: nowrap;\n\n  font-family: verdana;\n  font-size: 14px;\n  color: #000000;\n  background-color: #f5f4ed;\n\n  -moz-border-radius: 3px;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  border: 1px solid #808074;\n\n  box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);\n  pointer-events: none;\n\n  z-index: 5;\n}\n");var jf={exports:{}};!function(t){function e(t){if(t)return function(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<i.length;r++)if((n=i[r])===e||n.fn===e){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}(jf);var Bf=Qh(jf.exports),Ff={};Ff[rd("toStringTag")]="z";var zf,Vf,Gf,Uf="[object z]"===String(Ff),Wf=Uf,Zf=mC,Hf=CC,qf=rd("toStringTag"),Yf=Object,Qf="Arguments"===Hf(function(){return arguments}()),Kf=Wf?Hf:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Yf(t),qf))?n:Qf?Hf(e):"Object"===(i=Hf(e))&&Zf(e.callee)?"Arguments":i},Xf=Kf,Jf=String,$f=function(t){if("Symbol"===Xf(t))throw new TypeError("Cannot convert a Symbol value to a string");return Jf(t)},tp=lC,ep=wu,np=$f,ip=VC,rp=tp("".charAt),op=tp("".charCodeAt),sp=tp("".slice),ap=function(t){return function(e,n){var i,r,o=np(ip(e)),s=ep(n),a=o.length;return s<0||s>=a?t?"":void 0:(i=op(o,s))<55296||i>56319||s+1===a||(r=op(o,s+1))<56320||r>57343?t?rp(o,s):i:t?sp(o,s,s+2):r-56320+(i-55296<<10)+65536}},gp={codeAt:ap(!1),charAt:ap(!0)},lp=mC,Ap=Xh.WeakMap,cp=lp(Ap)&&/native code/.test(String(Ap)),hp=QI,Cp=BI("keys"),Ip=function(t){return Cp[t]||(Cp[t]=hp(t))},dp=cp,up=Xh,fp=qC,pp=au,vp=WI,mp=LI,yp=Ip,bp=Lu,wp="Object already initialized",xp=up.TypeError,Ep=up.WeakMap;if(dp||mp.state){var kp=mp.state||(mp.state=new Ep);kp.get=kp.get,kp.has=kp.has,kp.set=kp.set,zf=function(t,e){if(kp.has(t))throw new xp(wp);return e.facade=t,kp.set(t,e),e},Vf=function(t){return kp.get(t)||{}},Gf=function(t){return kp.has(t)}}else{var Sp=yp("state");bp[Sp]=!0,zf=function(t,e){if(vp(t,Sp))throw new xp(wp);return e.facade=t,pp(t,Sp,e),e},Vf=function(t){return vp(t,Sp)?t[Sp]:{}},Gf=function(t){return vp(t,Sp)}}var Tp={set:zf,get:Vf,has:Gf,enforce:function(t){return Gf(t)?Vf(t):zf(t,{})},getterFor:function(t){return function(e){var n;if(!fp(e)||(n=Vf(e)).type!==t)throw new xp("Incompatible receiver, "+t+" required");return n}}},Op=bC,Rp=WI,_p=Function.prototype,Np=Op&&Object.getOwnPropertyDescriptor,Dp=Rp(_p,"name"),Pp={EXISTS:Dp,PROPER:Dp&&"something"===function(){}.name,CONFIGURABLE:Dp&&(!Op||Op&&Np(_p,"name").configurable)},Mp={},Lp=bC,jp=Ud,Bp=Gd,Fp=qd,zp=WC,Vp=Hu;Mp.f=Lp&&!jp?Object.defineProperties:function(t,e){Fp(t);for(var n,i=zp(e),r=Vp(e),o=r.length,s=0;o>s;)Bp.f(t,n=r[s++],i[n]);return t};var Gp,Up=$C("document","documentElement"),Wp=qd,Zp=Mp,Hp=Uu,qp=Lu,Yp=Up,Qp=fd,Kp="prototype",Xp="script",Jp=Ip("IE_PROTO"),$p=function(){},tv=function(t){return"<"+Xp+">"+t+"</"+Xp+">"},ev=function(t){t.write(tv("")),t.close();var e=t.parentWindow.Object;return t=null,e},nv=function(){try{Gp=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;nv="undefined"!=typeof document?document.domain&&Gp?ev(Gp):(e=Qp("iframe"),n="java"+Xp+":",e.style.display="none",Yp.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(tv("document.F=Object")),t.close(),t.F):ev(Gp);for(var i=Hp.length;i--;)delete nv[Kp][Hp[i]];return nv()};qp[Jp]=!0;var iv,rv,ov,sv=Object.create||function(t,e){var n;return null!==t?($p[Kp]=Wp(t),n=new $p,$p[Kp]=null,n[Jp]=t):n=nv(),void 0===e?n:Zp.f(n,e)},av=!Jh((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),gv=WI,lv=mC,Av=VI,cv=av,hv=Ip("IE_PROTO"),Cv=Object,Iv=Cv.prototype,dv=cv?Cv.getPrototypeOf:function(t){var e=Av(t);if(gv(e,hv))return e[hv];var n=e.constructor;return lv(n)&&e instanceof n?n.prototype:e instanceof Cv?Iv:null},uv=au,fv=function(t,e,n,i){return i&&i.enumerable?t[e]=n:uv(t,e,n),t},pv=Jh,vv=mC,mv=qC,yv=sv,bv=dv,wv=fv,xv=rd("iterator"),Ev=!1;[].keys&&("next"in(ov=[].keys())?(rv=bv(bv(ov)))!==Object.prototype&&(iv=rv):Ev=!0);var kv=!mv(iv)||pv((function(){var t={};return iv[xv].call(t)!==t}));vv((iv=kv?{}:yv(iv))[xv])||wv(iv,xv,(function(){return this}));var Sv={IteratorPrototype:iv,BUGGY_SAFARI_ITERATORS:Ev},Tv=Kf,Ov=Uf?{}.toString:function(){return"[object "+Tv(this)+"]"},Rv=Uf,_v=Gd.f,Nv=au,Dv=WI,Pv=Ov,Mv=rd("toStringTag"),Lv=function(t,e,n,i){if(t){var r=n?t:t.prototype;Dv(r,Mv)||_v(r,Mv,{configurable:!0,value:e}),i&&!Rv&&Nv(r,"toString",Pv)}},jv={},Bv=Sv.IteratorPrototype,Fv=sv,zv=NC,Vv=Lv,Gv=jv,Uv=function(){return this},Wv=lC,Zv=xI,Hv=mC,qv=String,Yv=TypeError,Qv=qd,Kv=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=function(t,e,n){try{return Wv(Zv(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return Qv(n),function(t){if("object"==typeof t||Hv(t))return t;throw new Yv("Can't set "+qv(t)+" as a prototype")}(i),e?t(n,i):n.__proto__=i,n}}():void 0),Xv=vu,Jv=EC,$v=dv,tm=Lv,em=fv,nm=jv,im=Pp.PROPER,rm=Sv.BUGGY_SAFARI_ITERATORS,om=rd("iterator"),sm="keys",am="values",gm="entries",lm=function(){return this},Am=function(t,e,n,i,r,o,s){!function(t,e,n,i){var r=e+" Iterator";t.prototype=Fv(Bv,{next:zv(+!i,n)}),Vv(t,r,!1,!0),Gv[r]=Uv}(n,e,i);var a,g,l,A=function(t){if(t===r&&d)return d;if(!rm&&t&&t in C)return C[t];switch(t){case sm:case am:case gm:return function(){return new n(this,t)}}return function(){return new n(this)}},c=e+" Iterator",h=!1,C=t.prototype,I=C[om]||C["@@iterator"]||r&&C[r],d=!rm&&I||A(r),u="Array"===e&&C.entries||I;if(u&&(a=$v(u.call(new t)))!==Object.prototype&&a.next&&(tm(a,c,!0,!0),nm[c]=lm),im&&r===am&&I&&I.name!==am&&(h=!0,d=function(){return Jv(I,this)}),r)if(g={values:A(am),keys:o?d:A(sm),entries:A(gm)},s)for(l in g)(rm||h||!(l in C))&&em(C,l,g[l]);else Xv({target:e,proto:!0,forced:rm||h},g);return s&&C[om]!==d&&em(C,om,d,{name:r}),nm[e]=d,g},cm=function(t,e){return{value:t,done:e}},hm=gp.charAt,Cm=$f,Im=Tp,dm=Am,um=cm,fm="String Iterator",pm=Im.set,vm=Im.getterFor(fm);dm(String,"String",(function(t){pm(this,{type:fm,string:Cm(t),index:0})}),(function(){var t,e=vm(this),n=e.string,i=e.index;return i>=n.length?um(void 0,!0):(t=hm(n,i),e.index+=t.length,um(t,!1))}));var mm=EC,ym=qd,bm=SI,wm=function(t,e,n){var i,r;ym(t);try{if(!(i=bm(t,"return"))){if("throw"===e)throw n;return n}i=mm(i,t)}catch(t){r=!0,i=t}if("throw"===e)throw n;if(r)throw i;return ym(i),n},xm=qd,Em=wm,km=jv,Sm=rd("iterator"),Tm=Array.prototype,Om=function(t){return void 0!==t&&(km.Array===t||Tm[Sm]===t)},Rm=mC,_m=LI,Nm=lC(Function.toString);Rm(_m.inspectSource)||(_m.inspectSource=function(t){return Nm(t)});var Dm=_m.inspectSource,Pm=lC,Mm=Jh,Lm=mC,jm=Kf,Bm=Dm,Fm=function(){},zm=[],Vm=$C("Reflect","construct"),Gm=/^\s*(?:class|function)\b/,Um=Pm(Gm.exec),Wm=!Gm.test(Fm),Zm=function(t){if(!Lm(t))return!1;try{return Vm(Fm,zm,t),!0}catch(t){return!1}},Hm=function(t){if(!Lm(t))return!1;switch(jm(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Wm||!!Um(Gm,Bm(t))}catch(t){return!0}};Hm.sham=!0;var qm=!Vm||Mm((function(){var t;return Zm(Zm.call)||!Zm(Object)||!Zm((function(){t=!0}))||t}))?Hm:Zm,Ym=Cd,Qm=Gd,Km=NC,Xm=function(t,e,n){var i=Ym(e);i in t?Qm.f(t,i,Km(0,n)):t[i]=n},Jm=Kf,$m=SI,ty=BC,ey=jv,ny=rd("iterator"),iy=function(t){if(!ty(t))return $m(t,ny)||$m(t,"@@iterator")||ey[Jm(t)]},ry=EC,oy=xI,sy=qd,ay=mI,gy=iy,ly=TypeError,Ay=function(t,e){var n=arguments.length<2?gy(t):e;if(oy(n))return sy(ry(n,t));throw new ly(ay(t)+" is not iterable")},cy=Vd,hy=EC,Cy=VI,Iy=function(t,e,n,i){try{return i?e(xm(n)[0],n[1]):e(n)}catch(e){Em(t,"throw",e)}},dy=Om,uy=qm,fy=Ru,py=Xm,vy=Ay,my=iy,yy=Array,by=rd("iterator"),wy=!1;try{var xy=0,Ey={next:function(){return{done:!!xy++}},return:function(){wy=!0}};Ey[by]=function(){return this},Array.from(Ey,(function(){throw 2}))}catch(t){}var ky=function(t,e){try{if(!e&&!wy)return!1}catch(t){return!1}var n=!1;try{var i={};i[by]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n};vu({target:"Array",stat:!0,forced:!ky((function(t){Array.from(t)}))},{from:function(t){var e=Cy(t),n=uy(this),i=arguments.length,r=i>1?arguments[1]:void 0,o=void 0!==r;o&&(r=cy(r,i>2?arguments[2]:void 0));var s,a,g,l,A,c,h=my(e),C=0;if(!h||this===yy&&dy(h))for(s=fy(e),a=n?new this(s):yy(s);s>C;C++)c=o?r(e[C],C):e[C],py(a,C,c);else for(A=(l=vy(e,h)).next,a=n?new this:[];!(g=hy(A,l)).done;C++)c=o?Iy(l,r,[g.value,C],!0):g.value,py(a,C,c);return a.length=C,a}});var Sy=YC.Array.from,Ty=Qh(Sy),Oy=WC,Ry=jv,_y=Tp;Gd.f;var Ny=Am,Dy=cm,Py="Array Iterator",My=_y.set,Ly=_y.getterFor(Py);Ny(Array,"Array",(function(t,e){My(this,{type:Py,target:Oy(t),index:0,kind:e})}),(function(){var t=Ly(this),e=t.target,n=t.kind,i=t.index++;if(!e||i>=e.length)return t.target=void 0,Dy(void 0,!0);switch(n){case"keys":return Dy(i,!1);case"values":return Dy(e[i],!1)}return Dy([i,e[i]],!1)}),"values"),Ry.Arguments=Ry.Array;var jy=iy,By=Xh,Fy=Kf,zy=au,Vy=jv,Gy=rd("toStringTag");for(var Uy in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Wy=By[Uy],Zy=Wy&&Wy.prototype;Zy&&Fy(Zy)!==Gy&&zy(Zy,Gy,Uy),Vy[Uy]=Vy.Array}var Hy=jy,qy=Qh(Hy),Yy=Qh(Hy);function Qy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ky={exports:{}},Xy=vu,Jy=bC,$y=Gd.f;Xy({target:"Object",stat:!0,forced:Object.defineProperty!==$y,sham:!Jy},{defineProperty:$y});var tb=YC.Object,eb=Ky.exports=function(t,e,n){return tb.defineProperty(t,e,n)};tb.defineProperty.sham&&(eb.sham=!0);var nb=Ky.exports,ib=nb,rb=Qh(ib),ob=CC,sb=Array.isArray||function(t){return"Array"===ob(t)},ab=TypeError,gb=function(t){if(t>9007199254740991)throw ab("Maximum allowed index exceeded");return t},lb=sb,Ab=qm,cb=qC,hb=rd("species"),Cb=Array,Ib=function(t,e){return new(function(t){var e;return lb(t)&&(e=t.constructor,(Ab(e)&&(e===Cb||lb(e.prototype))||cb(e)&&null===(e=e[hb]))&&(e=void 0)),void 0===e?Cb:e}(t))(0===e?0:e)},db=Jh,ub=gI,fb=rd("species"),pb=function(t){return ub>=51||!db((function(){var e=[];return(e.constructor={})[fb]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},vb=vu,mb=Jh,yb=sb,bb=qC,wb=VI,xb=Ru,Eb=gb,kb=Xm,Sb=Ib,Tb=pb,Ob=gI,Rb=rd("isConcatSpreadable"),_b=Ob>=51||!mb((function(){var t=[];return t[Rb]=!1,t.concat()[0]!==t})),Nb=function(t){if(!bb(t))return!1;var e=t[Rb];return void 0!==e?!!e:yb(t)};vb({target:"Array",proto:!0,arity:1,forced:!_b||!Tb("concat")},{concat:function(t){var e,n,i,r,o,s=wb(this),a=Sb(s,0),g=0;for(e=-1,i=arguments.length;e<i;e++)if(Nb(o=-1===e?s:arguments[e]))for(r=xb(o),Eb(g+r),n=0;n<r;n++,g++)n in o&&kb(a,g,o[n]);else Eb(g+1),kb(a,g++,o);return a.length=g,a}});var Db={},Pb=Gu,Mb=Uu.concat("length","prototype");Db.f=Object.getOwnPropertyNames||function(t){return Pb(t,Mb)};var Lb={},jb=Su,Bb=Ru,Fb=Xm,zb=Array,Vb=Math.max,Gb=function(t,e,n){for(var i=Bb(t),r=jb(e,i),o=jb(void 0===n?i:n,i),s=zb(Vb(o-r,0)),a=0;r<o;r++,a++)Fb(s,a,t[r]);return s.length=a,s},Ub=CC,Wb=WC,Zb=Db.f,Hb=Gb,qb="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Lb.f=function(t){return qb&&"Window"===Ub(t)?function(t){try{return Zb(t)}catch(t){return Hb(qb)}}(t):Zb(Wb(t))};var Yb=Gd,Qb=function(t,e,n){return Yb.f(t,e,n)},Kb={},Xb=rd;Kb.f=Xb;var Jb=YC,$b=WI,tw=Kb,ew=Gd.f,nw=function(t){var e=Jb.Symbol||(Jb.Symbol={});$b(e,t)||ew(e,t,{value:tw.f(t)})},iw=EC,rw=$C,ow=rd,sw=fv,aw=function(){var t=rw("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,i=ow("toPrimitive");e&&!e[i]&&sw(e,i,(function(t){return iw(n,this)}),{arity:1})},gw=Vd,lw=jC,Aw=VI,cw=Ru,hw=Ib,Cw=lC([].push),Iw=function(t){var e=1===t,n=2===t,i=3===t,r=4===t,o=6===t,s=7===t,a=5===t||o;return function(g,l,A,c){for(var h,C,I=Aw(g),d=lw(I),u=gw(l,A),f=cw(d),p=0,v=c||hw,m=e?v(g,f):n||s?v(g,0):void 0;f>p;p++)if((a||p in d)&&(C=u(h=d[p],p,I),t))if(e)m[p]=C;else if(C)switch(t){case 3:return!0;case 5:return h;case 6:return p;case 2:Cw(m,h)}else switch(t){case 4:return!1;case 7:Cw(m,h)}return o?-1:i||r?r:m}},dw={forEach:Iw(0),map:Iw(1),filter:Iw(2),some:Iw(3),every:Iw(4),find:Iw(5),findIndex:Iw(6),filterReject:Iw(7)},uw=vu,fw=Xh,pw=EC,vw=lC,mw=bC,yw=hI,bw=Jh,ww=WI,xw=tI,Ew=qd,kw=WC,Sw=Cd,Tw=$f,Ow=NC,Rw=sv,_w=Hu,Nw=Db,Dw=Lb,Pw=qu,Mw=yC,Lw=Gd,jw=Mp,Bw=kC,Fw=fv,zw=Qb,Vw=BI,Gw=Lu,Uw=QI,Ww=rd,Zw=Kb,Hw=nw,qw=aw,Yw=Lv,Qw=Tp,Kw=dw.forEach,Xw=Ip("hidden"),Jw="Symbol",$w="prototype",tx=Qw.set,ex=Qw.getterFor(Jw),nx=Object[$w],ix=fw.Symbol,rx=ix&&ix[$w],ox=fw.RangeError,sx=fw.TypeError,ax=fw.QObject,gx=Mw.f,lx=Lw.f,Ax=Dw.f,cx=Bw.f,hx=vw([].push),Cx=Vw("symbols"),Ix=Vw("op-symbols"),dx=Vw("wks"),ux=!ax||!ax[$w]||!ax[$w].findChild,fx=function(t,e,n){var i=gx(nx,e);i&&delete nx[e],lx(t,e,n),i&&t!==nx&&lx(nx,e,i)},px=mw&&bw((function(){return 7!==Rw(lx({},"a",{get:function(){return lx(this,"a",{value:7}).a}})).a}))?fx:lx,vx=function(t,e){var n=Cx[t]=Rw(rx);return tx(n,{type:Jw,tag:t,description:e}),mw||(n.description=e),n},mx=function(t,e,n){t===nx&&mx(Ix,e,n),Ew(t);var i=Sw(e);return Ew(n),ww(Cx,i)?(n.enumerable?(ww(t,Xw)&&t[Xw][i]&&(t[Xw][i]=!1),n=Rw(n,{enumerable:Ow(0,!1)})):(ww(t,Xw)||lx(t,Xw,Ow(1,{})),t[Xw][i]=!0),px(t,i,n)):lx(t,i,n)},yx=function(t,e){Ew(t);var n=kw(e),i=_w(n).concat(Ex(n));return Kw(i,(function(e){mw&&!pw(bx,n,e)||mx(t,e,n[e])})),t},bx=function(t){var e=Sw(t),n=pw(cx,this,e);return!(this===nx&&ww(Cx,e)&&!ww(Ix,e))&&(!(n||!ww(this,e)||!ww(Cx,e)||ww(this,Xw)&&this[Xw][e])||n)},wx=function(t,e){var n=kw(t),i=Sw(e);if(n!==nx||!ww(Cx,i)||ww(Ix,i)){var r=gx(n,i);return!r||!ww(Cx,i)||ww(n,Xw)&&n[Xw][i]||(r.enumerable=!0),r}},xx=function(t){var e=Ax(kw(t)),n=[];return Kw(e,(function(t){ww(Cx,t)||ww(Gw,t)||hx(n,t)})),n},Ex=function(t){var e=t===nx,n=Ax(e?Ix:kw(t)),i=[];return Kw(n,(function(t){!ww(Cx,t)||e&&!ww(nx,t)||hx(i,Cx[t])})),i};yw||(Fw(rx=(ix=function(){if(xw(rx,this))throw new sx("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?Tw(arguments[0]):void 0,e=Uw(t),n=function(t){this===nx&&pw(n,Ix,t),ww(this,Xw)&&ww(this[Xw],e)&&(this[Xw][e]=!1);var i=Ow(1,t);try{px(this,e,i)}catch(t){if(!(t instanceof ox))throw t;fx(this,e,i)}};return mw&&ux&&px(nx,e,{configurable:!0,set:n}),vx(e,t)})[$w],"toString",(function(){return ex(this).tag})),Fw(ix,"withoutSetter",(function(t){return vx(Uw(t),t)})),Bw.f=bx,Lw.f=mx,jw.f=yx,Mw.f=wx,Nw.f=Dw.f=xx,Pw.f=Ex,Zw.f=function(t){return vx(Ww(t),t)},mw&&zw(rx,"description",{configurable:!0,get:function(){return ex(this).description}})),uw({global:!0,constructor:!0,wrap:!0,forced:!yw,sham:!yw},{Symbol:ix}),Kw(_w(dx),(function(t){Hw(t)})),uw({target:Jw,stat:!0,forced:!yw},{useSetter:function(){ux=!0},useSimple:function(){ux=!1}}),uw({target:"Object",stat:!0,forced:!yw,sham:!mw},{create:function(t,e){return void 0===e?Rw(t):yx(Rw(t),e)},defineProperty:mx,defineProperties:yx,getOwnPropertyDescriptor:wx}),uw({target:"Object",stat:!0,forced:!yw},{getOwnPropertyNames:xx}),qw(),Yw(ix,Jw),Gw[Xw]=!0;var kx=hI&&!!Symbol.for&&!!Symbol.keyFor,Sx=vu,Tx=$C,Ox=WI,Rx=$f,_x=BI,Nx=kx,Dx=_x("string-to-symbol-registry"),Px=_x("symbol-to-string-registry");Sx({target:"Symbol",stat:!0,forced:!Nx},{for:function(t){var e=Rx(t);if(Ox(Dx,e))return Dx[e];var n=Tx("Symbol")(e);return Dx[e]=n,Px[n]=e,n}});var Mx=vu,Lx=WI,jx=pI,Bx=mI,Fx=kx,zx=BI("symbol-to-string-registry");Mx({target:"Symbol",stat:!0,forced:!Fx},{keyFor:function(t){if(!jx(t))throw new TypeError(Bx(t)+" is not a symbol");if(Lx(zx,t))return zx[t]}});var Vx=sb,Gx=mC,Ux=CC,Wx=$f,Zx=lC([].push),Hx=vu,qx=$C,Yx=rC,Qx=EC,Kx=lC,Xx=Jh,Jx=mC,$x=pI,tE=lf,eE=hI,nE=String,iE=qx("JSON","stringify"),rE=Kx(/./.exec),oE=Kx("".charAt),sE=Kx("".charCodeAt),aE=Kx("".replace),gE=Kx(1..toString),lE=/[\uD800-\uDFFF]/g,AE=/^[\uD800-\uDBFF]$/,cE=/^[\uDC00-\uDFFF]$/,hE=!eE||Xx((function(){var t=qx("Symbol")("stringify detection");return"[null]"!==iE([t])||"{}"!==iE({a:t})||"{}"!==iE(Object(t))})),CE=Xx((function(){return'"\\udf06\\ud834"'!==iE("\udf06\ud834")||'"\\udead"'!==iE("\udead")})),IE=function(t,e){var n=tE(arguments),i=function(t){if(Gx(t))return t;if(Vx(t)){for(var e=t.length,n=[],i=0;i<e;i++){var r=t[i];"string"==typeof r?Zx(n,r):"number"!=typeof r&&"Number"!==Ux(r)&&"String"!==Ux(r)||Zx(n,Wx(r))}var o=n.length,s=!0;return function(t,e){if(s)return s=!1,e;if(Vx(this))return e;for(var i=0;i<o;i++)if(n[i]===t)return e}}}(e);if(Jx(i)||void 0!==t&&!$x(t))return n[1]=function(t,e){if(Jx(i)&&(e=Qx(i,this,nE(t),e)),!$x(e))return e},Yx(iE,null,n)},dE=function(t,e,n){var i=oE(n,e-1),r=oE(n,e+1);return rE(AE,t)&&!rE(cE,r)||rE(cE,t)&&!rE(AE,i)?"\\u"+gE(sE(t,0),16):t};iE&&Hx({target:"JSON",stat:!0,arity:3,forced:hE||CE},{stringify:function(t,e,n){var i=tE(arguments),r=Yx(hE?IE:iE,null,i);return CE&&"string"==typeof r?aE(r,lE,dE):r}});var uE=qu,fE=VI;vu({target:"Object",stat:!0,forced:!hI||Jh((function(){uE.f(1)}))},{getOwnPropertySymbols:function(t){var e=uE.f;return e?e(fE(t)):[]}}),nw("asyncIterator"),nw("hasInstance"),nw("isConcatSpreadable"),nw("iterator"),nw("match"),nw("matchAll"),nw("replace"),nw("search"),nw("species"),nw("split");var pE=aw;nw("toPrimitive"),pE();var vE=$C,mE=Lv;nw("toStringTag"),mE(vE("Symbol"),"Symbol"),nw("unscopables"),Lv(Xh.JSON,"JSON",!0);var yE=YC.Symbol,bE=rd,wE=Gd.f,xE=bE("metadata"),EE=Function.prototype;void 0===EE[xE]&&wE(EE,xE,{value:null}),nw("asyncDispose"),nw("dispose"),nw("metadata");var kE=yE,SE=lC,TE=$C("Symbol"),OE=TE.keyFor,RE=SE(TE.prototype.valueOf),_E=TE.isRegisteredSymbol||function(t){try{return void 0!==OE(RE(t))}catch(t){return!1}};vu({target:"Symbol",stat:!0},{isRegisteredSymbol:_E});for(var NE=BI,DE=$C,PE=lC,ME=pI,LE=rd,jE=DE("Symbol"),BE=jE.isWellKnownSymbol,FE=DE("Object","getOwnPropertyNames"),zE=PE(jE.prototype.valueOf),VE=NE("wks"),GE=0,UE=FE(jE),WE=UE.length;GE<WE;GE++)try{var ZE=UE[GE];ME(jE[ZE])&&LE(ZE)}catch(t){}var HE=function(t){if(BE&&BE(t))return!0;try{for(var e=zE(t),n=0,i=FE(VE),r=i.length;n<r;n++)if(VE[i[n]]==e)return!0}catch(t){}return!1};vu({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:HE}),nw("matcher"),nw("observable"),vu({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:_E}),vu({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:HE}),nw("metadataKey"),nw("patternMatch"),nw("replaceAll");var qE=kE,YE=Qh(qE),QE=Kb.f("iterator"),KE=QE,XE=Qh(KE);function JE(t){return JE="function"==typeof YE&&"symbol"==typeof XE?function(t){return typeof t}:function(t){return t&&"function"==typeof YE&&t.constructor===YE&&t!==YE.prototype?"symbol":typeof t},JE(t)}var $E=Qh(Kb.f("toPrimitive"));function tk(t){var e=function(t){if("object"!==JE(t)||null===t)return t;var e=t[$E];if(void 0!==e){var n=e.call(t,"string");if("object"!==JE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===JE(e)?e:String(e)}function ek(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),rb(t,tk(i.key),i)}}function nk(t,e,n){return e&&ek(t.prototype,e),n&&ek(t,n),rb(t,"prototype",{writable:!1}),t}vu({target:"Array",stat:!0},{isArray:sb});var ik=YC.Array.isArray,rk=Qh(ik),ok=bC,sk=sb,ak=TypeError,gk=Object.getOwnPropertyDescriptor,lk=ok&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}()?function(t,e){if(sk(t)&&!gk(t,"length").writable)throw new ak("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Ak=VI,ck=Ru,hk=lk,Ck=gb;vu({target:"Array",proto:!0,arity:1,forced:Jh((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=Ak(this),n=ck(e),i=arguments.length;Ck(n+i);for(var r=0;r<i;r++)e[n]=arguments[r],n++;return hk(e,n),n}});var Ik=wf("Array").push,dk=tI,uk=Ik,fk=Array.prototype,pk=function(t){var e=t.push;return t===fk||dk(fk,t)&&e===fk.push?uk:e},vk=Qh(pk),mk=vu,yk=sb,bk=qm,wk=qC,xk=Su,Ek=Ru,kk=WC,Sk=Xm,Tk=rd,Ok=lf,Rk=pb("slice"),_k=Tk("species"),Nk=Array,Dk=Math.max;mk({target:"Array",proto:!0,forced:!Rk},{slice:function(t,e){var n,i,r,o=kk(this),s=Ek(o),a=xk(t,s),g=xk(void 0===e?s:e,s);if(yk(o)&&(n=o.constructor,(bk(n)&&(n===Nk||yk(n.prototype))||wk(n)&&null===(n=n[_k]))&&(n=void 0),n===Nk||void 0===n))return Ok(o,a,g);for(i=new(void 0===n?Nk:n)(Dk(g-a,0)),r=0;a<g;a++,r++)a in o&&Sk(i,r,o[a]);return i.length=r,i}});var Pk=wf("Array").slice,Mk=tI,Lk=Pk,jk=Array.prototype,Bk=function(t){var e=t.slice;return t===jk||Mk(jk,t)&&e===jk.slice?Lk:e},Fk=Bk,zk=Qh(Fk),Vk=Qh(Sy);function Gk(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Uk(t,e){var n;if(t){if("string"==typeof t)return Gk(t,e);var i=zk(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Vk(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Gk(t,e):void 0}}function Wk(t,e){return function(t){if(rk(t))return t}(t)||function(t,e){var n=null==t?null:void 0!==YE&&qy(t)||t["@@iterator"];if(null!=n){var i,r,o,s,a=[],g=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;g=!1}else for(;!(g=(i=o.call(n)).done)&&(vk(a).call(a,i.value),a.length!==e);g=!0);}catch(t){l=!0,r=t}finally{try{if(!g&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw r}}return a}}(t,e)||Uk(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zk(t){return function(t){if(rk(t))return Gk(t)}(t)||function(t){if(void 0!==YE&&null!=qy(t)||null!=t["@@iterator"])return Vk(t)}(t)||Uk(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Hk=Qh(yE),qk=wf("Array").concat,Yk=tI,Qk=qk,Kk=Array.prototype,Xk=Qh((function(t){var e=t.concat;return t===Kk||Yk(Kk,t)&&e===Kk.concat?Qk:e})),Jk=Qh(Bk),$k=$C,tS=Db,eS=qu,nS=qd,iS=lC([].concat),rS=$k("Reflect","ownKeys")||function(t){var e=tS.f(nS(t)),n=eS.f;return n?iS(e,n(t)):e};vu({target:"Reflect",stat:!0},{ownKeys:rS});var oS=Qh(YC.Reflect.ownKeys),sS=Qh(ik),aS=dw.map;vu({target:"Array",proto:!0,forced:!pb("map")},{map:function(t){return aS(this,t,arguments.length>1?arguments[1]:void 0)}});var gS=wf("Array").map,lS=tI,AS=gS,cS=Array.prototype,hS=Qh((function(t){var e=t.map;return t===cS||lS(cS,t)&&e===cS.map?AS:e})),CS=VI,IS=Hu;vu({target:"Object",stat:!0,forced:Jh((function(){IS(1)}))},{keys:function(t){return IS(CS(t))}});var dS=Qh(YC.Object.keys),uS=vu,fS=Date,pS=lC(fS.prototype.getTime);uS({target:"Date",stat:!0},{now:function(){return pS(new fS)}});var vS=Qh(YC.Date.now),mS=Jh,yS=function(t,e){var n=[][t];return!!n&&mS((function(){n.call(null,e||function(){return 1},1)}))},bS=dw.forEach,wS=yS("forEach")?[].forEach:function(t){return bS(this,t,arguments.length>1?arguments[1]:void 0)};vu({target:"Array",proto:!0,forced:[].forEach!==wS},{forEach:wS});var xS=wf("Array").forEach,ES=Kf,kS=WI,SS=tI,TS=xS,OS=Array.prototype,RS={DOMTokenList:!0,NodeList:!0},_S=function(t){var e=t.forEach;return t===OS||SS(OS,t)&&e===OS.forEach||kS(RS,ES(t))?TS:e},NS=Qh(_S),DS=vu,PS=sb,MS=lC([].reverse),LS=[1,2];DS({target:"Array",proto:!0,forced:String(LS)===String(LS.reverse())},{reverse:function(){return PS(this)&&(this.length=this.length),MS(this)}});var jS=wf("Array").reverse,BS=tI,FS=jS,zS=Array.prototype,VS=function(t){var e=t.reverse;return t===zS||BS(zS,t)&&e===zS.reverse?FS:e},GS=Qh(VS),US=mI,WS=TypeError,ZS=function(t,e){if(!delete t[e])throw new WS("Cannot delete property "+US(e)+" of "+US(t))},HS=vu,qS=VI,YS=Su,QS=wu,KS=Ru,XS=lk,JS=gb,$S=Ib,tT=Xm,eT=ZS,nT=pb("splice"),iT=Math.max,rT=Math.min;HS({target:"Array",proto:!0,forced:!nT},{splice:function(t,e){var n,i,r,o,s,a,g=qS(this),l=KS(g),A=YS(t,l),c=arguments.length;for(0===c?n=i=0:1===c?(n=0,i=l-A):(n=c-2,i=rT(iT(QS(e),0),l-A)),JS(l+n-i),r=$S(g,i),o=0;o<i;o++)(s=A+o)in g&&tT(r,o,g[s]);if(r.length=i,n<i){for(o=A;o<l-i;o++)a=o+n,(s=o+i)in g?g[a]=g[s]:eT(g,a);for(o=l;o>l-i+n;o--)eT(g,o-1)}else if(n>i)for(o=l-i;o>A;o--)a=o+n-1,(s=o+i-1)in g?g[a]=g[s]:eT(g,a);for(o=0;o<n;o++)g[o+A]=arguments[o+2];return XS(g,l-i+n),r}});var oT=wf("Array").splice,sT=tI,aT=oT,gT=Array.prototype,lT=Qh((function(t){var e=t.splice;return t===gT||sT(gT,t)&&e===gT.splice?aT:e})),AT=Mu.includes;vu({target:"Array",proto:!0,forced:Jh((function(){return!Array(1).includes()}))},{includes:function(t){return AT(this,t,arguments.length>1?arguments[1]:void 0)}});var cT=wf("Array").includes,hT=qC,CT=CC,IT=rd("match"),dT=TypeError,uT=rd("match"),fT=vu,pT=function(t){if(function(t){var e;return hT(t)&&(void 0!==(e=t[IT])?!!e:"RegExp"===CT(t))}(t))throw new dT("The method doesn't accept regular expressions");return t},vT=VC,mT=$f,yT=lC("".indexOf);fT({target:"String",proto:!0,forced:!function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[uT]=!1,"/./"[t](e)}catch(t){}}return!1}("includes")},{includes:function(t){return!!~yT(mT(vT(this)),mT(pT(t)),arguments.length>1?arguments[1]:void 0)}});var bT=wf("String").includes,wT=tI,xT=cT,ET=bT,kT=Array.prototype,ST=String.prototype,TT=Qh((function(t){var e=t.includes;return t===kT||wT(kT,t)&&e===kT.includes?xT:"string"==typeof t||t===ST||wT(ST,t)&&e===ST.includes?ET:e})),OT=VI,RT=dv,_T=av;vu({target:"Object",stat:!0,forced:Jh((function(){RT(1)})),sham:!_T},{getPrototypeOf:function(t){return RT(OT(t))}});var NT=YC.Object.getPrototypeOf,DT=Qh(NT),PT=dw.filter;vu({target:"Array",proto:!0,forced:!pb("filter")},{filter:function(t){return PT(this,t,arguments.length>1?arguments[1]:void 0)}});var MT=wf("Array").filter,LT=tI,jT=MT,BT=Array.prototype,FT=Qh((function(t){var e=t.filter;return t===BT||LT(BT,t)&&e===BT.filter?jT:e})),zT="\t\n\v\f\r Â áš€â€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€\u2028\u2029\ufeff",VT=VC,GT=$f,UT=zT,WT=lC("".replace),ZT=RegExp("^["+UT+"]+"),HT=RegExp("(^|[^"+UT+"])["+UT+"]+$"),qT=function(t){return function(e){var n=GT(VT(e));return 1&t&&(n=WT(n,ZT,"")),2&t&&(n=WT(n,HT,"$1")),n}},YT={start:qT(1),end:qT(2),trim:qT(3)},QT=Xh,KT=Jh,XT=lC,JT=$f,$T=YT.trim,tO=zT,eO=QT.parseInt,nO=QT.Symbol,iO=nO&&nO.iterator,rO=/^[+-]?0x/i,oO=XT(rO.exec),sO=8!==eO(tO+"08")||22!==eO(tO+"0x16")||iO&&!KT((function(){eO(Object(iO))}))?function(t,e){var n=$T(JT(t));return eO(n,e>>>0||(oO(rO,n)?16:10))}:eO;vu({global:!0,forced:parseInt!==sO},{parseInt:sO});var aO=Qh(YC.parseInt),gO=vu,lO=Mu.indexOf,AO=yS,cO=uC([].indexOf),hO=!!cO&&1/cO([1],1,-0)<0;gO({target:"Array",proto:!0,forced:hO||!AO("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return hO?cO(this,t,e)||0:lO(this,t,e)}});var CO=wf("Array").indexOf,IO=tI,dO=CO,uO=Array.prototype,fO=Qh((function(t){var e=t.indexOf;return t===uO||IO(uO,t)&&e===uO.indexOf?dO:e}));vu({target:"Object",stat:!0,sham:!bC},{create:sv});var pO=YC.Object,vO=function(t,e){return pO.create(t,e)},mO=Qh(vO),yO=YC,bO=rC;yO.JSON||(yO.JSON={stringify:JSON.stringify});var wO=Qh((function(t,e,n){return bO(yO.JSON.stringify,null,arguments)})),xO="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,EO=TypeError,kO=function(t,e){if(t<e)throw new EO("Not enough arguments");return t},SO=Xh,TO=rC,OO=mC,RO=xO,_O=eI,NO=lf,DO=kO,PO=SO.Function,MO=/MSIE .\./.test(_O)||RO&&function(){var t=SO.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}(),LO=function(t,e){var n=e?2:1;return MO?function(i,r){var o=DO(arguments.length,1)>n,s=OO(i)?i:PO(i),a=o?NO(arguments,n):[],g=o?function(){TO(s,this,a)}:s;return e?t(g,r):t(g)}:t},jO=vu,BO=Xh,FO=LO(BO.setInterval,!0);jO({global:!0,bind:!0,forced:BO.setInterval!==FO},{setInterval:FO});var zO=vu,VO=Xh,GO=LO(VO.setTimeout,!0);zO({global:!0,bind:!0,forced:VO.setTimeout!==GO},{setTimeout:GO});var UO=Qh(YC.setTimeout),WO=VI,ZO=Su,HO=Ru;vu({target:"Array",proto:!0},{fill:function(t){for(var e=WO(this),n=HO(e),i=arguments.length,r=ZO(i>1?arguments[1]:void 0,n),o=i>2?arguments[2]:void 0,s=void 0===o?n:ZO(o,n);s>r;)e[r++]=t;return e}});var qO=wf("Array").fill,YO=tI,QO=qO,KO=Array.prototype,XO=Qh((function(t){var e=t.fill;return t===KO||YO(KO,t)&&e===KO.fill?QO:e}));function JO(){return JO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},JO.apply(this,arguments)}function $O(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function tR(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var eR,nR="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign,iR=["","webkit","Moz","MS","ms","o"],rR="undefined"==typeof document?{style:{}}:document.createElement("div"),oR=Math.round,sR=Math.abs,aR=Date.now;function gR(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<iR.length;){if((i=(n=iR[o])?n+r:e)in t)return i;o++}}eR="undefined"==typeof window?{}:window;var lR=gR(rR.style,"touchAction"),AR=void 0!==lR,cR="compute",hR="auto",CR="manipulation",IR="none",dR="pan-x",uR="pan-y",fR=function(){if(!AR)return!1;var t={},e=eR.CSS&&eR.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){return t[n]=!e||eR.CSS.supports("touch-action",n)})),t}(),pR="ontouchstart"in eR,vR=void 0!==gR(eR,"PointerEvent"),mR=pR&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),yR="touch",bR="mouse",wR=["x","y"],xR=["clientX","clientY"];function ER(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function kR(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function SR(t,e){return t.indexOf(e)>-1}var TR=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===cR&&(t=this.compute()),AR&&this.manager.element.style&&fR[t]&&(this.manager.element.style[lR]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return ER(this.manager.recognizers,(function(e){kR(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(SR(t,IR))return IR;var e=SR(t,dR),n=SR(t,uR);return e&&n?IR:e||n?e?dR:uR:SR(t,CR)?CR:hR}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=SR(i,IR)&&!fR[IR],o=SR(i,uR)&&!fR[uR],s=SR(i,dR)&&!fR[dR];if(r){var a=1===t.pointers.length,g=t.distance<2,l=t.deltaTime<250;if(a&&g&&l)return}if(!s||!o)return r||o&&6&n||s&&24&n?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function OR(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function RR(t){var e=t.length;if(1===e)return{x:oR(t[0].clientX),y:oR(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:oR(n/e),y:oR(i/e)}}function _R(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:oR(t.pointers[n].clientX),clientY:oR(t.pointers[n].clientY)},n++;return{timeStamp:aR(),pointers:e,center:RR(e),deltaX:t.deltaX,deltaY:t.deltaY}}function NR(t,e,n){n||(n=wR);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function DR(t,e,n){n||(n=wR);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function PR(t,e){return t===e?1:sR(t)>=sR(e)?t<0?2:4:e<0?8:16}function MR(t,e,n){return{x:e/t||0,y:n/t||0}}function LR(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&e&&i-r==0,s=12&e&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=_R(e)),r>1&&!n.firstMultiple?n.firstMultiple=_R(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,g=e.center=RR(i);e.timeStamp=aR(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=DR(a,g),e.distance=NR(a,g),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=PR(e.deltaX,e.deltaY);var l,A,c=MR(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=sR(c.x)>sR(c.y)?c.x:c.y,e.scale=s?(l=s.pointers,NR((A=i)[0],A[1],xR)/NR(l[0],l[1],xR)):1,e.rotation=s?function(t,e){return DR(e[1],e[0],xR)+DR(t[1],t[0],xR)}(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(8!==e.eventType&&(a>25||void 0===s.velocity)){var g=e.deltaX-s.deltaX,l=e.deltaY-s.deltaY,A=MR(a,g,l);i=A.x,r=A.y,n=sR(A.x)>sR(A.y)?A.x:A.y,o=PR(g,l),t.lastInterval=e}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var h,C=t.element,I=e.srcEvent;OR(h=I.composedPath?I.composedPath()[0]:I.path?I.path[0]:I.target,C)&&(C=h),e.target=C}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function jR(t){return t.trim().split(/\s+/g)}function BR(t,e,n){ER(jR(e),(function(e){t.addEventListener(e,n,!1)}))}function FR(t,e,n){ER(jR(e),(function(e){t.removeEventListener(e,n,!1)}))}function zR(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var VR=function(){function t(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){kR(t.options.enable,[t])&&n.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&BR(this.element,this.evEl,this.domHandler),this.evTarget&&BR(this.target,this.evTarget,this.domHandler),this.evWin&&BR(zR(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&FR(this.element,this.evEl,this.domHandler),this.evTarget&&FR(this.target,this.evTarget,this.domHandler),this.evWin&&FR(zR(this.element),this.evWin,this.domHandler)},t}();function GR(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}var UR={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},WR={2:yR,3:"pen",4:bR,5:"kinect"},ZR="pointerdown",HR="pointermove pointerup pointercancel";eR.MSPointerEvent&&!eR.PointerEvent&&(ZR="MSPointerDown",HR="MSPointerMove MSPointerUp MSPointerCancel");var qR=function(t){function e(){var n,i=e.prototype;return i.evEl=ZR,i.evWin=HR,(n=t.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return $O(e,t),e.prototype.handler=function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=UR[i],o=WR[t.pointerType]||t.pointerType,s=o===yR,a=GR(e,t.pointerId,"pointerId");1&r&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):12&r&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))},e}(VR);function YR(t){return Array.prototype.slice.call(t,0)}function QR(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];GR(r,s)<0&&i.push(t[o]),r[o]=s,o++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}var KR={touchstart:1,touchmove:2,touchend:4,touchcancel:8},XR=function(t){function e(){var n;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(n=t.apply(this,arguments)||this).targetIds={},n}return $O(e,t),e.prototype.handler=function(t){var e=KR[t.type],n=JR.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:yR,srcEvent:t})},e}(VR);function JR(t,e){var n,i,r=YR(t.touches),o=this.targetIds;if(3&e&&1===r.length)return o[r[0].identifier]=!0,[r,r];var s=YR(t.changedTouches),a=[],g=this.target;if(i=r.filter((function(t){return OR(t.target,g)})),1===e)for(n=0;n<i.length;)o[i[n].identifier]=!0,n++;for(n=0;n<s.length;)o[s[n].identifier]&&a.push(s[n]),12&e&&delete o[s[n].identifier],n++;return a.length?[QR(i.concat(a),"identifier",!0),a]:void 0}var $R={mousedown:1,mousemove:2,mouseup:4},t_=function(t){function e(){var n,i=e.prototype;return i.evEl="mousedown",i.evWin="mousemove mouseup",(n=t.apply(this,arguments)||this).pressed=!1,n}return $O(e,t),e.prototype.handler=function(t){var e=$R[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:bR,srcEvent:t}))},e}(VR);function e_(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY},i=this.lastTouches;this.lastTouches.push(n),setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),2500)}}function n_(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,e_.call(this,e)):12&t&&e_.call(this,e)}function i_(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),s=Math.abs(n-r.y);if(o<=25&&s<=25)return!0}return!1}var r_=function(){return function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).handler=function(t,e,n){var r=n.pointerType===yR,o=n.pointerType===bR;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)n_.call(tR(tR(i)),e,n);else if(o&&i_.call(tR(tR(i)),n))return;i.callback(t,e,n)}},i.touch=new XR(i.manager,i.handler),i.mouse=new t_(i.manager,i.handler),i.primaryTouch=null,i.lastTouches=[],i}return $O(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(VR)}();function o_(t,e,n){return!!Array.isArray(t)&&(ER(t,n[e],n),!0)}var s_=32,a_=1;function g_(t,e){var n=e.manager;return n?n.get(t):t}function l_(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var A_=function(){function t(t){void 0===t&&(t={}),this.options=JO({enable:!0},t),this.id=a_++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return nR(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(o_(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=g_(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return o_(t,"dropRecognizeWith",this)||(t=g_(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(o_(t,"requireFailure",this))return this;var e=this.requireFail;return-1===GR(e,t=g_(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(o_(t,"dropRequireFailure",this))return this;t=g_(t,this);var e=GR(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+l_(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+l_(n))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=s_},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=nR({},t);if(!kR(this.options.enable,[this,e]))return this.reset(),void(this.state=s_);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),c_=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,JO({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}$O(e,t);var n=e.prototype;return n.getTouchAction=function(){return[CR]},n.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,r=t.distance<n.threshold,o=t.deltaTime<n.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&o&&i){if(4!==t.eventType)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<n.interval,a=!this.pCenter||NR(this.pCenter,t.center)<n.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0==this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),n.interval),2):8}return s_},n.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=s_}),this.options.interval),s_},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(A_),h_=function(t){function e(e){return void 0===e&&(e={}),t.call(this,JO({pointers:1},e))||this}$O(e,t);var n=e.prototype;return n.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},n.process=function(t){var e=this.state,n=t.eventType,i=6&e,r=this.attrTest(t);return i&&(8&n||!r)?16|e:i||r?4&n?8|e:2&e?4|e:2:s_},e}(A_);function C_(t){return 16===t?"down":8===t?"up":2===t?"left":4===t?"right":""}var I_=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,JO({event:"pan",threshold:10,pointers:1,direction:30},e))||this).pX=null,n.pY=null,n}$O(e,t);var n=e.prototype;return n.getTouchAction=function(){var t=this.options.direction,e=[];return 6&t&&e.push(uR),24&t&&e.push(dR),e},n.directionTest=function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(6&e.direction?(r=0===o?1:o<0?2:4,n=o!==this.pX,i=Math.abs(t.deltaX)):(r=0===s?1:s<0?8:16,n=s!==this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},n.attrTest=function(t){return h_.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},n.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var n=C_(e.direction);n&&(e.additionalEvent=this.options.event+n),t.prototype.emit.call(this,e)},e}(h_),d_=function(t){function e(e){return void 0===e&&(e={}),t.call(this,JO({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},e))||this}$O(e,t);var n=e.prototype;return n.getTouchAction=function(){return I_.prototype.getTouchAction.call(this)},n.attrTest=function(e){var n,i=this.options.direction;return 30&i?n=e.overallVelocity:6&i?n=e.overallVelocityX:24&i&&(n=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&sR(n)>this.options.velocity&&4&e.eventType},n.emit=function(t){var e=C_(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(h_),u_=function(t){function e(e){return void 0===e&&(e={}),t.call(this,JO({event:"pinch",threshold:0,pointers:2},e))||this}$O(e,t);var n=e.prototype;return n.getTouchAction=function(){return[IR]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},n.emit=function(e){if(1!==e.scale){var n=e.scale<1?"in":"out";e.additionalEvent=this.options.event+n}t.prototype.emit.call(this,e)},e}(h_),f_=function(t){function e(e){return void 0===e&&(e={}),t.call(this,JO({event:"rotate",threshold:0,pointers:2},e))||this}$O(e,t);var n=e.prototype;return n.getTouchAction=function(){return[IR]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(h_),p_=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,JO({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,n._input=null,n}$O(e,t);var n=e.prototype;return n.getTouchAction=function(){return[hR]},n.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,r=t.distance<n.threshold,o=t.deltaTime>n.time;if(this._input=t,!r||!i||12&t.eventType&&!o)this.reset();else if(1&t.eventType)this.reset(),this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),n.time);else if(4&t.eventType)return 8;return s_},n.reset=function(){clearTimeout(this._timer)},n.emit=function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=aR(),this.manager.emit(this.options.event,this._input)))},e}(A_),v_={domEvents:!1,touchAction:cR,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},m_=[[f_,{enable:!1}],[u_,{enable:!1},["rotate"]],[d_,{direction:6}],[I_,{direction:6},["swipe"]],[c_],[c_,{event:"doubletap",taps:2},["tap"]],[p_]];function y_(t,e){var n,i=t.element;i.style&&(ER(t.options.cssProps,(function(r,o){n=gR(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}var b_=function(){function t(t,e){var n=this;this.options=nR({},v_,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new(this.options.inputClass||(vR?qR:mR?XR:pR?r_:t_))(this,LR),this.touchAction=new TR(this,this.options.touchAction),y_(this,!0),ER(this.options.recognizers,(function(t){var e=n.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return nR(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(e.curRecognizer=null,r=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!==r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(e.curRecognizer=n,r=n),o++}},e.get=function(t){if(t instanceof A_)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event===t)return e[n];return null},e.add=function(t){if(o_(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(o_(t,"remove",this))return this;var e=this.get(t);if(t){var n=this.recognizers,i=GR(n,e);-1!==i&&(n.splice(i,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var n=this.handlers;return ER(jR(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var n=this.handlers;return ER(jR(t),(function(t){e?n[t]&&n[t].splice(GR(n[t],e),1):delete n[t]})),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},e.destroy=function(){this.element&&y_(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),w_={touchstart:1,touchmove:2,touchend:4,touchcancel:8},x_=function(t){function e(){var n,i=e.prototype;return i.evTarget="touchstart",i.evWin="touchstart touchmove touchend touchcancel",(n=t.apply(this,arguments)||this).started=!1,n}return $O(e,t),e.prototype.handler=function(t){var e=w_[t.type];if(1===e&&(this.started=!0),this.started){var n=E_.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:yR,srcEvent:t})}},e}(VR);function E_(t,e){var n=YR(t.touches),i=YR(t.changedTouches);return 12&e&&(n=QR(n.concat(i),"identifier",!0)),[n,i]}function k_(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,i,n),t.apply(this,arguments)}}var S_=k_((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&void 0===t[i[r]])&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),T_=k_((function(t,e){return S_(t,e,!0)}),"merge","Use `assign`.");function O_(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&nR(i,n)}function R_(t,e){return function(){return t.apply(e,arguments)}}var __=function(){var t=function(t,e){return void 0===e&&(e={}),new b_(t,JO({recognizers:m_.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=30,t.DIRECTION_DOWN=16,t.DIRECTION_LEFT=2,t.DIRECTION_RIGHT=4,t.DIRECTION_UP=8,t.DIRECTION_HORIZONTAL=6,t.DIRECTION_VERTICAL=24,t.DIRECTION_NONE=1,t.DIRECTION_DOWN=16,t.INPUT_START=1,t.INPUT_MOVE=2,t.INPUT_END=4,t.INPUT_CANCEL=8,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=s_,t.Manager=b_,t.Input=VR,t.TouchAction=TR,t.TouchInput=XR,t.MouseInput=t_,t.PointerEventInput=qR,t.TouchMouseInput=r_,t.SingleTouchInput=x_,t.Recognizer=A_,t.AttrRecognizer=h_,t.Tap=c_,t.Pan=I_,t.Swipe=d_,t.Pinch=u_,t.Rotate=f_,t.Press=p_,t.on=BR,t.off=FR,t.each=ER,t.merge=T_,t.extend=S_,t.bindFn=R_,t.assign=nR,t.inherit=O_,t.bindFn=R_,t.prefixed=gR,t.toArray=YR,t.inArray=GR,t.uniqueArray=QR,t.splitStr=jR,t.boolOrFn=kR,t.hasParent=OR,t.addEventListeners=BR,t.removeEventListeners=FR,t.defaults=nR({},v_,{preset:m_}),t}();__.defaults;var N_=__;function D_(t,e){var n=void 0!==Hk&&Yy(t)||t["@@iterator"];if(!n){if(sS(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return P_(t,e);var i=Jk(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ty(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?P_(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function P_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var M_=Hk("DELETE");function L_(){var t=j_.apply(void 0,arguments);return F_(t),t}function j_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length<2)return e[0];var i;if(e.length>2)return j_.apply(void 0,Xk(i=[L_(e[0],e[1])]).call(i,Zk(Jk(e).call(e,2))));var r=e[0],o=e[1];if(r instanceof Date&&o instanceof Date)return r.setTime(o.getTime()),r;var s,a=D_(oS(o));try{for(a.s();!(s=a.n()).done;){var g=s.value;Object.prototype.propertyIsEnumerable.call(o,g)&&(o[g]===M_?delete r[g]:null===r[g]||null===o[g]||"object"!==JE(r[g])||"object"!==JE(o[g])||sS(r[g])||sS(o[g])?r[g]=B_(o[g]):r[g]=j_(r[g],o[g]))}}catch(t){a.e(t)}finally{a.f()}return r}function B_(t){return sS(t)?hS(t).call(t,(function(t){return B_(t)})):"object"===JE(t)&&null!==t?t instanceof Date?new Date(t.getTime()):j_({},t):t}function F_(t){for(var e=0,n=dS(t);e<n.length;e++){var i=n[e];t[i]===M_?delete t[i]:"object"===JE(t[i])&&null!==t[i]&&F_(t[i])}}function z_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var e=function(){for(var t=function(){var t=4022871197;return function(e){for(var n=e.toString(),i=0;i<n.length;i++){var r=.02519603282416938*(t+=n.charCodeAt(i));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)}}(),e=t(" "),n=t(" "),i=t(" "),r=0;r<arguments.length;r++)(e-=t(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(e+=1),(n-=t(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(n+=1),(i-=t(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(i+=1);return[e,n,i]}(t),n=Wk(e,3),i=n[0],r=n[1],o=n[2],s=1,a=function(){var t=2091639*i+2.3283064365386963e-10*s;return i=r,r=o,o=t-(s=0|t)};return a.uint32=function(){return 4294967296*a()},a.fract53=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.algorithm="Alea",a.seed=t,a.version="0.9",a}(e.length?e:[vS()])}var V_="undefined"!=typeof window?window.Hammer||N_:function(){return function(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:function(){return{set:t}}}}()};function G_(t){var e,n=this;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push((function(){n._dom.overlay.parentNode.removeChild(n._dom.overlay)}));var i=V_(this._dom.overlay);i.on("tap",Of(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push((function(){i.destroy()}));var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];NS(r).call(r,(function(t){i.on(t,(function(t){t.srcEvent.stopPropagation()}))})),document&&document.body&&(this._onClick=function(e){(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(e.target,t)||n.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push((function(){document.body.removeEventListener("click",n._onClick)}))),this._escListener=function(t){("key"in t?"Escape"===t.key:27===t.keyCode)&&n.deactivate()}}Bf(G_.prototype),G_.current=null,G_.prototype.destroy=function(){var t,e;this.deactivate();var n,i=D_(GS(t=lT(e=this._cleanupQueue).call(e,0)).call(t));try{for(i.s();!(n=i.n()).done;)(0,n.value)()}catch(t){i.e(t)}finally{i.f()}},G_.prototype.activate=function(){G_.current&&G_.current.deactivate(),G_.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},G_.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},G_.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var U_=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,W_=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Z_=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,H_=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function q_(t){if(t)for(;!0===t.hasChildNodes();){var e=t.firstChild;e&&(q_(e),t.removeChild(e))}}function Y_(t){return t instanceof String||"string"==typeof t}function Q_(t){return"object"===JE(t)&&null!==t}function K_(t,e,n,i){var r=!1;!0===i&&(r=null===e[n]&&void 0!==t[n]),r?delete t[n]:t[n]=e[n]}function X_(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var i in t)if(void 0!==e[i])if(null===e[i]||"object"!==JE(e[i]))K_(t,e,i,n);else{var r=t[i],o=e[i];Q_(r)&&Q_(o)&&X_(r,o,n)}}function J_(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(sS(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r=0;r<t.length;r++){var o=t[r];if(Object.prototype.hasOwnProperty.call(n,o))if(n[o]&&n[o].constructor===Object)void 0===e[o]&&(e[o]={}),e[o].constructor===Object?tN(e[o],n[o],!1,i):K_(e,n,o,i);else{if(sS(n[o]))throw new TypeError("Arrays are not supported by deepExtend");K_(e,n,o,i)}}return e}function $_(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(sS(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&!TT(t).call(t,r))if(n[r]&&n[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?tN(e[r],n[r]):K_(e,n,r,i);else if(sS(n[r])){e[r]=[];for(var o=0;o<n[r].length;o++)e[r].push(n[r][o])}else K_(e,n,r,i);return e}function tN(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)||!0===n)if("object"===JE(e[r])&&null!==e[r]&&DT(e[r])===Object.prototype)void 0===t[r]?t[r]=tN({},e[r],n):"object"===JE(t[r])&&null!==t[r]&&DT(t[r])===Object.prototype?tN(t[r],e[r],n):K_(t,e,r,i);else if(sS(e[r])){var o;t[r]=Jk(o=e[r]).call(o)}else K_(t,e,r,i);return t}function eN(t,e){var n;return Xk(n=[]).call(n,Zk(t),[e])}function nN(t){return t.getBoundingClientRect().top}function iN(t,e){if(sS(t))for(var n=t.length,i=0;i<n;i++)e(t[i],i,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function rN(t){var e;switch(t.length){case 3:case 4:return(e=W_.exec(t))?{r:aO(e[1]+e[1],16),g:aO(e[2]+e[2],16),b:aO(e[3]+e[3],16)}:null;case 6:case 7:return(e=U_.exec(t))?{r:aO(e[1],16),g:aO(e[2],16),b:aO(e[3],16)}:null;default:return null}}function oN(t,e){if(TT(t).call(t,"rgba"))return t;if(TT(t).call(t,"rgb")){var n=t.substr(fO(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+n[0]+","+n[1]+","+n[2]+","+e+")"}var i=rN(t);return null==i?t:"rgba("+i.r+","+i.g+","+i.b+","+e+")"}function sN(t,e,n){var i;return"#"+Jk(i=((1<<24)+(t<<16)+(e<<8)+n).toString(16)).call(i,1)}function aN(t,e){if(Y_(t)){var n=t;if(hN(n)){var i,r=hS(i=n.substr(4).substr(0,n.length-5).split(",")).call(i,(function(t){return aO(t)}));n=sN(r[0],r[1],r[2])}if(!0===cN(n)){var o=function(t){var e=rN(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return gN(e.r,e.g,e.b)}(n),s={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},a={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},g=AN(a.h,a.s,a.v),l=AN(s.h,s.s,s.v);return{background:n,border:g,highlight:{background:l,border:g},hover:{background:l,border:g}}}return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}return e?{background:t.background||e.background,border:t.border||e.border,highlight:Y_(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||e.highlight.background,border:t.highlight&&t.highlight.border||e.highlight.border},hover:Y_(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||e.hover.border,background:t.hover&&t.hover.background||e.hover.background}}:{background:t.background||void 0,border:t.border||void 0,highlight:Y_(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:Y_(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function gN(t,e,n){t/=255,e/=255,n/=255;var i=Math.min(t,Math.min(e,n)),r=Math.max(t,Math.max(e,n));return i===r?{h:0,s:0,v:i}:{h:60*((t===i?3:n===i?1:5)-(t===i?e-n:n===i?t-e:n-t)/(r-i))/360,s:(r-i)/r,v:r}}function lN(t,e,n){var i,r,o,s=Math.floor(6*t),a=6*t-s,g=n*(1-e),l=n*(1-a*e),A=n*(1-(1-a)*e);switch(s%6){case 0:i=n,r=A,o=g;break;case 1:i=l,r=n,o=g;break;case 2:i=g,r=n,o=A;break;case 3:i=g,r=l,o=n;break;case 4:i=A,r=g,o=n;break;case 5:i=n,r=g,o=l}return{r:Math.floor(255*i),g:Math.floor(255*r),b:Math.floor(255*o)}}function AN(t,e,n){var i=lN(t,e,n);return sN(i.r,i.g,i.b)}function cN(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function hN(t){return Z_.test(t)}function CN(t){if(null===t||"object"!==JE(t))return null;if(t instanceof Element)return t;var e=mO(t);for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&"object"==JE(t[n])&&(e[n]=CN(t[n]));return e}function IN(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=function(t){return null!=t},o=function(t){return null!==t&&"object"===JE(t)};if(!o(t))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!r(n))throw new Error("Parameter option must have a value");if(!o(i))throw new Error("Parameter globalOptions must be an object");var s=e[n],a=o(i)&&!function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(i)?i[n]:void 0,g=a?a.enabled:void 0;if(void 0!==s){if("boolean"==typeof s)return o(t[n])||(t[n]={}),void(t[n].enabled=s);if(null===s&&!o(t[n])){if(!r(a))return;t[n]=mO(a)}if(o(s)){var l=!0;void 0!==s.enabled?l=s.enabled:void 0!==g&&(l=a.enabled),function(t,e,n){o(t[n])||(t[n]={});var i=e[n],r=t[n];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])}(t,e,n),t[n].enabled=l}}}var dN={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function uN(t,e){var n;sS(e)||(e=[e]);var i,r=D_(t);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(o){n=o[e[0]];for(var s=1;s<e.length;s++)n&&(n=n[e[s]]);if(void 0!==n)break}}}catch(t){r.e(t)}finally{r.f()}return n}var fN={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},pN=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Qy(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return nk(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return fN[t]}},{key:"setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==t){var n,i=this._isColorString(t);if(void 0!==i&&(t=i),!0===Y_(t)){if(!0===hN(t)){var r=t.substr(4).substr(0,t.length-5).split(",");n={r:r[0],g:r[1],b:r[2],a:1}}else if(!0===function(t){return H_.test(t)}(t)){var o=t.substr(5).substr(0,t.length-6).split(",");n={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(!0===cN(t)){var s=rN(t);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var a=void 0!==t.a?t.a:"1.0";n={r:t.r,g:t.g,b:t.b,a}}if(void 0===n)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+wO(t));this._setColor(n,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=gf({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",UO((function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)}),0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=gf({},t)),this.color=t;var e=gN(t.r,t.g,t.b),n=2*Math.PI,i=this.r*e.s,r=this.centerCoordinates.x+i*Math.sin(n*e.h),o=this.centerCoordinates.y+i*Math.cos(n*e.h);this.colorPickerSelector.style.left=r-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=gN(this.color.r,this.color.g,this.color.b);e.v=t/100;var n=lN(e.h,e.s,e.v);n.a=this.color.a,this.color=n,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,e=gN(t.r,t.g,t.b),n=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,r),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-e.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),XO(n).call(n),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var t,e,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var r=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Of(t=this._hide).call(t,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Of(e=this._apply).call(e,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Of(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Of(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new V_(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",(function(e){e.isFirst&&t._moveSelector(e)})),this.hammer.on("tap",(function(e){t._moveSelector(e)})),this.hammer.on("panstart",(function(e){t._moveSelector(e)})),this.hammer.on("panmove",(function(e){t._moveSelector(e)})),this.hammer.on("panend",(function(e){t._moveSelector(e)}))}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e,n,i,r,o=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,o,s),this.centerCoordinates={x:.5*o,y:.5*s},this.r=.49*o;var a,g=2*Math.PI/360,l=1/360,A=1/this.r;for(i=0;i<360;i++)for(r=0;r<this.r;r++)e=this.centerCoordinates.x+r*Math.sin(g*i),n=this.centerCoordinates.y+r*Math.cos(g*i),a=lN(i*l,r*A,1),t.fillStyle="rgb("+a.r+","+a.g+","+a.b+")",t.fillRect(e-.5,n-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,o,s)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),n=t.center.x-e.left,i=t.center.y-e.top,r=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,s=n-o,a=i-r,g=Math.atan2(s,a),l=.98*Math.min(Math.sqrt(s*s+a*a),o),A=Math.cos(g)*l+r,c=Math.sin(g)*l+o;this.colorPickerSelector.style.top=A-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=c-.5*this.colorPickerSelector.clientWidth+"px";var h=g/(2*Math.PI);h=h<0?h+1:h;var C=l/this.r,I=gN(this.color.r,this.color.g,this.color.b);I.h=h,I.s=C;var d=lN(I.h,I.s,I.v);d.a=this.color.a,this.color=d,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}();function vN(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length<1)throw new TypeError("Invalid arguments.");if(1===e.length)return document.createTextNode(e[0]);var i=document.createElement(e[0]);return i.appendChild(vN.apply(void 0,Zk(Jk(e).call(e,1)))),i}var mN,yN=function(){function t(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!1};Qy(this,t),this.parent=e,this.changedOptions=[],this.container=n,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},gf(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new pN(r),this.wrapper=void 0}return nk(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;if("string"==typeof t)this.options.filter=t;else if(sS(t))this.options.filter=t.join();else if("object"===JE(t)){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==FT(t)&&(this.options.filter=FT(t)),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0);!1===FT(this.options)&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var t=FT(this.options),e=0,n=!1;for(var i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,"function"==typeof t?n=(n=t(i,[]))||this._handleObject(this.configureOptions[i],[i],!0):!0!==t&&-1===fO(t).call(t,i)||(n=!0),!1!==n&&(this.allowCreation=!0,e>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),e++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,n=0;n<t.length;n++){if(void 0===e[t[n]]){e=void 0;break}e=e[t[n]]}return e}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return NS(i).call(i,(function(t){e.appendChild(t)})),this.domElements.push(e),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerText=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+e.length,!0===n){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(vN("i","b",t))}else i.innerText=t+":";return i}},{key:"_makeDropdown",value:function(t,e,n){var i=document.createElement("select");i.className="vis-configuration vis-config-select";var r=0;void 0!==e&&-1!==fO(t).call(t,e)&&(r=fO(t).call(t,e));for(var o=0;o<t.length;o++){var s=document.createElement("option");s.value=t[o],o===r&&(s.selected="selected"),s.innerText=t[o],i.appendChild(s)}var a=this;i.onchange=function(){a._update(this.value,n)};var g=this._makeLabel(n[n.length-1],n);this._makeItem(n,g,i)}},{key:"_makeRange",value:function(t,e,n){var i=t[0],r=t[1],o=t[2],s=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=r,a.max=o}catch(t){}a.step=s;var g="",l=0;if(void 0!==e){var A=1.2;e<0&&e*A<r?(a.min=Math.ceil(e*A),l=a.min,g="range increased"):e/A<r&&(a.min=Math.ceil(e/A),l=a.min,g="range increased"),e*A>o&&1!==o&&(a.max=Math.ceil(e*A),l=a.max,g="range increased"),a.value=e}else a.value=i;var c=document.createElement("input");c.className="vis-configuration vis-config-rangeinput",c.value=a.value;var h=this;a.onchange=function(){c.value=this.value,h._update(Number(this.value),n)},a.oninput=function(){c.value=this.value};var C=this._makeLabel(n[n.length-1],n),I=this._makeItem(n,C,a,c);""!==g&&this.popupHistory[I]!==l&&(this.popupHistory[I]=l,this._setupPopup(g,I))}},{key:"_makeButton",value:function(){var t=this;if(!0===this.options.showButton){var e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=function(){t._printOptions()},e.onmouseover=function(){e.className="vis-configuration vis-config-button hover"},e.onmouseout=function(){e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}},{key:"_setupPopup",value:function(t,e){var n=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerText=t,i.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=e.left+"px",this.popupDiv.html.style.top=e.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=UO((function(){t.popupDiv.html.style.opacity=0}),1500),this.popupDiv.deleteTimeout=UO((function(){t._removePopup()}),1800)}}},{key:"_makeCheckbox",value:function(t,e,n){var i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=t,void 0!==e&&(i.checked=e,e!==t&&("object"===JE(t)?e!==t.enabled&&this.changedOptions.push({path:n,value:e}):this.changedOptions.push({path:n,value:e})));var r=this;i.onchange=function(){r._update(this.checked,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}},{key:"_makeTextInput",value:function(t,e,n){var i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=e,e!==t&&this.changedOptions.push({path:n,value:e});var r=this;i.onchange=function(){r._update(this.value,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}},{key:"_makeColorField",value:function(t,e,n){var i=this,r=t[1],o=document.createElement("div");"none"!==(e=void 0===e?r:e)?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=e):o.className="vis-configuration vis-config-colorBlock none",e=void 0===e?r:e,o.onclick=function(){i._showColorPicker(e,o,n)};var s=this._makeLabel(n[n.length-1],n);this._makeItem(n,s,o)}},{key:"_showColorPicker",value:function(t,e,n){var i=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback((function(t){var r="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=r,i._update(r,n)})),this.colorPicker.setCloseCallback((function(){e.onclick=function(){i._showColorPicker(t,e,n)}}))}},{key:"_handleObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!1,r=FT(this.options),o=!1;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){i=!0;var a=t[s],g=eN(e,s);if("function"==typeof r&&!1===(i=r(s,e))&&!sS(a)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,i=this._handleObject(a,g,!0),this.allowCreation=!1===n),!1!==i){o=!0;var l=this._getValue(g);if(sS(a))this._handleArray(a,l,g);else if("string"==typeof a)this._makeTextInput(a,l,g);else if("boolean"==typeof a)this._makeCheckbox(a,l,g);else if(a instanceof Object){if(!this.hideOption(e,s,this.moduleOptions))if(void 0!==a.enabled){var A=eN(g,"enabled"),c=this._getValue(A);if(!0===c){var h=this._makeLabel(s,g,!0);this._makeItem(g,h),o=this._handleObject(a,g)||o}else this._makeCheckbox(a,c,g)}else{var C=this._makeLabel(s,g,!0);this._makeItem(g,C),o=this._handleObject(a,g)||o}}else console.error("dont know how to handle",a,s,g)}}return o}},{key:"_handleArray",value:function(t,e,n){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,n),t[1]!==e&&this.changedOptions.push({path:n,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,n),t[0]!==e&&this.changedOptions.push({path:n,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,n),t[0]!==e&&this.changedOptions.push({path:n,value:Number(e)}))}},{key:"_update",value:function(t,e){var n=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}},{key:"_constructOptions",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n;t="false"!==(t="true"===t||t)&&t;for(var r=0;r<e.length;r++)"global"!==e[r]&&(void 0===i[e[r]]&&(i[e[r]]={}),r!==e.length-1?i=i[e[r]]:i[e[r]]=t);return n}},{key:"_printOptions",value:function(){for(var t=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(vN("pre","const options = "+wO(t,null,2)))}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),t}(),bN=function(){function t(e,n){Qy(this,t),this.container=e,this.overflowMethod=n||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return nk(t,[{key:"setPosition",value:function(t,e){this.x=aO(t),this.y=aO(e)}},{key:"setText",value:function(t){if(t instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(t)}else this.frame.innerText=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,r=this.frame.parentNode.clientWidth,o=0,s=0;if("flip"==this.overflowMethod){var a=!1,g=!0;this.y-e<this.padding&&(g=!1),this.x+n>r-this.padding&&(a=!0),o=a?this.x-n:this.x,s=g?this.y-e:this.y}else(s=this.y-e)+e+this.padding>i&&(s=i-e-this.padding),s<this.padding&&(s=this.padding),(o=this.x)+n+this.padding>r&&(o=r-n-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}(),wN=!1,xN="background: #FFeeee; color: #dd0000",EN=function(){function t(){Qy(this,t)}return nk(t,null,[{key:"validate",value:function(e,n,i){wN=!1,mN=n;var r=n;return void 0!==i&&(r=n[i]),t.parse(e,r,[]),wN}},{key:"parse",value:function(e,n,i){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.check(r,e,n,i)}},{key:"check",value:function(e,n,i,r){if(void 0!==i[e]||void 0!==i.__any__){var o=e,s=!0;void 0===i[e]&&void 0!==i.__any__&&(o="__any__",s="object"===t.getType(n[e]));var a=i[o];s&&void 0!==a.__type__&&(a=a.__type__),t.checkFields(e,n,i,o,a,r)}else t.getSuggestion(e,i,r)}},{key:"checkFields",value:function(e,n,i,r,o,s){var a=function(n){console.error("%c"+n+t.printLocation(s,e),xN)},g=t.getType(n[e]),l=o[g];void 0!==l?"array"===t.getType(l)&&-1===fO(l).call(l,n[e])?(a('Invalid option detected in "'+e+'". Allowed values are:'+t.print(l)+' not "'+n[e]+'". '),wN=!0):"object"===g&&"__any__"!==r&&(s=eN(s,e),t.parse(n[e],i[r],s)):void 0===o.any&&(a('Invalid type received for "'+e+'". Expected: '+t.print(dS(o))+". Received ["+g+'] "'+n[e]+'"'),wN=!0)}},{key:"getType",value:function(t){var e=JE(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":sS(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,n,i){var r,o=t.findInOptions(e,n,i,!1),s=t.findInOptions(e,mN,[],!0);r=void 0!==o.indexMatch?" in "+t.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':s.distance<=4&&o.distance>s.distance?" in "+t.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(s.path,s.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+t.printLocation(o.path,e):". Did you mean one of these: "+t.print(dS(n))+t.printLocation(i,e),console.error('%cUnknown option detected: "'+e+'"'+r,xN),wN=!0}},{key:"findInOptions",value:function(e,n,i){var r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=1e9,a="",g=[],l=e.toLowerCase(),A=void 0;for(var c in n){var h=void 0;if(void 0!==n[c].__type__&&!0===o){var C=t.findInOptions(e,n[c],eN(i,c));s>C.distance&&(a=C.closestMatch,g=C.path,s=C.distance,A=C.indexMatch)}else{var I;-1!==fO(I=c.toLowerCase()).call(I,l)&&(A=c),s>(h=t.levenshteinDistance(e,c))&&(a=c,g=Jk(r=i).call(r),s=h)}}return{closestMatch:a,path:g,distance:s,indexMatch:A}}},{key:"printLocation",value:function(t,e){for(var n="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",i=0;i<t.length;i++){for(var r=0;r<i+1;r++)n+="  ";n+=t[i]+": {\n"}for(var o=0;o<t.length+1;o++)n+="  ";n+=e+"\n";for(var s=0;s<t.length+1;s++){for(var a=0;a<t.length-s;a++)n+="  ";n+="}\n"}return n+"\n\n"}},{key:"print",value:function(t){return wO(t).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var n,i,r=[];for(n=0;n<=e.length;n++)r[n]=[n];for(i=0;i<=t.length;i++)r[0][i]=i;for(n=1;n<=e.length;n++)for(i=1;i<=t.length;i++)e.charAt(n-1)==t.charAt(i-1)?r[n][i]=r[n-1][i-1]:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[e.length][t.length]}}]),t}(),kN=G_,SN=yN,TN=V_,ON=bN,RN=xN,_N=EN;var NN={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},DN=mO(NN);DN.color="color.color",DN.style="dashes";var PN={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},MN={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},LN="",jN=0,BN="",FN="",zN=PN.NULL;function VN(){jN++,BN=LN.charAt(jN)}function GN(){return LN.charAt(jN+1)}function UN(t){var e=t.charCodeAt(0);return e<47?35===e||46===e:e<59?e>47:e<91?e>64:e<96?95===e:e<123&&e>96}function WN(t,e){if(t||(t={}),e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function ZN(t,e,n){for(var i=e.split("."),r=t;i.length;){var o=i.shift();i.length?(r[o]||(r[o]={}),r=r[o]):r[o]=n}}function HN(t,e){for(var n,i,r=null,o=[t],s=t;s.parent;)o.push(s.parent),s=s.parent;if(s.nodes)for(n=0,i=s.nodes.length;n<i;n++)if(e.id===s.nodes[n].id){r=s.nodes[n];break}for(r||(r={id:e.id},t.node&&(r.attr=WN(r.attr,t.node))),n=o.length-1;n>=0;n--){var a,g=o[n];g.nodes||(g.nodes=[]),-1===fO(a=g.nodes).call(a,r)&&g.nodes.push(r)}e.attr&&(r.attr=WN(r.attr,e.attr))}function qN(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var n=WN({},t.edge);e.attr=WN(n,e.attr)}}function YN(t,e,n,i,r){var o={from:e,to:n,type:i};return t.edge&&(o.attr=WN({},t.edge)),o.attr=WN(o.attr||{},r),null!=r&&r.hasOwnProperty("arrows")&&null!=r.arrows&&(o.arrows={to:{enabled:!0,type:r.arrows.type}},r.arrows=null),o}function QN(){for(zN=PN.NULL,FN="";" "===BN||"\t"===BN||"\n"===BN||"\r"===BN;)VN();do{var t=!1;if("#"===BN){for(var e=jN-1;" "===LN.charAt(e)||"\t"===LN.charAt(e);)e--;if("\n"===LN.charAt(e)||""===LN.charAt(e)){for(;""!=BN&&"\n"!=BN;)VN();t=!0}}if("/"===BN&&"/"===GN()){for(;""!=BN&&"\n"!=BN;)VN();t=!0}if("/"===BN&&"*"===GN()){for(;""!=BN;){if("*"===BN&&"/"===GN()){VN(),VN();break}VN()}t=!0}for(;" "===BN||"\t"===BN||"\n"===BN||"\r"===BN;)VN()}while(t);if(""!==BN){var n=BN+GN();if(MN[n])return zN=PN.DELIMITER,FN=n,VN(),void VN();if(MN[BN])return zN=PN.DELIMITER,FN=BN,void VN();if(UN(BN)||"-"===BN){for(FN+=BN,VN();UN(BN);)FN+=BN,VN();return"false"===FN?FN=!1:"true"===FN?FN=!0:isNaN(Number(FN))||(FN=Number(FN)),void(zN=PN.IDENTIFIER)}if('"'===BN){for(VN();""!=BN&&('"'!=BN||'"'===BN&&'"'===GN());)'"'===BN?(FN+=BN,VN()):"\\"===BN&&"n"===GN()?(FN+="\n",VN()):FN+=BN,VN();if('"'!=BN)throw eD('End of string " expected');return VN(),void(zN=PN.IDENTIFIER)}for(zN=PN.UNKNOWN;""!=BN;)FN+=BN,VN();throw new SyntaxError('Syntax error in part "'+nD(FN,30)+'"')}zN=PN.DELIMITER}function KN(t){for(;""!==FN&&"}"!=FN;)XN(t),";"===FN&&QN()}function XN(t){var e=JN(t);if(e)$N(t,e);else{var n=function(t){return"node"===FN?(QN(),t.node=tD(),"node"):"edge"===FN?(QN(),t.edge=tD(),"edge"):"graph"===FN?(QN(),t.graph=tD(),"graph"):null}(t);if(!n){if(zN!=PN.IDENTIFIER)throw eD("Identifier expected");var i=FN;if(QN(),"="===FN){if(QN(),zN!=PN.IDENTIFIER)throw eD("Identifier expected");t[i]=FN,QN()}else!function(t,e){var n={id:e},i=tD();i&&(n.attr=i),HN(t,n),$N(t,e)}(t,i)}}}function JN(t){var e=null;if("subgraph"===FN&&((e={}).type="subgraph",QN(),zN===PN.IDENTIFIER&&(e.id=FN,QN())),"{"===FN){if(QN(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,KN(e),"}"!=FN)throw eD("Angle bracket } expected");QN(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function $N(t,e){for(;"->"===FN||"--"===FN;){var n,i=FN;QN();var r=JN(t);if(r)n=r;else{if(zN!=PN.IDENTIFIER)throw eD("Identifier or subgraph expected");HN(t,{id:n=FN}),QN()}qN(t,YN(t,e,n,i,tD())),e=n}}function tD(){for(var t,e,n=null,i={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},o=new Array,s=new Array;"["===FN;){for(QN(),n={};""!==FN&&"]"!=FN;){if(zN!=PN.IDENTIFIER)throw eD("Attribute name expected");var a=FN;if(QN(),"="!=FN)throw eD("Equal sign = expected");if(QN(),zN!=PN.IDENTIFIER)throw eD("Attribute value expected");var g=FN;"style"===a&&(g=i[g]),"arrowhead"===a&&(a="arrows",g={to:{enabled:!0,type:r[g]}}),"arrowtail"===a&&(a="arrows",g={from:{enabled:!0,type:r[g]}}),o.push({attr:n,name:a,value:g}),s.push(a),QN(),","==FN&&QN()}if("]"!=FN)throw eD("Bracket ] expected");QN()}if(TT(s).call(s,"dir")){var l={arrows:{}};for(t=0;t<o.length;t++)if("arrows"===o[t].name)if(null!=o[t].value.to)l.arrows.to=t;else{if(null==o[t].value.from)throw eD("Invalid value of arrows");l.arrows.from=t}else"dir"===o[t].name&&(l.dir=t);var A,c,h=o[l.dir].value;if(!TT(s).call(s,"arrows"))if("both"===h)o.push({attr:o[l.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),l.arrows.to=o.length-1,o.push({attr:o[l.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),l.arrows.from=o.length-1;else if("forward"===h)o.push({attr:o[l.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),l.arrows.to=o.length-1;else if("back"===h)o.push({attr:o[l.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),l.arrows.from=o.length-1;else{if("none"!==h)throw eD('Invalid dir type "'+h+'"');o.push({attr:o[l.dir].attr,name:"arrows",value:""}),l.arrows.to=o.length-1}if("both"===h)l.arrows.to&&l.arrows.from?(c=o[l.arrows.to].value.to.type,A=o[l.arrows.from].value.from.type,o[l.arrows.to]={attr:o[l.arrows.to].attr,name:o[l.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:A}}},lT(o).call(o,l.arrows.from,1)):l.arrows.to?(c=o[l.arrows.to].value.to.type,A="arrow",o[l.arrows.to]={attr:o[l.arrows.to].attr,name:o[l.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:A}}}):l.arrows.from&&(c="arrow",A=o[l.arrows.from].value.from.type,o[l.arrows.from]={attr:o[l.arrows.from].attr,name:o[l.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:A}}});else if("back"===h)l.arrows.to&&l.arrows.from?(c="",A=o[l.arrows.from].value.from.type,o[l.arrows.from]={attr:o[l.arrows.from].attr,name:o[l.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:A}}}):l.arrows.to?(c="",A="arrow",l.arrows.from=l.arrows.to,o[l.arrows.from]={attr:o[l.arrows.from].attr,name:o[l.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:A}}}):l.arrows.from&&(c="",A=o[l.arrows.from].value.from.type,o[l.arrows.to]={attr:o[l.arrows.from].attr,name:o[l.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:A}}}),o[l.arrows.from]={attr:o[l.arrows.from].attr,name:o[l.arrows.from].name,value:{from:{enabled:!0,type:o[l.arrows.from].value.from.type}}};else if("none"===h){var C;o[C=l.arrows.to?l.arrows.to:l.arrows.from]={attr:o[C].attr,name:o[C].name,value:""}}else{if("forward"!==h)throw eD('Invalid dir type "'+h+'"');l.arrows.to&&l.arrows.from||l.arrows.to?(c=o[l.arrows.to].value.to.type,A="",o[l.arrows.to]={attr:o[l.arrows.to].attr,name:o[l.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:A}}}):l.arrows.from&&(c="arrow",A="",l.arrows.to=l.arrows.from,o[l.arrows.to]={attr:o[l.arrows.to].attr,name:o[l.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:A}}}),o[l.arrows.to]={attr:o[l.arrows.to].attr,name:o[l.arrows.to].name,value:{to:{enabled:!0,type:o[l.arrows.to].value.to.type}}}}lT(o).call(o,l.dir,1)}if(TT(s).call(s,"penwidth")){var I=[];for(e=o.length,t=0;t<e;t++)"width"!==o[t].name&&("penwidth"===o[t].name&&(o[t].name="width"),I.push(o[t]));o=I}for(e=o.length,t=0;t<e;t++)ZN(o[t].attr,o[t].name,o[t].value);return n}function eD(t){return new SyntaxError(t+', got "'+nD(FN,30)+'" (char '+jN+")")}function nD(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function iD(t,e,n){for(var i=e.split("."),r=i.pop(),o=t,s=0;s<i.length;s++){var a=i[s];a in o||(o[a]={}),o=o[a]}return o[r]=n,t}function rD(t,e){var n={};for(var i in t)if(t.hasOwnProperty(i)){var r=e[i];sS(r)?NS(r).call(r,(function(e){iD(n,e,t[i])})):iD(n,"string"==typeof r?r:i,t[i])}return n}function oD(t){var e,n=function(t){return LN=t,function(){var t={};if(jN=0,BN=LN.charAt(0),QN(),"strict"===FN&&(t.strict=!0,QN()),"graph"!==FN&&"digraph"!==FN||(t.type=FN,QN()),zN===PN.IDENTIFIER&&(t.id=FN,QN()),"{"!=FN)throw eD("Angle bracket { expected");if(QN(),KN(t),"}"!=FN)throw eD("Angle bracket } expected");if(QN(),""!==FN)throw eD("End of file expected");return QN(),delete t.node,delete t.edge,delete t.graph,t}()}(t),i={nodes:[],edges:[],options:{}};if(n.nodes&&NS(e=n.nodes).call(e,(function(t){var e={id:t.id,label:String(t.label||t.id)};WN(e,rD(t.attr,NN)),e.image&&(e.shape="image"),i.nodes.push(e)})),n.edges){var r,o=function(t){var e={from:t.from,to:t.to};return WN(e,rD(t.attr,DN)),null==e.arrows&&"->"===t.type&&(e.arrows="to"),e};NS(r=n.edges).call(r,(function(t){var e,n,r,s,a,g,l;e=t.from instanceof Object?t.from.nodes:{id:t.from},n=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&NS(r=t.from.edges).call(r,(function(t){var e=o(t);i.edges.push(e)})),a=n,g=function(e,n){var r=YN(i,e.id,n.id,t.type,t.attr),s=o(r);i.edges.push(s)},sS(s=e)?NS(s).call(s,(function(t){sS(a)?NS(a).call(a,(function(e){g(t,e)})):g(t,a)})):sS(a)?NS(a).call(a,(function(t){g(s,t)})):g(s,a),t.to instanceof Object&&t.to.edges&&NS(l=t.to.edges).call(l,(function(t){var e=o(t);i.edges.push(e)}))}))}return n.attr&&(i.options=n.attr),i}var sD=Object.freeze({__proto__:null,cn:{addDescription:"å•å‡»ç©ºç™½å¤„æ”¾ç½®æ–°èŠ‚ç‚¹ã€‚",addEdge:"æ·»åŠ è¿žæŽ¥çº¿",addNode:"æ·»åŠ èŠ‚ç‚¹",back:"è¿”å›ž",close:"é—œé–‰",createEdgeError:"æ— æ³•å°†è¿žæŽ¥çº¿è¿žæŽ¥åˆ°ç¾¤é›†ã€‚",del:"åˆ é™¤é€‰å®š",deleteClusterError:"æ— æ³•åˆ é™¤ç¾¤é›†ã€‚",edgeDescription:"å•å‡»æŸä¸ªèŠ‚ç‚¹å¹¶å°†è¯¥è¿žæŽ¥çº¿æ‹–åŠ¨åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹ä»¥è¿žæŽ¥å®ƒä»¬ã€‚",edit:"ç¼–è¾‘",editClusterError:"æ— æ³•ç¼–è¾‘ç¾¤é›†ã€‚",editEdge:"ç¼–è¾‘è¿žæŽ¥çº¿",editEdgeDescription:"å•å‡»æŽ§åˆ¶èŠ‚ç‚¹å¹¶å°†å®ƒä»¬æ‹–åˆ°èŠ‚ç‚¹ä¸Šè¿žæŽ¥ã€‚",editNode:"ç¼–è¾‘èŠ‚ç‚¹"},cs:{addDescription:"KluknutÃ­m do prÃ¡zdnÃ©ho prostoru mÅ¯Å¾ete pÅ™idat novÃ½ vrchol.",addEdge:"PÅ™idat hranu",addNode:"PÅ™idat vrchol",back:"ZpÄ›t",close:"ZavÅ™Ã­t",createEdgeError:"Nelze pÅ™ipojit hranu ke shluku.",del:"Smazat vÃ½bÄ›r",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"PÅ™etaÅ¾enÃ­m z jednoho vrcholu do druhÃ©ho mÅ¯Å¾ete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"PÅ™etaÅ¾enÃ­m kontrolnÃ­ho vrcholu hrany ji mÅ¯Å¾ete pÅ™ipojit k jinÃ©mu vrcholu.",editNode:"Upravit vrchol"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufÃ¼gen",addNode:"Knoten hinzufÃ¼gen",back:"ZurÃ¼ck",close:"SchlieÃŸen",createEdgeError:"Es ist nicht mÃ¶glich, Kanten mit Clustern zu verbinden.",del:"LÃ¶sche Auswahl",deleteClusterError:"Cluster kÃ¶nnen nicht gelÃ¶scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster kÃ¶nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},es:{addDescription:"Haga clic en un lugar vacÃ­o para colocar un nuevo nodo.",addEdge:"AÃ±adir arista",addNode:"AÃ±adir nodo",back:"AtrÃ¡s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecciÃ³n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un nÅ“ud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nÅ“ud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crÃ©er un lien vers un cluster.",del:"Effacer la sÃ©lection",deleteClusterError:"Les clusters ne peuvent pas Ãªtre effacÃ©s.",edgeDescription:"Cliquez sur un nÅ“ud et glissez le lien vers un autre nÅ“ud pour les connecter.",edit:"Ã‰diter",editClusterError:"Les clusters ne peuvent pas Ãªtre Ã©ditÃ©s.",editEdge:"Ã‰diter le lien",editEdgeDescription:"Cliquez sur les points de contrÃ´le et glissez-les pour connecter un nÅ“ud.",editNode:"Ã‰diter le nÅ“ud"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espaÃ§o em branco para adicionar um novo nÃ³",addEdge:"Adicionar aresta",addNode:"Adicionar nÃ³",back:"Voltar",close:"Fechar",createEdgeError:"NÃ£o foi possÃ­vel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters nÃ£o puderam ser removidos.",edgeDescription:"Clique em um nÃ³ e arraste a aresta atÃ© outro nÃ³ para conectÃ¡-los",edit:"Editar",editClusterError:"Clusters nÃ£o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nÃ³ para conectÃ¡-los",editNode:"Editar nÃ³"},ru:{addDescription:"ÐšÐ»Ð¸ÐºÐ½Ð¸Ñ‚Ðµ Ð² ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾Ðµ Ð¼ÐµÑÑ‚Ð¾, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ ÑƒÐ·ÐµÐ».",addEdge:"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ñ€ÐµÐ±Ñ€Ð¾",addNode:"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÑƒÐ·ÐµÐ»",back:"ÐÐ°Ð·Ð°Ð´",close:"Ð—Ð°ÐºÑ€Ñ‹Ð²Ð°Ñ‚ÑŒ",createEdgeError:"ÐÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸Ñ‚ÑŒ Ñ€ÐµÐ±Ñ€Ð° Ð² ÐºÐ»Ð°ÑÑ‚ÐµÑ€.",del:"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ð¾Ðµ",deleteClusterError:"ÐšÐ»Ð°ÑÑ‚ÐµÑ€Ñ‹ Ð½Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð±Ñ‹Ñ‚ÑŒ ÑƒÐ´Ð°Ð»ÐµÐ½Ñ‹",edgeDescription:"ÐšÐ»Ð¸ÐºÐ½Ð¸Ñ‚Ðµ Ð½Ð° ÑƒÐ·ÐµÐ» Ð¸ Ð¿Ñ€Ð¾Ñ‚ÑÐ½Ð¸Ñ‚Ðµ Ñ€ÐµÐ±Ñ€Ð¾ Ðº Ð´Ñ€ÑƒÐ³Ð¾Ð¼Ñƒ ÑƒÐ·Ð»Ñƒ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸Ñ‚ÑŒ Ð¸Ñ….",edit:"Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ",editClusterError:"ÐšÐ»Ð°ÑÑ‚ÐµÑ€Ñ‹ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹ Ð´Ð»Ñ Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ.",editEdge:"Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ€ÐµÐ±Ñ€Ð¾",editEdgeDescription:"ÐšÐ»Ð¸ÐºÐ½Ð¸Ñ‚Ðµ Ð½Ð° ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒÐ½Ñ‹Ðµ Ñ‚Ð¾Ñ‡ÐºÐ¸ Ð¸ Ð¿ÐµÑ€ÐµÑ‚Ð°Ñ‰Ð¸Ñ‚Ðµ Ð¸Ñ… Ð² ÑƒÐ·ÐµÐ», Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒÑÑ Ðº Ð½ÐµÐ¼Ñƒ.",editNode:"Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑƒÐ·ÐµÐ»"},uk:{addDescription:"KÐ»Ñ–ÐºÐ½Ñ–Ñ‚ÑŒ Ð½Ð° Ð²Ñ–Ð»ÑŒÐ½Ðµ Ð¼Ñ–ÑÑ†Ðµ, Ñ‰Ð¾Ð± Ð´Ð¾Ð´Ð°Ñ‚Ð¸ Ð½Ð¾Ð²Ð¸Ð¹ Ð²ÑƒÐ·Ð¾Ð».",addEdge:"Ð”Ð¾Ð´Ð°Ñ‚Ð¸ ÐºÑ€Ð°Ð¹",addNode:"Ð”Ð¾Ð´Ð°Ñ‚Ð¸ Ð²ÑƒÐ·Ð¾Ð»",back:"ÐÐ°Ð·Ð°Ð´",close:"Ð—Ð°ÐºÑ€Ð¸Ñ‚Ð¸",createEdgeError:"ÐÐµ Ð¼Ð¾Ð¶Ð»Ð¸Ð²Ð¾ Ð¾Ð±'Ñ”Ð´Ð½Ð°Ñ‚Ð¸ ÐºÑ€Ð°Ñ— Ð² Ð³Ñ€ÑƒÐ¿Ñƒ.",del:"Ð’Ð¸Ð´Ð°Ð»Ð¸Ñ‚Ð¸ Ð¾Ð±Ñ€Ð°Ð½Ðµ",deleteClusterError:"Ð“Ñ€ÑƒÐ¿Ð¸ Ð½Ðµ Ð¼Ð¾Ð¶ÑƒÑ‚ÑŒ Ð±ÑƒÑ‚Ð¸ Ð²Ð¸Ð´Ð°Ð»ÐµÐ½Ñ–.",edgeDescription:"ÐšÐ»Ñ–ÐºÐ½Ñ–Ñ‚ÑŒ Ð½Ð° Ð²ÑƒÐ·Ð¾Ð» Ñ– Ð¿ÐµÑ€ÐµÑ‚ÑÐ³Ð½Ñ–Ñ‚ÑŒ ÐºÑ€Ð°Ð¹ Ð´Ð¾ Ñ–Ð½ÑˆÐ¾Ð³Ð¾ Ð²ÑƒÐ·Ð»Ð°, Ñ‰Ð¾Ð± Ñ—Ñ… Ð·'Ñ”Ð´Ð½Ð°Ñ‚Ð¸.",edit:"Ð ÐµÐ´Ð°Ð³ÑƒÐ²Ð°Ñ‚Ð¸",editClusterError:"Ð“Ñ€ÑƒÐ¿Ð¸ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ– Ð´Ð»Ñ Ñ€ÐµÐ´Ð°Ð³ÑƒÐ²Ð°Ð½Ð½Ñ.",editEdge:"Ð ÐµÐ´Ð°Ð³ÑƒÐ²Ð°Ñ‚Ð¸ ÐºÑ€Ð°Ð¹",editEdgeDescription:"ÐšÐ»Ñ–ÐºÐ½Ñ–Ñ‚ÑŒ Ð½Ð° ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒÐ½Ñ– Ñ‚Ð¾Ñ‡ÐºÐ¸ Ñ– Ð¿ÐµÑ€ÐµÑ‚ÑÐ³Ð½Ñ–Ñ‚ÑŒ Ñ—Ñ… Ñƒ Ð²ÑƒÐ·Ð¾Ð», Ñ‰Ð¾Ð± Ð¿Ñ–Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ð¸ÑÑ Ð´Ð¾ Ð½ÑŒÐ¾Ð³Ð¾.",editNode:"Ð ÐµÐ´Ð°Ð³ÑƒÐ²Ð°Ñ‚Ð¸ Ð²ÑƒÐ·Ð¾Ð»"}}),aD=function(){function t(){Qy(this,t),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return nk(t,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,e=this.image.height;this.width=t,this.height=e;var n=Math.floor(e/2),i=Math.floor(e/4),r=Math.floor(e/8),o=Math.floor(e/16),s=Math.floor(t/2),a=Math.floor(t/4),g=Math.floor(t/8),l=Math.floor(t/16);this.canvas.width=3*a,this.canvas.height=n,this.coordinates=[[0,0,s,n],[s,0,a,i],[s,i,g,r],[5*g,i,l,o]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(var n=1;n<this.NUM_ITERATIONS;n++){var i=this.coordinates[n-1],r=this.coordinates[n];t.drawImage(this.canvas,i[0],i[1],i[2],i[3],r[0],r[1],r[2],r[3])}}},{key:"drawImageAtPosition",value:function(t,e,n,i,r,o){if(this.initialized())if(e>2){e*=.5;for(var s=0;e>2&&s<this.NUM_ITERATIONS;)e*=.5,s+=1;s>=this.NUM_ITERATIONS&&(s=this.NUM_ITERATIONS-1);var a=this.coordinates[s];t.drawImage(this.canvas,a[0],a[1],a[2],a[3],n,i,r,o)}else t.drawImage(this.image,n,i,r,o)}}]),t}(),gD=function(){function t(e){Qy(this,t),this.images={},this.imageBroken={},this.callback=e}return nk(t,[{key:"_tryloadBrokenUrl",value:function(t,e,n){void 0!==t&&void 0!==n&&(void 0!==e?(n.image.onerror=function(){console.error("Could not load brokenImage:",e)},n.image.src=e):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e){var n=this,i=this.images[t];if(i)return i;var r=new aD;return this.images[t]=r,r.image.onload=function(){n._fixImageCoordinates(r.image),r.init(),n._redrawWithImage(r)},r.image.onerror=function(){console.error("Could not load image:",t),n._tryloadBrokenUrl(t,e,r)},r.image.src=t,r}},{key:"_fixImageCoordinates",value:function(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),t}(),lD={exports:{}},AD=Jh((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),cD=Jh,hD=qC,CD=CC,ID=AD,dD=Object.isExtensible,uD=cD((function(){dD(1)}))||ID?function(t){return!!hD(t)&&(!ID||"ArrayBuffer"!==CD(t))&&(!dD||dD(t))}:dD,fD=!Jh((function(){return Object.isExtensible(Object.preventExtensions({}))})),pD=vu,vD=lC,mD=Lu,yD=qC,bD=WI,wD=Gd.f,xD=Db,ED=Lb,kD=uD,SD=fD,TD=!1,OD=QI("meta"),RD=0,_D=function(t){wD(t,OD,{value:{objectID:"O"+RD++,weakData:{}}})},ND=lD.exports={enable:function(){ND.enable=function(){},TD=!0;var t=xD.f,e=vD([].splice),n={};n[OD]=1,t(n).length&&(xD.f=function(n){for(var i=t(n),r=0,o=i.length;r<o;r++)if(i[r]===OD){e(i,r,1);break}return i},pD({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:ED.f}))},fastKey:function(t,e){if(!yD(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!bD(t,OD)){if(!kD(t))return"F";if(!e)return"E";_D(t)}return t[OD].objectID},getWeakData:function(t,e){if(!bD(t,OD)){if(!kD(t))return!0;if(!e)return!1;_D(t)}return t[OD].weakData},onFreeze:function(t){return SD&&TD&&kD(t)&&!bD(t,OD)&&_D(t),t}};mD[OD]=!0;var DD=lD.exports,PD=Vd,MD=EC,LD=qd,jD=mI,BD=Om,FD=Ru,zD=tI,VD=Ay,GD=iy,UD=wm,WD=TypeError,ZD=function(t,e){this.stopped=t,this.result=e},HD=ZD.prototype,qD=function(t,e,n){var i,r,o,s,a,g,l,A=n&&n.that,c=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_RECORD),C=!(!n||!n.IS_ITERATOR),I=!(!n||!n.INTERRUPTED),d=PD(e,A),u=function(t){return i&&UD(i,"normal",t),new ZD(!0,t)},f=function(t){return c?(LD(t),I?d(t[0],t[1],u):d(t[0],t[1])):I?d(t,u):d(t)};if(h)i=t.iterator;else if(C)i=t;else{if(!(r=GD(t)))throw new WD(jD(t)+" is not iterable");if(BD(r)){for(o=0,s=FD(t);s>o;o++)if((a=f(t[o]))&&zD(HD,a))return a;return new ZD(!1)}i=VD(t,r)}for(g=h?t.next:i.next;!(l=MD(g,i)).done;){try{a=f(l.value)}catch(t){UD(i,"throw",t)}if("object"==typeof a&&a&&zD(HD,a))return a}return new ZD(!1)},YD=tI,QD=TypeError,KD=function(t,e){if(YD(e,t))return t;throw new QD("Incorrect invocation")},XD=vu,JD=Xh,$D=DD,tP=Jh,eP=au,nP=qD,iP=KD,rP=mC,oP=qC,sP=BC,aP=Lv,gP=Gd.f,lP=dw.forEach,AP=bC,cP=Tp.set,hP=Tp.getterFor,CP=function(t,e,n){var i,r=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),s=r?"set":"add",a=JD[t],g=a&&a.prototype,l={};if(AP&&rP(a)&&(o||g.forEach&&!tP((function(){(new a).entries().next()})))){var A=(i=e((function(e,n){cP(iP(e,A),{type:t,collection:new a}),sP(n)||nP(n,e[s],{that:e,AS_ENTRIES:r})}))).prototype,c=hP(t);lP(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"===t||"set"===t;!(t in g)||o&&"clear"===t||eP(A,t,(function(n,i){var r=c(this).collection;if(!e&&o&&!oP(n))return"get"===t&&void 0;var s=r[t](0===n?0:n,i);return e?this:s}))})),o||gP(A,"size",{configurable:!0,get:function(){return c(this).collection.size}})}else i=n.getConstructor(e,t,r,s),$D.enable();return aP(i,t,!1,!0),l[t]=i,XD({global:!0,forced:!0},l),o||n.setStrong(i,t,r),i},IP=fv,dP=function(t,e,n){for(var i in e)n&&n.unsafe&&t[i]?t[i]=e[i]:IP(t,i,e[i],n);return t},uP=$C,fP=Qb,pP=bC,vP=rd("species"),mP=function(t){var e=uP(t);pP&&e&&!e[vP]&&fP(e,vP,{configurable:!0,get:function(){return this}})},yP=sv,bP=Qb,wP=dP,xP=Vd,EP=KD,kP=BC,SP=qD,TP=Am,OP=cm,RP=mP,_P=bC,NP=DD.fastKey,DP=Tp.set,PP=Tp.getterFor,MP={getConstructor:function(t,e,n,i){var r=t((function(t,r){EP(t,o),DP(t,{type:e,index:yP(null),first:void 0,last:void 0,size:0}),_P||(t.size=0),kP(r)||SP(r,t[i],{that:t,AS_ENTRIES:n})})),o=r.prototype,s=PP(e),a=function(t,e,n){var i,r,o=s(t),a=g(t,e);return a?a.value=n:(o.last=a={index:r=NP(e,!0),key:e,value:n,previous:i=o.last,next:void 0,removed:!1},o.first||(o.first=a),i&&(i.next=a),_P?o.size++:t.size++,"F"!==r&&(o.index[r]=a)),t},g=function(t,e){var n,i=s(t),r=NP(e);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key===e)return n};return wP(o,{clear:function(){for(var t=s(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,_P?t.size=0:this.size=0},delete:function(t){var e=this,n=s(e),i=g(e,t);if(i){var r=i.next,o=i.previous;delete n.index[i.index],i.removed=!0,o&&(o.next=r),r&&(r.previous=o),n.first===i&&(n.first=r),n.last===i&&(n.last=o),_P?n.size--:e.size--}return!!i},forEach:function(t){for(var e,n=s(this),i=xP(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(i(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!g(this,t)}}),wP(o,n?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),_P&&bP(o,"size",{configurable:!0,get:function(){return s(this).size}}),r},setStrong:function(t,e,n){var i=e+" Iterator",r=PP(e),o=PP(i);TP(t,e,(function(t,e){DP(this,{type:i,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?OP("keys"===e?n.key:"values"===e?n.value:[n.key,n.value],!1):(t.target=void 0,OP(void 0,!0))}),n?"entries":"values",!n,!0),RP(e)}};CP("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),MP);var LP=Qh(YC.Map),jP=function(){function t(){Qy(this,t),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},gf(this.options,this.defaultOptions)}return nk(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&-1===fO(e).call(e,n)){var i=t[n];this.add(n,i)}}},{key:"clear",value:function(){this._groups=new LP,this._groupNames=[]}},{key:"get",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._groups.get(t);if(void 0===n&&e)if(!1===this.options.useDefaultGroups&&this._groupNames.length>0){var i=this._groupIndex%this._groupNames.length;++this._groupIndex,(n={}).color=this._groups.get(this._groupNames[i]),this._groups.set(t,n)}else{var r=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,(n={}).color=this._defaultGroups[r],this._groups.set(t,n)}return n}},{key:"add",value:function(t,e){return this._groups.has(t)||this._groupNames.push(t),this._groups.set(t,e),e}}]),t}();vu({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var BP=Qh(YC.Number.isNaN),FP=Xh.isFinite;vu({target:"Number",stat:!0},{isFinite:Number.isFinite||function(t){return"number"==typeof t&&FP(t)}});var zP=Qh(YC.Number.isFinite),VP=dw.some;vu({target:"Array",proto:!0,forced:!yS("some")},{some:function(t){return VP(this,t,arguments.length>1?arguments[1]:void 0)}});var GP=wf("Array").some,UP=tI,WP=GP,ZP=Array.prototype,HP=Qh((function(t){var e=t.some;return t===ZP||UP(ZP,t)&&e===ZP.some?WP:e}));function qP(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var YP=vO,QP=Qh(YP);vu({target:"Object",stat:!0},{setPrototypeOf:Kv});var KP=YC.Object.setPrototypeOf,XP=Qh(KP),JP=Qh(Tf);function $P(t,e){var n;return $P=XP?JP(n=XP).call(n):function(t,e){return t.__proto__=e,t},$P(t,e)}function tM(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=QP(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),rb(t,"prototype",{writable:!1}),e&&$P(t,e)}function eM(t,e){if(e&&("object"===JE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qP(t)}var nM=NT,iM=Qh(nM);function rM(t){var e;return rM=XP?JP(e=iM).call(e):function(t){return t.__proto__||iM(t)},rM(t)}function oM(t,e,n){return(e=tk(e))in t?rb(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sM={exports:{}},aM={exports:{}};!function(t){var e=qE,n=KE;function i(r){return t.exports=i="function"==typeof e&&"symbol"==typeof n?function(t){return typeof t}:function(t){return t&&"function"==typeof e&&t.constructor===e&&t!==e.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,i(r)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}(aM);var gM=aM.exports,lM=_S,AM=WI,cM=rS,hM=yC,CM=Gd,IM=qC,dM=au,uM=Error,fM=lC("".replace),pM=String(new uM("zxcasd").stack),vM=/\n\s*at [^:]*:[^\n]*/,mM=vM.test(pM),yM=NC,bM=!Jh((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",yM(1,7)),7!==t.stack)})),wM=au,xM=bM,EM=Error.captureStackTrace,kM=$f,SM=vu,TM=tI,OM=dv,RM=Kv,_M=sv,NM=au,DM=NC,PM=function(t,e,n,i){xM&&(EM?EM(t,e):wM(t,"stack",function(t,e){if(mM&&"string"==typeof t&&!uM.prepareStackTrace)for(;e--;)t=fM(t,vM,"");return t}(n,i)))},MM=qD,LM=rd("toStringTag"),jM=Error,BM=[].push,FM=function(t,e){var n,i,r,o=TM(zM,this);RM?n=RM(new jM,o?OM(this):zM):(n=o?this:_M(zM),NM(n,LM,"Error")),void 0!==e&&NM(n,"message",function(t,e){return void 0===t?arguments.length<2?"":e:kM(t)}(e)),PM(n,FM,n.stack,1),arguments.length>2&&(i=n,IM(r=arguments[2])&&"cause"in r&&dM(i,"cause",r.cause));var s=[];return MM(t,BM,{that:s}),NM(n,"errors",s),n};RM?RM(FM,jM):function(t,e,n){for(var i=cM(e),r=CM.f,o=hM.f,s=0;s<i.length;s++){var a=i[s];AM(t,a)||n&&AM(n,a)||r(t,a,o(e,a))}}(FM,jM,{name:!0});var zM=FM.prototype=_M(jM.prototype,{constructor:DM(1,FM),message:DM(1,""),name:DM(1,"AggregateError")});SM({global:!0,constructor:!0,arity:2},{AggregateError:FM});var VM,GM,UM,WM,ZM="process"===CC(Xh.process),HM=qm,qM=mI,YM=TypeError,QM=function(t){if(HM(t))return t;throw new YM(qM(t)+" is not a constructor")},KM=qd,XM=QM,JM=BC,$M=rd("species"),tL=function(t,e){var n,i=KM(t).constructor;return void 0===i||JM(n=KM(i)[$M])?e:XM(n)},eL=/(?:ipad|iphone|ipod).*applewebkit/i.test(eI),nL=Xh,iL=rC,rL=Vd,oL=mC,sL=WI,aL=Jh,gL=Up,lL=lf,AL=fd,cL=kO,hL=eL,CL=ZM,IL=nL.setImmediate,dL=nL.clearImmediate,uL=nL.process,fL=nL.Dispatch,pL=nL.Function,vL=nL.MessageChannel,mL=nL.String,yL=0,bL={},wL="onreadystatechange";aL((function(){VM=nL.location}));var xL=function(t){if(sL(bL,t)){var e=bL[t];delete bL[t],e()}},EL=function(t){return function(){xL(t)}},kL=function(t){xL(t.data)},SL=function(t){nL.postMessage(mL(t),VM.protocol+"//"+VM.host)};IL&&dL||(IL=function(t){cL(arguments.length,1);var e=oL(t)?t:pL(t),n=lL(arguments,1);return bL[++yL]=function(){iL(e,void 0,n)},GM(yL),yL},dL=function(t){delete bL[t]},CL?GM=function(t){uL.nextTick(EL(t))}:fL&&fL.now?GM=function(t){fL.now(EL(t))}:vL&&!hL?(WM=(UM=new vL).port2,UM.port1.onmessage=kL,GM=rL(WM.postMessage,WM)):nL.addEventListener&&oL(nL.postMessage)&&!nL.importScripts&&VM&&"file:"!==VM.protocol&&!aL(SL)?(GM=SL,nL.addEventListener("message",kL,!1)):GM=wL in AL("script")?function(t){gL.appendChild(AL("script"))[wL]=function(){gL.removeChild(this),xL(t)}}:function(t){setTimeout(EL(t),0)});var TL={set:IL,clear:dL},OL=function(){this.head=null,this.tail=null};OL.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var RL,_L,NL,DL,PL,ML=OL,LL=/ipad|iphone|ipod/i.test(eI)&&"undefined"!=typeof Pebble,jL=/web0s(?!.*chrome)/i.test(eI),BL=Xh,FL=Vd,zL=yC.f,VL=TL.set,GL=ML,UL=eL,WL=LL,ZL=jL,HL=ZM,qL=BL.MutationObserver||BL.WebKitMutationObserver,YL=BL.document,QL=BL.process,KL=BL.Promise,XL=zL(BL,"queueMicrotask"),JL=XL&&XL.value;if(!JL){var $L=new GL,tj=function(){var t,e;for(HL&&(t=QL.domain)&&t.exit();e=$L.get();)try{e()}catch(t){throw $L.head&&RL(),t}t&&t.enter()};UL||HL||ZL||!qL||!YL?!WL&&KL&&KL.resolve?((DL=KL.resolve(void 0)).constructor=KL,PL=FL(DL.then,DL),RL=function(){PL(tj)}):HL?RL=function(){QL.nextTick(tj)}:(VL=FL(VL,BL),RL=function(){VL(tj)}):(_L=!0,NL=YL.createTextNode(""),new qL(tj).observe(NL,{characterData:!0}),RL=function(){NL.data=_L=!_L}),JL=function(t){$L.head||RL(),$L.add(t)}}var ej=JL,nj=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},ij=Xh.Promise,rj="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,oj=!rj&&!ZM&&"object"==typeof window&&"object"==typeof document,sj=Xh,aj=ij,gj=mC,lj=jd,Aj=Dm,cj=rd,hj=oj,Cj=rj,Ij=gI,dj=aj&&aj.prototype,uj=cj("species"),fj=!1,pj=gj(sj.PromiseRejectionEvent),vj=lj("Promise",(function(){var t=Aj(aj),e=t!==String(aj);if(!e&&66===Ij)return!0;if(!dj.catch||!dj.finally)return!0;if(!Ij||Ij<51||!/native code/.test(t)){var n=new aj((function(t){t(1)})),i=function(t){t((function(){}),(function(){}))};if((n.constructor={})[uj]=i,!(fj=n.then((function(){}))instanceof i))return!0}return!e&&(hj||Cj)&&!pj})),mj={CONSTRUCTOR:vj,REJECTION_EVENT:pj,SUBCLASSING:fj},yj={},bj=xI,wj=TypeError,xj=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw new wj("Bad Promise constructor");e=t,n=i})),this.resolve=bj(e),this.reject=bj(n)};yj.f=function(t){return new xj(t)};var Ej,kj,Sj=vu,Tj=ZM,Oj=Xh,Rj=EC,_j=fv,Nj=Lv,Dj=mP,Pj=xI,Mj=mC,Lj=qC,jj=KD,Bj=tL,Fj=TL.set,zj=ej,Vj=nj,Gj=ML,Uj=Tp,Wj=ij,Zj=yj,Hj="Promise",qj=mj.CONSTRUCTOR,Yj=mj.REJECTION_EVENT,Qj=Uj.getterFor(Hj),Kj=Uj.set,Xj=Wj&&Wj.prototype,Jj=Wj,$j=Xj,tB=Oj.TypeError,eB=Oj.document,nB=Oj.process,iB=Zj.f,rB=iB,oB=!!(eB&&eB.createEvent&&Oj.dispatchEvent),sB="unhandledrejection",aB=function(t){var e;return!(!Lj(t)||!Mj(e=t.then))&&e},gB=function(t,e){var n,i,r,o=e.value,s=1===e.state,a=s?t.ok:t.fail,g=t.resolve,l=t.reject,A=t.domain;try{a?(s||(2===e.rejection&&CB(e),e.rejection=1),!0===a?n=o:(A&&A.enter(),n=a(o),A&&(A.exit(),r=!0)),n===t.promise?l(new tB("Promise-chain cycle")):(i=aB(n))?Rj(i,n,g,l):g(n)):l(o)}catch(t){A&&!r&&A.exit(),l(t)}},lB=function(t,e){t.notified||(t.notified=!0,zj((function(){for(var n,i=t.reactions;n=i.get();)gB(n,t);t.notified=!1,e&&!t.rejection&&cB(t)})))},AB=function(t,e,n){var i,r;oB?((i=eB.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),Oj.dispatchEvent(i)):i={promise:e,reason:n},!Yj&&(r=Oj["on"+t])?r(i):t===sB&&function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}("Unhandled promise rejection",n)},cB=function(t){Rj(Fj,Oj,(function(){var e,n=t.facade,i=t.value;if(hB(t)&&(e=Vj((function(){Tj?nB.emit("unhandledRejection",i,n):AB(sB,n,i)})),t.rejection=Tj||hB(t)?2:1,e.error))throw e.value}))},hB=function(t){return 1!==t.rejection&&!t.parent},CB=function(t){Rj(Fj,Oj,(function(){var e=t.facade;Tj?nB.emit("rejectionHandled",e):AB("rejectionhandled",e,t.value)}))},IB=function(t,e,n){return function(i){t(e,i,n)}},dB=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,lB(t,!0))},uB=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw new tB("Promise can't be resolved itself");var i=aB(e);i?zj((function(){var n={done:!1};try{Rj(i,e,IB(uB,n,t),IB(dB,n,t))}catch(e){dB(n,e,t)}})):(t.value=e,t.state=1,lB(t,!1))}catch(e){dB({done:!1},e,t)}}};qj&&($j=(Jj=function(t){jj(this,$j),Pj(t),Rj(Ej,this);var e=Qj(this);try{t(IB(uB,e),IB(dB,e))}catch(t){dB(e,t)}}).prototype,(Ej=function(t){Kj(this,{type:Hj,done:!1,notified:!1,parent:!1,reactions:new Gj,rejection:!1,state:0,value:void 0})}).prototype=_j($j,"then",(function(t,e){var n=Qj(this),i=iB(Bj(this,Jj));return n.parent=!0,i.ok=!Mj(t)||t,i.fail=Mj(e)&&e,i.domain=Tj?nB.domain:void 0,0===n.state?n.reactions.add(i):zj((function(){gB(i,n)})),i.promise})),kj=function(){var t=new Ej,e=Qj(t);this.promise=t,this.resolve=IB(uB,e),this.reject=IB(dB,e)},Zj.f=iB=function(t){return t===Jj||void 0===t?new kj(t):rB(t)}),Sj({global:!0,constructor:!0,wrap:!0,forced:qj},{Promise:Jj}),Nj(Jj,Hj,!1,!0),Dj(Hj);var fB=ij,pB=mj.CONSTRUCTOR||!ky((function(t){fB.all(t).then(void 0,(function(){}))})),vB=EC,mB=xI,yB=yj,bB=nj,wB=qD;vu({target:"Promise",stat:!0,forced:pB},{all:function(t){var e=this,n=yB.f(e),i=n.resolve,r=n.reject,o=bB((function(){var n=mB(e.resolve),o=[],s=0,a=1;wB(t,(function(t){var g=s++,l=!1;a++,vB(n,e,t).then((function(t){l||(l=!0,o[g]=t,--a||i(o))}),r)})),--a||i(o)}));return o.error&&r(o.value),n.promise}});var xB=vu,EB=mj.CONSTRUCTOR;ij&&ij.prototype,xB({target:"Promise",proto:!0,forced:EB,real:!0},{catch:function(t){return this.then(void 0,t)}});var kB=EC,SB=xI,TB=yj,OB=nj,RB=qD;vu({target:"Promise",stat:!0,forced:pB},{race:function(t){var e=this,n=TB.f(e),i=n.reject,r=OB((function(){var r=SB(e.resolve);RB(t,(function(t){kB(r,e,t).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}});var _B=EC,NB=yj;vu({target:"Promise",stat:!0,forced:mj.CONSTRUCTOR},{reject:function(t){var e=NB.f(this);return _B(e.reject,void 0,t),e.promise}});var DB=qd,PB=qC,MB=yj,LB=function(t,e){if(DB(t),PB(e)&&e.constructor===t)return e;var n=MB.f(t);return(0,n.resolve)(e),n.promise},jB=vu,BB=ij,FB=mj.CONSTRUCTOR,zB=LB,VB=$C("Promise"),GB=!FB;jB({target:"Promise",stat:!0,forced:!0},{resolve:function(t){return zB(GB&&this===VB?BB:this,t)}});var UB=EC,WB=xI,ZB=yj,HB=nj,qB=qD;vu({target:"Promise",stat:!0,forced:pB},{allSettled:function(t){var e=this,n=ZB.f(e),i=n.resolve,r=n.reject,o=HB((function(){var n=WB(e.resolve),r=[],o=0,s=1;qB(t,(function(t){var a=o++,g=!1;s++,UB(n,e,t).then((function(t){g||(g=!0,r[a]={status:"fulfilled",value:t},--s||i(r))}),(function(t){g||(g=!0,r[a]={status:"rejected",reason:t},--s||i(r))}))})),--s||i(r)}));return o.error&&r(o.value),n.promise}});var YB=EC,QB=xI,KB=$C,XB=yj,JB=nj,$B=qD,tF="No one promise resolved";vu({target:"Promise",stat:!0,forced:pB},{any:function(t){var e=this,n=KB("AggregateError"),i=XB.f(e),r=i.resolve,o=i.reject,s=JB((function(){var i=QB(e.resolve),s=[],a=0,g=1,l=!1;$B(t,(function(t){var A=a++,c=!1;g++,YB(i,e,t).then((function(t){c||l||(l=!0,r(t))}),(function(t){c||l||(c=!0,s[A]=t,--g||o(new n(s,tF)))}))})),--g||o(new n(s,tF))}));return s.error&&o(s.value),i.promise}});var eF=vu,nF=ij,iF=Jh,rF=$C,oF=mC,sF=tL,aF=LB,gF=nF&&nF.prototype;eF({target:"Promise",proto:!0,real:!0,forced:!!nF&&iF((function(){gF.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=sF(this,rF("Promise")),n=oF(t);return this.then(n?function(n){return aF(e,t()).then((function(){return n}))}:t,n?function(n){return aF(e,t()).then((function(){throw n}))}:t)}});var lF=YC.Promise,AF=yj;vu({target:"Promise",stat:!0},{withResolvers:function(){var t=AF.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var cF=lF,hF=yj,CF=nj;vu({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=hF.f(this),n=CF(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}});var IF=cF,dF=VS;!function(t){var e=gM.default,n=ib,i=qE,r=YP,o=nM,s=lM,a=pk,g=KP,l=IF,A=dF,c=Fk;function h(){t.exports=h=function(){return I},t.exports.__esModule=!0,t.exports.default=t.exports;var C,I={},d=Object.prototype,u=d.hasOwnProperty,f=n||function(t,e,n){t[e]=n.value},p="function"==typeof i?i:{},v=p.iterator||"@@iterator",m=p.asyncIterator||"@@asyncIterator",y=p.toStringTag||"@@toStringTag";function b(t,e,i){return n(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{b({},"")}catch(C){b=function(t,e,n){return t[e]=n}}function w(t,e,n,i){var o=e&&e.prototype instanceof R?e:R,s=r(o.prototype),a=new G(i||[]);return f(s,"_invoke",{value:B(t,n,a)}),s}function x(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}I.wrap=w;var E="suspendedStart",k="suspendedYield",S="executing",T="completed",O={};function R(){}function _(){}function N(){}var D={};b(D,v,(function(){return this}));var P=o&&o(o(U([])));P&&P!==d&&u.call(P,v)&&(D=P);var M=N.prototype=R.prototype=r(D);function L(t){var e;s(e=["next","throw","return"]).call(e,(function(e){b(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,n){function i(r,o,s,a){var g=x(t[r],t,o);if("throw"!==g.type){var l=g.arg,A=l.value;return A&&"object"==e(A)&&u.call(A,"__await")?n.resolve(A.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):n.resolve(A).then((function(t){l.value=t,s(l)}),(function(t){return i("throw",t,s,a)}))}a(g.arg)}var r;f(this,"_invoke",{value:function(t,e){function o(){return new n((function(n,r){i(t,e,n,r)}))}return r=r?r.then(o,o):o()}})}function B(t,e,n){var i=E;return function(r,o){if(i===S)throw new Error("Generator is already running");if(i===T){if("throw"===r)throw o;return{value:C,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=F(s,n);if(a){if(a===O)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===E)throw i=T,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=S;var g=x(t,e,n);if("normal"===g.type){if(i=n.done?T:k,g.arg===O)continue;return{value:g.arg,done:n.done}}"throw"===g.type&&(i=T,n.method="throw",n.arg=g.arg)}}}function F(t,e){var n=e.method,i=t.iterator[n];if(i===C)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=C,F(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),O;var r=x(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,O;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=C),e.delegate=null,O):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,O)}function z(t){var e,n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),a(e=this.tryEntries).call(e,n)}function V(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function G(t){this.tryEntries=[{tryLoc:"root"}],s(t).call(t,z,this),this.reset(!0)}function U(t){if(t||""===t){var n=t[v];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(u.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=C,e.done=!0,e};return r.next=r}}throw new TypeError(e(t)+" is not iterable")}return _.prototype=N,f(M,"constructor",{value:N,configurable:!0}),f(N,"constructor",{value:_,configurable:!0}),_.displayName=b(N,y,"GeneratorFunction"),I.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},I.mark=function(t){return g?g(t,N):(t.__proto__=N,b(t,y,"GeneratorFunction")),t.prototype=r(M),t},I.awrap=function(t){return{__await:t}},L(j.prototype),b(j.prototype,m,(function(){return this})),I.AsyncIterator=j,I.async=function(t,e,n,i,r){void 0===r&&(r=l);var o=new j(w(t,e,n,i),r);return I.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},L(M),b(M,y,"Generator"),b(M,v,(function(){return this})),b(M,"toString",(function(){return"[object Generator]"})),I.keys=function(t){var e=Object(t),n=[];for(var i in e)a(n).call(n,i);return A(n).call(n),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},I.values=U,G.prototype={constructor:G,reset:function(t){var e;if(this.prev=0,this.next=0,this.sent=this._sent=C,this.done=!1,this.delegate=null,this.method="next",this.arg=C,s(e=this.tryEntries).call(e,V),!t)for(var n in this)"t"===n.charAt(0)&&u.call(this,n)&&!isNaN(+c(n).call(n,1))&&(this[n]=C)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return o.type="throw",o.arg=t,e.next=n,i&&(e.method="next",e.arg=C),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var s=u.call(r,"catchLoc"),a=u.call(r,"finallyLoc");if(s&&a){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&u.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,O):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),O},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),V(n),O}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;V(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:U(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=C),O}},I}t.exports=h,t.exports.__esModule=!0,t.exports.default=t.exports}(sM);var uF=(0,sM.exports)(),fF=uF;try{regeneratorRuntime=uF}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=uF:Function("r","regeneratorRuntime = r")(uF)}var pF=Qh(fF),vF=xI,mF=VI,yF=jC,bF=Ru,wF=TypeError,xF=function(t){return function(e,n,i,r){vF(n);var o=mF(e),s=yF(o),a=bF(o),g=t?a-1:0,l=t?-1:1;if(i<2)for(;;){if(g in s){r=s[g],g+=l;break}if(g+=l,t?g<0:a<=g)throw new wF("Reduce of empty array with no initial value")}for(;t?g>=0:a>g;g+=l)g in s&&(r=n(r,s[g],g,o));return r}},EF=[xF(!1),xF(!0)][0];vu({target:"Array",proto:!0,forced:!ZM&&gI>79&&gI<83||!yS("reduce")},{reduce:function(t){var e=arguments.length;return EF(this,t,e,e>1?arguments[1]:void 0)}});var kF=wf("Array").reduce,SF=tI,TF=kF,OF=Array.prototype,RF=Qh((function(t){var e=t.reduce;return t===OF||SF(OF,t)&&e===OF.reduce?TF:e})),_F=sb,NF=Ru,DF=gb,PF=Vd,MF=function(t,e,n,i,r,o,s,a){for(var g,l,A=r,c=0,h=!!s&&PF(s,a);c<i;)c in n&&(g=h?h(n[c],c,e):n[c],o>0&&_F(g)?(l=NF(g),A=MF(t,e,g,l,A,o-1)-1):(DF(A+1),t[A]=g),A++),c++;return A},LF=MF,jF=xI,BF=VI,FF=Ru,zF=Ib;vu({target:"Array",proto:!0},{flatMap:function(t){var e,n=BF(this),i=FF(n);return jF(t),(e=zF(n,0)).length=LF(e,n,n,i,0,1,t,arguments.length>1?arguments[1]:void 0),e}}),wf("Array").flatMap,Array.prototype,CP("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),MP);var VF=Qh(YC.Set),GF=Qh(QE),UF=Qh(Ay),WF=Gb,ZF=Math.floor,HF=function(t,e){var n=t.length,i=ZF(n/2);return n<8?qF(t,e):YF(t,HF(WF(t,0,i),e),HF(WF(t,i),e),e)},qF=function(t,e){for(var n,i,r=t.length,o=1;o<r;){for(i=o,n=t[o];i&&e(t[i-1],n)>0;)t[i]=t[--i];i!==o++&&(t[i]=n)}return t},YF=function(t,e,n,i){for(var r=e.length,o=n.length,s=0,a=0;s<r||a<o;)t[s+a]=s<r&&a<o?i(e[s],n[a])<=0?e[s++]:n[a++]:s<r?e[s++]:n[a++];return t},QF=HF,KF=eI.match(/firefox\/(\d+)/i),XF=!!KF&&+KF[1],JF=/MSIE|Trident/.test(eI),$F=eI.match(/AppleWebKit\/(\d+)\./),tz=!!$F&&+$F[1],ez=vu,nz=lC,iz=xI,rz=VI,oz=Ru,sz=ZS,az=$f,gz=Jh,lz=QF,Az=yS,cz=XF,hz=JF,Cz=gI,Iz=tz,dz=[],uz=nz(dz.sort),fz=nz(dz.push),pz=gz((function(){dz.sort(void 0)})),vz=gz((function(){dz.sort(null)})),mz=Az("sort"),yz=!gz((function(){if(Cz)return Cz<70;if(!(cz&&cz>3)){if(hz)return!0;if(Iz)return Iz<603;var t,e,n,i,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)dz.push({k:e+i,v:n})}for(dz.sort((function(t,e){return e.v-t.v})),i=0;i<dz.length;i++)e=dz[i].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}}));ez({target:"Array",proto:!0,forced:pz||!vz||!mz||!yz},{sort:function(t){void 0!==t&&iz(t);var e=rz(this);if(yz)return void 0===t?uz(e):uz(e,t);var n,i,r=[],o=oz(e);for(i=0;i<o;i++)i in e&&fz(r,e[i]);for(lz(r,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:az(e)>az(n)?1:-1}}(t)),n=oz(r),i=0;i<n;)e[i]=r[i++];for(;i<o;)sz(e,i++);return e}});var bz=wf("Array").sort,wz=tI,xz=bz,Ez=Array.prototype,kz=Qh((function(t){var e=t.sort;return t===Ez||wz(Ez,t)&&e===Ez.sort?xz:e})),Sz=wf("Array").keys,Tz=Kf,Oz=WI,Rz=tI,_z=Sz,Nz=Array.prototype,Dz={DOMTokenList:!0,NodeList:!0},Pz=Qh((function(t){var e=t.keys;return t===Nz||Rz(Nz,t)&&e===Nz.keys||Oz(Dz,Tz(t))?_z:e})),Mz=wf("Array").values,Lz=Kf,jz=WI,Bz=tI,Fz=Mz,zz=Array.prototype,Vz={DOMTokenList:!0,NodeList:!0},Gz=Qh((function(t){var e=t.values;return t===zz||Bz(zz,t)&&e===zz.values||jz(Vz,Lz(t))?Fz:e})),Uz=wf("Array").entries,Wz=Kf,Zz=WI,Hz=tI,qz=Uz,Yz=Array.prototype,Qz={DOMTokenList:!0,NodeList:!0},Kz=Qh((function(t){var e=t.entries;return t===Yz||Hz(Yz,t)&&e===Yz.entries||Zz(Qz,Wz(t))?qz:e})),Xz=Qh(nb),Jz=vu,$z=rC,tV=mf,eV=QM,nV=qd,iV=qC,rV=sv,oV=Jh,sV=$C("Reflect","construct"),aV=Object.prototype,gV=[].push,lV=oV((function(){function t(){}return!(sV((function(){}),[],t)instanceof t)})),AV=!oV((function(){sV((function(){}))})),cV=lV||AV;Jz({target:"Reflect",stat:!0,forced:cV,sham:cV},{construct:function(t,e){eV(t),nV(e);var n=arguments.length<3?t:eV(arguments[2]);if(AV&&!lV)return sV(t,e,n);if(t===n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return $z(gV,i,e),new($z(tV,t,i))}var r=n.prototype,o=rV(iV(r)?r:aV),s=$z(t,o,e);return iV(s)?s:o}});var hV=Qh(YC.Reflect.construct),CV=Qh(YC.Object.getOwnPropertySymbols),IV={exports:{}},dV=vu,uV=Jh,fV=WC,pV=yC.f,vV=bC;dV({target:"Object",stat:!0,forced:!vV||uV((function(){pV(1)})),sham:!vV},{getOwnPropertyDescriptor:function(t,e){return pV(fV(t),e)}});var mV=YC.Object,yV=IV.exports=function(t,e){return mV.getOwnPropertyDescriptor(t,e)};mV.getOwnPropertyDescriptor.sham&&(yV.sham=!0);var bV=IV.exports,wV=Qh(bV),xV=rS,EV=WC,kV=yC,SV=Xm;vu({target:"Object",stat:!0,sham:!bC},{getOwnPropertyDescriptors:function(t){for(var e,n,i=EV(t),r=kV.f,o=xV(i),s={},a=0;o.length>a;)void 0!==(n=r(i,e=o[a++]))&&SV(s,e,n);return s}});var TV=Qh(YC.Object.getOwnPropertyDescriptors),OV={exports:{}},RV=vu,_V=bC,NV=Mp.f;RV({target:"Object",stat:!0,forced:Object.defineProperties!==NV,sham:!_V},{defineProperties:NV});var DV=YC.Object,PV=OV.exports=function(t,e){return DV.defineProperties(t,e)};DV.defineProperties.sham&&(PV.sham=!0);var MV=Qh(OV.exports);let LV;const jV=new Uint8Array(16);function BV(){if(!LV&&(LV="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!LV))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return LV(jV)}const FV=[];for(let t=0;t<256;++t)FV.push((t+256).toString(16).slice(1));var zV,VV={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function GV(t,e,n){if(VV.randomUUID&&!e&&!t)return VV.randomUUID();const i=(t=t||{}).random||(t.rng||BV)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=i[t];return e}return function(t,e=0){return FV[t[e+0]]+FV[t[e+1]]+FV[t[e+2]]+FV[t[e+3]]+"-"+FV[t[e+4]]+FV[t[e+5]]+"-"+FV[t[e+6]]+FV[t[e+7]]+"-"+FV[t[e+8]]+FV[t[e+9]]+"-"+FV[t[e+10]]+FV[t[e+11]]+FV[t[e+12]]+FV[t[e+13]]+FV[t[e+14]]+FV[t[e+15]]}(i)}function UV(t,e){var n=dS(t);if(CV){var i=CV(t);e&&(i=FT(i).call(i,(function(e){return wV(t,e).enumerable}))),n.push.apply(n,i)}return n}function WV(t){for(var e=1;e<arguments.length;e++){var n,i,r=null!=arguments[e]?arguments[e]:{};e%2?NS(n=UV(Object(r),!0)).call(n,(function(e){oM(t,e,r[e])})):TV?MV(t,TV(r)):NS(i=UV(Object(r))).call(i,(function(e){Xz(t,e,wV(r,e))}))}return t}function ZV(t,e){var n=void 0!==Hk&&Yy(t)||t["@@iterator"];if(!n){if(sS(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return HV(t,e);var i=Jk(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ty(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?HV(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function HV(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function qV(t){return"string"==typeof t||"number"==typeof t}var YV=function(){function t(e){Qy(this,t),oM(this,"delay",void 0),oM(this,"max",void 0),oM(this,"_queue",[]),oM(this,"_timeout",null),oM(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}return nk(t,[{key:"setOptions",value:function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,n=0;n<e.length;n++){var i=e[n];i.original?t[i.name]=i.original:delete t[i.name]}this._extended=null}}},{key:"replace",value:function(t,e){var n=this,i=t[e];if(!i)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];n.queue({args:e,fn:i,context:this})}}},{key:"queue",value:function(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var t=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=UO((function(){t.flush()}),this.delay))}},{key:"flush",value:function(){var t,e;NS(t=lT(e=this._queue).call(e,0)).call(t,(function(t){t.fn.apply(t.context||t.fn,t.args||[])}))}}],[{key:"extend",value:function(e,n){var i=new t(n);if(void 0!==e.flush)throw new Error("Target object already has a property flush");e.flush=function(){i.flush()};var r=[{name:"flush",original:void 0}];if(n&&n.replace)for(var o=0;o<n.replace.length;o++){var s=n.replace[o];r.push({name:s,original:e[s]}),i.replace(e,s)}return i._extended={object:e,methods:r},i}}]),t}(),QV=function(){function t(){Qy(this,t),oM(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),oM(this,"subscribe",t.prototype.on),oM(this,"unsubscribe",t.prototype.off)}return nk(t,[{key:"_trigger",value:function(t,e,n){var i,r;if("*"===t)throw new Error("Cannot trigger event *");NS(i=Xk(r=[]).call(r,Zk(this._subscribers[t]),Zk(this._subscribers["*"]))).call(i,(function(i){i(t,e,null!=n?n:null)}))}},{key:"on",value:function(t,e){"function"==typeof e&&this._subscribers[t].push(e)}},{key:"off",value:function(t,e){var n;this._subscribers[t]=FT(n=this._subscribers[t]).call(n,(function(t){return t!==e}))}}]),t}();zV=GF;var KV=function(){function t(e){Qy(this,t),oM(this,"_pairs",void 0),this._pairs=e}return nk(t,[{key:zV,value:pF.mark((function t(){var e,n,i,r,o;return pF.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=ZV(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=Wk(n.value,2),r=i[0],o=i[1],t.next=7,[r,o];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"entries",value:pF.mark((function t(){var e,n,i,r,o;return pF.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=ZV(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=Wk(n.value,2),r=i[0],o=i[1],t.next=7,[r,o];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"keys",value:pF.mark((function t(){var e,n,i,r;return pF.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=ZV(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=Wk(n.value,1),r=i[0],t.next=7,r;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"values",value:pF.mark((function t(){var e,n,i,r;return pF.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=ZV(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=Wk(n.value,2),r=i[1],t.next=7,r;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"toIdArray",value:function(){var t;return hS(t=Zk(this._pairs)).call(t,(function(t){return t[0]}))}},{key:"toItemArray",value:function(){var t;return hS(t=Zk(this._pairs)).call(t,(function(t){return t[1]}))}},{key:"toEntryArray",value:function(){return Zk(this._pairs)}},{key:"toObjectMap",value:function(){var t,e=mO(null),n=ZV(this._pairs);try{for(n.s();!(t=n.n()).done;){var i=Wk(t.value,2),r=i[0],o=i[1];e[r]=o}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"toMap",value:function(){return new LP(this._pairs)}},{key:"toIdSet",value:function(){return new VF(this.toIdArray())}},{key:"toItemSet",value:function(){return new VF(this.toItemArray())}},{key:"cache",value:function(){return new t(Zk(this._pairs))}},{key:"distinct",value:function(t){var e,n=new VF,i=ZV(this._pairs);try{for(i.s();!(e=i.n()).done;){var r=Wk(e.value,2),o=r[0],s=r[1];n.add(t(s,o))}}catch(t){i.e(t)}finally{i.f()}return n}},{key:"filter",value:function(e){var n=this._pairs;return new t(oM({},GF,pF.mark((function t(){var i,r,o,s,a;return pF.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=ZV(n),t.prev=1,i.s();case 3:if((r=i.n()).done){t.next=10;break}if(o=Wk(r.value,2),s=o[0],a=o[1],!e(a,s)){t.next=8;break}return t.next=8,[s,a];case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),i.e(t.t0);case 15:return t.prev=15,i.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,12,15,18]])}))))}},{key:"forEach",value:function(t){var e,n=ZV(this._pairs);try{for(n.s();!(e=n.n()).done;){var i=Wk(e.value,2),r=i[0];t(i[1],r)}}catch(t){n.e(t)}finally{n.f()}}},{key:"map",value:function(e){var n=this._pairs;return new t(oM({},GF,pF.mark((function t(){var i,r,o,s,a;return pF.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=ZV(n),t.prev=1,i.s();case 3:if((r=i.n()).done){t.next=9;break}return o=Wk(r.value,2),s=o[0],a=o[1],t.next=7,[s,e(a,s)];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),i.e(t.t0);case 14:return t.prev=14,i.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])}))))}},{key:"max",value:function(t){var e=UF(this._pairs),n=e.next();if(n.done)return null;for(var i=n.value[1],r=t(n.value[1],n.value[0]);!(n=e.next()).done;){var o=Wk(n.value,2),s=o[0],a=o[1],g=t(a,s);g>r&&(r=g,i=a)}return i}},{key:"min",value:function(t){var e=UF(this._pairs),n=e.next();if(n.done)return null;for(var i=n.value[1],r=t(n.value[1],n.value[0]);!(n=e.next()).done;){var o=Wk(n.value,2),s=o[0],a=o[1],g=t(a,s);g<r&&(r=g,i=a)}return i}},{key:"reduce",value:function(t,e){var n,i=ZV(this._pairs);try{for(i.s();!(n=i.n()).done;){var r=Wk(n.value,2),o=r[0];e=t(e,r[1],o)}}catch(t){i.e(t)}finally{i.f()}return e}},{key:"sort",value:function(e){var n=this;return new t(oM({},GF,(function(){var t;return UF(kz(t=Zk(n._pairs)).call(t,(function(t,n){var i=Wk(t,2),r=i[0],o=i[1],s=Wk(n,2),a=s[0],g=s[1];return e(o,g,r,a)})))})))}}]),t}(),XV=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e){var n;return Qy(this,r),oM(qP(n=i.call(this)),"flush",void 0),oM(qP(n),"length",void 0),oM(qP(n),"_options",void 0),oM(qP(n),"_data",void 0),oM(qP(n),"_idProp",void 0),oM(qP(n),"_queue",null),t&&!sS(t)&&(e=t,t=[]),n._options=e||{},n._data=new LP,n.length=0,n._idProp=n._options.fieldId||"id",t&&t.length&&n.add(t),n.setOptions(e),n}return nk(r,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=YV.extend(this,{replace:["add","update","remove"]})),t.queue&&"object"===JE(t.queue)&&this._queue.setOptions(t.queue)))}},{key:"add",value:function(t,e){var n,i=this,r=[];if(sS(t)){var o=hS(t).call(t,(function(t){return t[i._idProp]}));if(HP(o).call(o,(function(t){return i._data.has(t)})))throw new Error("A duplicate id was found in the parameter array.");for(var s=0,a=t.length;s<a;s++)n=this._addItem(t[s]),r.push(n)}else{if(!t||"object"!==JE(t))throw new Error("Unknown dataType");n=this._addItem(t),r.push(n)}return r.length&&this._trigger("add",{items:r},e),r}},{key:"update",value:function(t,e){var n=this,i=[],r=[],o=[],s=[],a=this._idProp,g=function(t){var e=t[a];if(null!=e&&n._data.has(e)){var g=t,l=gf({},n._data.get(e)),A=n._updateItem(g);r.push(A),s.push(g),o.push(l)}else{var c=n._addItem(t);i.push(c)}};if(sS(t))for(var l=0,A=t.length;l<A;l++)t[l]&&"object"===JE(t[l])?g(t[l]):console.warn("Ignoring input item, which is not an object at index "+l);else{if(!t||"object"!==JE(t))throw new Error("Unknown dataType");g(t)}if(i.length&&this._trigger("add",{items:i},e),r.length){var c={items:r,oldData:o,data:s};this._trigger("update",c,e)}return Xk(i).call(i,r)}},{key:"updateOnly",value:function(t,e){var n,i=this;sS(t)||(t=[t]);var r=hS(n=hS(t).call(t,(function(t){var e=i._data.get(t[i._idProp]);if(null==e)throw new Error("Updating non-existent items is not allowed.");return{oldData:e,update:t}}))).call(n,(function(t){var e=t.oldData,n=t.update,r=e[i._idProp],o=function(t){for(var e,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return L_.apply(void 0,Xk(e=[{},t]).call(e,i))}(e,n);return i._data.set(r,o),{id:r,oldData:e,updatedData:o}}));if(r.length){var o={items:hS(r).call(r,(function(t){return t.id})),oldData:hS(r).call(r,(function(t){return t.oldData})),data:hS(r).call(r,(function(t){return t.updatedData}))};return this._trigger("update",o,e),o.items}return[]}},{key:"get",value:function(t,e){var n=void 0,i=void 0,r=void 0;qV(t)?(n=t,r=e):sS(t)?(i=t,r=e):r=t;var o,s=r&&"Object"===r.returnType?"Object":"Array",a=r&&FT(r),g=[],l=void 0,A=void 0,c=void 0;if(null!=n)(l=this._data.get(n))&&a&&!a(l)&&(l=void 0);else if(null!=i)for(var h=0,C=i.length;h<C;h++)null==(l=this._data.get(i[h]))||a&&!a(l)||g.push(l);else for(var I,d=0,u=(A=Zk(Pz(I=this._data).call(I))).length;d<u;d++)c=A[d],null==(l=this._data.get(c))||a&&!a(l)||g.push(l);if(r&&r.order&&null==n&&this._sort(g,r.order),r&&r.fields){var f=r.fields;if(null!=n&&null!=l)l=this._filterFields(l,f);else for(var p=0,v=g.length;p<v;p++)g[p]=this._filterFields(g[p],f)}if("Object"==s){for(var m={},y=0,b=g.length;y<b;y++){var w=g[y];m[w[this._idProp]]=w}return m}return null!=n?null!==(o=l)&&void 0!==o?o:null:g}},{key:"getIds",value:function(t){var e=this._data,n=t&&FT(t),i=t&&t.order,r=Zk(Pz(e).call(e)),o=[];if(n)if(i){for(var s=[],a=0,g=r.length;a<g;a++){var l=r[a],A=this._data.get(l);null!=A&&n(A)&&s.push(A)}this._sort(s,i);for(var c=0,h=s.length;c<h;c++)o.push(s[c][this._idProp])}else for(var C=0,I=r.length;C<I;C++){var d=r[C],u=this._data.get(d);null!=u&&n(u)&&o.push(u[this._idProp])}else if(i){for(var f=[],p=0,v=r.length;p<v;p++){var m=r[p];f.push(e.get(m))}this._sort(f,i);for(var y=0,b=f.length;y<b;y++)o.push(f[y][this._idProp])}else for(var w=0,x=r.length;w<x;w++){var E=r[w],k=e.get(E);null!=k&&o.push(k[this._idProp])}return o}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(t,e){var n=e&&FT(e),i=this._data,r=Zk(Pz(i).call(i));if(e&&e.order)for(var o=this.get(e),s=0,a=o.length;s<a;s++){var g=o[s];t(g,g[this._idProp])}else for(var l=0,A=r.length;l<A;l++){var c=r[l],h=this._data.get(c);null==h||n&&!n(h)||t(h,c)}}},{key:"map",value:function(t,e){for(var n=e&&FT(e),i=[],r=this._data,o=Zk(Pz(r).call(r)),s=0,a=o.length;s<a;s++){var g=o[s],l=this._data.get(g);null==l||n&&!n(l)||i.push(t(l,g))}return e&&e.order&&this._sort(i,e.order),i}},{key:"_filterFields",value:function(t,e){var n;return t?RF(n=sS(e)?e:dS(e)).call(n,(function(e,n){return e[n]=t[n],e}),{}):t}},{key:"_sort",value:function(t,e){if("string"==typeof e){var n=e;kz(t).call(t,(function(t,e){var i=t[n],r=e[n];return i>r?1:i<r?-1:0}))}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");kz(t).call(t,e)}}},{key:"remove",value:function(t,e){for(var n=[],i=[],r=sS(t)?t:[t],o=0,s=r.length;o<s;o++){var a=this._remove(r[o]);if(a){var g=a[this._idProp];null!=g&&(n.push(g),i.push(a))}}return n.length&&this._trigger("remove",{items:n,oldData:i},e),n}},{key:"_remove",value:function(t){var e;if(qV(t)?e=t:t&&"object"===JE(t)&&(e=t[this._idProp]),null!=e&&this._data.has(e)){var n=this._data.get(e)||null;return this._data.delete(e),--this.length,n}return null}},{key:"clear",value:function(t){for(var e,n=Zk(Pz(e=this._data).call(e)),i=[],r=0,o=n.length;r<o;r++)i.push(this._data.get(n[r]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},t),n}},{key:"max",value:function(t){var e,n,i=null,r=null,o=ZV(Gz(e=this._data).call(e));try{for(o.s();!(n=o.n()).done;){var s=n.value,a=s[t];"number"==typeof a&&(null==r||a>r)&&(i=s,r=a)}}catch(t){o.e(t)}finally{o.f()}return i||null}},{key:"min",value:function(t){var e,n,i=null,r=null,o=ZV(Gz(e=this._data).call(e));try{for(o.s();!(n=o.n()).done;){var s=n.value,a=s[t];"number"==typeof a&&(null==r||a<r)&&(i=s,r=a)}}catch(t){o.e(t)}finally{o.f()}return i||null}},{key:"distinct",value:function(t){for(var e=this._data,n=Zk(Pz(e).call(e)),i=[],r=0,o=0,s=n.length;o<s;o++){for(var a=n[o],g=e.get(a)[t],l=!1,A=0;A<r;A++)if(i[A]==g){l=!0;break}l||void 0===g||(i[r]=g,r++)}return i}},{key:"_addItem",value:function(t){var e=function(t,e){return null==t[e]&&(t[e]=GV()),t}(t,this._idProp),n=e[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,e),++this.length,n}},{key:"_updateItem",value:function(t){var e=t[this._idProp];if(null==e)throw new Error("Cannot update item: item has no id (item: "+wO(t)+")");var n=this._data.get(e);if(!n)throw new Error("Cannot update item: no item with id "+e+" found");return this._data.set(e,WV(WV({},n),t)),e}},{key:"stream",value:function(t){if(t){var e=this._data;return new KV(oM({},GF,pF.mark((function n(){var i,r,o,s;return pF.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=ZV(t),n.prev=1,i.s();case 3:if((r=i.n()).done){n.next=11;break}if(o=r.value,null==(s=e.get(o))){n.next=9;break}return n.next=9,[o,s];case 9:n.next=3;break;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),i.e(n.t0);case 16:return n.prev=16,i.f(),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[1,13,16,19]])}))))}var n;return new KV(oM({},GF,Of(n=Kz(this._data)).call(n,this._data)))}}]),r}(QV);function JV(t,e){return"object"===JE(e)&&null!==e&&t===e.idProp&&"function"==typeof NS(e)&&"function"==typeof e.get&&"function"==typeof e.getDataSet&&"function"==typeof e.getIds&&"number"==typeof e.length&&"function"==typeof hS(e)&&"function"==typeof e.off&&"function"==typeof e.on&&"function"==typeof e.stream&&function(t,e){return"object"===JE(e)&&null!==e&&t===e.idProp&&"function"==typeof e.add&&"function"==typeof e.clear&&"function"==typeof e.distinct&&"function"==typeof NS(e)&&"function"==typeof e.get&&"function"==typeof e.getDataSet&&"function"==typeof e.getIds&&"number"==typeof e.length&&"function"==typeof hS(e)&&"function"==typeof e.max&&"function"==typeof e.min&&"function"==typeof e.off&&"function"==typeof e.on&&"function"==typeof e.remove&&"function"==typeof e.setOptions&&"function"==typeof e.stream&&"function"==typeof e.update&&"function"==typeof e.updateOnly}(t,e.getDataSet())}var $V=Xh,tG=Jh,eG=$f,nG=YT.trim,iG=zT,rG=lC("".charAt),oG=$V.parseFloat,sG=$V.Symbol,aG=sG&&sG.iterator,gG=1/oG(iG+"-0")!=-1/0||aG&&!tG((function(){oG(Object(aG))}))?function(t){var e=nG(eG(t)),n=oG(e);return 0===n&&"-"===rG(e,0)?-0:n}:oG;vu({global:!0,forced:parseFloat!==gG},{parseFloat:gG});var lG=Qh(YC.parseFloat),AG=vu,cG=Jh,hG=Lb.f;AG({target:"Object",stat:!0,forced:cG((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:hG});var CG=YC.Object,IG=Qh((function(t){return CG.getOwnPropertyNames(t)}));function dG(t,e){var n=["node","edge","label"],i=!0,r=uN(e,"chosen");if("boolean"==typeof r)i=r;else if("object"===JE(r)){if(-1===fO(n).call(n,t))throw new Error("choosify: subOption '"+t+"' should be one of '"+n.join("', '")+"'");var o=uN(e,["chosen",t]);"boolean"!=typeof o&&"function"!=typeof o||(i=o)}return i}function uG(t,e,n){if(t.width<=0||t.height<=0)return!1;if(void 0!==n){var i={x:e.x-n.x,y:e.y-n.y};if(0!==n.angle){var r=-n.angle;e={x:Math.cos(r)*i.x-Math.sin(r)*i.y,y:Math.sin(r)*i.x+Math.cos(r)*i.y}}else e=i}var o=t.x+t.width,s=t.y+t.width;return t.left<e.x&&o>e.x&&t.top<e.y&&s>e.y}function fG(t){return"string"==typeof t&&""!==t}function pG(t,e,n,i){var r=i.x,o=i.y;if("function"==typeof i.distanceToBorder){var s=i.distanceToBorder(t,e),a=Math.sin(e)*s,g=Math.cos(e)*s;g===s?(r+=s,o=i.y):a===s?(r=i.x,o-=s):(r+=g,o-=a)}else i.shape.width>i.shape.height?(r=i.x+.5*i.shape.width,o=i.y-n):(r=i.x+n,o=i.y-.5*i.shape.height);return{x:r,y:o}}var vG=function(){function t(e){Qy(this,t),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return nk(t,[{key:"_add",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});var i=e;void 0!==e&&""!==e||(i=" ");var r=this.measureText(i,n),o=gf({},Gz(r));o.text=e,o.width=r.width,o.mod=n,void 0!==e&&""!==e||(o.width=0),this.lines[t].blocks.push(o),this.lines[t].width+=o.width}},{key:"curWidth",value:function(){var t=this.lines[this.current];return void 0===t?0:t.width}},{key:"append",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e)}},{key:"newLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e),this.current++}},{key:"determineLineHeights",value:function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t],n=0;if(void 0!==e.blocks)for(var i=0;i<e.blocks.length;i++){var r=e.blocks[i];n<r.height&&(n=r.height)}e.height=n}}},{key:"determineLabelSize",value:function(){for(var t=0,e=0,n=0;n<this.lines.length;n++){var i=this.lines[n];i.width>t&&(t=i.width),e+=i.height}this.width=t,this.height=e}},{key:"removeEmptyBlocks",value:function(){for(var t=[],e=0;e<this.lines.length;e++){var n=this.lines[e];if(0!==n.blocks.length&&(e!==this.lines.length-1||0!==n.width)){var i={};gf(i,n),i.blocks=[];for(var r=void 0,o=[],s=0;s<n.blocks.length;s++){var a=n.blocks[s];0!==a.width?o.push(a):void 0===r&&(r=a)}0===o.length&&void 0!==r&&o.push(r),i.blocks=o,t.push(i)}}return t}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}]),t}(),mG={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},yG=function(){function t(e){Qy(this,t),this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return nk(t,[{key:"mod",value:function(){return 0===this.modStack.length?"normal":this.modStack[0]}},{key:"modName",value:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(t){" "===t&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}},{key:"parseWS",value:function(t){return!!/[ \t]/.test(t)&&(this.mono?this.add(t):this.spacing=!0,!0)}},{key:"setTag",value:function(t){this.emitBlock(),this[t]=!0,this.modStack.unshift(t)}},{key:"unsetTag",value:function(t){this.emitBlock(),this[t]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(t,e){return!(this.mono||this[t]||!this.match(e)||(this.setTag(t),0))}},{key:"match",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Wk(this.prepareRegExp(t),2),i=n[0],r=n[1],o=i.test(this.text.substr(this.position,r));return o&&e&&(this.position+=r-1),o}},{key:"parseEndTag",value:function(t,e,n){var i=this.mod()===t;return!(!(i="mono"===t?i&&this.mono:i&&!this.mono)||!this.match(e)||(void 0!==n?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(t):this.unsetTag(t),0))}},{key:"replace",value:function(t,e){return!!this.match(t)&&(this.add(e),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(t){var e,n;if(t instanceof RegExp)n=t,e=1;else{var i=mG[t];n=void 0!==i?i:new RegExp(t),e=t.length}return[n,e]}}]),t}(),bG=function(){function t(e,n,i,r){var o=this;Qy(this,t),this.ctx=e,this.parent=n,this.selected=i,this.hover=r,this.lines=new vG((function(t,n){if(void 0===t)return 0;var s=o.parent.getFormattingValues(e,i,r,n),a=0;return""!==t&&(a=o.ctx.measureText(t).width),{width:a,values:s}}))}return nk(t,[{key:"process",value:function(t){if(!fG(t))return this.lines.finalize();var e=this.parent.fontOptions;t=(t=t.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var n=String(t).split("\n"),i=n.length;if(e.multi)for(var r=0;r<i;r++){var o=this.splitBlocks(n[r],e.multi);if(void 0!==o)if(0!==o.length){if(e.maxWdt>0)for(var s=0;s<o.length;s++){var a=o[s].mod,g=o[s].text;this.splitStringIntoLines(g,a,!0)}else for(var l=0;l<o.length;l++){var A=o[l].mod,c=o[l].text;this.lines.append(c,A)}this.lines.newLine()}else this.lines.newLine("")}else if(e.maxWdt>0)for(var h=0;h<i;h++)this.splitStringIntoLines(n[h]);else for(var C=0;C<i;C++)this.lines.newLine(n[C]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(t){var e="none";return"markdown"===t||"md"===t?e="markdown":!0!==t&&"html"!==t||(e="html"),e}},{key:"splitHtmlBlocks",value:function(t){for(var e=new yG(t),n=function(t){return!!/&/.test(t)&&(e.replace(e.text,"&lt;","<")||e.replace(e.text,"&amp;","&")||e.add("&"),!0)};e.position<e.text.length;){var i=e.text.charAt(e.position);e.parseWS(i)||/</.test(i)&&(e.parseStartTag("bold","<b>")||e.parseStartTag("ital","<i>")||e.parseStartTag("mono","<code>")||e.parseEndTag("bold","</b>")||e.parseEndTag("ital","</i>")||e.parseEndTag("mono","</code>"))||n(i)||e.add(i),e.position++}return e.emitBlock(),e.blocks}},{key:"splitMarkdownBlocks",value:function(t){for(var e=this,n=new yG(t),i=!0,r=function(t){return!!/\\/.test(t)&&(n.position<e.text.length+1&&(n.position++,t=e.text.charAt(n.position),/ \t/.test(t)?n.spacing=!0:(n.add(t),i=!1)),!0)};n.position<n.text.length;){var o=n.text.charAt(n.position);n.parseWS(o)||r(o)||(i||n.spacing)&&(n.parseStartTag("bold","*")||n.parseStartTag("ital","_")||n.parseStartTag("mono","`"))||n.parseEndTag("bold","*","afterBold")||n.parseEndTag("ital","_","afterItal")||n.parseEndTag("mono","`","afterMono")||(n.add(o),i=!1),n.position++}return n.emitBlock(),n.blocks}},{key:"splitBlocks",value:function(t,e){var n=this.decodeMarkupSystem(e);return"none"===n?[{text:t,mod:"normal"}]:"markdown"===n?this.splitMarkdownBlocks(t):"html"===n?this.splitHtmlBlocks(t):void 0}},{key:"overMaxWidth",value:function(t){var e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(t){for(var e="",n=0;n<t.length;){var i=e+(""===e?"":" ")+t[n];if(this.overMaxWidth(i))break;e=i,n++}return n}},{key:"getLongestFitWord",value:function(t){for(var e=0;e<t.length&&!this.overMaxWidth(Jk(t).call(t,0,e));)e++;return e}},{key:"splitStringIntoLines",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,e);for(var i=(t=(t=t.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");i.length>0;){var r=this.getLongestFit(i);if(0===r){var o=i[0],s=this.getLongestFitWord(o);this.lines.newLine(Jk(o).call(o,0,s),e),i[0]=Jk(o).call(o,s)}else{var a=r;" "===i[r-1]?r--:" "===i[a]&&a++;var g=Jk(i).call(i,0,r).join("");r==i.length&&n?this.lines.append(g,e):this.lines.newLine(g,e),i=Jk(i).call(i,a)}}}}]),t}(),wG=["bold","ital","boldital","mono"],xG=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Qy(this,t),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(n),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}return nk(t,[{key:"setOptions",value:function(t){if(this.elementOptions=t,this.initFontOptions(t.font),fG(t.label)?this.labelDirty=!0:t.label=void 0,void 0!==t.font&&null!==t.font)if("string"==typeof t.font)this.baseSize=this.fontOptions.size;else if("object"===JE(t.font)){var e=t.font.size;void 0!==e&&(this.baseSize=e)}}},{key:"initFontOptions",value:function(e){var n=this;iN(wG,(function(t){n.fontOptions[t]={}})),t.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:iN(e,(function(t,e){null!=t&&"object"!==JE(t)&&(n.fontOptions[e]=t)}))}},{key:"constrain",value:function(t){var e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=uN(t,"widthConstraint");if("number"==typeof n)e.maxWdt=Number(n),e.minWdt=Number(n);else if("object"===JE(n)){var i=uN(t,["widthConstraint","maximum"]);"number"==typeof i&&(e.maxWdt=Number(i));var r=uN(t,["widthConstraint","minimum"]);"number"==typeof r&&(e.minWdt=Number(r))}var o=uN(t,"heightConstraint");if("number"==typeof o)e.minHgt=Number(o);else if("object"===JE(o)){var s=uN(t,["heightConstraint","minimum"]);"number"==typeof s&&(e.minHgt=Number(s));var a=uN(t,["heightConstraint","valign"]);"string"==typeof a&&("top"!==a&&"bottom"!==a||(e.valign=a))}return e}},{key:"update",value:function(t,e){this.setOptions(t,!0),this.propagateFonts(e),tN(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=dG("label",e)}},{key:"adjustSizes",value:function(t){var e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e);var n=t?t.top+t.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}},{key:"addFontOptionsToPile",value:function(t,e){for(var n=0;n<e.length;++n)this.addFontToPile(t,e[n])}},{key:"addFontToPile",value:function(t,e){if(void 0!==e&&void 0!==e.font&&null!==e.font){var n=e.font;t.push(n)}}},{key:"getBasicOptions",value:function(e){for(var n={},i=0;i<e.length;++i){var r=e[i],o={};t.parseFontString(o,r)&&(r=o),iN(r,(function(t,e){void 0!==t&&(Object.prototype.hasOwnProperty.call(n,e)||(-1!==fO(wG).call(wG,e)?n[e]={}:n[e]=t))}))}return n}},{key:"getFontOption",value:function(e,n,i){for(var r,o=0;o<e.length;++o){var s=e[o];if(Object.prototype.hasOwnProperty.call(s,n)){if(null==(r=s[n]))continue;var a={};if(t.parseFontString(a,r)&&(r=a),Object.prototype.hasOwnProperty.call(r,i))return r[i]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,i))return this.fontOptions[i];throw new Error("Did not find value for multi-font for property: '"+i+"'")}},{key:"getFontOptions",value:function(t,e){for(var n={},i=["color","size","face","mod","vadjust"],r=0;r<i.length;++r){var o=i[r];n[o]=this.getFontOption(t,e,o)}return n}},{key:"propagateFonts",value:function(t){var e=this,n=[];this.addFontOptionsToPile(n,t),this.fontOptions=this.getBasicOptions(n);for(var i=function(){var t=wG[r],i=e.fontOptions[t];iN(e.getFontOptions(n,t),(function(t,e){i[e]=t})),i.size=Number(i.size),i.vadjust=Number(i.vadjust)},r=0;r<wG.length;++r)i()}},{key:"draw",value:function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var s=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&s<this.elementOptions.scaling.label.drawThreshold-1||(s>=this.elementOptions.scaling.label.maxVisible&&(s=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,i,r,e,n,o),this._drawBackground(t),this._drawText(t,e,this.size.yLine,o,s))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;var e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}},{key:"_drawText",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",r=arguments.length>4?arguments[4]:void 0,o=Wk(this._setAlignment(t,e,n,i),2);e=o[0],n=o[1],t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(n-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(n+=(this.size.height-this.size.labelHeight)/2));for(var s=0;s<this.lineCount;s++){var a=this.lines[s];if(a&&a.blocks){var g=0;this.isEdgeLabel||"center"===this.fontOptions.align?g+=(this.size.width-a.width)/2:"right"===this.fontOptions.align&&(g+=this.size.width-a.width);for(var l=0;l<a.blocks.length;l++){var A=a.blocks[l];t.font=A.font;var c=Wk(this._getColor(A.color,r,A.strokeColor),2),h=c[0],C=c[1];A.strokeWidth>0&&(t.lineWidth=A.strokeWidth,t.strokeStyle=C,t.lineJoin="round"),t.fillStyle=h,A.strokeWidth>0&&t.strokeText(A.text,e+g,n+A.vadjust),t.fillText(A.text,e+g,n+A.vadjust),g+=A.width}n+=a.height}}}},{key:"_setAlignment",value:function(t,e,n,i){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(e=0,n=0,"top"===this.fontOptions.align?(t.textBaseline="alphabetic",n-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",n+=4):t.textBaseline="middle"):t.textBaseline=i,[e,n]}},{key:"_getColor",value:function(t,e,n){var i=t||"#000000",r=n||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){var o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));i=oN(i,o),r=oN(r,o)}return[i,r]}},{key:"getTextSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(t,e,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var t=this.size.left,e=this.size.top-1;if(this.isEdgeLabel){var n=.5*-this.size.width;switch(this.fontOptions.align){case"middle":t=n,e=.5*-this.size.height;break;case"top":t=n,e=-(this.size.height+2);break;case"bottom":t=n,e=2}}return{left:t,top:e,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,n),this.size.left=i-.5*this.size.width,this.size.top=r-.5*this.size.height,this.size.yLine=r+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===o&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(t,e,n,i){var r=function(t,e,n){return"normal"===e?"mod"===n?"":t[n]:void 0!==t[e][n]?t[e][n]:t[n]},o={color:r(this.fontOptions,i,"color"),size:r(this.fontOptions,i,"size"),face:r(this.fontOptions,i,"face"),mod:r(this.fontOptions,i,"mod"),vadjust:r(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||n)&&("normal"===i&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?o.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(o,this.elementOptions.id,e,n));var s="";return void 0!==o.mod&&""!==o.mod&&(s+=o.mod+" "),s+=o.size+"px "+o.face,t.font=s.replace(/"/g,""),o.font=t.font,o.height=o.size,o}},{key:"differentState",value:function(t,e){return t!==this.selectedState||e!==this.hoverState}},{key:"_processLabelText",value:function(t,e,n,i){return new bG(t,this,e,n).process(i)}},{key:"_processLabel",value:function(t,e,n){if(!1!==this.labelDirty||this.differentState(e,n)){var i=this._processLabelText(t,e,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=e,this.hoverState=n,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(t,e){if(!e||"string"!=typeof e)return!1;var n=e.split(" ");return t.size=+n[0].replace("px",""),t.face=n[1],t.color=n[2],!0}}]),t}(),EG=function(){function t(e,n,i){Qy(this,t),this.body=n,this.labelModule=i,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return nk(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&("object"==JE(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,e){var n=this.options.borderWidth;return t&&this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+n}},{key:"enableShadow",value:function(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){var n=e.borderDashes;!0===n&&(n=[5,15]),t.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}},{key:"needsRefresh",value:function(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}},{key:"initContextForDraw",value:function(t,e){var n=e.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,n),t.strokeStyle=e.borderColor,t.fillStyle=e.color}},{key:"performStroke",value:function(t,e){var n=e.borderWidth/this.body.view.scale;t.save(),n>0&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}},{key:"performFill",value:function(t,e){t.save(),t.fillStyle=e.color,this.enableShadow(t,e),XO(t).call(t),this.disableShadow(t,e),t.restore(),this.performStroke(t,e)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,e,n,i,r){void 0!==n&&this.resize(n,i,r),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,e,n,i,r){this._updateBoundingBox(t,e,n,i,r)}},{key:"getDimensionsFromLabel",value:function(t,e,n){this.textSize=this.labelModule.getTextSize(t,e,n);var i=this.textSize.width,r=this.textSize.height;return 0===i&&(i=14,r=14),{width:i,height:r}}}]),t}();var kG=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n){var o;return Qy(this,r),(o=i.call(this,t,e,n))._setMargins(n),o}return nk(r,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-this.width/2,this.top=n-this.height/2,this.initContextForDraw(t,o),_f(t,this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(t,o),this.updateBoundingBox(e,n,t,i,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r)}},{key:"updateBoundingBox",value:function(t,e,n,i,r){this._updateBoundingBox(t,e,n,i,r);var o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}},{key:"distanceToBorder",value:function(t,e){t&&this.resize(t);var n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+n}}]),r}(EG);var SG=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n){var o;return Qy(this,r),(o=i.call(this,t,e,n)).labelOffset=0,o.selected=!1,o}return nk(r,[{key:"setOptions",value:function(t,e,n){this.options=t,void 0===e&&void 0===n||this.setImages(e,n)}},{key:"setImages",value:function(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}},{key:"switchImages",value:function(t){var e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){var n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}},{key:"_getImagePadding",value:function(){var t={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var e=this.options.imagePadding;"object"==JE(e)?(t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left):(t.top=e,t.right=e,t.bottom=e,t.left=e)}return t}},{key:"_resizeImage",value:function(){var t,e;if(!1===this.options.shapeProperties.useImageSize){var n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),t=2*this.options.size*n,e=2*this.options.size*i}else{var r=this._getImagePadding();t=this.imageObj.width+r.left+r.right,e=this.imageObj.height+r.top+r.bottom}this.width=t,this.height=e,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(t,e,n,i){this.initContextForDraw(t,i),Rf(t,e,n,i.size),this.performFill(t,i)}},{key:"_drawImageAtPosition",value:function(t,e){if(0!=this.imageObj.width){t.globalAlpha=void 0!==e.opacity?e.opacity:1,this.enableShadow(t,e);var n=1;!0===this.options.shapeProperties.interpolation&&(n=this.imageObj.width/this.width/this.body.view.scale);var i=this._getImagePadding(),r=this.left+i.left,o=this.top+i.top,s=this.width-i.left-i.right,a=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(t,n,r,o,s,a),this.disableShadow(t,e)}}},{key:"_drawImageLabel",value:function(t,e,n,i,r){var o=0;if(void 0!==this.height){o=.5*this.height;var s=this.labelModule.getTextSize(t,i,r);s.lineCount>=1&&(o+=s.height/2)}var a=n+o;this.options.label&&(this.labelOffset=o),this.labelModule.draw(t,e,a,i,r,"hanging")}}]),r}(EG);var TG=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n){var o;return Qy(this,r),(o=i.call(this,t,e,n))._setMargins(n),o}return nk(r,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n),r=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=r/2,this.width=r,this.height=r,this.radius=this.width/2}}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-this.width/2,this.top=n-this.height/2,this._drawRawCircle(t,e,n,o),this.updateBoundingBox(e,n),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,n,i,r)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t){return t&&this.resize(t),.5*this.width}}]),r}(SG);var OG=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n,o,s){var a;return Qy(this,r),(a=i.call(this,t,e,n)).setImages(o,s),a}return nk(r,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var i=2*this.options.size;return this.width=i,this.height=i,void(this.radius=.5*this.width)}this.needsRefresh(e,n)&&this._resizeImage()}},{key:"draw",value:function(t,e,n,i,r,o){this.switchImages(i),this.resize();var s=e,a=n;"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=n,s+=this.width/2,a+=this.height/2):(this.left=e-this.width/2,this.top=n-this.height/2),this._drawRawCircle(t,s,a,o),t.save(),t.clip(),this._drawImageAtPosition(t,o),t.restore(),this._drawImageLabel(t,s,a,i,r),this.updateBoundingBox(e,n)}},{key:"updateBoundingBox",value:function(t,e){"top-left"===this.options.shapeProperties.coordinateOrigin?(this.boundingBox.top=e,this.boundingBox.left=t,this.boundingBox.right=t+2*this.options.size,this.boundingBox.bottom=e+2*this.options.size):(this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t){return t&&this.resize(t),.5*this.width}}]),r}(SG);var RG=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n){return Qy(this,r),i.call(this,t,e,n)}return nk(r,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,n)){var r,o;this.labelModule.getTextSize(t,e,n);var s=2*i.size;this.width=null!==(r=this.customSizeWidth)&&void 0!==r?r:s,this.height=null!==(o=this.customSizeHeight)&&void 0!==o?o:s,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,n,i,r,o,s,a){var g,l=this;return this.resize(t,o,s,a),this.left=i-this.width/2,this.top=r-this.height/2,this.initContextForDraw(t,a),(g=e,Object.prototype.hasOwnProperty.call(Mf,g)?Mf[g]:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[g].call(t,n)})(t,i,r,a.size),this.performFill(t,a),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(t.font=(o?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",t.fillText(this.options.icon.code,i,r)),{drawExternalLabel:function(){if(void 0!==l.options.label){l.labelModule.calculateLabelSize(t,o,s,i,r,"hanging");var e=r+.5*l.height+.5*l.labelModule.size.height;l.labelModule.draw(t,i,e,o,s,"hanging")}l.updateBoundingBox(i,r)}}}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),r}(EG);function _G(t,e){var n=dS(t);if(CV){var i=CV(t);e&&(i=FT(i).call(i,(function(e){return wV(t,e).enumerable}))),n.push.apply(n,i)}return n}function NG(t){for(var e=1;e<arguments.length;e++){var n,i,r=null!=arguments[e]?arguments[e]:{};e%2?NS(n=_G(Object(r),!0)).call(n,(function(e){oM(t,e,r[e])})):TV?MV(t,TV(r)):NS(i=_G(Object(r))).call(i,(function(e){Xz(t,e,wV(r,e))}))}return t}var DG=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n,o){var s;return Qy(this,r),(s=i.call(this,t,e,n,o)).ctxRenderer=o,s}return nk(r,[{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r,o),this.left=e-this.width/2,this.top=n-this.height/2,t.save();var s=this.ctxRenderer({ctx:t,id:this.options.id,x:e,y:n,state:{selected:i,hover:r},style:NG({},o),label:this.options.label});if(null!=s.drawNode&&s.drawNode(),t.restore(),s.drawExternalLabel){var a=s.drawExternalLabel;s.drawExternalLabel=function(){t.save(),a(),t.restore()}}return s.nodeDimensions&&(this.customSizeWidth=s.nodeDimensions.width,this.customSizeHeight=s.nodeDimensions.height),s}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),r}(RG);var PG=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n){var o;return Qy(this,r),(o=i.call(this,t,e,n))._setMargins(n),o}return nk(r,[{key:"resize",value:function(t,e,n){if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n).width+this.margin.right+this.margin.left;this.width=i,this.height=i,this.radius=this.width/2}}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-this.width/2,this.top=n-this.height/2,this.initContextForDraw(t,o),Df(t,e-this.width/2,n-this.height/2,this.width,this.height),this.performFill(t,o),this.updateBoundingBox(e,n,t,i,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),r}(EG);var MG=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n){return Qy(this,r),i.call(this,t,e,n)}return nk(r,[{key:"draw",value:function(t,e,n,i,r,o){return this._drawShape(t,"diamond",4,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),r}(RG);var LG=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n){return Qy(this,r),i.call(this,t,e,n)}return nk(r,[{key:"draw",value:function(t,e,n,i,r,o){return this._drawShape(t,"circle",2,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t){return t&&this.resize(t),this.options.size}}]),r}(RG);var jG=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n){return Qy(this,r),i.call(this,t,e,n)}return nk(r,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n);this.height=2*i.height,this.width=i.width+i.height,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-.5*this.width,this.top=n-.5*this.height,this.initContextForDraw(t,o),Nf(t,this.left,this.top,this.width,this.height),this.performFill(t,o),this.updateBoundingBox(e,n,t,i,r),this.labelModule.draw(t,e,n,i,r)}},{key:"distanceToBorder",value:function(t,e){t&&this.resize(t);var n=.5*this.width,i=.5*this.height,r=Math.sin(e)*n,o=Math.cos(e)*i;return n*i/Math.sqrt(r*r+o*o)}}]),r}(EG);var BG=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n){var o;return Qy(this,r),(o=i.call(this,t,e,n))._setMargins(n),o}return nk(r,[{key:"resize",value:function(t,e,n){this.needsRefresh(e,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,n,i,r,o){var s=this;return this.resize(t,i,r),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=n-this.height/2,this._icon(t,e,n,i,r,o),{drawExternalLabel:function(){void 0!==s.options.label&&s.labelModule.draw(t,s.left+s.iconSize.width/2+s.margin.left,n+s.height/2+5,i),s.updateBoundingBox(e,n)}}}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(t,e,n,i,r,o){var s=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=[null!=this.options.icon.weight?this.options.icon.weight:i?"bold":"",(null!=this.options.icon.weight&&i?5:0)+s+"px",this.options.icon.face].join(" "),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,o),t.fillText(this.options.icon.code,e,n),this.disableShadow(t,o)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),r}(EG);var FG=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n,o,s){var a;return Qy(this,r),(a=i.call(this,t,e,n)).setImages(o,s),a}return nk(r,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var i=2*this.options.size;return this.width=i,void(this.height=i)}this.needsRefresh(e,n)&&this._resizeImage()}},{key:"draw",value:function(t,e,n,i,r,o){t.save(),this.switchImages(i),this.resize();var s=e,a=n;if("top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=n,s+=this.width/2,a+=this.height/2):(this.left=e-this.width/2,this.top=n-this.height/2),!0===this.options.shapeProperties.useBorderWithImage){var g=this.options.borderWidth,l=this.options.borderWidthSelected||2*this.options.borderWidth,A=(i?l:g)/this.body.view.scale;t.lineWidth=Math.min(this.width,A),t.beginPath();var c=i?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border,h=i?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background;void 0!==o.opacity&&(c=oN(c,o.opacity),h=oN(h,o.opacity)),t.strokeStyle=c,t.fillStyle=h,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),XO(t).call(t),this.performStroke(t,o),t.closePath()}this._drawImageAtPosition(t,o),this._drawImageLabel(t,s,a,i,r),this.updateBoundingBox(e,n),t.restore()}},{key:"updateBoundingBox",value:function(t,e){this.resize(),"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=t,this.top=e):(this.left=t-this.width/2,this.top=e-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),r}(SG);var zG=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n){return Qy(this,r),i.call(this,t,e,n)}return nk(r,[{key:"draw",value:function(t,e,n,i,r,o){return this._drawShape(t,"square",2,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),r}(RG);var VG=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n){return Qy(this,r),i.call(this,t,e,n)}return nk(r,[{key:"draw",value:function(t,e,n,i,r,o){return this._drawShape(t,"hexagon",4,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),r}(RG);var GG=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n){return Qy(this,r),i.call(this,t,e,n)}return nk(r,[{key:"draw",value:function(t,e,n,i,r,o){return this._drawShape(t,"star",4,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),r}(RG);var UG=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n){var o;return Qy(this,r),(o=i.call(this,t,e,n))._setMargins(n),o}return nk(r,[{key:"resize",value:function(t,e,n){this.needsRefresh(e,n)&&(this.textSize=this.labelModule.getTextSize(t,e,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-this.width/2,this.top=n-this.height/2,this.enableShadow(t,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r),this.disableShadow(t,o),this.updateBoundingBox(e,n,t,i,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),r}(EG);var WG=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n){return Qy(this,r),i.call(this,t,e,n)}return nk(r,[{key:"draw",value:function(t,e,n,i,r,o){return this._drawShape(t,"triangle",3,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),r}(RG);var ZG=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n){return Qy(this,r),i.call(this,t,e,n)}return nk(r,[{key:"draw",value:function(t,e,n,i,r,o){return this._drawShape(t,"triangleDown",3,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),r}(RG);function HG(t,e){var n=dS(t);if(CV){var i=CV(t);e&&(i=FT(i).call(i,(function(e){return wV(t,e).enumerable}))),n.push.apply(n,i)}return n}function qG(t){for(var e=1;e<arguments.length;e++){var n,i,r=null!=arguments[e]?arguments[e]:{};e%2?NS(n=HG(Object(r),!0)).call(n,(function(e){oM(t,e,r[e])})):TV?MV(t,TV(r)):NS(i=HG(Object(r))).call(i,(function(e){Xz(t,e,wV(r,e))}))}return t}var YG=function(){function t(e,n,i,r,o,s){Qy(this,t),this.options=CN(o),this.globalOptions=o,this.defaultOptions=s,this.body=n,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new xG(this.body,this.options,!1),this.setOptions(e)}return nk(t,[{key:"attachEdge",value:function(t){var e;-1===fO(e=this.edges).call(e,t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e,n,i=fO(e=this.edges).call(e,t);-1!=i&&lT(n=this.edges).call(n,i,1)}},{key:"setOptions",value:function(e){var n=this.options.shape;if(e){if(void 0!==e.color&&(this._localColor=e.color),void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");t.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=aO(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=aO(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=lG(e.value)),t.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var i=[e,this.options,this.defaultOptions];return this.chooser=dG("node",i),this._load_images(),this.updateLabelModule(e),void 0!==e.opacity&&t.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(n),void 0!==e.hidden||void 0!==e.physics}}},{key:"_load_images",value:function(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(null!=this.options.borderWidthSelected?t.borderWidth=this.options.borderWidthSelected:t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){var e=this.options.opacity;t.borderColor=oN(t.borderColor,e),t.color=oN(t.color,e),t.shadowColor=oN(t.shadowColor,e)}return t}},{key:"updateLabelModule",value:function(e){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),t.updateGroupOptions(this.options,qG(qG({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);var n=this.grouplist.get(this.options.group,!1),i=[e,this.options,n,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,i),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new kG(this.options,this.body,this.labelModule);break;case"circle":this.shape=new TG(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new OG(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new DG(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new PG(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new MG(this.options,this.body,this.labelModule);break;case"dot":this.shape=new LG(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new jG(this.options,this.body,this.labelModule);break;case"icon":this.shape=new BG(this.options,this.body,this.labelModule);break;case"image":this.shape=new FG(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new zG(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new VG(this.options,this.body,this.labelModule);break;case"star":this.shape=new GG(this.options,this.body,this.labelModule);break;case"text":this.shape=new UG(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new WG(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new ZG(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(t,e,n){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(t,e,n,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.size=this.options.scaling.min+i*r}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var e=this.getFormattingValues();return this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)||{}}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}},{key:"getItemsOnPoint",value:function(t){var e=[];return this.labelModule.visible()&&uG(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),uG(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"checkOpacity",value:function(t){return 0<=t&&t<=1}},{key:"checkCoordinateOrigin",value:function(t){return void 0===t||"center"===t||"top-left"===t}},{key:"updateGroupOptions",value:function(e,n,i){var r;if(void 0!==i){var o=e.group;if(void 0!==n&&void 0!==n.group&&o!==n.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof o||"string"==typeof o&&""!=o){var s=i.get(o);void 0!==s.opacity&&void 0===n.opacity&&(t.checkOpacity(s.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+s.opacity),s.opacity=void 0));var a=FT(r=IG(n)).call(r,(function(t){return null!=n[t]}));a.push("font"),$_(a,e,s),e.color=aN(e.color)}}}},{key:"parseOptions",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;if($_(["color","fixed","shadow"],e,n,i),t.checkMass(n),void 0!==e.opacity&&(t.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),void 0!==n.opacity&&(t.checkOpacity(n.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+n.opacity),n.opacity=void 0)),n.shapeProperties&&!t.checkCoordinateOrigin(n.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+n.shapeProperties.coordinateOrigin),IN(e,n,"shadow",r),void 0!==n.color&&null!==n.color){var s=aN(n.color);X_(e.color,s)}else!0===i&&null===n.color&&(e.color=CN(r.color));void 0!==n.fixed&&null!==n.fixed&&("boolean"==typeof n.fixed?(e.fixed.x=n.fixed,e.fixed.y=n.fixed):(void 0!==n.fixed.x&&"boolean"==typeof n.fixed.x&&(e.fixed.x=n.fixed.x),void 0!==n.fixed.y&&"boolean"==typeof n.fixed.y&&(e.fixed.y=n.fixed.y))),!0===i&&null===n.font&&(e.font=CN(r.font)),t.updateGroupOptions(e,n,o),void 0!==n.scaling&&IN(e.scaling,n.scaling,"label",r.scaling)}},{key:"checkMass",value:function(t,e){if(void 0!==t.mass&&t.mass<=0){var n="";void 0!==e&&(n=" in node id: "+e),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",RN),t.mass=1}}}]),t}();function QG(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var KG=function(){function t(e,n,i,r){var o,s=this;if(Qy(this,t),this.body=e,this.images=n,this.groups=i,this.layoutEngine=r,this.body.functions.createNode=Of(o=this.create).call(o,this),this.nodesListeners={add:function(t,e){s.add(e.items)},update:function(t,e){s.update(e.items,e.data,e.oldData)},remove:function(t,e){s.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,n,i){if(e===t)return.5;var r=1/(e-t);return Math.max(0,(i-t)*r)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=CN(this.defaultOptions),this.bindEventListeners()}return nk(t,[{key:"bindEventListeners",value:function(){var t,e,n=this;this.body.emitter.on("refreshNodes",Of(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",Of(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",(function(){iN(n.nodesListeners,(function(t,e){n.body.data.nodes&&n.body.data.nodes.off(e,t)})),delete n.body.functions.createNode,delete n.nodesListeners.add,delete n.nodesListeners.update,delete n.nodesListeners.remove,delete n.nodesListeners}))}},{key:"setOptions",value:function(t){if(void 0!==t){if(YG.parseOptions(this.options,t),void 0!==t.opacity&&(BP(t.opacity)||!zP(t.opacity)||t.opacity<0||t.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity):this.options.opacity=t.opacity),void 0!==t.shape)for(var e in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&this.body.nodes[e].updateShape();if(void 0!==t.font||void 0!==t.widthConstraint||void 0!==t.heightConstraint)for(var n=0,i=dS(this.body.nodes);n<i.length;n++){var r=i[n];this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh()}if(void 0!==t.size)for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.body.nodes[o].needsRefresh();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.data.nodes;if(JV("id",t))this.body.data.nodes=t;else if(sS(t))this.body.data.nodes=new XV,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new XV}if(n&&iN(this.nodesListeners,(function(t,e){n.off(e,t)})),this.body.nodes={},this.body.data.nodes){var i=this;iN(this.nodesListeners,(function(t,e){i.body.data.nodes.on(e,t)}));var r=this.body.data.nodes.getIds();this.add(r,!0)}!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[],r=0;r<t.length;r++){e=t[r];var o=this.body.data.nodes.get(e),s=this.create(o);i.push(s),this.body.nodes[e]=s}this.layoutEngine.positionInitially(i),!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e,n){for(var i=this.body.nodes,r=!1,o=0;o<t.length;o++){var s=t[o],a=i[s],g=e[o];void 0!==a?a.setOptions(g)&&(r=!0):(r=!0,a=this.create(g),i[s]=a)}r||void 0===n||(r=HP(e).call(e,(function(t,e){var i=n[e];return i&&i.level!==t.level}))),!0===r?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,n=0;n<t.length;n++)delete e[t[n]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:YG)(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];iN(this.body.nodes,(function(n,i){var r=t.body.data.nodes.get(i);void 0!==r&&(!0===e&&n.setOptions({x:null,y:null}),n.setOptions({fixed:!1}),n.setOptions(r))}))}},{key:"getPositions",value:function(t){var e={};if(void 0!==t){if(!0===sS(t)){for(var n=0;n<t.length;n++)if(void 0!==this.body.nodes[t[n]]){var i=this.body.nodes[t[n]];e[t[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(void 0!==this.body.nodes[t]){var r=this.body.nodes[t];e[t]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(var o=0;o<this.body.nodeIndices.length;o++){var s=this.body.nodes[this.body.nodeIndices[o]];e[this.body.nodeIndices[o]]={x:Math.round(s.x),y:Math.round(s.y)}}return e}},{key:"getPosition",value:function(t){if(null==t)throw new TypeError("No id was specified for getPosition method.");if(null==this.body.nodes[t])throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(t));return{x:Math.round(this.body.nodes[t].x),y:Math.round(this.body.nodes[t].y)}}},{key:"storePositions",value:function(){var t,e=[],n=this.body.data.nodes.getDataSet(),i=function(t,e){var n=void 0!==Hk&&Yy(t)||t["@@iterator"];if(!n){if(sS(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return QG(t,e);var i=Jk(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ty(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?QG(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(n.get());try{for(i.s();!(t=i.n()).done;){var r=t.value,o=r.id,s=this.body.nodes[o],a=Math.round(s.x),g=Math.round(s.y);r.x===a&&r.y===g||e.push({id:o,x:a,y:g})}}catch(t){i.e(t)}finally{i.f()}n.update(e)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,e){var n=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],r={},o=0;o<i.edges.length;o++){var s=i.edges[o];"to"!==e&&s.toId==i.id?void 0===r[s.fromId]&&(n.push(s.fromId),r[s.fromId]=!0):"from"!==e&&s.fromId==i.id&&void 0===r[s.toId]&&(n.push(s.toId),r[s.toId]=!0)}return n}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var n=this.body.nodes[t],i=0;i<n.edges.length;i++)e.push(n.edges[i].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,n){var i=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(n),UO((function(){i.body.emitter.emit("startSimulation")}),0)):console.error("Node id supplied to moveNode does not exist. Provided: ",t)}}]),t}(),XG=WI,JG=EC,$G=qC,tU=qd,eU=yC,nU=dv;vu({target:"Reflect",stat:!0},{get:function t(e,n){var i,r,o=arguments.length<3?e:arguments[2];return tU(e)===o?e[n]:(i=eU.f(e,n))?function(t){return void 0!==t&&(XG(t,"value")||XG(t,"writable"))}(i)?i.value:void 0===i.get?void 0:JG(i.get,o):$G(r=nU(e))?t(r,n,o):void 0}});var iU=Qh(YC.Reflect.get),rU=Qh(bV);function oU(){var t;return oU="undefined"!=typeof Reflect&&iU?JP(t=iU).call(t):function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rM(t)););return t}(t,e);if(i){var r=rU(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},oU.apply(this,arguments)}var sU=vu,aU=Math.hypot,gU=Math.abs,lU=Math.sqrt;sU({target:"Math",stat:!0,arity:2,forced:!!aU&&aU(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,i,r=0,o=0,s=arguments.length,a=0;o<s;)a<(n=gU(arguments[o++]))?(r=r*(i=a/n)*i+1,a=n):r+=n>0?(i=n/a)*i:n;return a===1/0?1/0:a*lU(r)}});var AU=Qh(YC.Math.hypot);function cU(t){var e=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=rM(t);if(e){var r=rM(this).constructor;n=hV(i,arguments,r)}else n=i.apply(this,arguments);return eM(this,n)}}var hU=function(){function t(){Qy(this,t)}return nk(t,null,[{key:"transform",value:function(t,e){sS(t)||(t=[t]);for(var n=e.point.x,i=e.point.y,r=e.angle,o=e.length,s=0;s<t.length;++s){var a=t[s],g=a.x*Math.cos(r)-a.y*Math.sin(r),l=a.x*Math.sin(r)+a.y*Math.cos(r);a.x=n+o*g,a.y=i+o*l}}},{key:"drawPath",value:function(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;++n)t.lineTo(e[n].x,e[n].y);t.closePath()}}]),t}(),CU=function(t){tM(n,t);var e=cU(n);function n(){return Qy(this,n),e.apply(this,arguments)}return nk(n,null,[{key:"draw",value:function(t,e){if(e.image){t.save(),t.translate(e.point.x,e.point.y),t.rotate(Math.PI/2+e.angle);var n=null!=e.imageWidth?e.imageWidth:e.image.width,i=null!=e.imageHeight?e.imageHeight:e.image.height;e.image.drawImageAtPosition(t,1,-n/2,0,n,i),t.restore()}return!1}}]),n}(hU),IU=function(t){tM(n,t);var e=cU(n);function n(){return Qy(this,n),e.apply(this,arguments)}return nk(n,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return hU.transform(n,e),hU.drawPath(t,n),!0}}]),n}(hU),dU=function(){function t(){Qy(this,t)}return nk(t,null,[{key:"draw",value:function(t,e){var n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return hU.transform(n,e),hU.drawPath(t,n),!0}}]),t}(),uU=function(){function t(){Qy(this,t)}return nk(t,null,[{key:"draw",value:function(t,e){var n={x:-.4,y:0};hU.transform(n,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var i=Math.PI,r=e.angle-i/2,o=e.angle+i/2;return t.beginPath(),t.arc(n.x,n.y,.4*e.length,r,o,!1),t.stroke(),!0}}]),t}(),fU=function(){function t(){Qy(this,t)}return nk(t,null,[{key:"draw",value:function(t,e){var n={x:-.3,y:0};hU.transform(n,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var i=Math.PI,r=e.angle+i/2,o=e.angle+3*i/2;return t.beginPath(),t.arc(n.x,n.y,.4*e.length,r,o,!1),t.stroke(),!0}}]),t}(),pU=function(){function t(){Qy(this,t)}return nk(t,null,[{key:"draw",value:function(t,e){var n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return hU.transform(n,e),hU.drawPath(t,n),!0}}]),t}(),vU=function(){function t(){Qy(this,t)}return nk(t,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return hU.transform(n,e),hU.drawPath(t,n),!0}}]),t}(),mU=function(){function t(){Qy(this,t)}return nk(t,null,[{key:"draw",value:function(t,e){var n={x:-.4,y:0};return hU.transform(n,e),Rf(t,n.x,n.y,.4*e.length),!0}}]),t}(),yU=function(){function t(){Qy(this,t)}return nk(t,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return hU.transform(n,e),hU.drawPath(t,n),!0}}]),t}(),bU=function(){function t(){Qy(this,t)}return nk(t,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return hU.transform(n,e),hU.drawPath(t,n),!0}}]),t}(),wU=function(){function t(){Qy(this,t)}return nk(t,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return hU.transform(n,e),hU.drawPath(t,n),!0}}]),t}(),xU=function(){function t(){Qy(this,t)}return nk(t,null,[{key:"draw",value:function(t,e){var n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return hU.transform(n,e),hU.drawPath(t,n),!0}}]),t}(),EU=function(){function t(){Qy(this,t)}return nk(t,null,[{key:"draw",value:function(t,e){var n;switch(e.type&&(n=e.type.toLowerCase()),n){case"image":return CU.draw(t,e);case"circle":return mU.draw(t,e);case"box":return bU.draw(t,e);case"crow":return dU.draw(t,e);case"curve":return uU.draw(t,e);case"diamond":return wU.draw(t,e);case"inv_curve":return fU.draw(t,e);case"triangle":return pU.draw(t,e);case"inv_triangle":return vU.draw(t,e);case"bar":return yU.draw(t,e);case"vee":return xU.draw(t,e);default:return IU.draw(t,e)}}}]),t}();function kU(t,e){var n=dS(t);if(CV){var i=CV(t);e&&(i=FT(i).call(i,(function(e){return wV(t,e).enumerable}))),n.push.apply(n,i)}return n}function SU(t){for(var e=1;e<arguments.length;e++){var n,i,r=null!=arguments[e]?arguments[e]:{};e%2?NS(n=kU(Object(r),!0)).call(n,(function(e){oM(t,e,r[e])})):TV?MV(t,TV(r)):NS(i=kU(Object(r))).call(i,(function(e){Xz(t,e,wV(r,e))}))}return t}var TU=function(){function t(e,n,i){Qy(this,t),this._body=n,this._labelModule=i,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}return nk(t,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();t.strokeStyle=this.getColor(t,e),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,r):this._drawLine(t,e,r)}},{key:"_drawLine",value:function(t,e,n,i,r){if(this.from!=this.to)this._line(t,e,n,i,r);else{var o=Wk(this._getCircleData(t),3),s=o[0],a=o[1],g=o[2];this._circle(t,e,s,a,g)}}},{key:"_drawDashedLine",value:function(t,e,n,i,r){t.lineCap="round";var o=sS(e.dashes)?e.dashes:[5,5];if(void 0!==t.setLineDash){if(t.save(),t.setLineDash(o),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,n);else{var s=Wk(this._getCircleData(t),3),a=s[0],g=s[1],l=s[2];this._circle(t,e,a,g,l)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)Pf(t,this.from.x,this.from.y,this.to.x,this.to.y,o);else{var A=Wk(this._getCircleData(t),3),c=A[0],h=A[1],C=A[2];this._circle(t,e,c,h,C)}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}},{key:"findBorderPosition",value:function(t,e,n){return this.from!=this.to?this._findBorderPosition(t,e,n):this._findBorderPositionCircle(t,e,n)}},{key:"findBorderPositions",value:function(t){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,t),to:this._findBorderPosition(this.to,t)};var e,n=Wk(Jk(e=this._getCircleData(t)).call(e,0,2),2),i=n[0],r=n[1];return{from:this._findBorderPositionCircle(this.from,t,{x:i,y:r,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,t,{x:i,y:r,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(t){var e=this.options.selfReference.size;void 0!==t&&void 0===this.from.shape.width&&this.from.shape.resize(t);var n=pG(t,this.options.selfReference.angle,e,this.from);return[n.x,n.y,e]}},{key:"_pointOnCircle",value:function(t,e,n,i){var r=2*i*Math.PI;return{x:t+n*Math.cos(r),y:e-n*Math.sin(r)}}},{key:"_findBorderPositionCircle",value:function(t,e,n){var i,r=n.x,o=n.y,s=n.low,a=n.high,g=n.direction,l=this.options.selfReference.size,A=.5*(s+a),c=0;!0===this.options.arrowStrikethrough&&(-1===g?c=this.options.endPointOffset.from:1===g&&(c=this.options.endPointOffset.to));var h=0;do{A=.5*(s+a),i=this._pointOnCircle(r,o,l,A);var C=Math.atan2(t.y-i.y,t.x-i.x),I=t.distanceToBorder(e,C)+c-Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2));if(Math.abs(I)<.05)break;I>0?g>0?s=A:a=A:g>0?a=A:s=A,++h}while(s<=a&&h<10);return SU(SU({},i),{},{t:A})}},{key:"getLineWidth",value:function(t,e){return!0===t?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(t,e){if(!1!==e.inheritsColor){if("both"===e.inheritsColor&&this.from.id!==this.to.id){var n=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),i=this.from.options.color.highlight.border,r=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(i=oN(this.from.options.color.border,e.opacity),r=oN(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?r=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,r),n}return"to"===e.inheritsColor?oN(this.to.options.color.border,e.opacity):oN(this.from.options.color.border,e.opacity)}return oN(e.color,e.opacity)}},{key:"_circle",value:function(t,e,n,i,r){this.enableShadow(t,e);var o=0,s=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){var a=this.options.selfReference.angle,g=this.options.selfReference.angle+Math.PI,l=this._findBorderPositionCircle(this.from,t,{x:n,y:i,low:a,high:g,direction:-1}),A=this._findBorderPositionCircle(this.from,t,{x:n,y:i,low:a,high:g,direction:1});o=Math.atan2(l.y-i,l.x-n),s=Math.atan2(A.y-i,A.x-n)}t.beginPath(),t.arc(n,i,r,o,s,!1),t.stroke(),this.disableShadow(t,e)}},{key:"getDistanceToEdge",value:function(t,e,n,i,r,o){if(this.from!=this.to)return this._getDistanceToEdge(t,e,n,i,r,o);var s=Wk(this._getCircleData(void 0),3),a=s[0],g=s[1],l=s[2],A=a-r,c=g-o;return Math.abs(Math.sqrt(A*A+c*c)-l)}},{key:"_getDistanceToLine",value:function(t,e,n,i,r,o){var s=n-t,a=i-e,g=((r-t)*s+(o-e)*a)/(s*s+a*a);g>1?g=1:g<0&&(g=0);var l=t+g*s-r,A=e+g*a-o;return Math.sqrt(l*l+A*A)}},{key:"getArrowData",value:function(t,e,n,i,r,o){var s,a,g,l,A,c,h,C=o.width;"from"===e?(g=this.from,l=this.to,A=o.fromArrowScale<0,c=Math.abs(o.fromArrowScale),h=o.fromArrowType):"to"===e?(g=this.to,l=this.from,A=o.toArrowScale<0,c=Math.abs(o.toArrowScale),h=o.toArrowType):(g=this.to,l=this.from,A=o.middleArrowScale<0,c=Math.abs(o.middleArrowScale),h=o.middleArrowType);var I=15*c+3*C;if(g!=l){var d=I/AU(g.x-l.x,g.y-l.y);if("middle"!==e)if(!0===this.options.smooth.enabled){var u=this._findBorderPosition(g,t,{via:n}),f=this.getPoint(u.t+d*("from"===e?1:-1),n);s=Math.atan2(u.y-f.y,u.x-f.x),a=u}else s=Math.atan2(g.y-l.y,g.x-l.x),a=this._findBorderPosition(g,t);else{var p=(A?-d:d)/2,v=this.getPoint(.5+p,n),m=this.getPoint(.5-p,n);s=Math.atan2(v.y-m.y,v.x-m.x),a=this.getPoint(.5,n)}}else{var y=Wk(this._getCircleData(t),3),b=y[0],w=y[1],x=y[2];if("from"===e){var E=this.options.selfReference.angle,k=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,t,{x:b,y:w,low:E,high:k,direction:-1});s=-2*S.t*Math.PI+1.5*Math.PI+.1*Math.PI,a=S}else if("to"===e){var T=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,R=this._findBorderPositionCircle(this.from,t,{x:b,y:w,low:T,high:O,direction:1});s=-2*R.t*Math.PI+1.5*Math.PI-1.1*Math.PI,a=R}else{var _=this.options.selfReference.angle/(2*Math.PI);a=this._pointOnCircle(b,w,x,_),s=-2*_*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:a,core:{x:a.x-.9*I*Math.cos(s),y:a.y-.9*I*Math.sin(s)},angle:s,length:I,type:h}}},{key:"drawArrowHead",value:function(t,e,n,i,r){t.strokeStyle=this.getColor(t,e),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,EU.draw(t,r)&&(this.enableShadow(t,e),XO(t).call(t),this.disableShadow(t,e))}},{key:"enableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"drawBackground",value:function(t,e){if(!1!==e.background){var n={strokeStyle:t.strokeStyle,lineWidth:t.lineWidth,dashes:t.dashes};t.strokeStyle=e.backgroundColor,t.lineWidth=e.backgroundSize,this.setStrokeDashed(t,e.backgroundDashes),t.stroke(),t.strokeStyle=n.strokeStyle,t.lineWidth=n.lineWidth,t.dashes=n.dashes,this.setStrokeDashed(t,e.dashes)}}},{key:"setStrokeDashed",value:function(t,e){if(!1!==e)if(void 0!==t.setLineDash){var n=sS(e)?e:[5,5];t.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else void 0!==t.setLineDash?t.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),t}();function OU(t,e){var n=dS(t);if(CV){var i=CV(t);e&&(i=FT(i).call(i,(function(e){return wV(t,e).enumerable}))),n.push.apply(n,i)}return n}function RU(t){for(var e=1;e<arguments.length;e++){var n,i,r=null!=arguments[e]?arguments[e]:{};e%2?NS(n=OU(Object(r),!0)).call(n,(function(e){oM(t,e,r[e])})):TV?MV(t,TV(r)):NS(i=OU(Object(r))).call(i,(function(e){Xz(t,e,wV(r,e))}))}return t}var _U=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n){return Qy(this,r),i.call(this,t,e,n)}return nk(r,[{key:"_findBorderPositionBezier",value:function(t,e){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),o=!1,s=1,a=0,g=this.to,l=this.options.endPointOffset?this.options.endPointOffset.to:0;t.id===this.from.id&&(g=this.from,o=!0,l=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(l=0);var A=0;do{i=.5*(a+s),n=this.getPoint(i,r);var c=Math.atan2(g.y-n.y,g.x-n.x),h=g.distanceToBorder(e,c)+l-Math.sqrt(Math.pow(n.x-g.x,2)+Math.pow(n.y-g.y,2));if(Math.abs(h)<.2)break;h<0?!1===o?a=i:s=i:!1===o?s=i:a=i,++A}while(a<=s&&A<10);return RU(RU({},n),{},{t:i})}},{key:"_getDistanceToBezierEdge",value:function(t,e,n,i,r,o,s){var a,g,l,A,c,h=1e9,C=t,I=e;for(g=1;g<10;g++)l=.1*g,A=Math.pow(1-l,2)*t+2*l*(1-l)*s.x+Math.pow(l,2)*n,c=Math.pow(1-l,2)*e+2*l*(1-l)*s.y+Math.pow(l,2)*i,g>0&&(h=(a=this._getDistanceToLine(C,I,A,c,r,o))<h?a:h),C=A,I=c;return h}},{key:"_bezierCurve",value:function(t,e,n,i){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),null!=n&&null!=n.x?null!=i&&null!=i.x?t.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(t,e),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),r}(TU);var NU=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n){var o;return Qy(this,r),(o=i.call(this,t,e,n)).via=o.via,o._boundFunction=function(){o.positionBezierNode()},o._body.emitter.on("_repositionBezierNodes",o._boundFunction),o}return nk(r,[{key:"setOptions",value:function(t){oU(rM(r.prototype),"setOptions",this).call(this,t);var e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this._body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this._body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e,n){this._bezierCurve(t,e,n)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var n=Wk(this._getCircleData(),3),i=n[0],r=n[1],o=n[2],s=2*Math.PI*(1-t);return{x:i+o*Math.sin(s),y:r+o-o*(1-Math.cos(s))}}return{x:Math.pow(1-t,2)*this.fromPoint.x+2*t*(1-t)*e.x+Math.pow(t,2)*this.toPoint.x,y:Math.pow(1-t,2)*this.fromPoint.y+2*t*(1-t)*e.y+Math.pow(t,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,n,i,r,o){return this._getDistanceToBezierEdge(t,e,n,i,r,o,this.via)}}]),r}(_U);var DU=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n){return Qy(this,r),i.call(this,t,e,n)}return nk(r,[{key:"_line",value:function(t,e,n){this._bezierCurve(t,e,n)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t,e,n=this.options.smooth.roundness,i=this.options.smooth.type,r=Math.abs(this.from.x-this.to.x),o=Math.abs(this.from.y-this.to.y);if("discrete"===i||"diagonalCross"===i){var s,a;s=a=r<=o?n*o:n*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);var g=this.from.x+s,l=this.from.y+a;return"discrete"===i&&(r<=o?g=r<n*o?this.from.x:g:l=o<n*r?this.from.y:l),{x:g,y:l}}if("straightCross"===i){var A=(1-n)*r,c=(1-n)*o;return r<=o?(A=0,this.from.y<this.to.y&&(c=-c)):(this.from.x<this.to.x&&(A=-A),c=0),{x:this.to.x+A,y:this.to.y+c}}if("horizontal"===i){var h=(1-n)*r;return this.from.x<this.to.x&&(h=-h),{x:this.to.x+h,y:this.from.y}}if("vertical"===i){var C=(1-n)*o;return this.from.y<this.to.y&&(C=-C),{x:this.from.x,y:this.to.y+C}}if("curvedCW"===i){r=this.to.x-this.from.x,o=this.from.y-this.to.y;var I=Math.sqrt(r*r+o*o),d=Math.PI,u=(Math.atan2(o,r)+(.5*n+.5)*d)%(2*d);return{x:this.from.x+(.5*n+.5)*I*Math.sin(u),y:this.from.y+(.5*n+.5)*I*Math.cos(u)}}if("curvedCCW"===i){r=this.to.x-this.from.x,o=this.from.y-this.to.y;var f=Math.sqrt(r*r+o*o),p=Math.PI,v=(Math.atan2(o,r)+(.5*-n+.5)*p)%(2*p);return{x:this.from.x+(.5*n+.5)*f*Math.sin(v),y:this.from.y+(.5*n+.5)*f*Math.cos(v)}}t=e=r<=o?n*o:n*r,this.from.x>this.to.x&&(t=-t),this.from.y>=this.to.y&&(e=-e);var m=this.from.x+t,y=this.from.y+e;return r<=o?m=this.from.x<=this.to.x?this.to.x<m?this.to.x:m:this.to.x>m?this.to.x:m:y=this.from.y>=this.to.y?this.to.y>y?this.to.y:y:this.to.y<y?this.to.y:y,{x:m,y}}},{key:"_findBorderPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(t,e,n.via)}},{key:"_getDistanceToEdge",value:function(t,e,n,i,r,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,n,i,r,o,s)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),n=t;return{x:Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*e.x+Math.pow(n,2)*this.toPoint.x,y:Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*e.y+Math.pow(n,2)*this.toPoint.y}}}]),r}(_U);var PU=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n){return Qy(this,r),i.call(this,t,e,n)}return nk(r,[{key:"_getDistanceToBezierEdge2",value:function(t,e,n,i,r,o,s,a){for(var g=1e9,l=t,A=e,c=[0,0,0,0],h=1;h<10;h++){var C=.1*h;c[0]=Math.pow(1-C,3),c[1]=3*C*Math.pow(1-C,2),c[2]=3*Math.pow(C,2)*(1-C),c[3]=Math.pow(C,3);var I=c[0]*t+c[1]*s.x+c[2]*a.x+c[3]*n,d=c[0]*e+c[1]*s.y+c[2]*a.y+c[3]*i;if(h>0){var u=this._getDistanceToLine(l,A,I,d,r,o);g=u<g?u:g}l=I,A=d}return g}}]),r}(_U);var MU=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n){return Qy(this,r),i.call(this,t,e,n)}return nk(r,[{key:"_line",value:function(t,e,n){var i=n[0],r=n[1];this._bezierCurve(t,e,i,r)}},{key:"_getViaCoordinates",value:function(){var t,e,n,i,r=this.from.x-this.to.x,o=this.from.y-this.to.y,s=this.options.smooth.roundness;return(Math.abs(r)>Math.abs(o)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(e=this.from.y,i=this.to.y,t=this.from.x-s*r,n=this.to.x+s*r):(e=this.from.y-s*o,i=this.to.y+s*o,t=this.from.x,n=this.to.x),[{x:t,y:e},{x:n,y:i}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,n,i,r,o){var s=Wk(arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),2),a=s[0],g=s[1];return this._getDistanceToBezierEdge2(t,e,n,i,r,o,a,g)}},{key:"getPoint",value:function(t){var e=Wk(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),2),n=e[0],i=e[1],r=t,o=[Math.pow(1-r,3),3*r*Math.pow(1-r,2),3*Math.pow(r,2)*(1-r),Math.pow(r,3)];return{x:o[0]*this.fromPoint.x+o[1]*n.x+o[2]*i.x+o[3]*this.toPoint.x,y:o[0]*this.fromPoint.y+o[1]*n.y+o[2]*i.y+o[3]*this.toPoint.y}}}]),r}(PU);var LU=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n){return Qy(this,r),i.call(this,t,e,n)}return nk(r,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var n=this.to,i=this.from;t.id===this.from.id&&(n=this.from,i=this.to);var r=Math.atan2(n.y-i.y,n.x-i.x),o=n.x-i.x,s=n.y-i.y,a=Math.sqrt(o*o+s*s),g=(a-t.distanceToBorder(e,r))/a;return{x:(1-g)*i.x+g*n.x,y:(1-g)*i.y+g*n.y,t:0}}},{key:"_getDistanceToEdge",value:function(t,e,n,i,r,o){return this._getDistanceToLine(t,e,n,i,r,o)}}]),r}(TU),jU=function(){function t(e,n,i,r,o){if(Qy(this,t),void 0===n)throw new Error("No body provided");this.options=CN(r),this.globalOptions=r,this.defaultOptions=o,this.body=n,this.imagelist=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new xG(this.body,this.options,!0),this.setOptions(e)}return nk(t,[{key:"setOptions",value:function(e){if(e){var n=void 0!==e.physics&&this.options.physics!==e.physics||void 0!==e.hidden&&(this.options.hidden||!1)!==(e.hidden||!1)||void 0!==e.from&&this.options.from!==e.from||void 0!==e.to&&this.options.to!==e.to;t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=lG(e.value));var i=[e,this.options,this.defaultOptions];return this.chooser=dG("edge",i),this.updateLabelModule(e),n=this.updateEdgeType()||n,this._setInteractionWidths(),this.connect(),n}}},{key:"getFormattingValues",value:function(){var t=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,e=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,n=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,i=this.options.color.inherit,r={toArrow:t,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:e,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var o=this.options.selectionWidth;"function"==typeof o?r.width=o(r.width):"number"==typeof o&&(r.width+=o),r.width=Math.max(r.width,.3/this.body.view.scale),r.color=this.options.color.highlight,r.shadow=this.options.shadow.enabled}else if(this.hover){var s=this.options.hoverWidth;"function"==typeof s?r.width=s(r.width):"number"==typeof s&&(r.width+=s),r.width=Math.max(r.width,.3/this.body.view.scale),r.color=this.options.color.hover,r.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(r,this.options.id,this.selected,this.hover),void 0!==r.color&&(r.inheritsColor=!1),!1===r.shadow&&(r.shadowColor===this.options.shadow.color&&r.shadowSize===this.options.shadow.size&&r.shadowX===this.options.shadow.x&&r.shadowY===this.options.shadow.y||(r.shadow=!0)));else r.shadow=this.options.shadow.enabled,r.width=Math.max(r.width,.3/this.body.view.scale);return r}},{key:"updateLabelModule",value:function(t){var e=[t,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,e),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,e=!1,n=!0;return void 0!==this.edgeType&&((this.edgeType instanceof NU&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof MU&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof DU&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof LU&&!1===t.type.enabled)&&(n=!1),!0===n&&(e=this.cleanup())),!0===n?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new NU(this.options,this.body,this.labelModule)):"cubicBezier"===t.type?this.edgeType=new MU(this.options,this.body,this.labelModule):this.edgeType=new DU(this.options,this.body,this.labelModule):this.edgeType=new LU(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,n){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(t,e,n,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.width=this.options.scaling.min+i*r}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var n=this.edgeType.getViaNode();this.edgeType.drawLine(t,e,this.selected,this.hover,n),this.drawLabel(t,n)}}},{key:"drawArrows",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(i.from=this.edgeType.getArrowData(t,"from",n,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=i.from.core),e.fromArrowSrc&&(i.from.image=this.imagelist.load(e.fromArrowSrc)),e.fromArrowImageWidth&&(i.from.imageWidth=e.fromArrowImageWidth),e.fromArrowImageHeight&&(i.from.imageHeight=e.fromArrowImageHeight)),e.toArrow&&(i.to=this.edgeType.getArrowData(t,"to",n,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=i.to.core),e.toArrowSrc&&(i.to.image=this.imagelist.load(e.toArrowSrc)),e.toArrowImageWidth&&(i.to.imageWidth=e.toArrowImageWidth),e.toArrowImageHeight&&(i.to.imageHeight=e.toArrowImageHeight)),e.middleArrow&&(i.middle=this.edgeType.getArrowData(t,"middle",n,this.selected,this.hover,e),e.middleArrowSrc&&(i.middle.image=this.imagelist.load(e.middleArrowSrc)),e.middleArrowImageWidth&&(i.middle.imageWidth=e.middleArrowImageWidth),e.middleArrowImageHeight&&(i.middle.imageHeight=e.middleArrowImageHeight)),e.fromArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,i.from),e.middleArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,i.middle),e.toArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,i.to)}}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var n,i=this.from,r=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),i.id!=r.id){this.labelModule.pointToSelf=!1,n=this.edgeType.getPoint(.5,e),t.save();var o=this._getRotation(t);0!=o.angle&&(t.translate(o.x,o.y),t.rotate(o.angle)),this.labelModule.draw(t,n.x,n.y,this.selected,this.hover),t.restore()}else{this.labelModule.pointToSelf=!0;var s=pG(t,this.options.selfReference.angle,this.options.selfReference.size,i);n=this._pointOnCircle(s.x,s.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(t,n.x,n.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(t){var e=[];if(this.labelModule.visible()){var n=this._getRotation();uG(this.labelModule.getSize(),t,n)&&e.push({edgeId:this.id,labelId:0})}var i={left:t.x,top:t.y};return this.isOverlappingWith(i)&&e.push({edgeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){if(this.connected){var e=this.from.x,n=this.from.y,i=this.to.x,r=this.to.y,o=t.left,s=t.top;return this.edgeType.getDistanceToEdge(e,n,i,r,o,s)<10}return!1}},{key:"_getRotation",value:function(t){var e=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,n.x,n.y);var i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return i;if("horizontal"===this.options.font.align)return i;var r=this.from.y-this.to.y,o=this.from.x-this.to.x,s=Math.atan2(r,o);return(s<-1&&o<0||s>0&&o<0)&&(s+=Math.PI),i.angle=s,i}},{key:"_pointOnCircle",value:function(t,e,n,i){return{x:t+n*Math.cos(i),y:e-n*Math.sin(i)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(J_(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],t,e,n),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.from&&(zP(e.endPointOffset.from)?t.endPointOffset.from=e.endPointOffset.from:(t.endPointOffset.from=void 0!==i.endPointOffset.from?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.to&&(zP(e.endPointOffset.to)?t.endPointOffset.to=e.endPointOffset.to:(t.endPointOffset.to=void 0!==i.endPointOffset.to?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),fG(e.label)?t.label=e.label:fG(t.label)||(t.label=void 0),IN(t,e,"smooth",i),IN(t,e,"shadow",i),IN(t,e,"background",i),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:!0===n&&null===e.dashes&&(t.dashes=mO(i.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),IN(t.scaling,e.scaling,"label",i.scaling)):!0===n&&null===e.scaling&&(t.scaling=mO(i.scaling)),void 0!==e.arrows&&null!==e.arrows)if("string"==typeof e.arrows){var o=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=fO(o).call(o,"to"),t.arrows.middle.enabled=-1!=fO(o).call(o,"middle"),t.arrows.from.enabled=-1!=fO(o).call(o,"from")}else{if("object"!==JE(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+wO(e.arrows));IN(t.arrows,e.arrows,"to",i.arrows),IN(t.arrows,e.arrows,"middle",i.arrows),IN(t.arrows,e.arrows,"from",i.arrows)}else!0===n&&null===e.arrows&&(t.arrows=mO(i.arrows));if(void 0!==e.color&&null!==e.color){var s=Y_(e.color)?{color:e.color,highlight:e.color,hover:e.color,inherit:!1,opacity:1}:e.color,a=t.color;if(r)tN(a,i.color,!1,n);else for(var g in a)Object.prototype.hasOwnProperty.call(a,g)&&delete a[g];if(Y_(a))a.color=a,a.highlight=a,a.hover=a,a.inherit=!1,void 0===s.opacity&&(a.opacity=1);else{var l=!1;void 0!==s.color&&(a.color=s.color,l=!0),void 0!==s.highlight&&(a.highlight=s.highlight,l=!0),void 0!==s.hover&&(a.hover=s.hover,l=!0),void 0!==s.inherit&&(a.inherit=s.inherit),void 0!==s.opacity&&(a.opacity=Math.min(1,Math.max(0,s.opacity))),!0===l?a.inherit=!1:void 0===a.inherit&&(a.inherit="from")}}else!0===n&&null===e.color&&(t.color=CN(i.color));!0===n&&null===e.font&&(t.font=CN(i.font)),Object.prototype.hasOwnProperty.call(e,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),t.selfReference.size=e.selfReferenceSize)}}]),t}(),BU=function(){function t(e,n,i){var r,o=this;Qy(this,t),this.body=e,this.images=n,this.groups=i,this.body.functions.createEdge=Of(r=this.create).call(r,this),this.edgesListeners={add:function(t,e){o.add(e.items)},update:function(t,e){o.update(e.items)},remove:function(t,e){o.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,n,i){if(e===t)return.5;var r=1/(e-t);return Math.max(0,(i-t)*r)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},tN(this.options,this.defaultOptions),this.bindEventListeners()}return nk(t,[{key:"bindEventListeners",value:function(){var t,e,n=this;this.body.emitter.on("_forceDisableDynamicCurves",(function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===t&&(t="continuous");var i=!1;for(var r in n.body.edges)if(Object.prototype.hasOwnProperty.call(n.body.edges,r)){var o=n.body.edges[r],s=n.body.data.edges.get(r);if(null!=s){var a=s.smooth;void 0!==a&&!0===a.enabled&&"dynamic"===a.type&&(void 0===t?o.setOptions({smooth:!1}):o.setOptions({smooth:{type:t}}),i=!0)}}!0===e&&!0===i&&n.body.emitter.emit("_dataChanged")})),this.body.emitter.on("_dataUpdated",(function(){n.reconnectEdges()})),this.body.emitter.on("refreshEdges",Of(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",Of(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",(function(){iN(n.edgesListeners,(function(t,e){n.body.data.edges&&n.body.data.edges.off(e,t)})),delete n.body.functions.createEdge,delete n.edgesListeners.add,delete n.edgesListeners.update,delete n.edgesListeners.remove,delete n.edgesListeners}))}},{key:"setOptions",value:function(t){if(void 0!==t){jU.parseOptions(this.options,t,!0,this.defaultOptions,!0);var e=!1;if(void 0!==t.smooth)for(var n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(e=this.body.edges[n].updateEdgeType()||e);if(void 0!==t.font)for(var i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&this.body.edges[i].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.edges;if(JV("id",t))this.body.data.edges=t;else if(sS(t))this.body.data.edges=new XV,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new XV}if(i&&iN(this.edgesListeners,(function(t,e){i.off(e,t)})),this.body.edges={},this.body.data.edges){iN(this.edgesListeners,(function(t,n){e.body.data.edges.on(n,t)}));var r=this.body.data.edges.getIds();this.add(r,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.edges,i=this.body.data.edges,r=0;r<t.length;r++){var o=t[r],s=n[o];s&&s.disconnect();var a=i.get(o,{showInternalIds:!0});n[o]=this.create(a)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,n=this.body.data.edges,i=!1,r=0;r<t.length;r++){var o=t[r],s=n.get(o),a=e[o];void 0!==a?(a.disconnect(),i=a.setOptions(s)||i,a.connect()):(this.body.edges[o]=this.create(s),i=!0)}!0===i?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==t.length){var n=this.body.edges;iN(t,(function(t){var e=n[t];void 0!==e&&e.remove()})),e&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var t=this;iN(this.body.edges,(function(e,n){var i=t.body.data.edges.get(n);void 0!==i&&e.setOptions(i)}))}},{key:"create",value:function(t){return new jU(t,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,n=this.body.edges;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t].edges=[]);for(t in n)if(Object.prototype.hasOwnProperty.call(n,t)){var i=n[t];i.from=null,i.to=null,i.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var n=this.body.edges[t];void 0!==n.fromId&&e.push(n.fromId),void 0!==n.toId&&e.push(n.toId)}return e}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var t=this,e=[];iN(this.body.edges,(function(n,i){var r=t.body.nodes[n.toId],o=t.body.nodes[n.fromId];void 0!==r&&!0===r.isCluster||void 0!==o&&!0===o.isCluster||void 0!==r&&void 0!==o||e.push(i)})),this.remove(e,!1)}},{key:"_addMissingEdges",value:function(){var t=this.body.data.edges;if(null!=t){var e=this.body.edges,n=[];NS(t).call(t,(function(t,i){void 0===e[i]&&n.push(i)})),this.add(n,!0)}}}]),t}(),FU=function(){function t(e,n,i){Qy(this,t),this.body=e,this.physicsBody=n,this.barnesHutTree,this.setOptions(i),this._rng=z_("BARNES HUT SOLVER")}return nk(t,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var t,e=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,r=this._formBarnesHutTree(e,n);this.barnesHutTree=r;for(var o=0;o<i;o++)(t=e[n[o]]).options.mass>0&&this._getForceContributions(r.root,t)}}},{key:"_getForceContributions",value:function(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}},{key:"_getForceContribution",value:function(t,e){if(t.childrenCount>0){var n=t.centerOfMass.x-e.x,i=t.centerOfMass.y-e.y,r=Math.sqrt(n*n+i*i);r*t.calcSize>this.thetaInversed?this._calculateForces(r,n,i,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(r,n,i,e,t)}}},{key:"_calculateForces",value:function(t,e,n,i,r){0===t&&(e=t=.1),this.overlapAvoidanceFactor<1&&i.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,t-i.shape.radius));var o=this.options.gravitationalConstant*r.mass*i.options.mass/Math.pow(t,3),s=e*o,a=n*o;this.physicsBody.forces[i.id].x+=s,this.physicsBody.forces[i.id].y+=a}},{key:"_formBarnesHutTree",value:function(t,e){for(var n,i=e.length,r=t[e[0]].x,o=t[e[0]].y,s=t[e[0]].x,a=t[e[0]].y,g=1;g<i;g++){var l=t[e[g]],A=l.x,c=l.y;l.options.mass>0&&(A<r&&(r=A),A>s&&(s=A),c<o&&(o=c),c>a&&(a=c))}var h=Math.abs(s-r)-Math.abs(a-o);h>0?(o-=.5*h,a+=.5*h):(r+=.5*h,s-=.5*h);var C=Math.max(1e-5,Math.abs(s-r)),I=.5*C,d=.5*(r+s),u=.5*(o+a),f={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:d-I,maxX:d+I,minY:u-I,maxY:u+I},size:C,calcSize:1/C,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(f.root);for(var p=0;p<i;p++)(n=t[e[p]]).options.mass>0&&this._placeInTree(f.root,n);return f}},{key:"_updateBranchMass",value:function(t,e){var n=t.centerOfMass,i=t.mass+e.options.mass,r=1/i;n.x=n.x*t.mass+e.x*e.options.mass,n.x*=r,n.y=n.y*t.mass+e.y*e.options.mass,n.y*=r,t.mass=i;var o=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<o?o:t.maxWidth}},{key:"_placeInTree",value:function(t,e,n){1==n&&void 0!==n||this._updateBranchMass(t,e);var i,r=t.children.NW.range;i=r.maxX>e.x?r.maxY>e.y?"NW":"SW":r.maxY>e.y?"NE":"SE",this._placeInRegion(t,e,i)}},{key:"_placeInRegion",value:function(t,e,n){var i=t.children[n];switch(i.childrenCount){case 0:i.children.data=e,i.childrenCount=1,this._updateBranchMass(i,e);break;case 1:i.children.data.x===e.x&&i.children.data.y===e.y?(e.x+=this._rng(),e.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,e));break;case 4:this._placeInTree(i,e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var n,i,r,o,s=.5*t.size;switch(e){case"NW":n=t.range.minX,i=t.range.minX+s,r=t.range.minY,o=t.range.minY+s;break;case"NE":n=t.range.minX+s,i=t.range.maxX,r=t.range.minY,o=t.range.minY+s;break;case"SW":n=t.range.minX,i=t.range.minX+s,r=t.range.minY+s,o=t.range.maxY;break;case"SE":n=t.range.minX+s,i=t.range.maxX,r=t.range.minY+s,o=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:r,maxY:o},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,n){void 0===n&&(n="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=n,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),t}(),zU=function(){function t(e,n,i){Qy(this,t),this._rng=z_("REPULSION SOLVER"),this.body=e,this.physicsBody=n,this.setOptions(i)}return nk(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,n,i,r,o,s,a,g=this.body.nodes,l=this.physicsBody.physicsNodeIndices,A=this.physicsBody.forces,c=this.options.nodeDistance,h=-2/3/c,C=4/3,I=0;I<l.length-1;I++){s=g[l[I]];for(var d=I+1;d<l.length;d++)t=(a=g[l[d]]).x-s.x,e=a.y-s.y,0===(n=Math.sqrt(t*t+e*e))&&(t=n=.1*this._rng()),n<2*c&&(o=n<.5*c?1:h*n+C,i=t*(o/=n),r=e*o,A[s.id].x-=i,A[s.id].y-=r,A[a.id].x+=i,A[a.id].y+=r)}}}]),t}(),VU=function(){function t(e,n,i){Qy(this,t),this.body=e,this.physicsBody=n,this.setOptions(i)}return nk(t,[{key:"setOptions",value:function(t){this.options=t,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var t=this.body.nodes,e=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance,r=0;r<e.length-1;r++)for(var o=t[e[r]],s=r+1;s<e.length;s++){var a=t[e[s]];if(o.level===a.level){var g=i+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(a.shape.radius||0)/2),l=a.x-o.x,A=a.y-o.y,c=Math.sqrt(l*l+A*A),h=void 0;h=c<g?-Math.pow(.05*c,2)+Math.pow(.05*g,2):0,0!==c&&(h/=c);var C=l*h,I=A*h;n[o.id].x-=C,n[o.id].y-=I,n[a.id].x+=C,n[a.id].y+=I}}}}]),t}(),GU=function(){function t(e,n,i){Qy(this,t),this.body=e,this.physicsBody=n,this.setOptions(i)}return nk(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,n,i,r,o=this.physicsBody.physicsEdgeIndices,s=this.body.edges,a=0;a<o.length;a++)!0===(e=s[o[a]]).connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(t=void 0===e.options.length?this.options.springLength:e.options.length,n=e.to,i=e.edgeType.via,r=e.from,this._calculateSpringForce(n,i,.5*t),this._calculateSpringForce(i,r,.5*t)):(t=void 0===e.options.length?1.5*this.options.springLength:e.options.length,this._calculateSpringForce(e.from,e.to,t)))}},{key:"_calculateSpringForce",value:function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=Math.max(Math.sqrt(i*i+r*r),.01),s=this.options.springConstant*(n-o)/o,a=i*s,g=r*s;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=g),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=g)}}]),t}(),UU=function(){function t(e,n,i){Qy(this,t),this.body=e,this.physicsBody=n,this.setOptions(i)}return nk(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,n,i,r,o,s,a,g,l,A=this.body.edges,c=.5,h=this.physicsBody.physicsEdgeIndices,C=this.physicsBody.physicsNodeIndices,I=this.physicsBody.forces,d=0;d<C.length;d++){var u=C[d];I[u].springFx=0,I[u].springFy=0}for(var f=0;f<h.length;f++)!0===(e=A[h[f]]).connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,n=e.from.x-e.to.x,i=e.from.y-e.to.y,a=0===(a=Math.sqrt(n*n+i*i))?.01:a,r=n*(s=this.options.springConstant*(t-a)/a),o=i*s,e.to.level!=e.from.level?(void 0!==I[e.toId]&&(I[e.toId].springFx-=r,I[e.toId].springFy-=o),void 0!==I[e.fromId]&&(I[e.fromId].springFx+=r,I[e.fromId].springFy+=o)):(void 0!==I[e.toId]&&(I[e.toId].x-=c*r,I[e.toId].y-=c*o),void 0!==I[e.fromId]&&(I[e.fromId].x+=c*r,I[e.fromId].y+=c*o)));s=1;for(var p=0;p<C.length;p++){var v=C[p];g=Math.min(s,Math.max(-s,I[v].springFx)),l=Math.min(s,Math.max(-s,I[v].springFy)),I[v].x+=g,I[v].y+=l}for(var m=0,y=0,b=0;b<C.length;b++){var w=C[b];m+=I[w].x,y+=I[w].y}for(var x=m/C.length,E=y/C.length,k=0;k<C.length;k++){var S=C[k];I[S].x-=x,I[S].y-=E}}}]),t}(),WU=function(){function t(e,n,i){Qy(this,t),this.body=e,this.physicsBody=n,this.setOptions(i)}return nk(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,n,i,r=this.body.nodes,o=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces,a=0;a<o.length;a++)t=-(i=r[o[a]]).x,e=-i.y,n=Math.sqrt(t*t+e*e),this._calculateForces(n,t,e,s,i)}},{key:"_calculateForces",value:function(t,e,n,i,r){var o=0===t?0:this.options.centralGravity/t;i[r.id].x=e*o,i[r.id].y=n*o}}]),t}();var ZU=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n){var o;return Qy(this,r),(o=i.call(this,t,e,n))._rng=z_("FORCE ATLAS 2 BASED REPULSION SOLVER"),o}return nk(r,[{key:"_calculateForces",value:function(t,e,n,i,r){0===t&&(e=t=.1*this._rng()),this.overlapAvoidanceFactor<1&&i.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,t-i.shape.radius));var o=i.edges.length+1,s=this.options.gravitationalConstant*r.mass*i.options.mass*o/Math.pow(t,2),a=e*s,g=n*s;this.physicsBody.forces[i.id].x+=a,this.physicsBody.forces[i.id].y+=g}}]),r}(FU);var HU=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n){return Qy(this,r),i.call(this,t,e,n)}return nk(r,[{key:"_calculateForces",value:function(t,e,n,i,r){if(t>0){var o=r.edges.length+1,s=this.options.centralGravity*o*r.options.mass;i[r.id].x=e*s,i[r.id].y=n*s}}}]),r}(WU),qU=function(){function t(e){Qy(this,t),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},gf(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return nk(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",(function(){t.initPhysics()})),this.body.emitter.on("_layoutFailed",(function(){t.layoutFailed=!0})),this.body.emitter.on("resetPhysics",(function(){t.stopSimulation(),t.ready=!1})),this.body.emitter.on("disablePhysics",(function(){t.physicsEnabled=!1,t.stopSimulation()})),this.body.emitter.on("restorePhysics",(function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()})),this.body.emitter.on("startSimulation",(function(){!0===t.ready&&t.startSimulation()})),this.body.emitter.on("stopSimulation",(function(){t.stopSimulation()})),this.body.emitter.on("destroy",(function(){t.stopSimulation(!1),t.body.emitter.off()})),this.body.emitter.on("_dataChanged",(function(){t.updatePhysicsData()}))}},{key:"setOptions",value:function(t){if(void 0!==t)if(!1===t)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(!0===t)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,$_(["stabilization"],this.options,t),IN(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation());var e=this.options.wind;e&&(("number"!=typeof e.x||BP(e.x))&&(e.x=0),("number"!=typeof e.y||BP(e.y))&&(e.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new ZU(this.body,this.physicsBody,t),this.edgesSolver=new GU(this.body,this.physicsBody,t),this.gravitySolver=new HU(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new zU(this.body,this.physicsBody,t),this.edgesSolver=new GU(this.body,this.physicsBody,t),this.gravitySolver=new WU(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new VU(this.body,this.physicsBody,t),this.edgesSolver=new UU(this.body,this.physicsBody,t),this.gravitySolver=new WU(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new FU(this.body,this.physicsBody,t),this.edgesSolver=new GU(this.body,this.physicsBody,t),this.gravitySolver=new WU(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var t;!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=Of(t=this.simulationStep).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=vS();this.physicsTick(),(vS()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&UO((function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0}),0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&!0===t[n].options.physics&&this.physicsBody.physicsNodeIndices.push(t[n].id);for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&!0===e[i].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[i].id);for(var r=0;r<this.physicsBody.physicsNodeIndices.length;r++){var o=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[o]={x:0,y:0},void 0===this.physicsBody.velocities[o]&&(this.physicsBody.velocities[o]={x:0,y:0})}for(var s in this.physicsBody.velocities)void 0===t[s]&&delete this.physicsBody.velocities[s]}},{key:"revert",value:function(){var t=dS(this.previousStates),e=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(var i=0;i<t.length;i++){var r=t[i];void 0!==e[r]?!0===e[r].options.physics&&(this.referenceState[r]={positions:{x:e[r].x,y:e[r].y}},n[r].x=this.previousStates[r].vx,n[r].y=this.previousStates[r].vy,e[r].x=this.previousStates[r].x,e[r].y=this.previousStates[r].y):delete this.previousStates[r]}}},{key:"_evaluateStepQuality",value:function(){var t,e,n=this.body.nodes,i=this.referenceState;for(var r in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,r)&&void 0!==n[r]&&(t=n[r].x-i[r].positions.x,e=n[r].y-i[r].positions.y,Math.sqrt(Math.pow(t,2)+Math.pow(e,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=0,n=0,i=0;i<t.length;i++){var r=t[i],o=this._performStep(r);e=Math.max(e,o),n+=o}this.adaptiveTimestepEnabled=n/t.length<5,this.stabilized=e<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(t,e,n){t+=(e-this.modelOptions.damping*t)/n*this.timestep;var i=this.options.maxVelocity||1e9;return Math.abs(t)>i&&(t=t>0?i:-i),t}},{key:"_performStep",value:function(t){var e=this.body.nodes[t],n=this.physicsBody.forces[t];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);var i=this.physicsBody.velocities[t];return this.previousStates[t]={x:e.x,y:e.y,vx:i.x,vy:i.y},!1===e.options.fixed.x?(i.x=this.calculateComponentVelocity(i.x,n.x,e.options.mass),e.x+=i.x*this.timestep):(n.x=0,i.x=0),!1===e.options.fixed.y?(i.y=this.calculateComponentVelocity(i.y,n.y,e.options.mass),e.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e].x&&t[e].y){var n=t[e].options.fixed;this.freezeCache[e]={x:n.x,y:n.y},n.x=!0,n.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof e&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,UO((function(){return t._stabilizationBatch()}),0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var t=this,e=function(){return!1===t.stabilized&&t.stabilizationIterations<t.targetIterations},n=function(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};this._startStabilizing()&&n();for(var i,r=0;e()&&r<this.options.stabilization.updateInterval;)this.physicsTick(),r++;n(),e()?UO(Of(i=this._stabilizationBatch).call(i,this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var n=this.physicsBody.physicsNodeIndices[e],i=this.body.nodes[n],r=this.physicsBody.forces[n],o=Math.sqrt(Math.pow(r.x,2)+Math.pow(r.x,2)),s=Math.min(Math.max(5,o),15),a=3*s,g=AN((180-180*Math.min(1,Math.max(0,.03*o)))/360,1,1),l={x:i.x+20*r.x,y:i.y+20*r.y};t.lineWidth=s,t.strokeStyle=g,t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(l.x,l.y),t.stroke();var A=Math.atan2(r.y,r.x);t.fillStyle=g,EU.draw(t,{type:"arrow",point:l,angle:A,length:a}),XO(t).call(t)}}}]),t}(),YU=function(){function t(){Qy(this,t)}return nk(t,null,[{key:"getRange",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=1e9,r=-1e9,o=1e9,s=-1e9;if(n.length>0)for(var a=0;a<n.length;a++)o>(e=t[n[a]]).shape.boundingBox.left&&(o=e.shape.boundingBox.left),s<e.shape.boundingBox.right&&(s=e.shape.boundingBox.right),i>e.shape.boundingBox.top&&(i=e.shape.boundingBox.top),r<e.shape.boundingBox.bottom&&(r=e.shape.boundingBox.bottom);return 1e9===o&&-1e9===s&&1e9===i&&-1e9===r&&(i=0,r=0,o=0,s=0),{minX:o,maxX:s,minY:i,maxY:r}}},{key:"getRangeCore",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=1e9,r=-1e9,o=1e9,s=-1e9;if(n.length>0)for(var a=0;a<n.length;a++)o>(e=t[n[a]]).x&&(o=e.x),s<e.x&&(s=e.x),i>e.y&&(i=e.y),r<e.y&&(r=e.y);return 1e9===o&&-1e9===s&&1e9===i&&-1e9===r&&(i=0,r=0,o=0,s=0),{minX:o,maxX:s,minY:i,maxY:r}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var n={};return void 0===e||"node"===e?(tN(n,t.options,!0),n.x=t.x,n.y=t.y,n.amountOfConnections=t.edges.length):tN(n,t.options,!0),n}}]),t}();var QU=function(t){tM(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rM(e);if(n){var r=rM(this).constructor;t=hV(i,arguments,r)}else t=i.apply(this,arguments);return eM(this,t)});function r(t,e,n,o,s,a){var g;return Qy(this,r),(g=i.call(this,t,e,n,o,s,a)).isCluster=!0,g.containedNodes={},g.containedEdges={},g}return nk(r,[{key:"_openChildCluster",value:function(t){var e=this,n=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!n.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],iN(n.edges,(function(t){delete e.containedEdges[t.id]})),iN(n.containedNodes,(function(t,n){e.containedNodes[n]=t})),n.containedNodes={},iN(n.containedEdges,(function(t,n){e.containedEdges[n]=t})),n.containedEdges={},iN(n.edges,(function(t){iN(e.edges,(function(n){var i,r,o=fO(i=n.clusteringEdgeReplacingIds).call(i,t.id);-1!==o&&(iN(t.clusteringEdgeReplacingIds,(function(t){n.clusteringEdgeReplacingIds.push(t),e.body.edges[t].edgeReplacedById=n.id})),lT(r=n.clusteringEdgeReplacingIds).call(r,o,1))}))})),n.edges=[]}}]),r}(YG),KU=function(){function t(e){var n=this;Qy(this,t),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},gf(this.options,this.defaultOptions),this.body.emitter.on("_resetData",(function(){n.clusteredNodes={},n.clusteredEdges={}}))}return nk(t,[{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===JE(t)&&(e=this._checkOptions(t),t=this._getHubSize());for(var n=[],i=0;i<this.body.nodeIndices.length;i++){var r=this.body.nodes[this.body.nodeIndices[i]];r.edges.length>=t&&n.push(r.id)}for(var o=0;o<n.length;o++)this.clusterByConnection(n[o],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===e.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);var i={},r={};iN(this.body.nodes,(function(n,o){n.options&&!0===e.joinCondition(n.options)&&(i[o]=n,iN(n.edges,(function(e){void 0===t.clusteredEdges[e.id]&&(r[e.id]=e)})))})),this._cluster(i,r,e,n)}},{key:"clusterByEdgeCount",value:function(t,e){var n=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=this._checkOptions(e);for(var r,o,s,a=[],g={},l=function(){var i={},l={},c=n.body.nodeIndices[A],h=n.body.nodes[c];if(void 0===g[c]){s=0,o=[];for(var C=0;C<h.edges.length;C++)r=h.edges[C],void 0===n.clusteredEdges[r.id]&&(r.toId!==r.fromId&&s++,o.push(r));if(s===t){for(var I=function(t){if(void 0===e.joinCondition||null===e.joinCondition)return!0;var n=YU.cloneOptions(t);return e.joinCondition(n)},d=!0,u=0;u<o.length;u++){r=o[u];var f=n._getConnectedId(r,c);if(!I(h)){d=!1;break}l[r.id]=r,i[c]=h,i[f]=n.body.nodes[f],g[c]=!0}if(dS(i).length>0&&dS(l).length>0&&!0===d){var p=function(){for(var t=0;t<a.length;++t)for(var e in i)if(void 0!==a[t].nodes[e])return a[t]}();if(void 0!==p){for(var v in i)void 0===p.nodes[v]&&(p.nodes[v]=i[v]);for(var m in l)void 0===p.edges[m]&&(p.edges[m]=l[m])}else a.push({nodes:i,edges:l})}}}},A=0;A<this.body.nodeIndices.length;A++)l();for(var c=0;c<a.length;c++)this._cluster(a[c].nodes,a[c].edges,e,!1);!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,t,e)}},{key:"clusterBridges",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,t,e)}},{key:"clusterByConnection",value:function(t,e){var n,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var r=this.body.nodes[t];void 0===(e=this._checkOptions(e,r)).clusterNodeProperties.x&&(e.clusterNodeProperties.x=r.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=r.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=r.options.fixed.x,e.clusterNodeProperties.fixed.y=r.options.fixed.y);var o={},s={},a=r.id,g=YU.cloneOptions(r);o[a]=r;for(var l=0;l<r.edges.length;l++){var A=r.edges[l];if(void 0===this.clusteredEdges[A.id]){var c=this._getConnectedId(A,a);if(void 0===this.clusteredNodes[c])if(c!==a)if(void 0===e.joinCondition)s[A.id]=A,o[c]=this.body.nodes[c];else{var h=YU.cloneOptions(this.body.nodes[c]);!0===e.joinCondition(g,h)&&(s[A.id]=A,o[c]=this.body.nodes[c])}else s[A.id]=A}}var C=hS(n=dS(o)).call(n,(function(t){return o[t].id}));for(var I in o)if(Object.prototype.hasOwnProperty.call(o,I))for(var d=o[I],u=0;u<d.edges.length;u++){var f=d.edges[u];fO(C).call(C,this._getConnectedId(f,d.id))>-1&&(s[f.id]=f)}this._cluster(o,s,e,i)}},{key:"_createClusterEdges",value:function(t,e,n,i){for(var r,o,s,a,g,l,A=dS(t),c=[],h=0;h<A.length;h++){s=t[o=A[h]];for(var C=0;C<s.edges.length;C++)r=s.edges[C],void 0===this.clusteredEdges[r.id]&&(r.toId==r.fromId?e[r.id]=r:r.toId==o?(a=n.id,l=g=r.fromId):(a=r.toId,g=n.id,l=a),void 0===t[l]&&c.push({edge:r,fromId:g,toId:a}))}for(var I=[],d=function(t){for(var e=0;e<I.length;e++){var n=I[e],i=t.fromId===n.fromId&&t.toId===n.toId,r=t.fromId===n.toId&&t.toId===n.fromId;if(i||r)return n}return null},u=0;u<c.length;u++){var f=c[u],p=f.edge,v=d(f);null===v?(v=this._createClusteredEdge(f.fromId,f.toId,p,i),I.push(v)):v.clusteringEdgeReplacingIds.push(p.id),this.body.edges[p.id].edgeReplacedById=v.id,this._backupEdgeOptions(p),p.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=[];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&void 0!==this.clusteredNodes[o]&&r.push(o);for(var s=0;s<r.length;++s)delete t[r[s]];if(0!=dS(t).length&&(1!=dS(t).length||1==n.clusterNodeProperties.allowSingleNodeCluster)){var a=tN({},n.clusterNodeProperties);if(void 0!==n.processProperties){var g=[];for(var l in t)if(Object.prototype.hasOwnProperty.call(t,l)){var A=YU.cloneOptions(t[l]);g.push(A)}var c=[];for(var h in e)if(Object.prototype.hasOwnProperty.call(e,h)&&"clusterEdge:"!==h.substr(0,12)){var C=YU.cloneOptions(e[h],"edge");c.push(C)}if(!(a=n.processProperties(a,g,c)))throw new Error("The processProperties function does not return properties!")}void 0===a.id&&(a.id="cluster:"+GV());var I=a.id;void 0===a.label&&(a.label="cluster");var d=void 0;void 0===a.x&&(d=this._getClusterPosition(t),a.x=d.x),void 0===a.y&&(void 0===d&&(d=this._getClusterPosition(t)),a.y=d.y),a.id=I;var u=this.body.functions.createNode(a,QU);u.containedNodes=t,u.containedEdges=e,u.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[a.id]=u,this._clusterEdges(t,e,a,n.clusterEdgeProperties),a.id=void 0,!0===i&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e,n=dS(t),i=t[n[0]].x,r=t[n[0]].x,o=t[n[0]].y,s=t[n[0]].y,a=1;a<n.length;a++)i=(e=t[n[a]]).x<i?e.x:i,r=e.x>r?e.x:r,o=e.y<o?e.y:o,s=e.y>s?e.y:s;return{x:.5*(i+r),y:.5*(o+s)}}},{key:"openCluster",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");var i=this.body.nodes[t];if(void 0===i)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==i.isCluster||void 0===i.containedNodes||void 0===i.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");var r=this.findNode(t),o=fO(r).call(r,t)-1;if(o>=0){var s=r[o];return this.body.nodes[s]._openChildCluster(t),delete this.body.nodes[t],void(!0===n&&this.body.emitter.emit("_dataChanged"))}var a=i.containedNodes,g=i.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var l={},A={x:i.x,y:i.y};for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var h=this.body.nodes[c];l[c]={x:h.x,y:h.y}}var C=e.releaseFunction(A,l);for(var I in a)if(Object.prototype.hasOwnProperty.call(a,I)){var d=this.body.nodes[I];void 0!==C[I]&&(d.x=void 0===C[I].x?i.x:C[I].x,d.y=void 0===C[I].y?i.y:C[I].y)}}else iN(a,(function(t){!1===t.options.fixed.x&&(t.x=i.x),!1===t.options.fixed.y&&(t.y=i.y)}));for(var u in a)if(Object.prototype.hasOwnProperty.call(a,u)){var f=this.body.nodes[u];f.vx=i.vx,f.vy=i.vy,f.setOptions({physics:!0}),delete this.clusteredNodes[u]}for(var p=[],v=0;v<i.edges.length;v++)p.push(i.edges[v]);for(var m=0;m<p.length;m++){for(var y=p[m],b=this._getConnectedId(y,t),w=this.clusteredNodes[b],x=0;x<y.clusteringEdgeReplacingIds.length;x++){var E=y.clusteringEdgeReplacingIds[x],k=this.body.edges[E];if(void 0!==k)if(void 0!==w){var S=this.body.nodes[w.clusterId];S.containedEdges[k.id]=k,delete g[k.id];var T=k.fromId,O=k.toId;k.toId==b?O=w.clusterId:T=w.clusterId,this._createClusteredEdge(T,O,k,S.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(k)}y.remove()}for(var R in g)Object.prototype.hasOwnProperty.call(g,R)&&this._restoreEdge(g[R]);delete this.body.nodes[t],!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var n=this.body.nodes[t].containedNodes;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.push(this.body.nodes[i].id)}return e}},{key:"findNode",value:function(t){for(var e,n=[],i=0;void 0!==this.clusteredNodes[t]&&i<100;){if(void 0===(e=this.body.nodes[t]))return[];n.push(e.id),t=this.clusteredNodes[t].clusterId,i++}return void 0===(e=this.body.nodes[t])?[]:(n.push(e.id),GS(n).call(n),n)}},{key:"updateClusteredNode",value:function(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var n=this.getClusteredEdges(t),i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(e);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var e=[],n=0;void 0!==t&&void 0!==this.body.edges[t]&&n<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,n++;return GS(e).call(e),e}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){for(var e=[t],n=[],i=[],r=0;e.length>0&&r<100;){var o=e.pop();if(void 0!==o){var s=this.body.edges[o];if(void 0!==s){r++;var a=s.clusteringEdgeReplacingIds;if(void 0===a)i.push(o);else for(var g=0;g<a.length;++g){var l=a[g];-1===fO(e).call(e,a)&&-1===fO(n).call(n,a)&&e.push(l)}n.push(o)}}}return i}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:(t.fromId,t.fromId)}},{key:"_getHubSize",value:function(){for(var t=0,e=0,n=0,i=0,r=0;r<this.body.nodeIndices.length;r++){var o=this.body.nodes[this.body.nodeIndices[r]];o.edges.length>i&&(i=o.edges.length),t+=o.edges.length,e+=Math.pow(o.edges.length,2),n+=1}t/=n;var s=(e/=n)-Math.pow(t,2),a=Math.sqrt(s),g=Math.floor(t+2*a);return g>i&&(g=i),g}},{key:"_createClusteredEdge",value:function(t,e,n,i,r){var o=YU.cloneOptions(n,"edge");tN(o,i),o.from=t,o.to=e,o.id="clusterEdge:"+GV(),void 0!==r&&tN(o,r);var s=this.body.functions.createEdge(o);return s.clusteringEdgeReplacingIds=[n.id],s.connect(),this.body.edges[s.id]=s,s}},{key:"_clusterEdges",value:function(t,e,n,i){if(e instanceof jU){var r=e,o={};o[r.id]=r,e=o}if(t instanceof YG){var s=t,a={};a[s.id]=s,t=a}if(null==n)throw new Error("_clusterEdges: parameter clusterNode required");for(var g in void 0===i&&(i=n.clusterEdgeProperties),this._createClusterEdges(t,e,n,i),e)if(Object.prototype.hasOwnProperty.call(e,g)&&void 0!==this.body.edges[g]){var l=this.body.edges[g];this._backupEdgeOptions(l),l.setOptions({physics:!1})}for(var A in t)Object.prototype.hasOwnProperty.call(t,A)&&(this.clusteredNodes[A]={clusterId:n.id,node:this.body.nodes[A]},this.body.nodes[A].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(void 0!==t){var e=this.clusteredNodes[t];if(void 0!==e){var n=e.clusterId;if(void 0!==n)return this.body.nodes[n]}}}},{key:"_filter",value:function(t,e){var n=[];return iN(t,(function(t){e(t)&&n.push(t)})),n}},{key:"_updateState",value:function(){var t,e=this,n=[],i={},r=function(t){iN(e.body.nodes,(function(e){!0===e.isCluster&&t(e)}))};for(t in this.clusteredNodes)Object.prototype.hasOwnProperty.call(this.clusteredNodes,t)&&void 0===this.body.nodes[t]&&n.push(t);r((function(t){for(var e=0;e<n.length;e++)delete t.containedNodes[n[e]]}));for(var o=0;o<n.length;o++)delete this.clusteredNodes[n[o]];iN(this.clusteredEdges,(function(t){var n=e.body.edges[t];void 0!==n&&n.endPointsValid()||(i[t]=t)})),r((function(t){iN(t.containedEdges,(function(t,e){t.endPointsValid()||i[e]||(i[e]=e)}))})),iN(this.body.edges,(function(t,n){var r=!0,o=t.clusteringEdgeReplacingIds;if(void 0!==o){var s=0;iN(o,(function(t){var n=e.body.edges[t];void 0!==n&&n.endPointsValid()&&(s+=1)})),r=s>0}t.endPointsValid()&&r||(i[n]=n)})),r((function(t){iN(i,(function(n){delete t.containedEdges[n],iN(t.edges,(function(r,o){r.id!==n?r.clusteringEdgeReplacingIds=e._filter(r.clusteringEdgeReplacingIds,(function(t){return!i[t]})):t.edges[o]=null})),t.edges=e._filter(t.edges,(function(t){return null!==t}))}))})),iN(i,(function(t){delete e.clusteredEdges[t]})),iN(i,(function(t){delete e.body.edges[t]})),iN(dS(this.body.edges),(function(t){var n=e.body.edges[t],i=e._isClusteredNode(n.fromId)||e._isClusteredNode(n.toId);if(i!==e._isClusteredEdge(n.id))if(i){var r=e._getClusterNodeForNode(n.fromId);void 0!==r&&e._clusterEdges(e.body.nodes[n.fromId],n,r);var o=e._getClusterNodeForNode(n.toId);void 0!==o&&e._clusterEdges(e.body.nodes[n.toId],n,o)}else delete e._clusterEdges[t],e._restoreEdge(n)}));for(var s=!1,a=!0,g=function(){var t=[];r((function(e){var n=dS(e.containedNodes).length,i=!0===e.options.allowSingleNodeCluster;(i&&n<1||!i&&n<2)&&t.push(e.id)}));for(var n=0;n<t.length;++n)e.openCluster(t[n],{},!1);a=t.length>0,s=s||a};a;)g();s&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return void 0!==this.clusteredNodes[t]}},{key:"_isClusteredEdge",value:function(t){return void 0!==this.clusteredEdges[t]}}]),t}(),XU=function(){function t(e,n){var i;Qy(this,t),void 0!==window&&(i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===i?function(t){t()}:i,this.body=e,this.canvas=n,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},gf(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return nk(t,[{key:"bindEventListeners",value:function(){var t,e=this;this.body.emitter.on("dragStart",(function(){e.dragging=!0})),this.body.emitter.on("dragEnd",(function(){e.dragging=!1})),this.body.emitter.on("zoom",(function(){e.zooming=!0,window.clearTimeout(e.zoomTimeoutId),e.zoomTimeoutId=UO((function(){var t;e.zooming=!1,Of(t=e._requestRedraw).call(t,e)()}),250)})),this.body.emitter.on("_resizeNodes",(function(){e._resizeNodes()})),this.body.emitter.on("_redraw",(function(){!1===e.renderingActive&&e._redraw()})),this.body.emitter.on("_blockRedraw",(function(){e.allowRedraw=!1})),this.body.emitter.on("_allowRedraw",(function(){e.allowRedraw=!0,e.redrawRequested=!1})),this.body.emitter.on("_requestRedraw",Of(t=this._requestRedraw).call(t,this)),this.body.emitter.on("_startRendering",(function(){e.renderRequests+=1,e.renderingActive=!0,e._startRendering()})),this.body.emitter.on("_stopRendering",(function(){e.renderRequests-=1,e.renderingActive=e.renderRequests>0,e.renderTimer=void 0})),this.body.emitter.on("destroy",(function(){e.renderRequests=0,e.allowRedraw=!1,e.renderingActive=!1,!0===e.requiresTimeout?clearTimeout(e.renderTimer):window.cancelAnimationFrame(e.renderTimer),e.body.emitter.off()}))}},{key:"setOptions",value:function(t){void 0!==t&&J_(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,t)}},{key:"_requestNextFrame",value:function(t,e){if("undefined"!=typeof window){var n,i=window;return!0===this.requiresTimeout?n=UO(t,e):i.requestAnimationFrame&&(n=i.requestAnimationFrame(t)),n}}},{key:"_startRendering",value:function(){var t;!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(Of(t=this._renderStep).call(t,this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame((function(){t._redraw(!1)}),0))}},{key:"_redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var e={drawExternalLabels:null};0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,r=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,r),0===this.canvas.frame.clientWidth)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(n),!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag){var o=this._drawNodes(n,t).drawExternalLabels;e.drawExternalLabels=o}!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawArrows(n),null!=e.drawExternalLabels&&e.drawExternalLabels(),!1===t&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),!0===t&&n.clearRect(0,0,i,r)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e,n=this.body.nodes;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&((e=n[i]).resize(t),e.updateBoundingBox(t,e.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var e,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.body.nodes,o=this.body.nodeIndices,s=[],a=[],g=this.canvas.DOMtoCanvas({x:-20,y:-20}),l=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),A={top:g.y,left:g.x,bottom:l.y,right:l.x},c=[],h=0;h<o.length;h++)if((e=r[o[h]]).hover)a.push(o[h]);else if(e.isSelected())s.push(o[h]);else if(!0===i){var C=e.draw(t);null!=C.drawExternalLabel&&c.push(C.drawExternalLabel)}else if(!0===e.isBoundingBoxOverlappingWith(A)){var I=e.draw(t);null!=I.drawExternalLabel&&c.push(I.drawExternalLabel)}else e.updateBoundingBox(t,e.selected);var d=s.length,u=a.length;for(n=0;n<d;n++){var f=(e=r[s[n]]).draw(t);null!=f.drawExternalLabel&&c.push(f.drawExternalLabel)}for(n=0;n<u;n++){var p=(e=r[a[n]]).draw(t);null!=p.drawExternalLabel&&c.push(p.drawExternalLabel)}return{drawExternalLabels:function(){for(var t=0,e=c;t<e.length;t++)(0,e[t])()}}}},{key:"_drawEdges",value:function(t){for(var e=this.body.edges,n=this.body.edgeIndices,i=0;i<n.length;i++){var r=e[n[i]];!0===r.connected&&r.draw(t)}}},{key:"_drawArrows",value:function(t){for(var e=this.body.edges,n=this.body.edgeIndices,i=0;i<n.length;i++){var r=e[n[i]];!0===r.connected&&r.drawArrows(t)}}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=fO(t).call(t,"msie 9.0")||-1!=fO(t).call(t,"safari")&&fO(t).call(t,"chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(t){if(this.body.selectionBox.show){t.beginPath();var e=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;t.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,n),t.fillStyle="rgba(151, 194, 252, 0.2)",t.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,n),t.strokeStyle="rgba(151, 194, 252, 1)",t.stroke()}else t.closePath()}}]),t}(),JU=Qh(YC.setInterval);function $U(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)}function tW(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)}var eW=function(){function t(e){Qy(this,t),this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},gf(this.options,this.defaultOptions),this.bindEventListeners()}return nk(t,[{key:"bindEventListeners",value:function(){var t,e=this;this.body.emitter.once("resize",(function(t){0!==t.width&&(e.body.view.translation.x=.5*t.width),0!==t.height&&(e.body.view.translation.y=.5*t.height)})),this.body.emitter.on("setSize",Of(t=this.setSize).call(t,this)),this.body.emitter.on("destroy",(function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()}))}},{key:"setOptions",value:function(t){var e=this;if(void 0!==t&&J_(["width","height","autoResize"],this.options,t),this._cleanUp(),!0===this.options.autoResize){var n;if(window.ResizeObserver){var i=new ResizeObserver((function(){!0===e.setSize()&&e.body.emitter.emit("_requestRedraw")})),r=this.frame;i.observe(r),this._cleanupCallbacks.push((function(){i.unobserve(r)}))}else{var o=JU((function(){!0===e.setSize()&&e.body.emitter.emit("_requestRedraw")}),1e3);this._cleanupCallbacks.push((function(){clearInterval(o)}))}var s=Of(n=this._onResize).call(n,this);window.addEventListener("resize",s),this._cleanupCallbacks.push((function(){window.removeEventListener("resize",s)}))}}},{key:"_cleanUp",value:function(){var t,e,n;NS(t=GS(e=lT(n=this._cleanupCallbacks).call(n,0)).call(e)).call(t,(function(t){try{t()}catch(t){console.error(t)}}))}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,n=this.cameraState.scale;1!=t&&1!=e?n=.5*this.cameraState.scale*(t+e):1!=t?n=this.cameraState.scale*t:1!=e&&(n=this.cameraState.scale*e),this.body.view.scale=n;var i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),r={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=r.x*this.body.view.scale,this.body.view.translation.y+=r.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==fO(t).call(t,"%")||-1!==fO(t).call(t,"px"))return t;if(-1===fO(t).call(t,"%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new TN(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:TN.DIRECTION_ALL}),$U(this.hammer,(function(e){t.body.eventListeners.onTouch(e)})),this.hammer.on("tap",(function(e){t.body.eventListeners.onTap(e)})),this.hammer.on("doubletap",(function(e){t.body.eventListeners.onDoubleTap(e)})),this.hammer.on("press",(function(e){t.body.eventListeners.onHold(e)})),this.hammer.on("panstart",(function(e){t.body.eventListeners.onDragStart(e)})),this.hammer.on("panmove",(function(e){t.body.eventListeners.onDrag(e)})),this.hammer.on("panend",(function(e){t.body.eventListeners.onDragEnd(e)})),this.hammer.on("pinch",(function(e){t.body.eventListeners.onPinch(e)})),this.frame.canvas.addEventListener("wheel",(function(e){t.body.eventListeners.onMouseWheel(e)})),this.frame.canvas.addEventListener("mousemove",(function(e){t.body.eventListeners.onMouseMove(e)})),this.frame.canvas.addEventListener("contextmenu",(function(e){t.body.eventListeners.onContext(e)})),this.hammerFrame=new TN(this.frame),tW(this.hammerFrame,(function(e){t.body.eventListeners.onRelease(e)}))}},{key:"setSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),e=this._prepareValue(e);var n=!1,i=this.frame.canvas.width,r=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(o),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{var s=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),a=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===s&&this.frame.canvas.height===a||this._getCameraState(o),this.frame.canvas.width!==s&&(this.frame.canvas.width=s,n=!0),this.frame.canvas.height!==a&&(this.frame.canvas.height=a,n=!0)}return!0===n&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(r/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");var e=1;return"undefined"!=typeof window&&(e=window.devicePixelRatio||1),e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),t}(),nW=function(){function t(e,n){var i,r,o=this;Qy(this,t),this.body=e,this.canvas=n,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",Of(i=this.fit).call(i,this)),this.body.emitter.on("animationFinished",(function(){o.body.emitter.emit("_stopRendering")})),this.body.emitter.on("unlockNode",Of(r=this.releaseNode).call(r,this))}return nk(t,[{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t}},{key:"fit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=function(t,e){var n=gf({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},null!=t?t:{});if(!sS(n.nodes))throw new TypeError("Nodes has to be an array of ids.");if(0===n.nodes.length&&(n.nodes=e),!("number"==typeof n.minZoomLevel&&n.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!("number"==typeof n.maxZoomLevel&&n.minZoomLevel<=n.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return n}(t,this.body.nodeIndices);var n,i,r=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(0===r||0===o)i=1,n=YU.getRange(this.body.nodes,t.nodes);else if(!0===e){var s=0;for(var a in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,a)&&!0===this.body.nodes[a].predefinedPosition&&(s+=1);if(s>.5*this.body.nodeIndices.length)return void this.fit(t,!1);n=YU.getRange(this.body.nodes,t.nodes),i=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,i*=Math.min(r/600,o/600)}else{this.body.emitter.emit("_resizeNodes"),n=YU.getRange(this.body.nodes,t.nodes);var g=r/(1.1*Math.abs(n.maxX-n.minX)),l=o/(1.1*Math.abs(n.maxY-n.minY));i=g<=l?g:l}i>t.maxZoomLevel?i=t.maxZoomLevel:i<t.minZoomLevel&&(i=t.minZoomLevel);var A={position:YU.findCenter(n),scale:i,animation:t.animation};this.moveTo(A)}},{key:"focus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){var n={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=n,e.lockedOnNode=t,this.moveTo(e)}else console.error("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){if(void 0!==t){if(null!=t.offset){if(null!=t.offset.x){if(t.offset.x=+t.offset.x,!zP(t.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else t.offset.x=0;if(null!=t.offset.y){if(t.offset.y=+t.offset.y,!zP(t.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else t.offset.x=0}else t.offset={x:0,y:0};if(null!=t.position){if(null!=t.position.x){if(t.position.x=+t.position.x,!zP(t.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else t.position.x=0;if(null!=t.position.y){if(t.position.y=+t.position.y,!zP(t.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else t.position.x=0}else t.position=this.getViewPosition();if(null!=t.scale){if(t.scale=+t.scale,!(t.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else t.scale=this.body.view.scale;void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)}else t={}}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e,n,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r=i.x-t.position.x,o=i.y-t.position.y;this.targetTranslation={x:this.sourceTranslation.x+r*this.targetScale+t.offset.x,y:this.sourceTranslation.y+o*this.targetScale+t.offset.y},0===t.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=Of(e=this._lockedRedraw).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=Of(n=this._transitionRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t=this.body.nodes[this.lockedOnNodeId].x,e=this.body.nodes[this.lockedOnNodeId].y,n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i=n.x-t,r=n.y-e,o=this.body.view.translation,s={x:o.x+i*this.body.view.scale+this.lockedOnNodeOffset.x,y:o.y+r*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;var e,n=dN[this.animationEasingFunction](this.easingTime);(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*n,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*n,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*n},this.easingTime>=1)&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=Of(e=this._lockedRedraw).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),t}();function iW(t){var e,n=t&&t.preventDefault||!1,i=t&&t.container||window,r={},o={keydown:{},keyup:{}},s={};for(e=97;e<=122;e++)s[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)s[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)s[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)s["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)s["num"+e]={code:96+e,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(t){l(t,"keydown")},g=function(t){l(t,"keyup")},l=function(t,e){if(void 0!==o[e][t.keyCode]){for(var i=o[e][t.keyCode],r=0;r<i.length;r++)(void 0===i[r].shift||1==i[r].shift&&1==t.shiftKey||0==i[r].shift&&0==t.shiftKey)&&i[r].fn(t);1==n&&t.preventDefault()}};return r.bind=function(t,e,n){if(void 0===n&&(n="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);void 0===o[n][s[t].code]&&(o[n][s[t].code]=[]),o[n][s[t].code].push({fn:e,shift:s[t].shift})},r.bindAll=function(t,e){for(var n in void 0===e&&(e="keydown"),s)s.hasOwnProperty(n)&&r.bind(n,t,e)},r.getKey=function(t){for(var e in s)if(s.hasOwnProperty(e)){if(1==t.shiftKey&&1==s[e].shift&&t.keyCode==s[e].code)return e;if(0==t.shiftKey&&0==s[e].shift&&t.keyCode==s[e].code)return e;if(t.keyCode==s[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},r.unbind=function(t,e,n){if(void 0===n&&(n="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);if(void 0!==e){var i=[],r=o[n][s[t].code];if(void 0!==r)for(var a=0;a<r.length;a++)r[a].fn==e&&r[a].shift==s[t].shift||i.push(o[n][s[t].code][a]);o[n][s[t].code]=i}else o[n][s[t].code]=[]},r.reset=function(){o={keydown:{},keyup:{}}},r.destroy=function(){o={keydown:{},keyup:{}},i.removeEventListener("keydown",a,!0),i.removeEventListener("keyup",g,!0)},i.addEventListener("keydown",a,!0),i.addEventListener("keyup",g,!0),r}Lf("div.vis-network div.vis-navigation div.vis-button {\n  width: 34px;\n  height: 34px;\n  -moz-border-radius: 17px;\n  border-radius: 17px;\n  position: absolute;\n  display: inline-block;\n  background-position: 2px 2px;\n  background-repeat: no-repeat;\n  cursor: pointer;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\ndiv.vis-network div.vis-navigation div.vis-button:hover {\n  box-shadow: 0 0 3px 3px rgba(56, 207, 21, 0.3);\n}\n\ndiv.vis-network div.vis-navigation div.vis-button:active {\n  box-shadow: 0 0 1px 3px rgba(56, 207, 21, 0.95);\n}\n\ndiv.vis-network div.vis-navigation div.vis-button.vis-up {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABphJREFUeNqcV2twU9cR/nbPlVTHxpKRbNnBLyEbPyJisLEcPwgwUMKQtjNJAzNJZkgNNJOmJaZAaDKlxaXDTIBAcJtOOzSYKSkdiimhAdIMjyT4bYgBYxA2BgcUQPLrCiGDR4qt2x+yXTASFt1/957d7zt3z3d39xDCMQWUfgAz/RI/T4pSTAJpAGL8rECAXX7QFQGq9wOHOxYO1oCgjAdJj1wtB095Giv9TFuZAIWHAziATMPhTAwiHgUkYPXFJu92lMP/2MTpB1AKUCVEgNAcleUo1M+2F8TO6crSTncb1QleAOj2OTSX3Ge1p+Va42m5JrnzbnsCE8Ov+EHgpa0LPLvCJjZ/whuIlN8wAcXG+e1LUn9hm238QU84p1Ld83nsXvuO7Lq+LzKYGAT6/dn58m/HJTYf4O3EShkT8Irpzab1Uz9sGevT5+tWn+j6NB4A5hp/5NSr43xjfd5rW5tT9e3OAhCBiCua5/WsDEls/hdvYklZSwDefmrT8eXmtzuDkb5YZ33p9ndylICAVjWxf39xw/5g5Luv/9H84ZWNcwNEypZT87rXjqyJB85UYDMJYN3U7UdLJ6/6JlgqV517teRqf9uTlug8e1zEk27HgD22o98WsTBh8fWxvjm6ApdONbGvse8LM5NUPOm1Cfabuz3nACAgxX0QEFTJAnjNvLJ+Sepb14KRHnN+Ev+1XJOhZs3Qu1mbG97J2NQgsXroa1dtxrGuf8cHi1mUtPTay0lv1DMJSCRVLtoX+FgGgDQNysBAcez89l9nbbsQSji7rlXkEhjPxb/QatHOcFu0M9zz419oFSRhj/3PuaHiyqasv1Con9NGxHAYUsoCxAqImbYSgCWmFbZQwdsur7N0eC4m6tT6/jUZ750Zeb82c+OZGLWh/2p/W+Kfrmy0hIp/aVKpTSIJEqu2QgFx2iE8CwDp0RbH7Ljng/4yXr+XT3QdyhYsodS0slGr0g2OrEUK7eCrKW82SqzCVz3/yfb6vRwM4xn9rN7JkRkOQRLmfJn2LBPxQjDBqp9lD7XbX7X8pKTP160zR2bdeiX5jYeU/nLSTztNkem3XL5eXbltRUkonBxdgZ2IIUmahUxERQSCVT+rK5hzQ89xQ6P8VaaK1f5VmRvqQ4G+lba+nlnlb5brMhvlk7FBiaPzuwQEmEQhg5BOxMjWTncHc2501cQLkjDTsMCWpyuRQxFP0xXIJfp5FyVW4Zy7KajC06ItbiIGg6ZITBxDxIgbrr1jTSM0fibGIHz8O9sKK0GAibEua9spANh4aY2VmcEg+DEkiBgR/L2hYFgGtcErkQQAMVJgBxyy9hboZzv32v+Kpr7qbEECTAIMAoaJa3qPTmNiiAAgJAjk6J5xhu6HDAIgQYGLmI29PocmMcI8MNYvT1ckfzD9H/ub5br4e4Me9WfOKqtyX6Ud2cwC449PRamifDm6Auc0rTXokci+Xo1EAgBckiDuYGLjpTvntcGIA+SFcp6uUAaAI879VhWrRteYAqn/edq758brXJ1327QMhgJcZjA3EBjNrgZjOG1PkAjyTGENMjZPq5ECQ0MDE9ERBqFZrk0OJ3i4x/7vyIjBxGERt3takgVJEAp9xq3f769WiPDNvSsJdT3HDOEASPelmoBRYT3Kzt5uMtwauJEgSOCpwrk1DIJCoNUMwj9v7MweP9XSQ8/hJPp496fZTAICvLqcyv2B7nRbrgCA03JN5h8ub7A8VqpB437xHvsOy3l3cyaB4L2uqxhti1WLMcSgZQCw7+bOooO3Pk4JBZIYYXISMV5sKH59UePM10GESRGpIf/bE92HU452HywSJIGIllctrhp6YAK5+fHds0lLtJFMXNwkV6fFqA29mROefqiMJj1h6um4a5vY/92dKGaBxIhU5zJTWW2cJmEgGOmeb3c8FxAfb9mdf2RzyGGv5MvU7QwuEySwKHFp/c/M71zA/2F7b1RajnYdLAqMukMVu2YcfmDYE2MD7H+7/Xlq6cRIJqm4zXM+qd3TGjVBir43KSLlXjiELe5TsX+3/yW/ST45PaAHbKmccWh12AP93JNZywj0kSABIobpiXRHjtZ6faout2tyZMadGLXBCxBcvl6NfaAz+tKdFmObpzWl2+tIIBACYy0t/yj34M7HvsKUK+CGassvicX7alYDwwq+vykIEqPVa+Q9gdYk5+V+UE7lj3+FGbuBM/X5JUT8QwIVSSSZiTgmoFR2MfiqYFFPfjpkyrfWPopwxP47AP1pK1g9/dqeAAAAAElFTkSuQmCC');\n  bottom: 50px;\n  left: 55px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-down {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABpdJREFUeNqcV21QlNcVfp5zX9ikoAvLEsAIIgsoHwpqWAQUNKLNaNv8iZ1JMkNG6/Qj/dDUyCSTtCHpmEkwVk3TToZRMjXj5MOG2KidjIkxQYSAQUAtX6IgIN8su8KCoOzbH4sk4q5g77/33uee555z7rnneYmZDB2MKcJKlyYbqOsZVIgGEOgSHQoy4AKbFFjqAo5dWn/rNAh9OpO852oeJHYxtrmEu4WALhMbxG2ZE9uFAlImDRLY/t/y0b3Ig+u+iWOKsAlgIZSb0OIf15kWtKo1NXh1d5xxiSPEN2wUAHrGOg11jirjWVtJyFnb6YgrzoYwocClu0DI5guPDb43Y2LLp/Iaqf9JCGSErGvIifxd7aqQn/TOJCvFvZ8Hf9haEH+m/6sFQgHBv1Sts/15WmJLkeyl6FuFwFPzny1/ZdE7Nfg/xhv1uUmH2w6kggQp+yqze7d5JbZ8Im+KpucSwI6EN7/cYtlxZarBCts3ptfrtq9odjaGKihE+sV0vRC3u8RqWmmbij149W+Wd5p2rnET6bsqsntyb6+pO3KqkE8FvLxo74lNUX9s9uTJb8/9fG2L81KoogJFYfCm3b9usNq0MXxzw1RsUkDqQICPqf/b/q8sQi3j4WdmtV47OFgNAO6r+DEUFAtFAc9YtpXmRP6hxVsI24cvhyoqnFtrK6jM7isgBa3Dl0O94TeGb255MvzXpUIFjVrhxo/dzgoARBuwFQJkBK9reCnurxfvXX8CRW3yW1G749vT2Br7ysW0oNX1pKDTPG+rm1gHRbibAHLm/7522sKnQCZqFgCUaBCqaS/bEw9vqtWoQROf3dBBiT6KTACImZ3YueqhDdOWjDbFQ4IzIl4elNUX5begU1HD6lPRmULKeghhDcpqnUmZuD3+nkgTH6gZEE9ctlZSoGmG9UIynSCsQVndMyX+IZGiBoHMjHh2SreCglClaSBiSEG8cYnD24bv7CWms/3FocO3hnw13plTggAFb196NdlPM44tC0zrSg5ItXmyEz070UEKCMRqQgkkBQ9NvL2eSJ+revoJTORSpoT6do4/7/7UShBFHQexM+HdfyUHWO8iN/uaRzX3/QjUSLlnqM72F4cCRIY5u9Zf+Y+BAv4AvzpkQ7WAIBRujA/7Vg6cia9xlId6InafVEAAGnQMUCSkb6zTMPdBy8hU3JjrphIq+CrD+Mvxeyumrr+4IH9y7o2GF5eDghuuGx4L2zbWZ9Dc0RoQRbkkFNRdP2/0BH7EtLJLKCjr+zqh2l5u8haZ847vTBW24kRFQXKAtcsT5oqz3igQENIoECkjBJUDZSGewBlBj/ammjLrdX1c/t70ero34gMte9IByLLAjPrUwKweT5jawQshdIuGMiF5XEBU2koivBl9NeEfJeYHwuxtI81zPrn2z6ip60c6DkV1jLTOCTaE2HNjd5Z4s9MwWBOhqEHp/I9cWDtUrJNoHm4KO9P7hdnTBoMYXI8Gb6gVCg63FS53jg9O5tA57tSOdHywnCAygrJrfcTgUe5U2cvNHSPtYYoKCWlrTgsIneB2AfFR+4F4b6f9ZdTzF6P8Ytud407/dy/nL7k9X9i8J9l5y+Ef6RfbnjPvWa8N5suez+KFCgqyPY95Lnd3stv2AcBZ2+mFbze+lui1xc3dXCUUlPafXNx4/aKxcajWWNp/MklRw8/mPFntbd+h1oLE847KhQQxejVg36QQqD0MPTzHv42Ux+uGasJNBnPfwllJd71kkX7RQ3WDNf7dox3BLcNNs6vt34bbbvYHJhlTGp6O+JVHb0/2HJtX1PH+aqECqG/5YN1nlXcokGvvO6vCc4x+QskotxVHB/qa+xbOWuzw8NB3nuo+Ht0z2hHsuGU3GrWAoZfi3jrxgHpw3BPpobaCH7vbqOw6mHI836vYW3Eqcq9AtioqbJy7ufQ3lhfu8sR+s9+3vL8klACsQSu7AnxMY1MxH7YXJp7oPpLulrrj+9575Ni2aeVt1teWfEWfHQLCaspseHzOU7VWU+aM5G2NoyL4i+6j8XWDNQsmGsKu/cv+nTtjQb/mm7hfENyvqEAK5v8opjPJaL26KGBpd5TfguuBvuZRgBgY6zO0jlyZXXe9JqR+8MK8ntHOMHfHIkhu2b/0yIH7/oXJ0yFlxYnPUdRbvuILgO7+y+91l6Ka6M+cnCf4fMSypXvymHf/vzBTD3CuNGUFKT8lmK5Rs5ASqKiBlAGBXFaiSuni0fkp1pJ7Ed4e/xsAqLk46EWsG1EAAAAASUVORK5CYII=');\n  bottom: 10px;\n  left: 55px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-left {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABt5JREFUeNqsl2lUlOcVx//3Pi9DZRsGBgYiS2RYBQKIjAhEJW4pNrXNMbZpWtTGNkttYmJMG5soSZckRk+0p+dYPYY0Gk0ihlhRj63GhVUgBhDD5oIOy8AAMwzD4lCYtx+GqCQKuNyP7/Pc+3u2+7/3JUzEZFBYLh62S7yIZDmVBEIBqOwsQ4DNdtBFASq2A4cuZAwVgCCPF5LGHM0Chz+E1XamzUyAzCMO7IhMI+5MDCK+HpCANd+U2rYgC/Y7BoflYgVA2RAOoNYtyjDTe45+hk96e5QywaJR+NsAwDhocK61VCjLTYWaclNB0OW+en8mhl22g8C/rn7U+uGEwdov+C0i+Q0mIFWzoD7zwVU1czQ/6pjIreR3HPX5VL9jalHXiQgmBoH+XLHAtH5csDaXtxDLLzIBv5jyfOmG2H9U4S7snbpX43KaPpgBIhDx1rPzOlbfPC5GQT/nd1mS1zABa6PfPf5y5F/rcJeWpp7fPkly6f7KXBRCoOSATFfXll19x74HDsvFCghsJAG8HrvlvytCXm7EPVqc5wyzp5NX15muE1omKXXyMnd9yy5r5Q3wPghvJzrLAlimXV38+7D1DbhPFq1M6O4b6rPVWKsCBfHi5EWWv9TkQBYAEPpLvERMC9N8FtRvjt9dPl6wwo5jPvuas7WV5jNqEjz8wA+CBsaan+w9x1hrrXJtuaZX97ooLfqPLCUEGRR+iOwAsF2X98Uc30W3fb02u41frVqeVmo6FUkkwCAwCWxJ2Ls/0TPFNBb8TNdp9WvnVz4OAKdmX2QOzcMsAAjziDGMBd3asCF6SXHyknJTfqQTK+zpvhnVKT5zawCgzFTgN94pJXvP7gxxjTAIkpB+MnSWRMQZYEDnPVt/K4ejbZ/77726Lb6h95tAAiPELaJ1bcTbRfGeM8xv1azWSeyEa0P9igk+Nr1+oNFfkpwzJCJKIQA679ntN08yDXYo3qh+LuUrc0E4EcNL4dP7VNDzpU8FP3vpekoQQ5CEw4bPdEfa9+sAgEZUmkmAAAS5hLQ9p11XGO+pM8V5JLUfMeQARDMlEMKIGFOVCZYb0C7Fz0oeXmIZ6nZzYoV9od/jVS+GbahUOnn9b7T6sEOviUGyA8bMDlUa0W79wBW/bZf+lrY98cDBUI8YCxGDgHCJiVVEDN8R7QWAE8Z/+1mGut2i3eP1r0S+XRztkdBzq6NbF7WpbF3UprKxjvfHxbrfttla/QBArVDbJJIAQCURMRg8ugrKIAKBSNxzHtN3VdmxY0iQYSZmTeegwTlgknYAAB7RZBh2Nm7urbeeC1r19ROT52kWn3shfH2Fu1AO3RxjY/0fdac7/hPPJMDE11GC+HpBJmIEuAS3Oa6w01lybMbMgvgCE6O255zy24DeCr/Bvckn9+u8ZjXYIYvjxoMJy8oeXZrT9GHIqMWTwA2oI6cFMeDIcAiSEOyibXsmZG0hAFzuq1OyY6xBAnMJgdPOmks08zU/bbsB9x18P37PqS/b8+o/a96ZcLm3PmBH46Z5x40HW1eFvl4Uq0w0MwiCBOb7/qTsd6GvVY537DXWas1Iw1AiNJnOgwJi+bXhAbE08OnvaXSIW0TvYw88eaF/uM/WNdju3m5r9TlhPBzVNNDoPGC/5tRma/GJ80xqjPPUjVuvP2narrMOWd1Jlv/E1fN782UiNPZf9C/qOKa+ndOz2j+cz046sn+6KrVOsODirpOxld0lUxmEBK/ktvGgFd2l6taBZn9BAtEz5xYIvAn4/8rFKkgstAyZ6Yf+S67ezlkiSU73XXRV6xqh93TyssR4JF75efBvymLdE03jgT/Wb5tutLWpGbTm7wHZxQQAT+yDuKLyHRIk4cnAZ4pfCF9/HvfR9uh3xBxtz00BANsVDylnac6wAICaHMiBmW5NRLy4trcq0MtZ3RnpHme5H9AvjYeCc1t3pzMJgOSVnyw4eHZUB9Kyu68iMFPpysSppab8UJVC3Rnp/pDlXqF7mnYsdKQbv7cr6fDGW/Zczbt6jgUtV6kIlFxuyg/tH+6zJXmlGe8G+mlzdsyB1j3pTAwZ9q3/Sspbc9tmDwD0H3UffXCFlyuTlFpnPRdYb612c5c8+idPCu6fCLDKUubzsf6fSaWm0wmO9hbvZU8fDR2zoZ97OuppAu0UJEDEmOISZohT6q7Gek5rD3GN6FEp1DaAYB7sdNYPXPao7anS1Fmrg402g7+jYhGIaOXOaQc+uONfmCwZXJIf8xKx2KRgxYgOS+CROuyoyQKCxIhkOr4T6JWgxGnvZ1HWnf/CfHcBXxcnpRHxYwRKkUjSErFKkAQiNjP4kmBRTHbKm5KkKxwL+K39fwDX1XGF8ct++QAAAABJRU5ErkJggg==');\n  bottom: 10px;\n  left: 15px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-right {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABs1JREFUeNqsl3tQlOcVxp9z3m+XygK7C4sLxkW5o4CAkYssFSkRjabjJEOSJm1IbZx2krapiZdeprW0NVVJ0pqMM0kYJQlqkoZImGioE1ItiCAgIsFwE4Es99vCslwChf36xy5EW1A0Pn9+73fO772e93kJC5EMCszFd20SbyFZNpJAAACtjWUI8KAN1CRAJTbg9LXNU+dBkG+Xkm7Zmg4OWoUdNqZXmQCZHQFsz0yOcCYGEc8mJGDnl2UTh5AO2x2DA3OxDaAsCDvQ32VF11qP9aZYz6SeFeooi17pPQEAvZNdTnWWKnWFuVhfYT7v0zza4M3EsMk2EPgnNZusby8Y7P8x/5lI/gMTYNSnNKQt/0Xtev1DfQtZlaK+M54fmDJXXhg4G8zEINBfqlLMe28L9s/lQ8Tyr5iAJ32fK/tj+OFq3IUO1O+JyGk7GgsiEPFrlQ/07bixXdwEPckHWZJ3MgG7Qw9+/mLIS/W4SyXoNvQskpyHLg1e8CNQ3NI0laoje7Tg/8CBudgGgQwSwO/DD322ze/FFnxLRWhiBzUK94GLA2f9mSTjfU+7mjqyrVe+AX8I4aGgShbA0/47Sn4ZuLcR90ih6qih0anRiVprtUEQb43bYtlXmwNZAEDAj/ACMW1M8ExpeDXyWMVCEl4yF7vntR/zLeov8JJlWfZR+Y3N92+cx/reOmu1quNrk27EWW0xvWspJcigoNNkA4C3Yk59vH7xltvu3ktDxe7PX34ilQCQfeci1j2xfn94ZrGCneY8uxcHCnW/vbr9EQD4d2ITc8AprAOAQLewroVAAaB8oMiLiRHvmVy7znNTjWCFrXKoJOSHFQ+kvnF9f+jco07s91MFdwmSkHQuYB0T8WYwIcYj0bTQdRufGlFKJMFVaCb/GvZW6aGI4yeXOwd2mr/u05zsyDY+W5X64Nm+fO85NpuJiCFJTpslIoonADEeiT2zIzIXuh+o25PQNtbsNVMOBUn2g08MiSTHN3uZjNTEDr4dnX/6H+1H/XPasmKvW+sMGfW/MXzende4K3h/ibvSYxIAItyie/K7cgCitQxCIBFjpTrKMgM+WPfrhLbxFi9iMQtlYjAJSCSBSYBAIPBNI3p86TPXj8bk56R4PVylFE626uFLQc9efiTVPDmgBIAAtzALEYNBQRITa4kYix21FwBax655CVagPLk7806Pj1qo/7MraF/FQ14/aMhszYhvGqn3KTef89rklWrSKXUTkn3mtJK9Bzf3XJA0e/PcrdgxIwSCDPmbZMQgABJkDBKzvn+yy2npIv9xAPB1Ceo2jTZ7Gc8afipIgEhAkACDwcSQQZBIIGnx5it7gg+U3wgcnbZKR1r+FnW+v2DVtDwtXCXNSKz797oAwDzZ7ySRAIBBFsTXmBh1w1+oZ4J3h+wv9lUFdbMDOrO+5IAqWIGZthuV13nC77nKRx8r7PssyibLIkoT1/h65HsfzWyu5tF6NYNB4EYJzKUETqgcLNVv0D/cDQBrNAnm9+LOfTLfNB5u2hf5z+6TMexYji+tVdrM5leMbWOtSwQx/F1C2rcuebIqwSO568a4WmuN3mEYSiUi+pRl2l1pLvYBsKArUKVwnZRYgdHpMWVG4+/WXhwoDBXE7OmkHzJ6JNemLfv51bniGqzVPoIkyLbpfK7ZMFIkE6FlrMn7Ql+BbiHg+zXGbgLjylDpyosD58KZmKM0cfWHI9//aD5o1VCZrnO83VuQQOja5PMCfwK8n3K2ChIbLVOD9KB36le3A+u/s2Q81C2yRavQmQNdVnamLnmq4nHD9jpB0rwm77jpjTW9E906Bu18fWlWCQHAox9CtGoXTwmS8IThZyXPB+29inuoE6bMsDM9ufEAMNHqJuU8ljMtAKA2B7IhzaWNiLfWjVQb3J10/SGuEZZ7Af1X7+lluZ3HkpgEQPL291M+qbzJgXQcG60ypKlVTGwsMxcFaJW6/hDXVZZvCz3RlrmRiQHwy9nRn2bM6bnas4cLfH6s1RIorsJcFDA2PToR7Z7QezfQD9qzwvI6TyTZC47ttXeiT+2c1+wBgOndoTPLt7mrmCRjvfULQ4O1xsVVchu7b9GysYUAqy3lnsdNb0aXmQuj7PYWL2etuRl6S0OfXLjiGQIdEY6K5esc2BWhjvkqXLO6x08VPKxV6iYAwuBkv5NpvNmtbrhaX2+tWdY70eVNINhtLW0/sjrv6B0/YdJlcGlR2AvE4hUlKwHQ7BU5cz8LRx0HaPY7gXb53L/67+mUfudPmP/twOWS6AQi/j6B4iWS/IlYK+yGYJDB1wWLErLRKd/omOJbAWf03wEAyO9m+/TtS3AAAAAASUVORK5CYII=');\n  bottom: 10px;\n  left: 95px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-zoomIn {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABiBJREFUeNqkV2tQlOcVfp7zvgvDRe66y8htXUBR1GoFI+BtFJvRtjPJBGeaH2a8DGmbttgSTWbSJEw6TWOsrbbpTIeJZGqaTipTa6LJZDTVUTYQdNAohoso6qLucnERN0Axcb/8+HaJUHDX9Pz6vnnPe57vXJ5zzkeEIwaYcwBL/VrW0TCKqZANINEvBhSk3w9eUmC9HzjcsfarOhBGKJN84GkVJHcetvqFu4SAIYELYlpm4LpQQMqoQQKVnzeO7EYV/A8NnHMAGwHWQJmAjtg895LkFa7FU1d258UvGLBGpI4AQM9dd2TrwNn4016n9bS3LqNzsD1VKPAbfhCyqflR31thAzv+La+QxotCoNi6pn1D1s9aVli/3xtOVk72fjT1XVf17E9uHZspFBD8zdk13pdCAjsOyG6KUSEEnrT/tPHluW+cw7eQ19q2z6/t2rsYJEjZ07S6d+ukwI5/yQ7RxnYC2DZnx8dbHNs6xxs85T2R9GprZcmVwYs2BYWsmBzP83m7nIVJS73jdfdd+7PjjUu/XWUCGTtPre7ZHjxTY3Kq8DoV8Ou5u49snPGrKxN58syZ9aVXBztsigoUBd+Xt2NbfZ8llaVvah+vOz9hcX+CJenWp7eOOYS6ePpTU1w39vk+AwCzFPdDQbFGFPCUY2v9hqxfXJ0shNeHLtsUFc6UequbVvdVkwLX0GXbZPpl6Zuu/ij9x/VCBU1dU7bfdFYAIDsSFRCgeOqa9hfy/nDhwfwTKOrRd0U95n0iqch9+cKS5JVtpMCdkllhAhugCHcRwAb7z1tCEp8CCXAWAJRoCFXIYnti+sYWTQ0tll0wQMk+hGUAkBOX714xbV1IyuhxHhIMC/iR5OV9M2JmuhU1Vh7PXiakrIUQhcnLXeHQxPT4GyAtFqgwgAPF5iIFWkeu1SSLCKAweXn3/ZR5rXV7SddQpy3YDoNems9qTI5hGCitm1MOAAx0aaFCerTd84zjBed3Egq9ADA/rqD7Q3ctQC4REDmkYHb8goGgsR2tz5V0DV+xUdQoqAQ81RybU4IgFWgACgpaLLCIBUo0bv63y/aXy6+WBHWz4/IHSIGAuVooiaRgWqD3AsDVoQ6bEgtOrfJUhwrf0WUtk+r8sL6wvHvk5ijVUiJSRrQZuURtfoGMuaCoRyfP/yMy0XykgAA0DPRTxNp31x2ZFuUYBgB7bK7HNdhpKz6WXq6oQCooKghMKhkgji77vBoA1jkXlAvVfRQjFMUcmxSkRWd6gpjeu32R2kxTvyhKh1DQeud8fFBh26zfOe0xuR4JgAbzywCoRSzfeDUKatJKUQK+CjKiHZ6nZ2xzBnU7B9vixTy7qCHSQEhJU3+DtdT6mAcAFiWUeP/xyPH3Jwrfo3XzysemRcEA8F5RY8h6aPE1WwMLQ4OQ/EBANHmdGWHlzZyxk3ayB0m771yGooYy+KE0l35x0iBxZehS6ie9R1PCMaDvCzWDXA4hZ283ptwcvp6qqDBnyao6AWEQrBQQ/7y+d3YoA+NBTAaElo973p8tVFCQyipW+c3pdNu7BwBOe+tm/eniK/kPFWowpMfvuKrzzw80zSKIkWsJe0bHYu163BNwMwDsv7G36ODNtzMnM5IWZfeQgscbisvLPl1aDhLTo7I8k+n/p+dw5pGeg0WKGiS31K6vvTdmA7nx9uDZ9A3xMUIpbvSezE6MSOmbNWXewHhD6dH23o7BlqQvvrwTK6KQFpXl2WyvcE6LTB2eCPSdrurvmcUnO/cVfPD6pMteyfGs3QKpUFQoS9tU/xPH8xe+Tdd693pN/pHug0Xmqntvz1uLDo9Z9v5nnrn+dvujrI1JMUJd3OY7n97ua46douOGpkdlDoUDeG7g1NS/u/5a0Og9scCsB+ysWXSoMuyFftWJvM0E31SBjmWPznHPjy+8NjdhYfeMmJl3EiNSRgCi/25fpGu4M671zjlrm685s2fEnUoQ5lrLLW8uPLj3oX9hqgxIw8n8X1LU7yMkItCHzREZrGQV6ONmy5TggHk247sL/1jFqof/hRn/AWfqC0pI+QHBIk3tICXRrFTpF8hlJaqefh6yFxQ6HwQYlK8HAKyt3WsWxl7fAAAAAElFTkSuQmCC');\n  bottom: 10px;\n  right: 15px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-zoomOut {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABV5JREFUeNq0l2tQVVUYht/3W/vACMr16IFRQDiAgChpgiikMqY1WjnN9KsfGOXYTOVgkvbDUsZuXrK0qZmGUSvNspjI8TZOmo6AGBoZYly8YB6Qw80DBwQ6jJ3dj30OZZmiwvtv77XW96y91l7v9y1iMNLBuCI84tZkIXU9gwqxAILdokNBOtzgJQWWuYEDFxfcLAGh3y0k79iaD4mfjOVu4WYhoItngBiR6RkuFJAyEJBA3m/lri3Ih/uewXFFyAG4A8oAWkcm2meEzrFNH53Vkhg4xWnxCXcBQGu/3bfGeTbwjKPUcsZRElnfUxcuFLh1Nwh5vurx7s8GDbZ+L+tI/U0hkGGZX5c9/pXqOZYn2gazK8Vth0fvsRUknbx+bIJQQPCts/Mda+4KthbJFoqeKwSejX6pfO2kjytxH1pfuyqlsGH7dJAgZWvFo23L/9muboF+JxtE0/OEwMqJG46uSHinFvepTPO8lhGaX+fPHSdjCKaPy/b3v7az58h/wHFFyIHCRirgjUlbfsiJWXEFD6iUoOkdQaaQ6z9dP2YVahljF4+yXdvZ/evf4G+hQk2sEAUsti4vWxa35gKGSBMDp3T23OxxVXdXRijKovSFzrerC6ELAMT6IhcCZIyeX7c68YPzGGLlxq89PyM0q5YU2M1RuQAg0EERbiaA7Ohl1RgmPTM2p1qjBk1Mm6GDErsfswAgLiDZPmfMwrbhAqeHzm6P8Z9gV9SQdTx2lpCyAEKkhc62YZiVEjTdRgo0zXeBRnImAaSFzm7xdjjtOBGyvmZVZkNvfZjXDhU14+BToFEDKRAQpAJ0HRTjP6XHpYUKEX7RzS9bV5c+FJTmAICUgNSWQ/ZCgJwhIOJIQVLgFKcXvKHm9cyGvithFDUAFQqECho1CBUIggYapAJ1QEFBExNMYoISDU1/NIR9cvndTG/c2IBkp2fC8ZpQgknBGI/3AsDvvRfDlJhwem5zwYMs7VNlaUtbXE1h3mezj9mlGSsXrBkzkFsGKGoDmedBJLfLjxQQgAYdHRSxtPfbfceNsPYBQPTI+GZbT31YxrGIpYoKpIKigkAgFOggNBrbQBBCBaEM2L+iGGmTgnF+Uc1epqO/3VejAoAOUZSLQkFN17lAb4eVCe+VRvvHN4sH6t1feqAmMUGoPHvvhdLzTjzfKoj0sza/GLOy1Bu3vqc20Pgl5YIGkVOEZFZ0nLLMszzdDADTgjIdX6Uf3zfUx6m6u8riKRhOCcmDAqLCURo53Oe4rrsyUlGD0nlIqubdKNZJXOm9FH6y7Yh5uKBnO8vNTX2N4YoKE2fMLREQOsE8AfFN4/ak4QIfbd2XJFRQkLx85ruN7NTp2AoAZxwlCR9dWJc81NDdtoLkc86KBIJwXQ3aOpCPqwuhR2SPbCBlUc2NyogQX3N7wqgU51BAf2w9EFXUtCtLqADqS76ev6/ilgrk2q6esxHZgf5CySh3FMcG+5jbE0ZNdj4odHdDwWPGcZNNO1MPbrxtzdW4s+tI5HPBwQTTzziKY3v/7HGlhmS23g90T+OO5L1Nu7MMw3Fv/Tx1f97/FnsAYPui8/D4nBB/oZZR230uoq67auQoLaB37Iio3sEAK52nR39p+zS13HFiilHeYtOOabdC71jQzz2R+ALBbcrjWNF+cfaUwLSrk4KmtsT4T+gK9jG7AKKjv93X1lcfUNNVaantropqddnDCcIoa7lk29S92+/5CpOvQ04VJ79KUe/7iI/Hh40U6c3PyuPjhmWKN8G8Fvnw1A/zmX/vV5h/T+CXstRMUp4kOFOjZiUlWBkFQYdALitRZXRzf3RqWumdgF79NQDBOa2V/iYSHAAAAABJRU5ErkJggg==');\n  bottom: 10px;\n  right: 55px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-zoomExtends {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABptJREFUeNqsl21QlNcVx///cx9hIipuAJHasgHlRdw0xay7yK7smg6sb2DSdtqZduLUNENmOk1tQuM4U7UzTvshSRlFZzoNCWSSSTJp+6VNkLCAeQHBoCCgqNBE0wUqL+KuwIiiZZ9+eHa3aAS3Sf8zO8/L3nt+95x7z7n3YWlpKUQEJAEgch9+Jola9xEC2ADBVgAOKqwCYAqKDgUJBIHPBWwFWQNdbyZFBwAC0GGIAHQSj3/8HHRdhzYbdDfwg4IjAsGvICgXAroYBiCEDkBBACBZoyST4gDwQqh7mQ4cEkhQD0EBIIggRMQAh2EiEvEYAGrdR3YSqIYCIEDaotVDeYnu/ryEjSOr43PHl8WmTBPA6PRQ7IWJrvhT/ubkU/7m1EvX+1KEUh7Ug+WkPEXgdUSkR+xrd0NJ4qjr8AEI9pGAI7mo78mHfnF+Y/K2K7iHUheuvJG6cOUNz/LvDwPobrpSl/Ruf2VOy9UPs4RSTSANwH4Y449EVdnt9ojHIeghCHYLgR+n/7zt4Np32tIWZU4hSpnjVk1t/caPfOO3/f++MNH5TVJcisoEoo4ksgbsXwYfdR1+kQplQuCFNS82Pp/9+158RTkTC0ce0OKutQeOp5PME0qcUBqyBmwGOC8vz4AWVOyE4CUqYO/Dh+p3pj//Bb6mHllqCyxd8ODVT69+uFKoOYTSnzFg7SJpzHFNQYWiQrUIsCN9V+uOh375zz179pSGI1FSUuK12+2+aGDt7e3muro6T/h57969lZdvDrT+ZbA6n0B1nfPVN7e0PjMjIgIIdkEAR1JR329yDvaE0+l/hQKA1Wr1bd682SsikUW7K+O3PesTNvaSAiXaLhGBvO86RFEoJ4Adac+eDxsgiZKSEm9NTY3n5MmT5mjBHR0d5vr6es+mTZu8SqnI+x+s+Ol5jRo0auX1jtepQaEAADKWWIbcy7ZGUmb79u1eu93uI+mtra31HLj5TGDs9rBJICCNn1GRCKGCUJAUuzzw6CfbTB6Px7t27VofAG/YXl6Ceyw9LmvIN3UxZUafKRACWyCELcHVP3vk4fDabDZf+2N/D9g+fsLEEFSooFGDogZNFkBRgSCsTcWm066jgRAU4et/F5u9nxRosmCLRmE+QdgSXCNzhW/s9rDJ63wVJx77V+V8YS6UNaW8BdOcqzx+3Ujt0F8Bcr1GMIMU5CzJHZ+rg6IGCYV2PimoyIK6lzIWrxkPTVGmRoqJFCyLTZmeq4MB5f3BVADnbpcQkzStUQMAk0YKBPfzxlhA95NQQe43QBotBECAFFyZHo6dz6CKCizAPFPivzUWqxm2AqIgnwkFvZNn4uczGK3Hah7wpet98UZ85R8aKScIcXYEWpMLkx8fvleHpNjlAWtTsakQa0pVKGcJQqMGUqCHBvfdjp/gTP6xwFzg85PdyaH2J4SUowKiw3889e4KBACnT582W5uKTV2uusAdUFlgzBcFQoFGDT35HwW+82mhqaenxwwA4WtYfRNnUkMZUqsJpEkn8cXU5yktYw2JjsTCMQDwer0ekt6GhgZPUVGRd3fu7qjqdU9Mj7mlpcVD0tvS0uKxWCyVANB5rS3x8s3BFEUFgTTLtuZndQHLBMSfB6pyZtfqMDQ3NzfqTcJisficTqc3BI+8bxh9L8corarM3fnDoIT+rACAU/7m7MOfHbCEwQDQ2Njo6erqinqTOHfuXNjjiI23+ystZ8c7smmkWgVJcN++fRARfLDhlacEUqVEQ1nm77xPrHjSh/+Djo3WmN/s/6OHEOgIPr2h63tVuq5Dud1ukETWoK3zorkzTiiONn/TKlNM4lj24m+Pf13o2wOVHqGA5MsAXjKPrDaqnMvlQnjTzhy0Nlw0d5oI5p3yN62amrk+ve5B5+hXgb47WGX52+V3NgoFOvQKAGUkkTqcbZy5XC7XHYf4zEFr3aXU7jih5uidPPOtvsmzixZr8VMrHjBHddLsHj+Z9Fb/n9a1+T/JDaXey0IpEzEKkHnU8Jj79++PeEwSSimQRGP+Gz8j5DVFBVKQtjBj6JGlNt/D8Y+OpMdlTphiEqcB4tqtsVjfjUtLLkx0J/dOnjWPTg+lEARIEHwaQJVQIYggACC/qxi6rn8ZHL4XETSsf0MU1HOk/CFGYgAwskUqY5eBitRxzn7/a0V1EEBwdqkN6jPI7y4xPmHmC5unbWdQRMqP2d86qANOksU6gvmArNQRNClqABnQgYuK0krI+wCOAyH3DK/vqOXhaf3PAO7mIRjDNV25AAAAAElFTkSuQmCC');\n  bottom: 50px;\n  right: 15px;\n}\n");var rW=function(){function t(e,n){var i=this;Qy(this,t),this.body=e,this.canvas=n,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",(function(){i.activated=!0,i.configureKeyboardBindings()})),this.body.emitter.on("deactivate",(function(){i.activated=!1,i.configureKeyboardBindings()})),this.body.emitter.on("destroy",(function(){void 0!==i.keycharm&&i.keycharm.destroy()})),this.options={}}return nk(t,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],n=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var i=0;i<e.length;i++){this.navigationDOM[e[i]]=document.createElement("div"),this.navigationDOM[e[i]].className="vis-button vis-"+e[i],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[i]]);var r,o,s=new TN(this.navigationDOM[e[i]]);$U(s,"_fit"===n[i]?Of(r=this._fit).call(r,this):Of(o=this.bindToRedraw).call(o,this,n[i])),this.navigationHammers.push(s)}var a=new TN(this.canvas.frame);tW(a,(function(){t._stopMovement()})),this.navigationHammers.push(a),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){var e;void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=Of(e=this[t]).call(e,this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale,e=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=e/t,r=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=e,this.body.view.translation={x:r,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale,e=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=e/t,r=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=e,this.body.view.translation={x:r,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t,e,n,i,r,o,s,a,g,l,A,c,h,C,I,d,u,f,p,v,m,y,b,w,x=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(!0===this.options.keyboard.bindToWindow?this.keycharm=iW({container:window,preventDefault:!0}):this.keycharm=iW({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(Of(t=this.keycharm).call(t,"up",(function(){x.bindToRedraw("_moveUp")}),"keydown"),Of(e=this.keycharm).call(e,"down",(function(){x.bindToRedraw("_moveDown")}),"keydown"),Of(n=this.keycharm).call(n,"left",(function(){x.bindToRedraw("_moveLeft")}),"keydown"),Of(i=this.keycharm).call(i,"right",(function(){x.bindToRedraw("_moveRight")}),"keydown"),Of(r=this.keycharm).call(r,"=",(function(){x.bindToRedraw("_zoomIn")}),"keydown"),Of(o=this.keycharm).call(o,"num+",(function(){x.bindToRedraw("_zoomIn")}),"keydown"),Of(s=this.keycharm).call(s,"num-",(function(){x.bindToRedraw("_zoomOut")}),"keydown"),Of(a=this.keycharm).call(a,"-",(function(){x.bindToRedraw("_zoomOut")}),"keydown"),Of(g=this.keycharm).call(g,"[",(function(){x.bindToRedraw("_zoomOut")}),"keydown"),Of(l=this.keycharm).call(l,"]",(function(){x.bindToRedraw("_zoomIn")}),"keydown"),Of(A=this.keycharm).call(A,"pageup",(function(){x.bindToRedraw("_zoomIn")}),"keydown"),Of(c=this.keycharm).call(c,"pagedown",(function(){x.bindToRedraw("_zoomOut")}),"keydown"),Of(h=this.keycharm).call(h,"up",(function(){x.unbindFromRedraw("_moveUp")}),"keyup"),Of(C=this.keycharm).call(C,"down",(function(){x.unbindFromRedraw("_moveDown")}),"keyup"),Of(I=this.keycharm).call(I,"left",(function(){x.unbindFromRedraw("_moveLeft")}),"keyup"),Of(d=this.keycharm).call(d,"right",(function(){x.unbindFromRedraw("_moveRight")}),"keyup"),Of(u=this.keycharm).call(u,"=",(function(){x.unbindFromRedraw("_zoomIn")}),"keyup"),Of(f=this.keycharm).call(f,"num+",(function(){x.unbindFromRedraw("_zoomIn")}),"keyup"),Of(p=this.keycharm).call(p,"num-",(function(){x.unbindFromRedraw("_zoomOut")}),"keyup"),Of(v=this.keycharm).call(v,"-",(function(){x.unbindFromRedraw("_zoomOut")}),"keyup"),Of(m=this.keycharm).call(m,"[",(function(){x.unbindFromRedraw("_zoomOut")}),"keyup"),Of(y=this.keycharm).call(y,"]",(function(){x.unbindFromRedraw("_zoomIn")}),"keyup"),Of(b=this.keycharm).call(b,"pageup",(function(){x.unbindFromRedraw("_zoomIn")}),"keyup"),Of(w=this.keycharm).call(w,"pagedown",(function(){x.unbindFromRedraw("_zoomOut")}),"keyup")))}}]),t}();function oW(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var sW=function(){function t(e,n,i){var r,o,s,a,g,l,A,c,h,C,I,d,u;Qy(this,t),this.body=e,this.canvas=n,this.selectionHandler=i,this.navigationHandler=new rW(e,n),this.body.eventListeners.onTap=Of(r=this.onTap).call(r,this),this.body.eventListeners.onTouch=Of(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=Of(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=Of(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=Of(g=this.onDragStart).call(g,this),this.body.eventListeners.onDrag=Of(l=this.onDrag).call(l,this),this.body.eventListeners.onDragEnd=Of(A=this.onDragEnd).call(A,this),this.body.eventListeners.onMouseWheel=Of(c=this.onMouseWheel).call(c,this),this.body.eventListeners.onPinch=Of(h=this.onPinch).call(h,this),this.body.eventListeners.onMouseMove=Of(C=this.onMouseMove).call(C,this),this.body.eventListeners.onRelease=Of(I=this.onRelease).call(I,this),this.body.eventListeners.onContext=Of(d=this.onContext).call(d,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=Of(u=this.getPointer).call(u,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},gf(this.options,this.defaultOptions),this.bindEventListeners()}return nk(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",(function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer}))}},{key:"setOptions",value:function(t){void 0!==t&&($_(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),IN(this.options,t,"keyboard"),t.tooltip&&(gf(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=aN(t.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-(e=this.canvas.frame.canvas,e.getBoundingClientRect().left),y:t.y-nN(this.canvas.frame.canvas)};var e}},{key:"onTouch",value:function(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center),n=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,n),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,n),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e),this.selectionHandler.generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if((new Date).valueOf()-this.touchTime>10){var e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler.generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t){!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t)}},{key:"_determineDifference",value:function(t,e){var n=function(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i];-1===fO(e).call(e,r)&&n.push(r)}return n};return{nodes:n(t.nodes,e.nodes),edges:n(t.edges,e.edges)}}},{key:"onDragStart",value:function(t){if(!this.drag.dragging){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=gf({},this.body.view.translation),this.drag.nodeId=void 0,t.srcEvent.shiftKey){this.body.selectionBox.show=!0;var n=this.getPointer(t.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&this.selectionHandler.setSelection({nodes:[e.id]}),this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer);var i,r=function(t,e){var n=void 0!==Hk&&Yy(t)||t["@@iterator"];if(!n){if(sS(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return oW(t,e);var i=Jk(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ty(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?oW(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(this.selectionHandler.getSelectedNodes());try{for(r.s();!(i=r.n()).done;){var o=i.value,s={id:o.id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y};o.options.fixed.x=!0,o.options.fixed.y=!0,this.drag.selection.push(s)}}catch(t){r.e(t)}finally{r.f()}}else this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(t){var e=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var n=this.getPointer(t.center),i=this.drag.selection;if(i&&i.length&&!0===this.options.dragNodes){this.selectionHandler.generateClickEvent("dragging",t,n);var r=n.x-this.drag.pointer.x,o=n.y-this.drag.pointer.y;NS(i).call(i,(function(t){var n=t.node;!1===t.xFixed&&(n.x=e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(t.x)+r)),!1===t.yFixed&&(n.y=e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(t.y)+o))})),this.body.emitter.emit("startSimulation")}else{if(t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,n,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.emitter.emit("_requestRedraw")}if(!0===this.options.dragView&&!t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,n,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);var s=n.x-this.drag.pointer.x,a=n.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+s,y:this.drag.translation.y+a},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(t){var e=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var n;this.body.selectionBox.show=!1;var i=this.body.selectionBox.position,r={minX:Math.min(i.start.x,i.end.x),minY:Math.min(i.start.y,i.end.y),maxX:Math.max(i.start.x,i.end.x),maxY:Math.max(i.start.y,i.end.y)},o=FT(n=this.body.nodeIndices).call(n,(function(t){var n=e.body.nodes[t];return n.x>=r.minX&&n.x<=r.maxX&&n.y>=r.minY&&n.y<=r.maxY}));NS(o).call(o,(function(t){return e.selectionHandler.selectObject(e.body.nodes[t])}));var s=this.getPointer(t.center);this.selectionHandler.commitAndEmit(s,t),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var a=this.drag.selection;a&&a.length?(NS(a).call(a,(function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed})),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var n=this.pinch.scale*t.scale;this.zoom(n,e)}},{key:"zoom",value:function(t,e){if(!0===this.options.zoomView){var n=this.body.view.scale;t<1e-5&&(t=1e-5),t>10&&(t=10);var i=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));var r=this.body.view.translation,o=t/n,s=(1-o)*e.x+r.x*o,a=(1-o)*e.y+r.y*o;if(this.body.view.scale=t,this.body.view.translation={x:s,y:a},null!=i){var g=this.canvas.canvasToDOM(i);this.drag.pointer.x=g.x,this.drag.pointer.y=g.y}this.body.emitter.emit("_requestRedraw"),n<t?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:e}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:e})}}},{key:"onMouseWheel",value:function(t){if(!0===this.options.zoomView){if(0!==t.deltaY){var e=this.body.view.scale;e*=1+(t.deltaY<0?1:-1)*(.1*this.options.zoomSpeed);var n=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(e,n)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var e=this,n=this.getPointer({x:t.clientX,y:t.clientY}),i=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(n),!1===this.popup.hidden&&(i=!0,this.popup.setPosition(n.x+3,n.y-5),this.popup.show())),this.options.keyboard.autoFocus&&!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===i&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=UO((function(){return e._checkShowPopup(n)}),this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,n)}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),n=this.canvas._YconvertDOMtoCanvas(t.y),i={left:e,top:n,right:e,bottom:n},r=void 0===this.popupObj?void 0:this.popupObj.id,o=!1,s="node";if(void 0===this.popupObj){for(var a,g=this.body.nodeIndices,l=this.body.nodes,A=[],c=0;c<g.length;c++)!0===(a=l[g[c]]).isOverlappingWith(i)&&(o=!0,void 0!==a.getTitle()&&A.push(g[c]));A.length>0&&(this.popupObj=l[A[A.length-1]],o=!0)}if(void 0===this.popupObj&&!1===o){for(var h,C=this.body.edgeIndices,I=this.body.edges,d=[],u=0;u<C.length;u++)!0===(h=I[C[u]]).isOverlappingWith(i)&&!0===h.connected&&void 0!==h.getTitle()&&d.push(C[u]);d.length>0&&(this.popupObj=I[d[d.length-1]],s="edge")}void 0!==this.popupObj?this.popupObj.id!==r&&(void 0===this.popup&&(this.popup=new ON(this.canvas.frame)),this.popup.popupTargetType=s,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),n=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e))){var i=this.selectionHandler.getNodeAt(t);n=void 0!==i&&i.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===n&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}(),aW=lC,gW=dP,lW=DD.getWeakData,AW=KD,cW=qd,hW=BC,CW=qC,IW=qD,dW=WI,uW=Tp.set,fW=Tp.getterFor,pW=dw.find,vW=dw.findIndex,mW=aW([].splice),yW=0,bW=function(t){return t.frozen||(t.frozen=new wW)},wW=function(){this.entries=[]},xW=function(t,e){return pW(t.entries,(function(t){return t[0]===e}))};wW.prototype={get:function(t){var e=xW(this,t);if(e)return e[1]},has:function(t){return!!xW(this,t)},set:function(t,e){var n=xW(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=vW(this.entries,(function(e){return e[0]===t}));return~e&&mW(this.entries,e,1),!!~e}};var EW,kW={getConstructor:function(t,e,n,i){var r=t((function(t,r){AW(t,o),uW(t,{type:e,id:yW++,frozen:void 0}),hW(r)||IW(r,t[i],{that:t,AS_ENTRIES:n})})),o=r.prototype,s=fW(e),a=function(t,e,n){var i=s(t),r=lW(cW(e),!0);return!0===r?bW(i).set(e,n):r[i.id]=n,t};return gW(o,{delete:function(t){var e=s(this);if(!CW(t))return!1;var n=lW(t);return!0===n?bW(e).delete(t):n&&dW(n,e.id)&&delete n[e.id]},has:function(t){var e=s(this);if(!CW(t))return!1;var n=lW(t);return!0===n?bW(e).has(t):n&&dW(n,e.id)}}),gW(o,n?{get:function(t){var e=s(this);if(CW(t)){var n=lW(t);return!0===n?bW(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),r}},SW=fD,TW=Xh,OW=lC,RW=dP,_W=DD,NW=CP,DW=kW,PW=qC,MW=Tp.enforce,LW=Jh,jW=cp,BW=Object,FW=Array.isArray,zW=BW.isExtensible,VW=BW.isFrozen,GW=BW.isSealed,UW=BW.freeze,WW=BW.seal,ZW={},HW={},qW=!TW.ActiveXObject&&"ActiveXObject"in TW,YW=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},QW=NW("WeakMap",YW,DW),KW=QW.prototype,XW=OW(KW.set);if(jW)if(qW){EW=DW.getConstructor(YW,"WeakMap",!0),_W.enable();var JW=OW(KW.delete),$W=OW(KW.has),tZ=OW(KW.get);RW(KW,{delete:function(t){if(PW(t)&&!zW(t)){var e=MW(this);return e.frozen||(e.frozen=new EW),JW(this,t)||e.frozen.delete(t)}return JW(this,t)},has:function(t){if(PW(t)&&!zW(t)){var e=MW(this);return e.frozen||(e.frozen=new EW),$W(this,t)||e.frozen.has(t)}return $W(this,t)},get:function(t){if(PW(t)&&!zW(t)){var e=MW(this);return e.frozen||(e.frozen=new EW),$W(this,t)?tZ(this,t):e.frozen.get(t)}return tZ(this,t)},set:function(t,e){if(PW(t)&&!zW(t)){var n=MW(this);n.frozen||(n.frozen=new EW),$W(this,t)?XW(this,t,e):n.frozen.set(t,e)}else XW(this,t,e);return this}})}else SW&&LW((function(){var t=UW([]);return XW(new QW,t,1),!VW(t)}))&&RW(KW,{set:function(t,e){var n;return FW(t)&&(VW(t)?n=ZW:GW(t)&&(n=HW)),XW(this,t,e),n===ZW&&UW(t),n===HW&&WW(t),this}});var eZ,nZ,iZ,rZ,oZ,sZ=Qh(YC.WeakMap);function aZ(t,e,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)}function gZ(t,e,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(t,n):r?r.value=n:e.set(t,n),n}function lZ(t,e){var n=void 0!==Hk&&Yy(t)||t["@@iterator"];if(!n){if(sS(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return AZ(t,e);var i=Jk(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ty(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?AZ(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function AZ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function cZ(t,e){var n,i=new VF,r=lZ(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;t.has(o)||i.add(o)}}catch(t){r.e(t)}finally{r.f()}return i}"function"==typeof SuppressedError&&SuppressedError;var hZ=function(){function t(){Qy(this,t),eZ.set(this,new VF),nZ.set(this,new VF)}return nk(t,[{key:"size",get:function(){return aZ(this,nZ,"f").size}},{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=0,r=e;i<r.length;i++){var o=r[i];aZ(this,nZ,"f").add(o)}}},{key:"delete",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=0,r=e;i<r.length;i++){var o=r[i];aZ(this,nZ,"f").delete(o)}}},{key:"clear",value:function(){aZ(this,nZ,"f").clear()}},{key:"getSelection",value:function(){return Zk(aZ(this,nZ,"f"))}},{key:"getChanges",value:function(){return{added:Zk(cZ(aZ(this,eZ,"f"),aZ(this,nZ,"f"))),deleted:Zk(cZ(aZ(this,nZ,"f"),aZ(this,eZ,"f"))),previous:Zk(new VF(aZ(this,eZ,"f"))),current:Zk(new VF(aZ(this,nZ,"f")))}}},{key:"commit",value:function(){var t=this.getChanges();gZ(this,eZ,aZ(this,nZ,"f"),"f"),gZ(this,nZ,new VF(aZ(this,eZ,"f")),"f");var e,n=lZ(t.added);try{for(n.s();!(e=n.n()).done;)e.value.select()}catch(t){n.e(t)}finally{n.f()}var i,r=lZ(t.deleted);try{for(r.s();!(i=r.n()).done;)i.value.unselect()}catch(t){r.e(t)}finally{r.f()}return t}}]),t}();eZ=new sZ,nZ=new sZ;var CZ=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};Qy(this,t),iZ.set(this,new hZ),rZ.set(this,new hZ),oZ.set(this,void 0),gZ(this,oZ,e,"f")}return nk(t,[{key:"sizeNodes",get:function(){return aZ(this,iZ,"f").size}},{key:"sizeEdges",get:function(){return aZ(this,rZ,"f").size}},{key:"getNodes",value:function(){return aZ(this,iZ,"f").getSelection()}},{key:"getEdges",value:function(){return aZ(this,rZ,"f").getSelection()}},{key:"addNodes",value:function(){var t;(t=aZ(this,iZ,"f")).add.apply(t,arguments)}},{key:"addEdges",value:function(){var t;(t=aZ(this,rZ,"f")).add.apply(t,arguments)}},{key:"deleteNodes",value:function(t){aZ(this,iZ,"f").delete(t)}},{key:"deleteEdges",value:function(t){aZ(this,rZ,"f").delete(t)}},{key:"clear",value:function(){aZ(this,iZ,"f").clear(),aZ(this,rZ,"f").clear()}},{key:"commit",value:function(){for(var t,e,n={nodes:aZ(this,iZ,"f").commit(),edges:aZ(this,rZ,"f").commit()},i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=aZ(this,oZ,"f")).call.apply(t,Xk(e=[this,n]).call(e,r)),n}}]),t}();function IZ(t,e){var n=void 0!==Hk&&Yy(t)||t["@@iterator"];if(!n){if(sS(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return dZ(t,e);var i=Jk(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ty(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?dZ(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function dZ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}iZ=new sZ,rZ=new sZ,oZ=new sZ;var uZ=function(){function t(e,n){var i=this;Qy(this,t),this.body=e,this.canvas=n,this._selectionAccumulator=new CZ,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},gf(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",(function(){i.updateSelection()}))}return nk(t,[{key:"setOptions",value:function(t){void 0!==t&&J_(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}},{key:"selectOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var n=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==n&&(e=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var n=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==n&&(e=!0,!0===n.isSelected()?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_initBaseEvent",value:function(t,e){var n={};return n.pointer={DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},n.event=t,n}},{key:"generateClickEvent",value:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this._initBaseEvent(e,n);if(!0===r)o.nodes=[],o.edges=[];else{var s=this.getSelection();o.nodes=s.nodes,o.edges=s.edges}void 0!==i&&(o.previousSelection=i),"click"==t&&(o.items=this.getClickedItems(n)),void 0!==e.controlEdge&&(o.controlEdge=e.controlEdge),this.body.emitter.emit(t,o)}},{key:"selectObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;if(void 0!==t){var n;if(t instanceof YG)!0===e&&(n=this._selectionAccumulator).addEdges.apply(n,Zk(t.edges)),this._selectionAccumulator.addNodes(t);else this._selectionAccumulator.addEdges(t);return!0}return!1}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],n=this.body.nodes,i=0;i<this.body.nodeIndices.length;i++){var r=this.body.nodeIndices[i];n[r].isOverlappingWith(t)&&e.push(r)}return e}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._pointerToPositionObject(t),i=this._getAllNodesOverlappingWith(n);return i.length>0?!0===e?this.body.nodes[i[i.length-1]]:i[i.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var n=this.body.edges,i=0;i<this.body.edgeIndices.length;i++){var r=this.body.edgeIndices[i];n[r].isOverlappingWith(t)&&e.push(r)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.canvas.DOMtoCanvas(t),i=10,r=null,o=this.body.edges,s=0;s<this.body.edgeIndices.length;s++){var a=this.body.edgeIndices[s],g=o[a];if(g.connected){var l=g.from.x,A=g.from.y,c=g.to.x,h=g.to.y,C=g.edgeType.getDistanceToEdge(l,A,c,h,n.x,n.y);C<i&&(r=a,i=C)}}return null!==r?!0===e?this.body.edges[r]:r:void 0}},{key:"_addToHover",value:function(t){t instanceof YG?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){var e;t instanceof YG?(this._selectionAccumulator.deleteNodes(t),(e=this._selectionAccumulator).deleteEdges.apply(e,Zk(t.edges))):this._selectionAccumulator.deleteEdges(t)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var n=t.edges[e];n.hover=!0,this._addToHover(n)}}},{key:"emitBlurEvent",value:function(t,e,n){var i=this._initBaseEvent(t,e);!0===n.hover&&(n.hover=!1,n instanceof YG?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}},{key:"emitHoverEvent",value:function(t,e,n){var i=this._initBaseEvent(t,e),r=!1;return!1===n.hover&&(n.hover=!0,this._addToHover(n),r=!0,n instanceof YG?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),r}},{key:"hoverObject",value:function(t,e){var n=this.getNodeAt(e);void 0===n&&(n=this.getEdgeAt(e));var i=!1;for(var r in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,r)&&(void 0===n||n instanceof YG&&n.id!=r||n instanceof jU)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[r]),delete this.hoverObj.nodes[r],i=!0);for(var o in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,o)&&(!0===i?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(void 0===n||n instanceof jU&&n.id!=o||n instanceof YG&&!n.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],i=!0));if(void 0!==n){var s=dS(this.hoverObj.edges).length,a=dS(this.hoverObj.nodes).length;(i||n instanceof jU&&0===s&&0===a||n instanceof YG&&0===s&&0===a)&&(i=this.emitHoverEvent(t,e,n)),n instanceof YG&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(n)}!0===i&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(t,e){var n=!1,i=this._selectionAccumulator.commit(),r={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",e,t,r),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",e,t,r),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",e,t),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",e,t),n=!0),!0===n&&this.generateClickEvent("select",e,t)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var t;return hS(t=this._selectionAccumulator.getNodes()).call(t,(function(t){return t.id}))}},{key:"getSelectedEdgeIds",value:function(){var t;return hS(t=this._selectionAccumulator.getEdges()).call(t,(function(t){return t.id}))}},{key:"setSelection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!t.nodes&&!t.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes){var n,i=IZ(t.nodes);try{for(i.s();!(n=i.n()).done;){var r=n.value,o=this.body.nodes[r];if(!o)throw new RangeError('Node with id "'+r+'" not found');this.selectObject(o,e.highlightEdges)}}catch(t){i.e(t)}finally{i.f()}}if(t.edges){var s,a=IZ(t.edges);try{for(a.s();!(s=a.n()).done;){var g=s.value,l=this.body.edges[g];if(!l)throw new RangeError('Edge with id "'+g+'" not found');this.selectObject(l)}}catch(t){a.e(t)}finally{a.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,t.id)||this._selectionAccumulator.deleteNodes(t);for(var e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}},{key:"getClickedItems",value:function(t){for(var e=this.canvas.DOMtoCanvas(t),n=[],i=this.body.nodeIndices,r=this.body.nodes,o=i.length-1;o>=0;o--){var s=r[i[o]].getItemsOnPoint(e);n.push.apply(n,s)}for(var a=this.body.edgeIndices,g=this.body.edges,l=a.length-1;l>=0;l--){var A=g[a[l]].getItemsOnPoint(e);n.push.apply(n,A)}return n}}]),t}();function fZ(t){var e=function(){if("undefined"==typeof Reflect||!hV)return!1;if(hV.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(hV(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=rM(t);if(e){var r=rM(this).constructor;n=hV(i,arguments,r)}else n=i.apply(this,arguments);return eM(this,n)}}var pZ=function(){function t(){Qy(this,t)}return nk(t,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(t){return this.fake_use(t),this.abstract()}},{key:"setPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,e,n),this.abstract()}},{key:"getTreeSize",value:function(t){return this.fake_use(t),this.abstract()}},{key:"sort",value:function(t){this.fake_use(t),this.abstract()}},{key:"fix",value:function(t,e){this.fake_use(t,e),this.abstract()}},{key:"shift",value:function(t,e){this.fake_use(t,e),this.abstract()}}]),t}(),vZ=function(t){tM(n,t);var e=fZ(n);function n(t){var i;return Qy(this,n),(i=e.call(this)).layout=t,i}return nk(n,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(t){return t.x}},{key:"setPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(t,n),t.x=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}},{key:"sort",value:function(t){kz(t).call(t,(function(t,e){return t.x-e.x}))}},{key:"fix",value:function(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].x+=e}}]),n}(pZ),mZ=function(t){tM(n,t);var e=fZ(n);function n(t){var i;return Qy(this,n),(i=e.call(this)).layout=t,i}return nk(n,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(t){return t.y}},{key:"setPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(t,n),t.y=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}},{key:"sort",value:function(t){kz(t).call(t,(function(t,e){return t.y-e.y}))}},{key:"fix",value:function(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].y+=e}}]),n}(pZ),yZ=dw.every;vu({target:"Array",proto:!0,forced:!yS("every")},{every:function(t){return yZ(this,t,arguments.length>1?arguments[1]:void 0)}});var bZ=wf("Array").every,wZ=tI,xZ=bZ,EZ=Array.prototype,kZ=Qh((function(t){var e=t.every;return t===EZ||wZ(EZ,t)&&e===EZ.every?xZ:e}));function SZ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function TZ(t,e){var n=new VF;return NS(t).call(t,(function(t){var e;NS(e=t.edges).call(e,(function(t){t.connected&&n.add(t)}))})),NS(n).call(n,(function(t){var n=t.from.id,i=t.to.id;null==e[n]&&(e[n]=0),(null==e[i]||e[n]>=e[i])&&(e[i]=e[n]+1)})),e}function OZ(t,e,n,i){var r,o,s=mO(null),a=RF(r=Zk(Gz(i).call(i))).call(r,(function(t,e){return t+1+e.edges.length}),0),g=n+"Id",l="to"===n?1:-1,A=function(t,e){var n=void 0!==Hk&&Yy(t)||t["@@iterator"];if(!n){if(sS(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return SZ(t,e);var i=Jk(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ty(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?SZ(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(i);try{var c,h=function(){var r=Wk(o.value,2),A=r[0],c=r[1];if(!i.has(A)||!t(c))return 0;s[A]=0;for(var h,C,I=[c],d=0,u=function(){var t,r;if(!i.has(A))return 0;var o=s[h.id]+l;if(NS(t=FT(r=h.edges).call(r,(function(t){return t.connected&&t.to!==t.from&&t[n]!==h&&i.has(t.toId)&&i.has(t.fromId)}))).call(t,(function(t){var i=t[g],r=s[i];(null==r||e(o,r))&&(s[i]=o,I.push(t[n]))})),d>a)return{v:{v:TZ(i,s)}};++d};h=I.pop();)if(0!==(C=u())&&C)return C.v};for(A.s();!(o=A.n()).done;)if(0!==(c=h())&&c)return c.v}catch(t){A.e(t)}finally{A.f()}return s}var RZ=function(){function t(){Qy(this,t),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return nk(t,[{key:"addRelation",value:function(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(this.parentReference[t].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(t,e){void 0!==e&&void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=Math.max(e,this.treeIndex))}},{key:"ensureLevel",value:function(t){void 0===this.levels[t]&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(t){var e=this,n={};return function t(i){if(void 0!==n[i])return n[i];var r=e.levels[i];if(e.childrenReference[i]){var o=e.childrenReference[i];if(o.length>0)for(var s=0;s<o.length;s++)r=Math.max(r,t(o[s]))}return n[i]=r,r}(t)}},{key:"levelDownstream",value:function(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var e=1e9;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&void 0!==this.levels[n]&&(e=Math.min(this.levels[n],e));for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&void 0!==this.levels[i]&&(this.levels[i]-=e)}},{key:"getTreeSize",value:function(t,e){var n=1e9,i=-1e9,r=1e9,o=-1e9;for(var s in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,s)&&this.trees[s]===e){var a=t[s];n=Math.min(a.x,n),i=Math.max(a.x,i),r=Math.min(a.y,r),o=Math.max(a.y,o)}return{min_x:n,max_x:i,min_y:r,max_y:o}}},{key:"hasSameParent",value:function(t,e){var n=this.parentReference[t.id],i=this.parentReference[e.id];if(void 0===n||void 0===i)return!1;for(var r=0;r<n.length;r++)for(var o=0;o<i.length;o++)if(n[r]==i[o])return!0;return!1}},{key:"inSameSubNetwork",value:function(t,e){return this.trees[t.id]===this.trees[e.id]}},{key:"getLevels",value:function(){return dS(this.distributionOrdering)}},{key:"addToOrdering",value:function(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);var n=!1,i=this.distributionOrdering[e];for(var r in i)if(i[r]===t){n=!0;break}n||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}]),t}(),_Z=function(){function t(e){Qy(this,t),this.body=e,this._resetRNG(Math.random()+":"+vS()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},gf(this.options,this.defaultOptions),this.bindEventListeners()}return nk(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",(function(){t.setupHierarchicalLayout()})),this.body.emitter.on("_dataLoaded",(function(){t.layoutNetwork()})),this.body.emitter.on("_resetHierarchicalLayout",(function(){t.setupHierarchicalLayout()})),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",(function(){if(!0===t.options.hierarchical.enabled){var e=t.direction.curveType();t.body.emitter.emit("_forceDisableDynamicCurves",e,!1)}}))}},{key:"setOptions",value:function(t,e){if(void 0!==t){var n=this.options.hierarchical,i=n.enabled;if(J_(["randomSeed","improvedLayout","clusterThreshold"],this.options,t),IN(this.options,t,"hierarchical"),void 0!==t.randomSeed&&this._resetRNG(t.randomSeed),!0===n.enabled)return!0===i&&this.body.emitter.emit("refresh",!0),"RL"===n.direction||"DU"===n.direction?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===i)return this.body.emitter.emit("refresh"),tN(e,this.optionsBackup)}return e}},{key:"_resetRNG",value:function(t){this.initialRandomSeed=t,this._rng=z_(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(!0===this.options.hierarchical.enabled){var e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"===JE(t.physics)?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var n=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:n};else{var i=t.edges.smooth;void 0!==i.type&&"dynamic"!==i.type&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:void 0===i.enabled||i.enabled,type:void 0===i.type?"dynamic":i.type,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection}},t.edges.smooth={enabled:void 0===i.enabled||i.enabled,type:n,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return t}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this._resetRNG(this.initialRandomSeed);for(var e=t.length+50,n=0;n<t.length;n++){var i=t[n],r=2*Math.PI*this._rng();void 0===i.x&&(i.x=e*Math.cos(r)),void 0===i.y&&(i.y=e*Math.sin(r))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=this.body.nodeIndices,e=0,n=0;n<t.length;n++)!0===this.body.nodes[t[n]].predefinedPosition&&(e+=1);if(e<.5*t.length){var i=0,r=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>r){for(var s=t.length;t.length>r&&i<=10;){i+=1;var a=t.length;if(i%3==0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o),a==t.length&&i%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*s)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(var g=0;g<t.length;g++){var l=this.body.nodes[t[g]];!1===l.predefinedPosition&&(l.x+=70*(.5-this._rng()),l.y+=70*(.5-this._rng()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=YU.getRangeCore(this.body.nodes,this.body.nodeIndices),e=YU.findCenter(t),n=0;n<this.body.nodeIndices.length;n++){var i=this.body.nodes[this.body.nodeIndices[n]];i.x-=e.x,i.y-=e.y}}},{key:"_declusterAll",value:function(){for(var t=!0;!0===t;){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var t,e,n=!1,i=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new RZ,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&(void 0!==(t=this.body.nodes[e]).options.level?(n=!0,this.hierarchical.levels[e]=t.options.level):i=!0);if(!0===i&&!0===n)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===i){var r=this.options.hierarchical.sortMethod;"hubsize"===r?this._determineLevelsByHubsize():"directed"===r?this._determineLevelsDirected():"custom"===r&&this._determineLevelsCustomCallback()}for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);var s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,e=!1,n={},i=function(e,n){var i=t.hierarchical.trees;for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&i[r]===e&&t.direction.shift(r,n)},r=function e(n,i){if(!i[n.id]&&(i[n.id]=!0,t.hierarchical.childrenReference[n.id])){var r=t.hierarchical.childrenReference[n.id];if(r.length>0)for(var o=0;o<r.length;o++)e(t.body.nodes[r[o]],i)}},o=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,i=1e9,r=1e9,o=1e9,s=-1e9;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var g=t.body.nodes[a],l=t.hierarchical.levels[g.id],A=t.direction.getPosition(g),c=Wk(t._getSpaceAroundNode(g,e),2),h=c[0],C=c[1];i=Math.min(h,i),r=Math.min(C,r),l<=n&&(o=Math.min(A,o),s=Math.max(A,s))}return[o,s,i,r]},s=function(e,n,i){for(var r=t.hierarchical,o=0;o<n.length;o++){var s=n[o],a=r.distributionOrdering[s];if(a.length>1)for(var g=0;g<a.length-1;g++){var l=a[g],A=a[g+1];r.hasSameParent(l,A)&&r.inSameSubNetwork(l,A)&&e(l,A,i)}}},a=function(n,i){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.direction.getPosition(n),g=t.direction.getPosition(i),l=Math.abs(g-a),A=t.options.hierarchical.nodeSpacing;if(l>A){var c={},h={};r(n,c),r(i,h);var C=function(e,n){var i=t.hierarchical.getMaxLevel(e.id),r=t.hierarchical.getMaxLevel(n.id);return Math.min(i,r)}(n,i),I=o(c,C),d=o(h,C),u=I[1],f=d[0],p=d[2];if(Math.abs(u-f)>A){var v=u-f+A;v<-p+A&&(v=-p+A),v<0&&(t._shiftBlock(i.id,v),e=!0,!0===s&&t._centerParent(i))}}},g=function(i,s){for(var a=s.id,g=s.edges,l=t.hierarchical.levels[s.id],A=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,c={},h=[],C=0;C<g.length;C++){var I=g[C];if(I.toId!=I.fromId){var d=I.toId==a?I.from:I.to;c[g[C].id]=d,t.hierarchical.levels[d.id]<l&&h.push(I)}}var u=function(e,n){for(var i=0,r=0;r<n.length;r++)if(void 0!==c[n[r].id]){var o=t.direction.getPosition(c[n[r].id])-e;i+=o/Math.sqrt(o*o+A)}return i},f=function(e,n){for(var i=0,r=0;r<n.length;r++)if(void 0!==c[n[r].id]){var o=t.direction.getPosition(c[n[r].id])-e;i-=A*Math.pow(o*o+A,-1.5)}return i},p=function(e,n){for(var i=t.direction.getPosition(s),r={},o=0;o<e;o++){var a=u(i,n),g=f(i,n);if(void 0!==r[i-=Math.max(-40,Math.min(40,Math.round(a/g)))])break;r[i]=o}return i},v=p(i,h);!function(i){var a=t.direction.getPosition(s);if(void 0===n[s.id]){var g={};r(s,g),n[s.id]=g}var l=o(n[s.id]),A=l[2],c=l[3],h=i-a,C=0;h>0?C=Math.min(h,c-t.options.hierarchical.nodeSpacing):h<0&&(C=-Math.min(-h,A-t.options.hierarchical.nodeSpacing)),0!=C&&(t._shiftBlock(s.id,C),e=!0)}(v),function(n){var i=t.direction.getPosition(s),r=Wk(t._getSpaceAroundNode(s),2),o=r[0],a=r[1],g=n-i,l=i;g>0?l=Math.min(i+(a-t.options.hierarchical.nodeSpacing),n):g<0&&(l=Math.max(i-(o-t.options.hierarchical.nodeSpacing),n)),l!==i&&(t.direction.setPosition(s,l),e=!0)}(v=p(i,g))};!0===this.options.hierarchical.blockShifting&&(function(){var n=t.hierarchical.getLevels();n=GS(n).call(n);for(var i=0;i<5&&(e=!1,s(a,n,!0),!0===e);i++);}(),function(){for(var e in t.body.nodes)Object.prototype.hasOwnProperty.call(t.body.nodes,e)&&t._centerParent(t.body.nodes[e])}()),!0===this.options.hierarchical.edgeMinimization&&function(){var n=t.hierarchical.getLevels();n=GS(n).call(n);for(var i=0;i<20;i++){e=!1;for(var r=0;r<n.length;r++)for(var o=n[r],s=t.hierarchical.distributionOrdering[o],a=0;a<s.length;a++)g(1e3,s[a]);if(!0!==e)break}}(),!0===this.options.hierarchical.parentCentralization&&function(){var e=t.hierarchical.getLevels();e=GS(e).call(e);for(var n=0;n<e.length;n++)for(var i=e[n],r=t.hierarchical.distributionOrdering[i],o=0;o<r.length;o++)t._centerParent(r[o])}(),function(){for(var e=function(){for(var e=[],n=0;n<t.hierarchical.numTrees();n++)e.push(t.direction.getTreeSize(n));return e}(),n=0,r=0;r<e.length-1;r++)n+=e[r].max-e[r+1].min+t.options.hierarchical.treeSpacing,i(r+1,n)}()}},{key:"_getSpaceAroundNode",value:function(t,e){var n=!0;void 0===e&&(n=!1);var i=this.hierarchical.levels[t.id];if(void 0!==i){var r=this.hierarchical.distributionIndex[t.id],o=this.direction.getPosition(t),s=this.hierarchical.distributionOrdering[i],a=1e9,g=1e9;if(0!==r){var l=s[r-1];(!0===n&&void 0===e[l.id]||!1===n)&&(a=o-this.direction.getPosition(l))}if(r!=s.length-1){var A=s[r+1];if(!0===n&&void 0===e[A.id]||!1===n){var c=this.direction.getPosition(A);g=Math.min(g,c-o)}}return[a,g]}return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var e=this.hierarchical.parentReference[t.id],n=0;n<e.length;n++){var i=e[n],r=this.body.nodes[i],o=this.hierarchical.childrenReference[i];if(void 0!==o){var s=this._getCenterPosition(o),a=this.direction.getPosition(r),g=Wk(this._getSpaceAroundNode(r),2),l=g[0],A=g[1],c=a-s;(c<0&&Math.abs(c)<A-this.options.hierarchical.nodeSpacing||c>0&&Math.abs(c)<l-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(r,s)}}}},{key:"_placeNodesByHierarchy",value:function(t){for(var e in this.positionedNodes={},t)if(Object.prototype.hasOwnProperty.call(t,e)){var n,i=dS(t[e]);i=this._indexArrayToNodes(i),kz(n=this.direction).call(n,i);for(var r=0,o=0;o<i.length;o++){var s=i[o];if(void 0===this.positionedNodes[s.id]){var a=this.options.hierarchical.nodeSpacing,g=a*r;r>0&&(g=this.direction.getPosition(i[o-1])+a),this.direction.setPosition(s,g,e),this._validatePositionAndContinue(s,e,g),r++}}}}},{key:"_placeBranchNodes",value:function(t,e){var n,i=this.hierarchical.childrenReference[t];if(void 0!==i){for(var r=[],o=0;o<i.length;o++)r.push(this.body.nodes[i[o]]);kz(n=this.direction).call(n,r);for(var s=0;s<r.length;s++){var a=r[s],g=this.hierarchical.levels[a.id];if(!(g>e&&void 0===this.positionedNodes[a.id]))return;var l,A=this.options.hierarchical.nodeSpacing;l=0===s?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(r[s-1])+A,this.direction.setPosition(a,l,g),this._validatePositionAndContinue(a,g,l)}var c=this._getCenterPosition(r);this.direction.setPosition(this.body.nodes[t],c,e)}}},{key:"_validatePositionAndContinue",value:function(t,e,n){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){var i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(n-i<this.options.hierarchical.nodeSpacing){var r=i+this.options.hierarchical.nodeSpacing-n,o=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(o.withChild,r)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],n=0;n<t.length;n++)e.push(this.body.nodes[t[n]]);return e}},{key:"_getDistribution",value:function(){var t,e,n={};for(t in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,t)){e=this.body.nodes[t];var i=void 0===this.hierarchical.levels[t]?0:this.hierarchical.levels[t];this.direction.fix(e,i),void 0===n[i]&&(n[i]={}),n[i][t]=e}return n}},{key:"_getActiveEdges",value:function(t){var e=this,n=[];return iN(t.edges,(function(t){var i;-1!==fO(i=e.body.edgeIndices).call(i,t.id)&&n.push(t)})),n}},{key:"_getHubSizes",value:function(){var t=this,e={};iN(this.body.nodeIndices,(function(n){var i=t.body.nodes[n],r=t._getActiveEdges(i).length;e[r]=!0}));var n=[];return iN(e,(function(t){n.push(Number(t))})),kz(n).call(n,(function(t,e){return e-t})),n}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,e=function(e,n){t.hierarchical.levelDownstream(e,n)},n=this._getHubSizes(),i=function(){var i=n[r];if(0===i)return 1;iN(t.body.nodeIndices,(function(n){var r=t.body.nodes[n];i===t._getActiveEdges(r).length&&t._crawlNetwork(e,n)}))},r=0;r<n.length&&!i();++r);}},{key:"_determineLevelsCustomCallback",value:function(){var t=this;this._crawlNetwork((function(e,n,i){var r=t.hierarchical.levels[e.id];void 0===r&&(r=t.hierarchical.levels[e.id]=1e5);var o=(YU.cloneOptions(e,"node"),YU.cloneOptions(n,"node"),void YU.cloneOptions(i,"edge"));t.hierarchical.levels[n.id]=r+o})),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var t,e=this,n=RF(t=this.body.nodeIndices).call(t,(function(t,n){return t.set(n,e.body.nodes[n]),t}),new LP);"roots"===this.options.hierarchical.shakeTowards?this.hierarchical.levels=function(t){return OZ((function(e){var n,i;return kZ(n=FT(i=e.edges).call(i,(function(e){return t.has(e.toId)}))).call(n,(function(t){return t.from===e}))}),(function(t,e){return e<t}),"to",t)}(n):this.hierarchical.levels=function(t){return OZ((function(e){var n,i;return kZ(n=FT(i=e.edges).call(i,(function(e){return t.has(e.toId)}))).call(n,(function(t){return t.to===e}))}),(function(t,e){return e>t}),"from",t)}(n),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var t=this;this._crawlNetwork((function(e,n){t.hierarchical.levels[n.id]>t.hierarchical.levels[e.id]&&t.hierarchical.addRelation(e.id,n.id)})),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments.length>1?arguments[1]:void 0,i={},r=function n(r,o){if(void 0===i[r.id]){var s;t.hierarchical.setTreeIndex(r,o),i[r.id]=!0;for(var a=t._getActiveEdges(r),g=0;g<a.length;g++){var l=a[g];!0===l.connected&&(s=l.toId==r.id?l.from:l.to,r.id!=s.id&&(e(r,s,l),n(s,o)))}}};if(void 0===n)for(var o=0,s=0;s<this.body.nodeIndices.length;s++){var a=this.body.nodeIndices[s];void 0===i[a]&&(r(this.body.nodes[a],o),o+=1)}else{var g=this.body.nodes[n];if(void 0===g)return void console.error("Node not found:",n);r(g)}}},{key:"_shiftBlock",value:function(t,e){var n=this,i={};!function t(r){if(!i[r]){i[r]=!0,n.direction.shift(r,e);var o=n.hierarchical.childrenReference[r];if(void 0!==o)for(var s=0;s<o.length;s++)t(o[s])}}(t)}},{key:"_findCommonParent",value:function(t,e){var n=this,i={};return function t(e,i){var r=n.hierarchical.parentReference[i];if(void 0!==r)for(var o=0;o<r.length;o++){var s=r[o];e[s]=!0,t(e,s)}}(i,t),function t(e,i){var r=n.hierarchical.parentReference[i];if(void 0!==r)for(var o=0;o<r.length;o++){var s=r[o];if(void 0!==e[s])return{foundParent:s,withChild:i};var a=t(e,s);if(null!==a.foundParent)return a}return{foundParent:null,withChild:i}}(i,e)}},{key:"setDirectionStrategy",value:function(){var t="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=t?new vZ(this):new mZ(this)}},{key:"_getCenterPosition",value:function(t){for(var e=1e9,n=-1e9,i=0;i<t.length;i++){var r=void 0;if(void 0!==t[i].id)r=t[i];else{var o=t[i];r=this.body.nodes[o]}var s=this.direction.getPosition(r);e=Math.min(e,s),n=Math.max(n,s)}return.5*(e+n)}}]),t}();function NZ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Lf("div.vis-network div.vis-manipulation {\n  box-sizing: content-box;\n\n  border-width: 0;\n  border-bottom: 1px;\n  border-style: solid;\n  border-color: #d6d9d8;\n  background: #ffffff; /* Old browsers */\n  background: -moz-linear-gradient(\n    top,\n    #ffffff 0%,\n    #fcfcfc 48%,\n    #fafafa 50%,\n    #fcfcfc 100%\n  ); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #ffffff),\n    color-stop(48%, #fcfcfc),\n    color-stop(50%, #fafafa),\n    color-stop(100%, #fcfcfc)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #ffffff 0%,\n    #fcfcfc 48%,\n    #fafafa 50%,\n    #fcfcfc 100%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #ffffff 0%,\n    #fcfcfc 48%,\n    #fafafa 50%,\n    #fcfcfc 100%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(\n    top,\n    #ffffff 0%,\n    #fcfcfc 48%,\n    #fafafa 50%,\n    #fcfcfc 100%\n  ); /* IE10+ */\n  background: linear-gradient(\n    to bottom,\n    #ffffff 0%,\n    #fcfcfc 48%,\n    #fafafa 50%,\n    #fcfcfc 100%\n  ); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#fcfcfc',GradientType=0 ); /* IE6-9 */\n\n  padding-top: 4px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 28px;\n}\n\ndiv.vis-network div.vis-edit-mode,\ndiv.vis-network button.vis-edit-mode {\n  position: absolute;\n  left: 0;\n  top: 5px;\n  height: 30px;\n}\n\n/* FIXME: shouldn't the vis-close button be a child of the vis-manipulation div? */\n\ndiv.vis-network button.vis-close {\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 30px;\n  height: 30px;\n\n  background-color: transparent;\n  background-position: 20px 3px;\n  background-repeat: no-repeat;\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAADvGaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDItMTRUMTE6NTU6MzUrMDE6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE0LTAyLTE0VDEyOjA1OjE3KzAxOjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wMi0xNFQxMjowNToxNyswMTowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6NjU0YmM5YmQtMWI2Yi1jYjRhLTllOWQtNWY2MzgxNDVjZjk0PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjk4MmM2MGIwLWUzZjMtMDk0MC04MjU0LTFiZTliNWE0ZTE4MzwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjk4MmM2MGIwLWUzZjMtMDk0MC04MjU0LTFiZTliNWE0ZTE4MzwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo5ODJjNjBiMC1lM2YzLTA5NDAtODI1NC0xYmU5YjVhNGUxODM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMTRUMTE6NTU6MzUrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjIxODYxNmM2LTM1MWMtNDI0OS04YWFkLWJkZDQ2ZTczNWE0NDwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0xNFQxMTo1NTozNSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NjU0YmM5YmQtMWI2Yi1jYjRhLTllOWQtNWY2MzgxNDVjZjk0PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAyLTE0VDEyOjA1OjE3KzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjc8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NzwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+cZUZMwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAA2ElEQVR42gDLADT/AS0tLUQFBQUVFxcXtPHx8fPl5eUNCAgITCkpKesEHx8fGgYGBjH+/v4a+Pj4qgQEBFU6OjodMTExzwQUFBSvEBAQEfX19SD19fVqNDQ0CElJSd/9/f2vAwEBAfrn5+fkBwcHLRYWFgsXFxfz29vbo9LS0uwDDQ0NDfPz81orKysXIyMj+ODg4Avh4eEa/f391gMkJCRYPz8/KUhISOMCAgKh8fHxHRsbGx4UFBQQBDk5OeY7Ozv7CAgItPb29vMEBASaJSUlTQ0NDesDAEwpT0Ko8Ri2AAAAAElFTkSuQmCC');\n  border: none;\n  cursor: pointer;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\ndiv.vis-network button.vis-close:hover {\n  opacity: 0.6;\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button,\ndiv.vis-network div.vis-edit-mode button.vis-button {\n  float: left;\n  font-family: verdana;\n  font-size: 12px;\n  border: none;\n  box-sizing: content-box;\n  -moz-border-radius: 15px;\n  border-radius: 15px;\n  background-color: transparent;\n  background-position: 0px 0px;\n  background-repeat: no-repeat;\n  height: 24px;\n  margin-left: 10px;\n  cursor: pointer;\n  padding: 0px 8px 0px 8px;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button:hover {\n  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.2);\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button:active {\n  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.5);\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button.vis-back {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNTowMTowOSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTU6MDE6MDkrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOmI2YjQwMjVkLTAxNjQtMzU0OC1hOTdlLTQ4ZmYxMWM3NTYzMzwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDpmOWQ3OGY4ZC1lNzY0LTc1NDgtODZiNy1iNmQ1OGMzZDg2OTc8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTU6MDE6MDkrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmI2YjQwMjVkLTAxNjQtMzU0OC1hOTdlLTQ4ZmYxMWM3NTYzMzwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNTowMTowOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOmY5ZDc4ZjhkLWU3NjQtNzU0OC04NmI3LWI2ZDU4YzNkODY5Nzwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4jq1U/AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAVTSURBVHjanFVfTFNnFP+d77ve8qeVFbBrpcVgRrCRFikFByLxwSAaE32oRCHD6JMxxhhn8G2RxxH3MsOTbyYsmCAxPMmMMYtkIUYmK60OO0qAK23BFlNob0uh3x7WS5jLZPpLbm6+k/P9zrm5v9855PF4UFhYCABgjIExBgAgIqRSqRIi6gDQRkQ1RGTB3wgR0e8AHgH4Sa/XR/EBiAiJRAJ04cIF5Ofng4g2n0gkUkxENwF0c843LzHGQEQQQkCLExEA9ALotVgsUQAQQmgNQhJCbF5kjCEUCl0moj4t5na7fTU1NUpVVVXUYrEkASAcDhe8efOmxOfzWScmJqoBdBNR99LS0hWz2dynNSSEAF28eBGFhYVgjCEcDn9HRD1EhIMHD3o9Hs9kWVlZAh9BKBQqGB4edr58+dKZ+6JbJpOpBwBWV1fB6+rqIMsyIpHIFcZYL2MMra2tY5cuXRrfuXNnBtvAYDBk3G63oqpqZm5uzgrgSDKZjBoMhueZTAbc5XIhFouVEtFTxhiOHTs2dv78eS8+Efv374+oqpqZnZ21cs5PJJPJPlmWkyynnBuMMTQ0NHi7uro+mVyDx+Pxulwu71ZOlkqlSonoJhGhvb39s8k1nDx50ss5hyRJN9PpdKlERB2aWjSVaEilUvzBgwcORVEs5eXloXPnzk1sV8BkMiUdDofP7/dXZ7PZDilnIhw4cGBeS1pbW2P37t1zBwKBikQiUUREWFhYsHHO0d7evm0Ru90+/+rVq2rO+XGJiJxEhMrKyhgAjI6OWoeHh5tWVla+4JzDZrO9bW5unhwcHGzz+/32np4e+xaDbfoHAMxmc6ijo2O0oqIiJkkSNjY2HBIRmRljMJvNyWfPnln7+/tPMMZQXl6+0NbW9qK2tjYcj8floaEhqKpq+HCkbD3PzMwYBgYG0NXV9UuusFna2kEgELAQEQ4dOvSis7PzN41Ar9dnrl27NqCNkv/C3bt3zy4tLVmICJxzEBFJRBQmorLFxcWCqqqq0Pj4eO3Y2JhbUZTdra2tL2pra8OJRGLHnTt3zkqS9K+huHU4EhHMZnMoGo0W5OIh7nK5jjLGKq1W69vDhw8rRqMxMjc3t2t5eXnX5ORklc/nM+fl5SWnpqa+0uv1K/n5+Ws6nW5NluXNd15e3ppOp1uz2WyzZ86cGQ0Gg6ZAIFCZzWZ/lYjokRDiuN/vt7W0tMw3NTUpbrd78P79++5gMFgRiUTKHj58WMYYQ3V19etTp05tq6Lp6Wkb5xxCiEfc7XZPM8a6FxcXTfX19a/1en2Gcy5qamreNjY2/qGq6joRZe12+9Tp06e3JY/FYgWPHz8+mhvr3/CWlpbk+vp6PmOseWVlBS6XS9GSJUkSdrs93NDQ8Oe+ffvC/8fJIyMjddFo9Esi6pVleVjT2m0A8Hq9zqGhIefnjoknT544A4GAM/eDbxMReFNTE0pKSpKqqsaI6Pj8/LxVVdWM3W6PfCr5xMTE1zllXS0uLn6aSqXAGxsbodPpoNfrn6uqCs75EUVRrJFIZMfevXsXdTrdxseIE4mEPDIyUu/3++tynd8yGo29RIR0Og26fv06ioqKwBgD5xzv3r27zBjrIyJIkgSHwzFZWVmp7NmzJ1ZaWpoAgGg0WqgoSvHMzIw1GAw6tvjhitFo7NPW5fv370Hd3d0oKCgA53zTQMvLy+VCiKuSJH0rSdLmztZytIWv5RPRD0T0Y3Fx8dzWfby6ugopHo//w4mcc8iyPMc5v5FOp7/PZrOdQohWInIC2C2EgBBigYi8Qoifs9lsv06nWyIiaFxagXg8jr8GAGxuIe7LBeWhAAAAAElFTkSuQmCC');\n}\n\ndiv.vis-network div.vis-manipulation div.vis-none:hover {\n  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0);\n  cursor: default;\n}\ndiv.vis-network div.vis-manipulation div.vis-none:active {\n  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0);\n}\ndiv.vis-network div.vis-manipulation div.vis-none {\n  padding: 0px;\n  line-height: 23px;\n}\ndiv.vis-network div.vis-manipulation div.notification {\n  margin: 2px;\n  font-weight: bold;\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button.vis-add {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNDo0MDoyOSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTQ6NDA6MjkrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjVkNWIwNmQwLTVmMjAtOGE0NC1hMzIwLWZmMTEzMzQwNDc0YjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo2OWVmYWE1NS01ZTI5LTIzNGUtYTUzMy0xNDkxYjM1NDNmYmE8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTQ6NDA6MjkrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjVkNWIwNmQwLTVmMjAtOGE0NC1hMzIwLWZmMTEzMzQwNDc0Yjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNDo0MDoyOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjY5ZWZhYTU1LTVlMjktMjM0ZS1hNTMzLTE0OTFiMzU0M2ZiYTwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz5WKqp9AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAYXSURBVHjafFZtUFTXGX7e9z27sveuMCwYV8ElrA7YSFYHtJUPkaaI0aRqG8wP00zUzljDINNSA/2ROtpO24SxnahlxjYd7SSjmUkymcxYlDhQPzHGisEVp8HwYWCVVVgEsrsuLnL74+5uqTF9Z+7cO/d8PO95zvO851BlZSV0XQcAMDOYGQBARDhX3JRmMDYZwLPMWAzGHACYIgwS46oBNBNwtOL8CwE8EkSEUCgE2rJlC2w2G4go8Zwo/bMDgnoG6gxLfAAAYvPDMCCszKTAMIAGAhrWnf15AAAMwwARIRKJgDZv3gy73Q4iAjPjxIr9VVOMRhbAYKB8zvrO0llrfEsdKwLZek6YAPSFvtSu3GtLawu0ZJ6625SHGBQB1T88t6MxvopgMAjaunUrdF0HM+P4yv27DMYeJmB1RqW3Jnf3tQX2p0L4P9EXuqEd7PmDp+XuMU9sRbvXnnt1TxxACgoKYLVacbzsQDUJGkSATe6qi28uPtzusM6Kxie6NHLGUX3lxVUNX9StPHnn4wy3njuUYcu6n2pNi66avcEXnByP/nv8aiaIyrqz2gO5A9+9FI1GIfn5+WhZdTAdjFMkwMvZOy7uWnTAOz3L4Yk71m3t69fdfTDoUGTBeHTUfiHQ6lo7Z2OXJvpDAChKe+aOCdKRKWxZ2+1qb3yyd3GYmRkQ7GQBVs99wfv6on3eR2k4PdTkDEbH7IuS8/svld/561PJS/pDk1/bzwx94pze7xc5v/H+YPY6r5BAkdrJzODTK46lE6PeYEJt7u+8j+OZwCBiEAgAoNgKJoEQf6PvNvdrXgtZoNhSf7q0KZ3B2AQmVMze0Jmt54S/DcDCVig2NcvEUGxJAE4Pl+YOr0iv6BRSIPAmBeBZAmHlE2sH4p1uhrq1s0MnnEQMBsf8wRASAICQQCCITN1X7/sOuc0kgOVp3/fPs2WHv+coG7gQOJUnLGsUCTxEjPzUohEA+NfIWUdtx0+efzA1kSSkIGyBAQNCKgHAEBAJ3u79U7kiAcWoem/gb5Fd33nrH3kp+SMWtuAB+GllMJxMjCx9QRgA3uiqL5kwHiTlpxb3smlfMDGYGPP1hcMAkJvs8ScpfdJspdj+MK6Pf+5+u29vyb4lR4+BGEziVESAkEpw6Av1OhUpHCz4qOXbzFWz4Ncdj/v/o08Lt92ODDgZDCEFJYoUGH4mzugP92puPTf0pD3H7wvfdFZdqSxnMtWjoGAAmG9fOLxjwesdjT2/XzIQ7ks3sycYMSEwGHNtWf5bkX5NkYCJBxUBXiGV0XHvosOt54Zey33j/K+8P33++vjnbiGJbbLE+J9SANAb6nJ2B79wcUwETAwQQ7fMjPzMvfP8ja87HUIKMOiaAqMZhrGmLdAy78eZrwwsTS0eObTs+IdtgVanxBUExqGbb5VzrIISGIoUXsmqbgEhJldCQWqRf27SvPAn/o8XmgLhZsUkR4ll37mhk3n94Z4OlzY/7NLcYZfm7o1z2zT4vsvUNSXqprBCkmiTFbPX90/fh8GIT2sf+zTPdDMf4dVnNg4z+E0ixsGeBs9jd5ViSgLHjCb/peaR+MD3d4/ZJg2llyuG2Vwy7QWAs8PNnn1f7vkGSGxAzE6mk+kxkx/p/4unffSCR0hAoL1EBCYiPNdWNcwkNQTCR7feWX6g+7f/A7I8rcw/U6UEe0Ndrhc/W7mtL9ztmqlSgstSS/zTJ28dalpOpkRryrwbhwBACgsLMWPGDOT4ll3qyeqAkJTdCF7P/CrUY/GkLL1rE+2hTbSH8+0Lb/WEuhzhyaA905blf9Vd/895WnZwLHrPevir/cvOB1oLYpTtLrm6oYGIMDExAaqtrUVKSgqYGSKCk0WHq5ikkWEWtNL0imv5qUW+RclLRjJsrhBAuH1/QL8R7HR4xy5nescuP23E6hOA6mLv+sb4uTw6Ogqqq6uDpmkQkcStorX4XRcM1FjZ+kvFFjCJKU1WpkNJJUqIMtX1RyLeX3JtQ0JRhmGYZ/L27duRnJycuFGISOJ9pqh5lrB6iYgqGOxRrOaa54DcZmKvkJxk8JHC9rKh+KVhOsD4+Dj+MwADIf8n5m4xGwAAAABJRU5ErkJggg==');\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button.vis-edit,\ndiv.vis-network div.vis-edit-mode button.vis-button.vis-edit {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNVQxNDoxMjoyNSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDVUMTQ6MTI6MjUrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjY5OTM3ZGZjLTJjNzQtYTU0YS05OTIzLTQyMmZhNDNkMjljNDwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDozOWNhNzE5ZC03YzNlLTUyNGEtYmY1NS03NGVmMmM1MzE0YTc8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDVUMTQ6MTI6MjUrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjY5OTM3ZGZjLTJjNzQtYTU0YS05OTIzLTQyMmZhNDNkMjljNDwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNVQxNDoxMjoyNSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjM5Y2E3MTlkLTdjM2UtNTI0YS1iZjU1LTc0ZWYyYzUzMTRhNzwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4ykninAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAYpSURBVHjafFZtTFvnFX7Oea+NudiY2Hwam4CBlgQwXdKREDKUoYg0jbRJ29RJ2VZ1mjRFUxSpA3VTfkzJfkQbS7spU6rtx5Z2UtppScjaHxvLuiatWi2jLEoMIUDCh23g2gbj7+tPuPvhOurawPl1dc99n+c55z33fV46ceIEZFkGADAziAgAQERoe/9ZK4GPM/AcgbsIXAcABCgMvkfAqAa89eDoJyF8LogIqqqChoaGYDAYHr8kItS8uc8iIH6iAa9IkAo5EAQX8pqmgUVBCBggYFgDhv0/GAsBgKZpICJkMhnQ4OAgZFkGEYGZUXmp+0cS+CKBwWA0DVRPOg5Zl2q6zaHyJlnVAMQXVTkwHrUqH0Xsvn+tdQAAMQDgpPLS2MViFY8rkGUZzIzaS/t/xqCzGggtz9e697zsnKhoLUtim4jOq/LE6x7X0nsh16dEZ5a/O3a2SCAOHjwInU6Hujd6ThJ4mCDQ+b2G232v7v6vwarPbQn8MGlMr+X0kpE3Wr5Zt5hL5HPhqYSdQIfKJ+yhxDPKWC6Xg+jt7UXD5b5KBt1kCHS85Ljd8/On3NupfnhFaZj4rWff1B98B1R/hnUmKd36bdtCNl4g0en4edNE/cXwLq8qMTMIPAQwmo/WuHvObA8+9c58k/dKtD0TyZWXN5YGA7ej7epKxspM//7SoNOdWc/Jyq2wiwhDzPxT8cP0jys3VMM7OmL0/77zn4Ydui3b8uiK0jD7RrA77c9Wd57cefPpF+2T6bWsFPWkaiPTCWvTsZpHFU+XrS+8G3AR08F6X+1FJvBxQQzHQOWk2SmrW4FPX/U2LVwPuDZj+fJKl2khPpeyAqA9rzR/YqwuiWXX8taN/CabGkrVuq9YJlkQQDjOAJ5jAhz9Vt9W4N5/rNp8I+vtMV/aZm4zLnUNNt0urdYnF68HWoJj4Wo1mLGUNRr8LEgDgNqeCh8xQIKOsgC7iAjVe83rT9zQa8uNM28u70kspessu8q8zq/V3NcZpVzb9+0zmVhOvvvrhaMVzrJg0zeq7xMVCCwdpnWSGBqjUyJwLTFgbvxie3w31uoWR1Y74r60rdxZqrR8q85t2W2MGCp12bm/KC3hyaSTiMhxuGrKcahqpbjOaDOoEhOEoFqJQCCJvqA85I6bfTdDjQlf2lbxVNlS6wt19yy7jRHZZlDnrinNj/6sHMhnNw2Ogco7O79e5fm/xQywRBBCEAuwn4gQ96bkYj4Vyuq9N1Z3Bj4Od5bs0MXt/dZZ21ctiqFan174q985P+Lfp+U1g7XDON/1ctP458WlVjLyJhOISZE0wM0S1QfuRC3lTjkJAKKEtNC9eIOhSh9xHLZOJRZTFuXDsEoStLkR/768ummsaJG9Pb9oe+9J+xaeSVokiQDSJphAo5uaBuWjiKP4QTqS1cUWU7ayesN66wu22frD1vmVW6GW6T8u9eVjGyZzs+w78Nqu0a2mbvVu1KEJQAgeZRL0liQYyx+GOmKeQpu0rMYsAJPNEFGD2dLodLIy6c9Ys7G8yeSUl3tf2/X3rcBVJSOv34l3sCBogi7z1LH/rBHjl4IJ93/ncQFAnjeImJD0Z8zuCwu9q3djDXqTlAKID5xv+9t2R8n8VcUFBljQ8Gyfe40BYBM4DwDLt8Kue79ZcFkbzfEdbUbv+oN4c9KTtsfm1MbYQqqh+2zrVZYKs/7Ef+byimt1POYiJhDhPBFBIiIEXhxfs7/dfYoIF+auBfYTE/pebx/V8hqBP2ODvD34yvuh/WCAmU75Bx6sIgaI/v5+6PV6JLqUsYr7dpDAoehs0h73pHTWrvKgThYbRSt9UmSjef3MpaUvBz4O72UmADgTOPJguGiZor+/HyUlJWBmJFz+D8xTtlUiOpbwpmrmrweeSXrT+g11k4SBN3RGKUcAVCVdFhyP1nreDbY//NPyEXUlU/Pp4XYycGT6V0Ux2WwWdO7cOZSWlkII8diX7SPPNgDaKdbxoNAxwATBAEkEEgSWCEQAqPAMwqvMdCEwMO0tVqZpWsGTT58+DaPR+PhGIYQAAAgh0P7B3ioW/B0iGiCGiwXbCuOHFSJys6AbYFye2T+xWhT3WYJEIoH/DQBMw3kes8OJPgAAAABJRU5ErkJggg==');\n}\n\ndiv.vis-network div.vis-edit-mode button.vis-button.vis-edit.vis-edit-mode {\n  background-color: #fcfcfc;\n  border: 1px solid #cccccc;\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button.vis-connect {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNDozODo1NyswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTQ6Mzg6NTcrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjlmYjUwMDU0LWE3ODEtMWQ0OC05ZTllLTU2ZWQ5YzhlYjdjNjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo3ZWRhMjI0MC0yYTQxLTNlNDQtYWM2My1iNzNiYTE5OWI3Y2E8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTQ6Mzg6NTcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjlmYjUwMDU0LWE3ODEtMWQ0OC05ZTllLTU2ZWQ5YzhlYjdjNjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNDozODo1NyswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjdlZGEyMjQwLTJhNDEtM2U0NC1hYzYzLWI3M2JhMTk5YjdjYTwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4ubxs+AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAUtSURBVHjajJZ/bNT1Gcdfz/P53PV6B4W7VltLqdAaplIOiMOoyxxJCSs/Gv/yB4gzJroAosmmDklwkYWR0bQsdmkykoojTpcsWYLxD/lRZdMQkTHRtkLZRqG0tIVe7662vTu43n32x/VKZ/jh89cn38/zvN7P5/l88zwf2blzJz6fDwARQUSm1n8s31CM0/VAnbNmsUPuAsDpgEO+Bg4C7//iyv5hvmMiQiqVQpqamvB6vVNwEeG1JZtCBrYi/MrkAwDNgjhwAlbzICBLA0rDb0+/839C6XQaaWxspLCw8Dp86cbNmqVFJQddE6KzdjZ9D89g+B6fSyCOcyn1nxil+O9xKg5HqWFSHGXLjrP7W/ICqVQK2bNnDz6fDxFh65KNvxbHDhF4rJj2bXPo+IGfcW5h5xL4f99P+FCEMIAob75x9t0dAMlkElNXV4e1lteXbNqiQoMaeOFOjrdU868SD2luYyEP6dUh+sYmSHeOU6GO5Z8VLx5+NNZxIpPJ5AS2L3upROCoCvz8Lo7vnkf77cAHhpiz/zIL9vWz8L8p/NvupmM0Q7pjnAoLqz8tDrc8MnQqYVUVhVdF4LEg7b+rvDn8wDDlH0WoPpukLJImSBaMwjcJqmwWts2jPZLG/8kwYVFeVdXXZcFf4yVDc2cNKfBFmD9X+0ncCP58F48eG+Feo2CAUkvs4dl0V/uJvdXLiiV+ut++n7YLSfxPfMMG54ChzB3WIesVWB2i82bw1AR6fJR7C4VsfYiv6u/k3A9nEgP4zXke8DiYHyAOMK+QxPIgnZ9GqSHr1itQJ8DK2fTerDQ+S/bHRXQJaHSCwNIZ2Xh+7+S3VAmwNMBA/tuPZtErgKquUmdMWIFlRURvdamRNEXGwIWrlP47pTMzLiunxghGMwTLvcTWlHAp77s4QNSrYMQtss6ZMgWqCm5cHoDHO1nbk6K8zEN8+3zatv2Hn1b59EqJZdxmYUERg9P9KwpIiAOTdWUWBXuLzB/vZG3P1Un4PNp2d1MbmyD45TWCxuCsQm0x56bHGHFYEZwxok7toAA9Sfw3hCcoL/NOwi9QO5wmWO1j4JEgZxTkodmcWRGkf3pcX0r8xoAaBixKu4U5/xwndM+0tpAvS6mP+PZK2nb1UBvPEKwKMLDvPj4ESGc55lGy303sdJKQdZB2rkMdctAB/4gzN+/Q2ENNd4LyUi/xN+bTtquX2thk5nk4wI3gAF+OMNcA1nFQDfK+BY5GqbkwWabTY5QZhXWlnNx1ntrY1Rz87fuvw29m/Sn8J+PUGAFj5T19baA1IspuBZp7cx1x4SwG1cEf+lgRSROs8jGwb+Ht4QB/GSSsAhYano39LWIBxNEIbP14hPDuiyS2VtJuHXQlKKvxM/jiXDq/D/xPlwifGMkJZB2NIoKpr69nxeiZxLHicFSFVWfGqBidIP3LSjrWltD94CyufF/4kQgPuVz2Lz93+dDRa9eu5QQ8Hg8/iXee+Dy4CKMs7xqn4nwKz9IirhQqmVuB42m8ey+x7LMoD6iAON782eChhqmRuXfvXgKBAKqKqtI0/8nNKrQI4BVYXkzHgzPpC88gWuHL/caXrhLoGiN0apSKr0ZZRBZM7q2w5ZnLR1oAnHOMjY0hra2tFBQUYIyZmstvVT1Z6eDlAuEVq7merxmwueNPDXy9PvybjKP5mctHLk4/XTKZRJqbm/H7/VNw1VyEMYbW4FN3WNWnnchKoy5sHeVGBRX6VWi3ymFx7r11Ix8MTX/y5C2RSPC/AQB61erowbpqSwAAAABJRU5ErkJggg==');\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button.vis-delete {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNDo0MTowNCswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTQ6NDE6MDQrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjc3NDkzYmUxLTEyZGItOTg0NC1iNDYyLTg2NGVmNGIzMzM3MTwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDowNmE3NWYwMy04MDdhLWUzNGYtYjk1Zi1jZGU2MjM0Mzg4OGY8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTQ6NDE6MDQrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjc3NDkzYmUxLTEyZGItOTg0NC1iNDYyLTg2NGVmNGIzMzM3MTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNDo0MTowNCswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjA2YTc1ZjAzLTgwN2EtZTM0Zi1iOTVmLWNkZTYyMzQzODg4Zjwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4aYJzYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAYGSURBVHjalJZ7UJTnFcZ/73m/72PdJY1RbhoQp6lkXRAvmIYxdCUadLVOozPNtGObap1JsKipjiShbdoRbeKEiQHpQK3xj0xa03aamTbaTGyAYV1QGeqFi+JyiZFLAlmESBkWRmS3fyzslGkmnZ5/v/M873Oe75zzvqqoqAibzQaAiKCUAkApRdHIK/NFsx2NR91nOSILADDoJyzNaM4xxbtvPHh0iC+JiYkJ1OHDh4mJiUEpFSXPv/ziPC28TIiXDCOSrAClQDSEpsCwJPIhrEBRQpiSytXlQwDhcBilFPfu3UMVFxdjt9ujFTzfcLBADCoEEAFr1ZbrrNjch2vtEImPBgHob7fTcWE+bVXJNJ/NiFQlEGLvieXHKmYqGB8fRx05cgSbzYaIsPvywV8pKFaA7fGtLTzz61YWpo/xVTHQbufsq5lcez9zWuWhk5mvFwMEg0H0+vXrMU2Tn1wp3CtCiQ5DjGd3A/m/v8IDCZP8r4iNmyRrWx/j/5qktykZpXKzAjVDVxPzGqemptDr1q1jX3NRnIJarcDKK2hgR2ULXRfncv7UYv7xpovhnhiW5Mz+kefeSKO6LJ1A1xzEuk/Ojm4mRibpuZaMZW3OCtRUND60NmiICCIUShisx7a2sLMiQn4s77uEQgIabnqdfHIlgT1/qQeg8vs5dHhdCNB1wYn3RIiC995j26stjAbsNH+YiZJCESnS1Y/XxIXu8r4YIPv/VkVs3CTnTy2ms34xro1+sp9po6sxlTu34ultmsPVvy6is86FCHgO+DDs49zpjufBpCG+seYOC9OHaTidieicb9ouVAhKtouAseI710ma7pLuqwmgYfHqAFt+6WdLoQ/LBl11Lm7VudAa8vb72PCin9TlAWIsGGhLACD+kSAZnusYBii1XQAPYWDllt6ov2lrBkDBR2+6Ofuak2//3M+G/T4wAAPW7fPhKfRTVeqk9qQbFKRmDUTxS3N7QYGYmwzCkqklBGlPDEcTNv+sg9tNCbTXuvBWujE0bHrZj9JE1B/wU1Pm5PwJN6YBS9a2kVvQEcWnrh5GTFD3lxkYkqRMgYQlwVldUvDnen73LHTUuqitdKM0eAr9AFQfd1J/yo2aJn+2sn4Wdn5qEFODJskgBIjx5T0uCrQA08pnIjS9PERDjPnfOKXAMEBECUoGEIHBj+2zkt76UQ6dXheGAev3+cg74Kf6uJPqcicbfuond7cPy4SOiy7+tD9nFvZurx00KOk3CNEC+mE+vjSPBc7IWqgqTaPT60IMcO/xsXGa3HfKjRgRdbl7/KDg0jtubje6aHj7c7J3dgLQ2zoPwwQ91SooOQdAW1VKVMHty0kA5Bb48BycJn/LjWFGbLv4thvvb53kFvjJ+XEdWkPfjQVR/CcNKYgGMc8JWt5Fa2j+MIPPuyI2pa4IoHSkt6vLIuRaQ9q32khzt4GCxtNu6k46GeiIR2lIfDQQsafPzq1LGRGL9Gk9d+vrwewvfHPQOoexQVjxdB/auk/zmaUMdsfz6bVUtIalT7bxveP1ZHh6GPDPYeSzeD69kcpIfxymFWLNrka+ljhBTWkWwz2JiJT84YHnz2iPx0P20PkmRF5i6HYiwZFJsn/YzdezbzE3cQibY5xV266z6RfXohakb+xB9CjanCD9qTbW7Grk4WV38VZm0l6dhQiEw9taHSuDqrS0FIfDwXM3X9mHMsvRAk/sauDpQy38P+GtzOTGB9mEpkD0C2dS8n8zOjqK9ng8WJZFU+JTjasGvaCNXPpvJBPoMlm0OoDNMfWVxONfWNSUPUZ7TUQ56tCZlPwSgMnJSVRpaSmxsbFE1raw82ZxAZZRQUiBYUKGp5UlOX2krBzmoUVjiIKhHge9rfPo+Wcy3ZeXIYASgL1/X5RfMXMvj46OosrLy7HZbGitUUohIuzoem0RofALaOsghgWGjky0MiJTL8b0lOvI8hN1DKXKP0jd3TNTWDgcJhgMoo4ePYrD4Yi+KmaeLlprnrtXFo9h/AAlG1AqE8yFmBrC+jO0bgH9EVpO/1F2Dc5g//OAsbEx/j0Af+USsQynL1UAAAAASUVORK5CYII=');\n}\n/* top right bottom left */\ndiv.vis-network div.vis-manipulation div.vis-label,\ndiv.vis-network div.vis-edit-mode div.vis-label {\n  margin: 0 0 0 23px;\n  line-height: 25px;\n}\ndiv.vis-network div.vis-manipulation div.vis-separator-line {\n  float: left;\n  display: inline-block;\n  width: 1px;\n  height: 21px;\n  background-color: #bdbdbd;\n  margin: 0px 7px 0 15px; /*top right bottom left*/\n}\n\n/* TODO: is this redundant?\ndiv.network-navigation_wrapper {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n}\n*/\n");var DZ=function(){function t(e,n,i,r){var o,s,a=this;Qy(this,t),this.body=e,this.canvas=n,this.selectionHandler=i,this.interactionHandler=r,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},gf(this.options,this.defaultOptions),this.body.emitter.on("destroy",(function(){a._clean()})),this.body.emitter.on("_dataChanged",Of(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",Of(s=this._restore).call(s,this))}return nk(t,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,n){void 0!==e&&(void 0!==e.locale?this.options.locale=e.locale:this.options.locale=n.locale,void 0!==e.locales?this.options.locales=e.locales:this.options.locales=n.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,tN(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){var t,e;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),r=n+i,o=this.options.locales[this.options.locale],s=!1;!1!==this.options.addNode&&(this._createAddNodeButton(o),s=!0),!1!==this.options.addEdge&&(!0===s?this._createSeperator(1):s=!0,this._createAddEdgeButton(o)),1===n&&"function"==typeof this.options.editNode?(!0===s?this._createSeperator(2):s=!0,this._createEditNodeButton(o)):1===i&&0===n&&!1!==this.options.editEdge&&(!0===s?this._createSeperator(3):s=!0,this._createEditEdgeButton(o)),0!==r&&(n>0&&!1!==this.options.deleteNode||0===n&&!1!==this.options.deleteEdge)&&(!0===s&&this._createSeperator(4),this._createDeleteButton(o)),this._bindElementEvents(this.closeDiv,Of(t=this.toggleEditMode).call(t,this)),this._temporaryBindEvent("select",Of(e=this.showManipulatorToolbar).call(e,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var t;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var e,n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,Of(e=this.toggleEditMode).call(e,this))}this._temporaryBindEvent("click",Of(t=this._performAddNode).call(t,this))}},{key:"editNode",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var e=this.selectionHandler.getSelectedNodes()[0];if(void 0!==e){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==e.isCluster){var n=tN({},e.options,!1);if(n.x=e.x,n.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(n,(function(e){null!=e&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(e),t.showManipulatorToolbar()}))}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var t,e,n,i,r;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var o,s=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(s),this._createSeperator(),this._createDescription(s.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,Of(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",Of(t=this._handleConnect).call(t,this)),this._temporaryBindUI("onDragEnd",Of(e=this._finishConnect).call(e,this)),this._temporaryBindUI("onDrag",Of(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",Of(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",Of(r=this._dragStartEdge).call(r,this)),this._temporaryBindUI("onHold",(function(){}))}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==JE(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var t,e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,Of(t=this.toggleEditMode).call(t,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId){var n,i,r,o,s=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(s.from.x,s.from.y),g=this._getNewTargetNode(s.to.x,s.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(g.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[g.id]=g,this.body.nodeIndices.push(g.id),this._temporaryBindUI("onTouch",Of(n=this._controlNodeTouch).call(n,this)),this._temporaryBindUI("onTap",(function(){})),this._temporaryBindUI("onHold",(function(){})),this._temporaryBindUI("onDragStart",Of(i=this._controlNodeDragStart).call(i,this)),this._temporaryBindUI("onDrag",Of(r=this._controlNodeDrag).call(r,this)),this._temporaryBindUI("onDragEnd",Of(o=this._controlNodeDragEnd).call(o,this)),this._temporaryBindUI("onMouseMove",(function(){})),this._temporaryBindEvent("beforeDrawing",(function(t){var e=s.edgeType.findBorderPositions(t);!1===a.selected&&(a.x=e.from.x,a.y=e.from.y),!1===g.selected&&(g.x=e.to.x,g.y=e.to.y)})),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var l=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(l.from.id,l.to.id)}}},{key:"deleteSelected",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var e=this.selectionHandler.getSelectedNodeIds(),n=this.selectionHandler.getSelectedEdgeIds(),i=void 0;if(e.length>0){for(var r=0;r<e.length;r++)if(!0===this.body.nodes[e[r]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(i=this.options.deleteNode)}else n.length>0&&"function"==typeof this.options.deleteEdge&&(i=this.options.deleteEdge);if("function"==typeof i){var o={nodes:e,edges:n};if(2!==i.length)throw new Error("The function for delete does not support two arguments (data, callback)");i(o,(function(e){null!=e&&"delete"===t.inMode?(t.body.data.edges.getDataSet().remove(e.edges),t.body.data.nodes.getDataSet().remove(e.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().remove(n),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){var t,e;void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",null!==(t=null===(e=this.options.locales[this.options.locale])||void 0===e?void 0:e.close)&&void 0!==t?t:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var n=tN({},this.options.controlNodeStyle);n.id="targetNode"+GV(),n.hidden=!1,n.physics=!1,n.x=t,n.y=e;var i=this.body.functions.createNode(n);return i.shape.boundingBox={left:t,right:t,top:e,bottom:e},i}},{key:"_createEditButton",value:function(){var t;this._clean(),this.manipulationDOM={},q_(this.editModeDiv);var e=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",e.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,Of(t=this.toggleEditMode).call(t,this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(q_(this.editModeDiv),q_(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var t,e,n=function(t,e){var n=void 0!==Hk&&Yy(t)||t["@@iterator"];if(!n){if(sS(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return NZ(t,e);var i=Jk(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ty(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?NZ(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(lT(t=this._domEventListenerCleanupQueue).call(t,0));try{for(n.s();!(e=n.n()).done;)(0,e.value)()}catch(t){n.e(t)}finally{n.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),q_(this.manipulationDiv),q_(this.editModeDiv),q_(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e,n=this._createButton("addNode","vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Of(e=this.addNodeMode).call(e,this))}},{key:"_createAddEdgeButton",value:function(t){var e,n=this._createButton("addEdge","vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Of(e=this.addEdgeMode).call(e,this))}},{key:"_createEditNodeButton",value:function(t){var e,n=this._createButton("editNode","vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Of(e=this.editNode).call(e,this))}},{key:"_createEditEdgeButton",value:function(t){var e,n=this._createButton("editEdge","vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Of(e=this.editEdgeMode).call(e,this))}},{key:"_createDeleteButton",value:function(t){var e,n;n=this.options.rtl?"vis-delete-rtl":"vis-delete";var i=this._createButton("delete",n,t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Of(e=this.deleteSelected).call(e,this))}},{key:"_createBackButton",value:function(t){var e,n=this._createButton("back","vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Of(e=this.showManipulatorToolbar).call(e,this))}},{key:"_createButton",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("button"),this.manipulationDOM[t+"Div"].className="vis-button "+e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=i,this.manipulationDOM[t+"Label"].innerText=n,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=t,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+wO(dS(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var e=this.temporaryEventFunctions[t].event,n=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,n)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(t,e){var n=new TN(t,{});$U(n,e),this._domEventListenerCleanupQueue.push((function(){n.destroy()}));var i=function(t){var n=t.keyCode,i=t.key;"Enter"!==i&&" "!==i&&13!==n&&32!==n||e()};t.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push((function(){t.removeEventListener("keyup",i,!1)}))}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){var e;this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var n,i=fO(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[t]);-1!==i&&lT(n=this.body.edgeIndices).call(n,i,1)}for(var r=0;r<this.temporaryIds.nodes.length;r++){var o;delete this.body.nodes[this.temporaryIds.nodes[r]];var s,a=fO(o=this.body.nodeIndices).call(o,this.temporaryIds.nodes[r]);-1!==a&&lT(s=this.body.nodeIndices).call(s,a,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=gf({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var t=this.lastTouch,e=this.selectionHandler._pointerToPositionObject(t),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],r=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var o=n.isOverlappingWith(e),s=i.isOverlappingWith(e);!0===o?(this.selectedControlNode=n,r.edgeType.from=n):!0===s&&(this.selectedControlNode=i,r.edgeType.to=i),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),n=this.canvas.DOMtoCanvas(e);void 0!==this.selectedControlNode?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(t),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),n=this.selectionHandler._pointerToPositionObject(e),i=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,s=r.length-1;s>=0;s--)if(r[s]!==this.selectedControlNode.id){o=this.body.nodes[r[s]];break}if(void 0!==o&&void 0!==this.selectedControlNode)if(!0===o.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(o.id,i.to.id):this._performEditEdge(i.from.id,o.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=gf({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var e=this.lastTouch,n=this.selectionHandler.getNodeAt(e);if(void 0!==n)if(!0===n.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);var r=this.body.functions.createEdge({id:"connectionEdge"+GV(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[r.id]=r,this.body.edgeIndices.push(r.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(r.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center),n=this.selectionHandler._pointerToPositionObject(e),i=void 0;void 0!==this.temporaryIds.edges[0]&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,s=r.length-1;s>=0;s--){var a;if(-1===fO(a=this.temporaryIds.nodes).call(a,r[s])){o=this.body.nodes[r[s]];break}}if(t.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",t,e),void 0!==this.temporaryIds.nodes[0]){var g=this.body.nodes[this.temporaryIds.nodes[0]];g.x=this.canvas._XconvertDOMtoCanvas(e.x),g.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(t)}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),n=this.selectionHandler._pointerToPositionObject(e),i=void 0;void 0!==this.temporaryIds.edges[0]&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,s=r.length-1;s>=0;s--){var a;if(-1===fO(a=this.temporaryIds.nodes).call(a,r[s])){o=this.body.nodes[r[s]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==o&&(!0===o.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[i]&&void 0!==this.body.nodes[o.id]&&this._performAddEdge(i,o.id)),t.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",t,e),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){var e=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",t,e,void 0,!0)}},{key:"_performAddNode",value:function(t){var e=this,n={id:GV(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(n,(function(t){null!=t&&"addNode"===e.inMode&&e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar()}))}else this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var n=this,i={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(i,(function(t){null!=t&&"addEdge"===n.inMode&&(n.body.data.edges.getDataSet().add(t),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var n=this,i={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges.get(this.edgeBeingEditedId).label},r=this.options.editEdge;if("object"===JE(r)&&(r=r.editWithoutDrag),"function"==typeof r){if(2!==r.length)throw new Error("The function for edit does not support two arguments (data, callback)");r(i,(function(t){null==t||"editEdge"!==n.inMode?(n.body.edges[i.id].updateEdgeType(),n.body.emitter.emit("_redraw"),n.showManipulatorToolbar()):(n.body.data.edges.getDataSet().update(t),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().update(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),t}(),PZ="string",MZ="boolean",LZ="number",jZ="array",BZ="object",FZ=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],zZ={borderWidth:{number:LZ},borderWidthSelected:{number:LZ,undefined:"undefined"},brokenImage:{string:PZ,undefined:"undefined"},chosen:{label:{boolean:MZ,function:"function"},node:{boolean:MZ,function:"function"},__type__:{object:BZ,boolean:MZ}},color:{border:{string:PZ},background:{string:PZ},highlight:{border:{string:PZ},background:{string:PZ},__type__:{object:BZ,string:PZ}},hover:{border:{string:PZ},background:{string:PZ},__type__:{object:BZ,string:PZ}},__type__:{object:BZ,string:PZ}},opacity:{number:LZ,undefined:"undefined"},fixed:{x:{boolean:MZ},y:{boolean:MZ},__type__:{object:BZ,boolean:MZ}},font:{align:{string:PZ},color:{string:PZ},size:{number:LZ},face:{string:PZ},background:{string:PZ},strokeWidth:{number:LZ},strokeColor:{string:PZ},vadjust:{number:LZ},multi:{boolean:MZ,string:PZ},bold:{color:{string:PZ},size:{number:LZ},face:{string:PZ},mod:{string:PZ},vadjust:{number:LZ},__type__:{object:BZ,string:PZ}},boldital:{color:{string:PZ},size:{number:LZ},face:{string:PZ},mod:{string:PZ},vadjust:{number:LZ},__type__:{object:BZ,string:PZ}},ital:{color:{string:PZ},size:{number:LZ},face:{string:PZ},mod:{string:PZ},vadjust:{number:LZ},__type__:{object:BZ,string:PZ}},mono:{color:{string:PZ},size:{number:LZ},face:{string:PZ},mod:{string:PZ},vadjust:{number:LZ},__type__:{object:BZ,string:PZ}},__type__:{object:BZ,string:PZ}},group:{string:PZ,number:LZ,undefined:"undefined"},heightConstraint:{minimum:{number:LZ},valign:{string:PZ},__type__:{object:BZ,boolean:MZ,number:LZ}},hidden:{boolean:MZ},icon:{face:{string:PZ},code:{string:PZ},size:{number:LZ},color:{string:PZ},weight:{string:PZ,number:LZ},__type__:{object:BZ}},id:{string:PZ,number:LZ},image:{selected:{string:PZ,undefined:"undefined"},unselected:{string:PZ,undefined:"undefined"},__type__:{object:BZ,string:PZ}},imagePadding:{top:{number:LZ},right:{number:LZ},bottom:{number:LZ},left:{number:LZ},__type__:{object:BZ,number:LZ}},label:{string:PZ,undefined:"undefined"},labelHighlightBold:{boolean:MZ},level:{number:LZ,undefined:"undefined"},margin:{top:{number:LZ},right:{number:LZ},bottom:{number:LZ},left:{number:LZ},__type__:{object:BZ,number:LZ}},mass:{number:LZ},physics:{boolean:MZ},scaling:{min:{number:LZ},max:{number:LZ},label:{enabled:{boolean:MZ},min:{number:LZ},max:{number:LZ},maxVisible:{number:LZ},drawThreshold:{number:LZ},__type__:{object:BZ,boolean:MZ}},customScalingFunction:{function:"function"},__type__:{object:BZ}},shadow:{enabled:{boolean:MZ},color:{string:PZ},size:{number:LZ},x:{number:LZ},y:{number:LZ},__type__:{object:BZ,boolean:MZ}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:MZ,array:jZ},borderRadius:{number:LZ},interpolation:{boolean:MZ},useImageSize:{boolean:MZ},useBorderWithImage:{boolean:MZ},coordinateOrigin:{string:["center","top-left"]},__type__:{object:BZ}},size:{number:LZ},title:{string:PZ,dom:"dom",undefined:"undefined"},value:{number:LZ,undefined:"undefined"},widthConstraint:{minimum:{number:LZ},maximum:{number:LZ},__type__:{object:BZ,boolean:MZ,number:LZ}},x:{number:LZ},y:{number:LZ},__type__:{object:BZ}},VZ={configure:{enabled:{boolean:MZ},filter:{boolean:MZ,string:PZ,array:jZ,function:"function"},container:{dom:"dom"},showButton:{boolean:MZ},__type__:{object:BZ,boolean:MZ,string:PZ,array:jZ,function:"function"}},edges:{arrows:{to:{enabled:{boolean:MZ},scaleFactor:{number:LZ},type:{string:FZ},imageHeight:{number:LZ},imageWidth:{number:LZ},src:{string:PZ},__type__:{object:BZ,boolean:MZ}},middle:{enabled:{boolean:MZ},scaleFactor:{number:LZ},type:{string:FZ},imageWidth:{number:LZ},imageHeight:{number:LZ},src:{string:PZ},__type__:{object:BZ,boolean:MZ}},from:{enabled:{boolean:MZ},scaleFactor:{number:LZ},type:{string:FZ},imageWidth:{number:LZ},imageHeight:{number:LZ},src:{string:PZ},__type__:{object:BZ,boolean:MZ}},__type__:{string:["from","to","middle"],object:BZ}},endPointOffset:{from:{number:LZ},to:{number:LZ},__type__:{object:BZ,number:LZ}},arrowStrikethrough:{boolean:MZ},background:{enabled:{boolean:MZ},color:{string:PZ},size:{number:LZ},dashes:{boolean:MZ,array:jZ},__type__:{object:BZ,boolean:MZ}},chosen:{label:{boolean:MZ,function:"function"},edge:{boolean:MZ,function:"function"},__type__:{object:BZ,boolean:MZ}},color:{color:{string:PZ},highlight:{string:PZ},hover:{string:PZ},inherit:{string:["from","to","both"],boolean:MZ},opacity:{number:LZ},__type__:{object:BZ,string:PZ}},dashes:{boolean:MZ,array:jZ},font:{color:{string:PZ},size:{number:LZ},face:{string:PZ},background:{string:PZ},strokeWidth:{number:LZ},strokeColor:{string:PZ},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:LZ},multi:{boolean:MZ,string:PZ},bold:{color:{string:PZ},size:{number:LZ},face:{string:PZ},mod:{string:PZ},vadjust:{number:LZ},__type__:{object:BZ,string:PZ}},boldital:{color:{string:PZ},size:{number:LZ},face:{string:PZ},mod:{string:PZ},vadjust:{number:LZ},__type__:{object:BZ,string:PZ}},ital:{color:{string:PZ},size:{number:LZ},face:{string:PZ},mod:{string:PZ},vadjust:{number:LZ},__type__:{object:BZ,string:PZ}},mono:{color:{string:PZ},size:{number:LZ},face:{string:PZ},mod:{string:PZ},vadjust:{number:LZ},__type__:{object:BZ,string:PZ}},__type__:{object:BZ,string:PZ}},hidden:{boolean:MZ},hoverWidth:{function:"function",number:LZ},label:{string:PZ,undefined:"undefined"},labelHighlightBold:{boolean:MZ},length:{number:LZ,undefined:"undefined"},physics:{boolean:MZ},scaling:{min:{number:LZ},max:{number:LZ},label:{enabled:{boolean:MZ},min:{number:LZ},max:{number:LZ},maxVisible:{number:LZ},drawThreshold:{number:LZ},__type__:{object:BZ,boolean:MZ}},customScalingFunction:{function:"function"},__type__:{object:BZ}},selectionWidth:{function:"function",number:LZ},selfReferenceSize:{number:LZ},selfReference:{size:{number:LZ},angle:{number:LZ},renderBehindTheNode:{boolean:MZ},__type__:{object:BZ}},shadow:{enabled:{boolean:MZ},color:{string:PZ},size:{number:LZ},x:{number:LZ},y:{number:LZ},__type__:{object:BZ,boolean:MZ}},smooth:{enabled:{boolean:MZ},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:LZ},forceDirection:{string:["horizontal","vertical","none"],boolean:MZ},__type__:{object:BZ,boolean:MZ}},title:{string:PZ,undefined:"undefined"},width:{number:LZ},widthConstraint:{maximum:{number:LZ},__type__:{object:BZ,boolean:MZ,number:LZ}},value:{number:LZ,undefined:"undefined"},__type__:{object:BZ}},groups:{useDefaultGroups:{boolean:MZ},__any__:zZ,__type__:{object:BZ}},interaction:{dragNodes:{boolean:MZ},dragView:{boolean:MZ},hideEdgesOnDrag:{boolean:MZ},hideEdgesOnZoom:{boolean:MZ},hideNodesOnDrag:{boolean:MZ},hover:{boolean:MZ},keyboard:{enabled:{boolean:MZ},speed:{x:{number:LZ},y:{number:LZ},zoom:{number:LZ},__type__:{object:BZ}},bindToWindow:{boolean:MZ},autoFocus:{boolean:MZ},__type__:{object:BZ,boolean:MZ}},multiselect:{boolean:MZ},navigationButtons:{boolean:MZ},selectable:{boolean:MZ},selectConnectedEdges:{boolean:MZ},hoverConnectedEdges:{boolean:MZ},tooltipDelay:{number:LZ},zoomView:{boolean:MZ},zoomSpeed:{number:LZ},__type__:{object:BZ}},layout:{randomSeed:{undefined:"undefined",number:LZ,string:PZ},improvedLayout:{boolean:MZ},clusterThreshold:{number:LZ},hierarchical:{enabled:{boolean:MZ},levelSeparation:{number:LZ},nodeSpacing:{number:LZ},treeSpacing:{number:LZ},blockShifting:{boolean:MZ},edgeMinimization:{boolean:MZ},parentCentralization:{boolean:MZ},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:BZ,boolean:MZ}},__type__:{object:BZ}},manipulation:{enabled:{boolean:MZ},initiallyActive:{boolean:MZ},addNode:{boolean:MZ,function:"function"},addEdge:{boolean:MZ,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:BZ,boolean:MZ,function:"function"}},deleteNode:{boolean:MZ,function:"function"},deleteEdge:{boolean:MZ,function:"function"},controlNodeStyle:zZ,__type__:{object:BZ,boolean:MZ}},nodes:zZ,physics:{enabled:{boolean:MZ},barnesHut:{theta:{number:LZ},gravitationalConstant:{number:LZ},centralGravity:{number:LZ},springLength:{number:LZ},springConstant:{number:LZ},damping:{number:LZ},avoidOverlap:{number:LZ},__type__:{object:BZ}},forceAtlas2Based:{theta:{number:LZ},gravitationalConstant:{number:LZ},centralGravity:{number:LZ},springLength:{number:LZ},springConstant:{number:LZ},damping:{number:LZ},avoidOverlap:{number:LZ},__type__:{object:BZ}},repulsion:{centralGravity:{number:LZ},springLength:{number:LZ},springConstant:{number:LZ},nodeDistance:{number:LZ},damping:{number:LZ},__type__:{object:BZ}},hierarchicalRepulsion:{centralGravity:{number:LZ},springLength:{number:LZ},springConstant:{number:LZ},nodeDistance:{number:LZ},damping:{number:LZ},avoidOverlap:{number:LZ},__type__:{object:BZ}},maxVelocity:{number:LZ},minVelocity:{number:LZ},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:MZ},iterations:{number:LZ},updateInterval:{number:LZ},onlyDynamicEdges:{boolean:MZ},fit:{boolean:MZ},__type__:{object:BZ,boolean:MZ}},timestep:{number:LZ},adaptiveTimestep:{boolean:MZ},wind:{x:{number:LZ},y:{number:LZ},__type__:{object:BZ}},__type__:{object:BZ,boolean:MZ}},autoResize:{boolean:MZ},clickToUse:{boolean:MZ},locale:{string:PZ},locales:{__any__:{any:"any"},__type__:{object:BZ}},height:{string:PZ},width:{string:PZ},__type__:{object:BZ}},GZ={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},UZ=function(t,e,n){var i;return!(!TT(t).call(t,"physics")||!TT(i=GZ.physics.solver).call(i,e)||n.physics.solver===e||"wind"===e)},WZ=function(){function t(){Qy(this,t)}return nk(t,[{key:"getDistances",value:function(t,e,n){for(var i={},r=t.edges,o=0;o<e.length;o++){var s={};i[e[o]]=s;for(var a=0;a<e.length;a++)s[e[a]]=o==a?0:1e9}for(var g=0;g<n.length;g++){var l=r[n[g]];!0===l.connected&&void 0!==i[l.fromId]&&void 0!==i[l.toId]&&(i[l.fromId][l.toId]=1,i[l.toId][l.fromId]=1)}for(var A=e.length,c=0;c<A;c++)for(var h=e[c],C=i[h],I=0;I<A-1;I++)for(var d=e[I],u=i[d],f=I+1;f<A;f++){var p=e[f],v=i[p],m=Math.min(u[p],u[h]+C[p]);u[p]=m,v[d]=m}return i}}]),t}(),ZZ=function(){function t(e,n,i){Qy(this,t),this.body=e,this.springLength=n,this.springConstant=i,this.distanceSolver=new WZ}return nk(t,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();for(var r=0,o=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),s=1e9,a=0,g=0,l=0,A=0,c=0;s>.01&&r<o;){r+=1;var h=Wk(this._getHighestEnergyNode(n),4);for(a=h[0],s=h[1],g=h[2],l=h[3],A=s,c=0;A>1&&c<5;){c+=1,this._moveNode(a,g,l);var C=Wk(this._getEnergy(a),3);A=C[0],g=C[1],l=C[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e=this.body.nodeIndices,n=this.body.nodes,i=0,r=e[0],o=0,s=0,a=0;a<e.length;a++){var g=e[a];if(!0!==n[g].predefinedPosition||!0===n[g].isCluster&&!0===t||!0!==n[g].options.fixed.x||!0!==n[g].options.fixed.y){var l=Wk(this._getEnergy(g),3),A=l[0],c=l[1],h=l[2];i<A&&(i=A,r=g,o=c,s=h)}}return[r,i,o,s]}},{key:"_getEnergy",value:function(t){var e=Wk(this.E_sums[t],2),n=e[0],i=e[1];return[Math.sqrt(Math.pow(n,2)+Math.pow(i,2)),n,i]}},{key:"_moveNode",value:function(t,e,n){for(var i=this.body.nodeIndices,r=this.body.nodes,o=0,s=0,a=0,g=r[t].x,l=r[t].y,A=this.K_matrix[t],c=this.L_matrix[t],h=0;h<i.length;h++){var C=i[h];if(C!==t){var I=r[C].x,d=r[C].y,u=A[C],f=c[C],p=1/Math.pow(Math.pow(g-I,2)+Math.pow(l-d,2),1.5);o+=u*(1-f*Math.pow(l-d,2)*p),s+=u*(f*(g-I)*(l-d)*p),a+=u*(1-f*Math.pow(g-I,2)*p)}}var v=(e/o+n/s)/(s/o-a/s),m=-(s*v+e)/o;r[t].x+=m,r[t].y+=v,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(var i=0;i<e.length;i++){this.L_matrix[e[i]]={};for(var r=0;r<e.length;r++)this.L_matrix[e[i]][e[r]]=n*t[e[i]][e[r]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(var i=0;i<e.length;i++){this.K_matrix[e[i]]={};for(var r=0;r<e.length;r++)this.K_matrix[e[i]][e[r]]=n*Math.pow(t[e[i]][e[r]],-2)}}},{key:"_createE_matrix",value:function(){var t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(var n=0;n<t.length;n++)this.E_matrix[t[n]]=[];for(var i=0;i<t.length;i++){for(var r=t[i],o=e[r].x,s=e[r].y,a=0,g=0,l=i;l<t.length;l++){var A=t[l];if(A!==r){var c=e[A].x,h=e[A].y,C=1/Math.sqrt(Math.pow(o-c,2)+Math.pow(s-h,2));this.E_matrix[r][l]=[this.K_matrix[r][A]*(o-c-this.L_matrix[r][A]*(o-c)*C),this.K_matrix[r][A]*(s-h-this.L_matrix[r][A]*(s-h)*C)],this.E_matrix[A][i]=this.E_matrix[r][l],a+=this.E_matrix[r][l][0],g+=this.E_matrix[r][l][1]}}this.E_sums[r]=[a,g]}}},{key:"_updateE_matrix",value:function(t){for(var e=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[t],r=this.K_matrix[t],o=this.L_matrix[t],s=n[t].x,a=n[t].y,g=0,l=0,A=0;A<e.length;A++){var c=e[A];if(c!==t){var h=i[A],C=h[0],I=h[1],d=n[c].x,u=n[c].y,f=1/Math.sqrt(Math.pow(s-d,2)+Math.pow(a-u,2)),p=r[c]*(s-d-o[c]*(s-d)*f),v=r[c]*(a-u-o[c]*(a-u)*f);i[A]=[p,v],g+=p,l+=v;var m=this.E_sums[c];m[0]+=p-C,m[1]+=v-I}}this.E_sums[t]=[g,l]}}]),t}();function HZ(t,e,n){var i,r,o,s,a=this;if(!(this instanceof HZ))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:sD,clickToUse:!1},gf(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:Of(i=this.on).call(i,this),off:Of(r=this.off).call(r,this),emit:Of(o=this.emit).call(o,this),once:Of(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new gD((function(){return a.body.emitter.emit("_requestRedraw")})),this.groups=new jP,this.canvas=new eW(this.body),this.selectionHandler=new uZ(this.body,this.canvas),this.interactionHandler=new sW(this.body,this.canvas,this.selectionHandler),this.view=new nW(this.body,this.canvas),this.renderer=new XU(this.body,this.canvas),this.physics=new qU(this.body),this.layoutEngine=new _Z(this.body),this.clustering=new KU(this.body),this.manipulation=new DZ(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new KG(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new BU(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new ZZ(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(n),this.setData(e)}function qZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Bf(HZ.prototype),HZ.prototype.setOptions=function(t){var e=this;if(null===t&&(t=void 0),void 0!==t){if(!0===_N.validate(t,VZ)&&console.error("%cErrors have been found in the supplied options object.",RN),J_(["locale","locales","clickToUse"],this.options,t),void 0!==t.locale&&(t.locale=function(t,e){try{var n=Wk(e.split(/[-_ /]/,2),2),i=n[0],r=n[1],o=null!=i?i.toLowerCase():null,s=null!=r?r.toUpperCase():null;if(o&&s){var a,g=o+"-"+s;if(Object.prototype.hasOwnProperty.call(t,g))return g;console.warn(Xk(a="Unknown variant ".concat(s," of language ")).call(a,o,"."))}if(o){var l=o;if(Object.prototype.hasOwnProperty.call(t,l))return l;console.warn("Unknown language ".concat(o))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(t){return console.error(t),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new SN(this,this.body.container,GZ,this.canvas.pixelRatio,UZ)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){var n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};tN(n.nodes,this.nodesHandler.options),tN(n.edges,this.edgesHandler.options),tN(n.layout,this.layoutEngine.options),tN(n.interaction,this.selectionHandler.options),tN(n.interaction,this.renderer.options),tN(n.interaction,this.interactionHandler.options),tN(n.manipulation,this.manipulation.options),tN(n.physics,this.physics.options),tN(n.global,this.canvas.options),tN(n.global,this.options),this.configurator.setModuleOptions(n)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new kN(this.canvas.frame),this.activator.on("change",(function(){e.body.emitter.emit("activate")}))):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},HZ.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;for(var n in this.body.nodeIndices=[],this.body.edgeIndices=[],t)Object.prototype.hasOwnProperty.call(t,n)&&(this.clustering._isClusteredNode(n)||!1!==t[n].options.hidden||this.body.nodeIndices.push(t[n].id));for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=e[i],o=t[r.fromId],s=t[r.toId],a=void 0!==o&&void 0!==s;!this.clustering._isClusteredEdge(i)&&!1===r.options.hidden&&a&&!1===o.options.hidden&&!1===s.options.hidden&&this.body.edgeIndices.push(r.id)}},HZ.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",(function(){t.edgesHandler._updateState(),t.body.emitter.emit("_dataUpdated")})),this.body.emitter.on("_dataUpdated",(function(){t.clustering._updateState(),t._updateVisibleIndices(),t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")}))},HZ.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=oD(t.dot);this.setData(e)}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var n=function(t,e){var n,i={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=e&&(null!=e.fixed&&(i.nodes.fixed=e.fixed),null!=e.parseColor&&(i.nodes.parseColor=e.parseColor),null!=e.inheritColor&&(i.edges.inheritColor=e.inheritColor));var r=t.edges,o=hS(r).call(r,(function(t){var e={from:t.source,id:t.id,to:t.target};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),"Directed"===t.type&&(e.arrows="to"),t.color&&!1===i.edges.inheritColor&&(e.color=t.color),e}));return{nodes:hS(n=t.nodes).call(n,(function(t){var e={id:t.id,fixed:i.nodes.fixed&&null!=t.x&&null!=t.y};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.size&&(e.size=t.size),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),null!=t.title&&(e.title=t.title),null!=t.x&&(e.x=t.x),null!=t.y&&(e.y=t.y),null!=t.color&&(!0===i.nodes.parseColor?e.color=t.color:e.color={background:t.color,border:t.color,highlight:{background:t.color,border:t.color},hover:{background:t.color,border:t.color}}),e})),edges:o}}(t.gephi);this.setData(n)}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},HZ.prototype.destroy=function(){for(var t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(var e in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,e)&&delete this.body.edges[e];q_(this.body.container)},HZ.prototype._updateValueRange=function(t){var e,n=void 0,i=void 0,r=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var o=t[e].getValue();void 0!==o&&(n=void 0===n?o:Math.min(o,n),i=void 0===i?o:Math.max(o,i),r+=o)}if(void 0!==n&&void 0!==i)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(n,i,r)},HZ.prototype.isActive=function(){return!this.activator||this.activator.active},HZ.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},HZ.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},HZ.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},HZ.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},HZ.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},HZ.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},HZ.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},HZ.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},HZ.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},HZ.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},HZ.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},HZ.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},HZ.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},HZ.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},HZ.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},HZ.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},HZ.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},HZ.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},HZ.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},HZ.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},HZ.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},HZ.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},HZ.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},HZ.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},HZ.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},HZ.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},HZ.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},HZ.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},HZ.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},HZ.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},HZ.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},HZ.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},HZ.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},HZ.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},HZ.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},HZ.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},HZ.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},HZ.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},HZ.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},HZ.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},HZ.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},HZ.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},HZ.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},HZ.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},HZ.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},HZ.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},HZ.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},HZ.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},HZ.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},HZ.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},HZ.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},HZ.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};var YZ="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function QZ(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var KZ={exports:{}},XZ=function(t){return t&&t.Math===Math&&t},JZ=XZ("object"==typeof globalThis&&globalThis)||XZ("object"==typeof window&&window)||XZ("object"==typeof self&&self)||XZ("object"==typeof YZ&&YZ)||function(){return this}()||YZ||Function("return this")(),$Z=function(t){try{return!!t()}catch(t){return!0}},tH=!$Z((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),eH=tH,nH=Function.prototype,iH=nH.apply,rH=nH.call,oH="object"==typeof Reflect&&Reflect.apply||(eH?rH.bind(iH):function(){return rH.apply(iH,arguments)}),sH=tH,aH=Function.prototype,gH=aH.call,lH=sH&&aH.bind.bind(gH,gH),AH=sH?lH:function(t){return function(){return gH.apply(t,arguments)}},cH=AH,hH=cH({}.toString),CH=cH("".slice),IH=function(t){return CH(hH(t),8,-1)},dH=IH,uH=AH,fH=function(t){if("Function"===dH(t))return uH(t)},pH="object"==typeof document&&document.all,vH={all:pH,IS_HTMLDDA:void 0===pH&&void 0!==pH},mH=vH.all,yH=vH.IS_HTMLDDA?function(t){return"function"==typeof t||t===mH}:function(t){return"function"==typeof t},bH={},wH=!$Z((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),xH=tH,EH=Function.prototype.call,kH=xH?EH.bind(EH):function(){return EH.apply(EH,arguments)},SH={},TH={}.propertyIsEnumerable,OH=Object.getOwnPropertyDescriptor,RH=OH&&!TH.call({1:2},1);SH.f=RH?function(t){var e=OH(this,t);return!!e&&e.enumerable}:TH;var _H,NH,DH=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},PH=$Z,MH=IH,LH=Object,jH=AH("".split),BH=PH((function(){return!LH("z").propertyIsEnumerable(0)}))?function(t){return"String"===MH(t)?jH(t,""):LH(t)}:LH,FH=function(t){return null==t},zH=FH,VH=TypeError,GH=function(t){if(zH(t))throw new VH("Can't call method on "+t);return t},UH=BH,WH=GH,ZH=function(t){return UH(WH(t))},HH=yH,qH=vH.all,YH=vH.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:HH(t)||t===qH}:function(t){return"object"==typeof t?null!==t:HH(t)},QH={},KH=QH,XH=JZ,JH=yH,$H=function(t){return JH(t)?t:void 0},tq=function(t,e){return arguments.length<2?$H(KH[t])||$H(XH[t]):KH[t]&&KH[t][e]||XH[t]&&XH[t][e]},eq=AH({}.isPrototypeOf),nq="undefined"!=typeof navigator&&String(navigator.userAgent)||"",iq=JZ,rq=nq,oq=iq.process,sq=iq.Deno,aq=oq&&oq.versions||sq&&sq.version,gq=aq&&aq.v8;gq&&(NH=(_H=gq.split("."))[0]>0&&_H[0]<4?1:+(_H[0]+_H[1])),!NH&&rq&&(!(_H=rq.match(/Edge\/(\d+)/))||_H[1]>=74)&&(_H=rq.match(/Chrome\/(\d+)/))&&(NH=+_H[1]);var lq=NH,Aq=lq,cq=$Z,hq=JZ.String,Cq=!!Object.getOwnPropertySymbols&&!cq((function(){var t=Symbol("symbol detection");return!hq(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Aq&&Aq<41})),Iq=Cq&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,dq=tq,uq=yH,fq=eq,pq=Object,vq=Iq?function(t){return"symbol"==typeof t}:function(t){var e=dq("Symbol");return uq(e)&&fq(e.prototype,pq(t))},mq=String,yq=function(t){try{return mq(t)}catch(t){return"Object"}},bq=yH,wq=yq,xq=TypeError,Eq=function(t){if(bq(t))return t;throw new xq(wq(t)+" is not a function")},kq=Eq,Sq=FH,Tq=function(t,e){var n=t[e];return Sq(n)?void 0:kq(n)},Oq=kH,Rq=yH,_q=YH,Nq=TypeError,Dq={exports:{}},Pq=JZ,Mq=Object.defineProperty,Lq="__core-js_shared__",jq=JZ[Lq]||function(t,e){try{Mq(Pq,t,{value:e,configurable:!0,writable:!0})}catch(n){Pq[t]=e}return e}(Lq,{}),Bq=jq;(Dq.exports=function(t,e){return Bq[t]||(Bq[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.2",mode:"pure",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"});var Fq=Dq.exports,zq=GH,Vq=Object,Gq=function(t){return Vq(zq(t))},Uq=Gq,Wq=AH({}.hasOwnProperty),Zq=Object.hasOwn||function(t,e){return Wq(Uq(t),e)},Hq=AH,qq=0,Yq=Math.random(),Qq=Hq(1..toString),Kq=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Qq(++qq+Yq,36)},Xq=Fq,Jq=Zq,$q=Kq,tY=Cq,eY=Iq,nY=JZ.Symbol,iY=Xq("wks"),rY=eY?nY.for||nY:nY&&nY.withoutSetter||$q,oY=function(t){return Jq(iY,t)||(iY[t]=tY&&Jq(nY,t)?nY[t]:rY("Symbol."+t)),iY[t]},sY=kH,aY=YH,gY=vq,lY=Tq,AY=TypeError,cY=oY("toPrimitive"),hY=function(t,e){if(!aY(t)||gY(t))return t;var n,i=lY(t,cY);if(i){if(void 0===e&&(e="default"),n=sY(i,t,e),!aY(n)||gY(n))return n;throw new AY("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var n,i;if("string"===e&&Rq(n=t.toString)&&!_q(i=Oq(n,t)))return i;if(Rq(n=t.valueOf)&&!_q(i=Oq(n,t)))return i;if("string"!==e&&Rq(n=t.toString)&&!_q(i=Oq(n,t)))return i;throw new Nq("Can't convert object to primitive value")}(t,e)},CY=vq,IY=function(t){var e=hY(t,"string");return CY(e)?e:e+""},dY=YH,uY=JZ.document,fY=dY(uY)&&dY(uY.createElement),pY=function(t){return fY?uY.createElement(t):{}},vY=pY,mY=!wH&&!$Z((function(){return 7!==Object.defineProperty(vY("div"),"a",{get:function(){return 7}}).a})),yY=wH,bY=kH,wY=SH,xY=DH,EY=ZH,kY=IY,SY=Zq,TY=mY,OY=Object.getOwnPropertyDescriptor;bH.f=yY?OY:function(t,e){if(t=EY(t),e=kY(e),TY)try{return OY(t,e)}catch(t){}if(SY(t,e))return xY(!bY(wY.f,t,e),t[e])};var RY=$Z,_Y=yH,NY=/#|\.prototype\./,DY=function(t,e){var n=MY[PY(t)];return n===jY||n!==LY&&(_Y(e)?RY(e):!!e)},PY=DY.normalize=function(t){return String(t).replace(NY,".").toLowerCase()},MY=DY.data={},LY=DY.NATIVE="N",jY=DY.POLYFILL="P",BY=DY,FY=Eq,zY=tH,VY=fH(fH.bind),GY=function(t,e){return FY(t),void 0===e?t:zY?VY(t,e):function(){return t.apply(e,arguments)}},UY={},WY=wH&&$Z((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),ZY=YH,HY=String,qY=TypeError,YY=function(t){if(ZY(t))return t;throw new qY(HY(t)+" is not an object")},QY=wH,KY=mY,XY=WY,JY=YY,$Y=IY,tQ=TypeError,eQ=Object.defineProperty,nQ=Object.getOwnPropertyDescriptor,iQ="enumerable",rQ="configurable",oQ="writable";UY.f=QY?XY?function(t,e,n){if(JY(t),e=$Y(e),JY(n),"function"==typeof t&&"prototype"===e&&"value"in n&&oQ in n&&!n[oQ]){var i=nQ(t,e);i&&i[oQ]&&(t[e]=n.value,n={configurable:rQ in n?n[rQ]:i[rQ],enumerable:iQ in n?n[iQ]:i[iQ],writable:!1})}return eQ(t,e,n)}:eQ:function(t,e,n){if(JY(t),e=$Y(e),JY(n),KY)try{return eQ(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new tQ("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var sQ=UY,aQ=DH,gQ=wH?function(t,e,n){return sQ.f(t,e,aQ(1,n))}:function(t,e,n){return t[e]=n,t},lQ=JZ,AQ=oH,cQ=fH,hQ=yH,CQ=bH.f,IQ=BY,dQ=QH,uQ=GY,fQ=gQ,pQ=Zq,vQ=function(t){var e=function(n,i,r){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,i)}return new t(n,i,r)}return AQ(t,this,arguments)};return e.prototype=t.prototype,e},mQ=function(t,e){var n,i,r,o,s,a,g,l,A,c=t.target,h=t.global,C=t.stat,I=t.proto,d=h?lQ:C?lQ[c]:(lQ[c]||{}).prototype,u=h?dQ:dQ[c]||fQ(dQ,c,{})[c],f=u.prototype;for(o in e)i=!(n=IQ(h?o:c+(C?".":"#")+o,t.forced))&&d&&pQ(d,o),a=u[o],i&&(g=t.dontCallGetSet?(A=CQ(d,o))&&A.value:d[o]),s=i&&g?g:e[o],i&&typeof a==typeof s||(l=t.bind&&i?uQ(s,lQ):t.wrap&&i?vQ(s):I&&hQ(s)?cQ(s):s,(t.sham||s&&s.sham||a&&a.sham)&&fQ(l,"sham",!0),fQ(u,o,l),I&&(pQ(dQ,r=c+"Prototype")||fQ(dQ,r,{}),fQ(dQ[r],o,s),t.real&&f&&(n||!f[o])&&fQ(f,o,s)))},yQ=mQ,bQ=wH,wQ=UY.f;yQ({target:"Object",stat:!0,forced:Object.defineProperty!==wQ,sham:!bQ},{defineProperty:wQ});var xQ=QH.Object,EQ=KZ.exports=function(t,e,n){return xQ.defineProperty(t,e,n)};xQ.defineProperty.sham&&(EQ.sham=!0);var kQ=KZ.exports,SQ=kQ,TQ=QZ(SQ),OQ=IH,RQ=Array.isArray||function(t){return"Array"===OQ(t)},_Q=Math.ceil,NQ=Math.floor,DQ=Math.trunc||function(t){var e=+t;return(e>0?NQ:_Q)(e)},PQ=function(t){var e=+t;return e!=e||0===e?0:DQ(e)},MQ=PQ,LQ=Math.min,jQ=function(t){return(e=t.length)>0?LQ(MQ(e),9007199254740991):0;var e},BQ=TypeError,FQ=function(t){if(t>9007199254740991)throw BQ("Maximum allowed index exceeded");return t},zQ=IY,VQ=UY,GQ=DH,UQ=function(t,e,n){var i=zQ(e);i in t?VQ.f(t,i,GQ(0,n)):t[i]=n},WQ={};WQ[oY("toStringTag")]="z";var ZQ="[object z]"===String(WQ),HQ=ZQ,qQ=yH,YQ=IH,QQ=oY("toStringTag"),KQ=Object,XQ="Arguments"===YQ(function(){return arguments}()),JQ=HQ?YQ:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=KQ(t),QQ))?n:XQ?YQ(e):"Object"===(i=YQ(e))&&qQ(e.callee)?"Arguments":i},$Q=yH,tK=jq,eK=AH(Function.toString);$Q(tK.inspectSource)||(tK.inspectSource=function(t){return eK(t)});var nK=tK.inspectSource,iK=AH,rK=$Z,oK=yH,sK=JQ,aK=nK,gK=function(){},lK=[],AK=tq("Reflect","construct"),cK=/^\s*(?:class|function)\b/,hK=iK(cK.exec),CK=!cK.test(gK),IK=function(t){if(!oK(t))return!1;try{return AK(gK,lK,t),!0}catch(t){return!1}},dK=function(t){if(!oK(t))return!1;switch(sK(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return CK||!!hK(cK,aK(t))}catch(t){return!0}};dK.sham=!0;var uK=!AK||rK((function(){var t;return IK(IK.call)||!IK(Object)||!IK((function(){t=!0}))||t}))?dK:IK,fK=RQ,pK=uK,vK=YH,mK=oY("species"),yK=Array,bK=function(t,e){return new(function(t){var e;return fK(t)&&(e=t.constructor,(pK(e)&&(e===yK||fK(e.prototype))||vK(e)&&null===(e=e[mK]))&&(e=void 0)),void 0===e?yK:e}(t))(0===e?0:e)},wK=$Z,xK=lq,EK=oY("species"),kK=function(t){return xK>=51||!wK((function(){var e=[];return(e.constructor={})[EK]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},SK=mQ,TK=$Z,OK=RQ,RK=YH,_K=Gq,NK=jQ,DK=FQ,PK=UQ,MK=bK,LK=kK,jK=lq,BK=oY("isConcatSpreadable"),FK=jK>=51||!TK((function(){var t=[];return t[BK]=!1,t.concat()[0]!==t})),zK=function(t){if(!RK(t))return!1;var e=t[BK];return void 0!==e?!!e:OK(t)};SK({target:"Array",proto:!0,arity:1,forced:!FK||!LK("concat")},{concat:function(t){var e,n,i,r,o,s=_K(this),a=MK(s,0),g=0;for(e=-1,i=arguments.length;e<i;e++)if(zK(o=-1===e?s:arguments[e]))for(r=NK(o),DK(g+r),n=0;n<r;n++,g++)n in o&&PK(a,g,o[n]);else DK(g+1),PK(a,g++,o);return a.length=g,a}});var VK=JQ,GK=String,UK=function(t){if("Symbol"===VK(t))throw new TypeError("Cannot convert a Symbol value to a string");return GK(t)},WK={},ZK=PQ,HK=Math.max,qK=Math.min,YK=function(t,e){var n=ZK(t);return n<0?HK(n+e,0):qK(n,e)},QK=ZH,KK=YK,XK=jQ,JK=function(t){return function(e,n,i){var r,o=QK(e),s=XK(o),a=KK(i,s);if(t&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},$K={includes:JK(!0),indexOf:JK(!1)},tX={},eX=Zq,nX=ZH,iX=$K.indexOf,rX=tX,oX=AH([].push),sX=function(t,e){var n,i=nX(t),r=0,o=[];for(n in i)!eX(rX,n)&&eX(i,n)&&oX(o,n);for(;e.length>r;)eX(i,n=e[r++])&&(~iX(o,n)||oX(o,n));return o},aX=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],gX=sX,lX=aX,AX=Object.keys||function(t){return gX(t,lX)},cX=wH,hX=WY,CX=UY,IX=YY,dX=ZH,uX=AX;WK.f=cX&&!hX?Object.defineProperties:function(t,e){IX(t);for(var n,i=dX(e),r=uX(e),o=r.length,s=0;o>s;)CX.f(t,n=r[s++],i[n]);return t};var fX,pX=tq("document","documentElement"),vX=Kq,mX=Fq("keys"),yX=function(t){return mX[t]||(mX[t]=vX(t))},bX=YY,wX=WK,xX=aX,EX=tX,kX=pX,SX=pY,TX="prototype",OX="script",RX=yX("IE_PROTO"),_X=function(){},NX=function(t){return"<"+OX+">"+t+"</"+OX+">"},DX=function(t){t.write(NX("")),t.close();var e=t.parentWindow.Object;return t=null,e},PX=function(){try{fX=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;PX="undefined"!=typeof document?document.domain&&fX?DX(fX):(e=SX("iframe"),n="java"+OX+":",e.style.display="none",kX.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(NX("document.F=Object")),t.close(),t.F):DX(fX);for(var i=xX.length;i--;)delete PX[TX][xX[i]];return PX()};EX[RX]=!0;var MX=Object.create||function(t,e){var n;return null!==t?(_X[TX]=bX(t),n=new _X,_X[TX]=null,n[RX]=t):n=PX(),void 0===e?n:wX.f(n,e)},LX={},jX=sX,BX=aX.concat("length","prototype");LX.f=Object.getOwnPropertyNames||function(t){return jX(t,BX)};var FX={},zX=YK,VX=jQ,GX=UQ,UX=Array,WX=Math.max,ZX=function(t,e,n){for(var i=VX(t),r=zX(e,i),o=zX(void 0===n?i:n,i),s=UX(WX(o-r,0)),a=0;r<o;r++,a++)GX(s,a,t[r]);return s.length=a,s},HX=IH,qX=ZH,YX=LX.f,QX=ZX,KX="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];FX.f=function(t){return KX&&"Window"===HX(t)?function(t){try{return YX(t)}catch(t){return QX(KX)}}(t):YX(qX(t))};var XX={};XX.f=Object.getOwnPropertySymbols;var JX=gQ,$X=function(t,e,n,i){return i&&i.enumerable?t[e]=n:JX(t,e,n),t},tJ=UY,eJ=function(t,e,n){return tJ.f(t,e,n)},nJ={},iJ=oY;nJ.f=iJ;var rJ,oJ,sJ,aJ=QH,gJ=Zq,lJ=nJ,AJ=UY.f,cJ=function(t){var e=aJ.Symbol||(aJ.Symbol={});gJ(e,t)||AJ(e,t,{value:lJ.f(t)})},hJ=kH,CJ=tq,IJ=oY,dJ=$X,uJ=function(){var t=CJ("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,i=IJ("toPrimitive");e&&!e[i]&&dJ(e,i,(function(t){return hJ(n,this)}),{arity:1})},fJ=JQ,pJ=ZQ?{}.toString:function(){return"[object "+fJ(this)+"]"},vJ=ZQ,mJ=UY.f,yJ=gQ,bJ=Zq,wJ=pJ,xJ=oY("toStringTag"),EJ=function(t,e,n,i){if(t){var r=n?t:t.prototype;bJ(r,xJ)||mJ(r,xJ,{configurable:!0,value:e}),i&&!vJ&&yJ(r,"toString",wJ)}},kJ=yH,SJ=JZ.WeakMap,TJ=kJ(SJ)&&/native code/.test(String(SJ)),OJ=JZ,RJ=YH,_J=gQ,NJ=Zq,DJ=jq,PJ=yX,MJ=tX,LJ="Object already initialized",jJ=OJ.TypeError,BJ=OJ.WeakMap;if(TJ||DJ.state){var FJ=DJ.state||(DJ.state=new BJ);FJ.get=FJ.get,FJ.has=FJ.has,FJ.set=FJ.set,rJ=function(t,e){if(FJ.has(t))throw new jJ(LJ);return e.facade=t,FJ.set(t,e),e},oJ=function(t){return FJ.get(t)||{}},sJ=function(t){return FJ.has(t)}}else{var zJ=PJ("state");MJ[zJ]=!0,rJ=function(t,e){if(NJ(t,zJ))throw new jJ(LJ);return e.facade=t,_J(t,zJ,e),e},oJ=function(t){return NJ(t,zJ)?t[zJ]:{}},sJ=function(t){return NJ(t,zJ)}}var VJ={set:rJ,get:oJ,has:sJ,enforce:function(t){return sJ(t)?oJ(t):rJ(t,{})},getterFor:function(t){return function(e){var n;if(!RJ(e)||(n=oJ(e)).type!==t)throw new jJ("Incompatible receiver, "+t+" required");return n}}},GJ=GY,UJ=BH,WJ=Gq,ZJ=jQ,HJ=bK,qJ=AH([].push),YJ=function(t){var e=1===t,n=2===t,i=3===t,r=4===t,o=6===t,s=7===t,a=5===t||o;return function(g,l,A,c){for(var h,C,I=WJ(g),d=UJ(I),u=GJ(l,A),f=ZJ(d),p=0,v=c||HJ,m=e?v(g,f):n||s?v(g,0):void 0;f>p;p++)if((a||p in d)&&(C=u(h=d[p],p,I),t))if(e)m[p]=C;else if(C)switch(t){case 3:return!0;case 5:return h;case 6:return p;case 2:qJ(m,h)}else switch(t){case 4:return!1;case 7:qJ(m,h)}return o?-1:i||r?r:m}},QJ={forEach:YJ(0),map:YJ(1),filter:YJ(2),some:YJ(3),every:YJ(4),find:YJ(5),findIndex:YJ(6),filterReject:YJ(7)},KJ=mQ,XJ=JZ,JJ=kH,$J=AH,t$=wH,e$=Cq,n$=$Z,i$=Zq,r$=eq,o$=YY,s$=ZH,a$=IY,g$=UK,l$=DH,A$=MX,c$=AX,h$=LX,C$=FX,I$=XX,d$=bH,u$=UY,f$=WK,p$=SH,v$=$X,m$=eJ,y$=Fq,b$=tX,w$=Kq,x$=oY,E$=nJ,k$=cJ,S$=uJ,T$=EJ,O$=VJ,R$=QJ.forEach,_$=yX("hidden"),N$="Symbol",D$="prototype",P$=O$.set,M$=O$.getterFor(N$),L$=Object[D$],j$=XJ.Symbol,B$=j$&&j$[D$],F$=XJ.RangeError,z$=XJ.TypeError,V$=XJ.QObject,G$=d$.f,U$=u$.f,W$=C$.f,Z$=p$.f,H$=$J([].push),q$=y$("symbols"),Y$=y$("op-symbols"),Q$=y$("wks"),K$=!V$||!V$[D$]||!V$[D$].findChild,X$=function(t,e,n){var i=G$(L$,e);i&&delete L$[e],U$(t,e,n),i&&t!==L$&&U$(L$,e,i)},J$=t$&&n$((function(){return 7!==A$(U$({},"a",{get:function(){return U$(this,"a",{value:7}).a}})).a}))?X$:U$,$$=function(t,e){var n=q$[t]=A$(B$);return P$(n,{type:N$,tag:t,description:e}),t$||(n.description=e),n},t0=function(t,e,n){t===L$&&t0(Y$,e,n),o$(t);var i=a$(e);return o$(n),i$(q$,i)?(n.enumerable?(i$(t,_$)&&t[_$][i]&&(t[_$][i]=!1),n=A$(n,{enumerable:l$(0,!1)})):(i$(t,_$)||U$(t,_$,l$(1,{})),t[_$][i]=!0),J$(t,i,n)):U$(t,i,n)},e0=function(t,e){o$(t);var n=s$(e),i=c$(n).concat(o0(n));return R$(i,(function(e){t$&&!JJ(n0,n,e)||t0(t,e,n[e])})),t},n0=function(t){var e=a$(t),n=JJ(Z$,this,e);return!(this===L$&&i$(q$,e)&&!i$(Y$,e))&&(!(n||!i$(this,e)||!i$(q$,e)||i$(this,_$)&&this[_$][e])||n)},i0=function(t,e){var n=s$(t),i=a$(e);if(n!==L$||!i$(q$,i)||i$(Y$,i)){var r=G$(n,i);return!r||!i$(q$,i)||i$(n,_$)&&n[_$][i]||(r.enumerable=!0),r}},r0=function(t){var e=W$(s$(t)),n=[];return R$(e,(function(t){i$(q$,t)||i$(b$,t)||H$(n,t)})),n},o0=function(t){var e=t===L$,n=W$(e?Y$:s$(t)),i=[];return R$(n,(function(t){!i$(q$,t)||e&&!i$(L$,t)||H$(i,q$[t])})),i};e$||(v$(B$=(j$=function(){if(r$(B$,this))throw new z$("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?g$(arguments[0]):void 0,e=w$(t),n=function(t){var i=void 0===this?XJ:this;i===L$&&JJ(n,Y$,t),i$(i,_$)&&i$(i[_$],e)&&(i[_$][e]=!1);var r=l$(1,t);try{J$(i,e,r)}catch(t){if(!(t instanceof F$))throw t;X$(i,e,r)}};return t$&&K$&&J$(L$,e,{configurable:!0,set:n}),$$(e,t)})[D$],"toString",(function(){return M$(this).tag})),v$(j$,"withoutSetter",(function(t){return $$(w$(t),t)})),p$.f=n0,u$.f=t0,f$.f=e0,d$.f=i0,h$.f=C$.f=r0,I$.f=o0,E$.f=function(t){return $$(x$(t),t)},t$&&m$(B$,"description",{configurable:!0,get:function(){return M$(this).description}})),KJ({global:!0,constructor:!0,wrap:!0,forced:!e$,sham:!e$},{Symbol:j$}),R$(c$(Q$),(function(t){k$(t)})),KJ({target:N$,stat:!0,forced:!e$},{useSetter:function(){K$=!0},useSimple:function(){K$=!1}}),KJ({target:"Object",stat:!0,forced:!e$,sham:!t$},{create:function(t,e){return void 0===e?A$(t):e0(A$(t),e)},defineProperty:t0,defineProperties:e0,getOwnPropertyDescriptor:i0}),KJ({target:"Object",stat:!0,forced:!e$},{getOwnPropertyNames:r0}),S$(),T$(j$,N$),b$[_$]=!0;var s0=Cq&&!!Symbol.for&&!!Symbol.keyFor,a0=mQ,g0=tq,l0=Zq,A0=UK,c0=Fq,h0=s0,C0=c0("string-to-symbol-registry"),I0=c0("symbol-to-string-registry");a0({target:"Symbol",stat:!0,forced:!h0},{for:function(t){var e=A0(t);if(l0(C0,e))return C0[e];var n=g0("Symbol")(e);return C0[e]=n,I0[n]=e,n}});var d0=mQ,u0=Zq,f0=vq,p0=yq,v0=s0,m0=Fq("symbol-to-string-registry");d0({target:"Symbol",stat:!0,forced:!v0},{keyFor:function(t){if(!f0(t))throw new TypeError(p0(t)+" is not a symbol");if(u0(m0,t))return m0[t]}});var y0=AH([].slice),b0=RQ,w0=yH,x0=IH,E0=UK,k0=AH([].push),S0=mQ,T0=tq,O0=oH,R0=kH,_0=AH,N0=$Z,D0=yH,P0=vq,M0=y0,L0=Cq,j0=String,B0=T0("JSON","stringify"),F0=_0(/./.exec),z0=_0("".charAt),V0=_0("".charCodeAt),G0=_0("".replace),U0=_0(1..toString),W0=/[\uD800-\uDFFF]/g,Z0=/^[\uD800-\uDBFF]$/,H0=/^[\uDC00-\uDFFF]$/,q0=!L0||N0((function(){var t=T0("Symbol")("stringify detection");return"[null]"!==B0([t])||"{}"!==B0({a:t})||"{}"!==B0(Object(t))})),Y0=N0((function(){return'"\\udf06\\ud834"'!==B0("\udf06\ud834")||'"\\udead"'!==B0("\udead")})),Q0=function(t,e){var n=M0(arguments),i=function(t){if(w0(t))return t;if(b0(t)){for(var e=t.length,n=[],i=0;i<e;i++){var r=t[i];"string"==typeof r?k0(n,r):"number"!=typeof r&&"Number"!==x0(r)&&"String"!==x0(r)||k0(n,E0(r))}var o=n.length,s=!0;return function(t,e){if(s)return s=!1,e;if(b0(this))return e;for(var i=0;i<o;i++)if(n[i]===t)return e}}}(e);if(D0(i)||void 0!==t&&!P0(t))return n[1]=function(t,e){if(D0(i)&&(e=R0(i,this,j0(t),e)),!P0(e))return e},O0(B0,null,n)},K0=function(t,e,n){var i=z0(n,e-1),r=z0(n,e+1);return F0(Z0,t)&&!F0(H0,r)||F0(H0,t)&&!F0(Z0,i)?"\\u"+U0(V0(t,0),16):t};B0&&S0({target:"JSON",stat:!0,arity:3,forced:q0||Y0},{stringify:function(t,e,n){var i=M0(arguments),r=O0(q0?Q0:B0,null,i);return Y0&&"string"==typeof r?G0(r,W0,K0):r}});var X0=XX,J0=Gq;mQ({target:"Object",stat:!0,forced:!Cq||$Z((function(){X0.f(1)}))},{getOwnPropertySymbols:function(t){var e=X0.f;return e?e(J0(t)):[]}}),cJ("asyncIterator"),cJ("hasInstance"),cJ("isConcatSpreadable"),cJ("iterator"),cJ("match"),cJ("matchAll"),cJ("replace"),cJ("search"),cJ("species"),cJ("split");var $0=uJ;cJ("toPrimitive"),$0();var t1=tq,e1=EJ;cJ("toStringTag"),e1(t1("Symbol"),"Symbol"),cJ("unscopables"),EJ(JZ.JSON,"JSON",!0);var n1,i1,r1,o1=QH.Symbol,s1={},a1=wH,g1=Zq,l1=Function.prototype,A1=a1&&Object.getOwnPropertyDescriptor,c1=g1(l1,"name"),h1={EXISTS:c1,PROPER:c1&&"something"===function(){}.name,CONFIGURABLE:c1&&(!a1||a1&&A1(l1,"name").configurable)},C1=!$Z((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),I1=Zq,d1=yH,u1=Gq,f1=C1,p1=yX("IE_PROTO"),v1=Object,m1=v1.prototype,y1=f1?v1.getPrototypeOf:function(t){var e=u1(t);if(I1(e,p1))return e[p1];var n=e.constructor;return d1(n)&&e instanceof n?n.prototype:e instanceof v1?m1:null},b1=$Z,w1=yH,x1=YH,E1=MX,k1=y1,S1=$X,T1=oY("iterator"),O1=!1;[].keys&&("next"in(r1=[].keys())?(i1=k1(k1(r1)))!==Object.prototype&&(n1=i1):O1=!0);var R1=!x1(n1)||b1((function(){var t={};return n1[T1].call(t)!==t}));w1((n1=R1?{}:E1(n1))[T1])||S1(n1,T1,(function(){return this}));var _1={IteratorPrototype:n1,BUGGY_SAFARI_ITERATORS:O1},N1=_1.IteratorPrototype,D1=MX,P1=DH,M1=EJ,L1=s1,j1=function(){return this},B1=AH,F1=Eq,z1=yH,V1=String,G1=TypeError,U1=YY,W1=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=function(t,e,n){try{return B1(F1(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return U1(n),function(t){if("object"==typeof t||z1(t))return t;throw new G1("Can't set "+V1(t)+" as a prototype")}(i),e?t(n,i):n.__proto__=i,n}}():void 0),Z1=mQ,H1=kH,q1=y1,Y1=EJ,Q1=$X,K1=s1,X1=h1.PROPER,J1=_1.BUGGY_SAFARI_ITERATORS,$1=oY("iterator"),t2="keys",e2="values",n2="entries",i2=function(){return this},r2=function(t,e,n,i,r,o,s){!function(t,e,n,i){var r=e+" Iterator";t.prototype=D1(N1,{next:P1(+!i,n)}),M1(t,r,!1,!0),L1[r]=j1}(n,e,i);var a,g,l,A=function(t){if(t===r&&d)return d;if(!J1&&t&&t in C)return C[t];switch(t){case t2:case e2:case n2:return function(){return new n(this,t)}}return function(){return new n(this)}},c=e+" Iterator",h=!1,C=t.prototype,I=C[$1]||C["@@iterator"]||r&&C[r],d=!J1&&I||A(r),u="Array"===e&&C.entries||I;if(u&&(a=q1(u.call(new t)))!==Object.prototype&&a.next&&(Y1(a,c,!0,!0),K1[c]=i2),X1&&r===e2&&I&&I.name!==e2&&(h=!0,d=function(){return H1(I,this)}),r)if(g={values:A(e2),keys:o?d:A(t2),entries:A(n2)},s)for(l in g)(J1||h||!(l in C))&&Q1(C,l,g[l]);else Z1({target:e,proto:!0,forced:J1||h},g);return s&&C[$1]!==d&&Q1(C,$1,d,{name:r}),K1[e]=d,g},o2=function(t,e){return{value:t,done:e}},s2=ZH,a2=s1,g2=VJ;UY.f;var l2=r2,A2=o2,c2="Array Iterator",h2=g2.set,C2=g2.getterFor(c2);l2(Array,"Array",(function(t,e){h2(this,{type:c2,target:s2(t),index:0,kind:e})}),(function(){var t=C2(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=void 0,A2(void 0,!0);switch(t.kind){case"keys":return A2(n,!1);case"values":return A2(e[n],!1)}return A2([n,e[n]],!1)}),"values"),a2.Arguments=a2.Array;var I2=JZ,d2=JQ,u2=gQ,f2=s1,p2=oY("toStringTag");for(var v2 in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var m2=I2[v2],y2=m2&&m2.prototype;y2&&d2(y2)!==p2&&u2(y2,p2,v2),f2[v2]=f2.Array}var b2=o1,w2=oY,x2=UY.f,E2=w2("metadata"),k2=Function.prototype;void 0===k2[E2]&&x2(k2,E2,{value:null}),cJ("asyncDispose"),cJ("dispose"),cJ("metadata");var S2=b2,T2=AH,O2=tq("Symbol"),R2=O2.keyFor,_2=T2(O2.prototype.valueOf),N2=O2.isRegisteredSymbol||function(t){try{return void 0!==R2(_2(t))}catch(t){return!1}};mQ({target:"Symbol",stat:!0},{isRegisteredSymbol:N2});for(var D2=Fq,P2=tq,M2=AH,L2=vq,j2=oY,B2=P2("Symbol"),F2=B2.isWellKnownSymbol,z2=P2("Object","getOwnPropertyNames"),V2=M2(B2.prototype.valueOf),G2=D2("wks"),U2=0,W2=z2(B2),Z2=W2.length;U2<Z2;U2++)try{var H2=W2[U2];L2(B2[H2])&&j2(H2)}catch(t){}var q2=function(t){if(F2&&F2(t))return!0;try{for(var e=V2(t),n=0,i=z2(G2),r=i.length;n<r;n++)if(G2[i[n]]==e)return!0}catch(t){}return!1};mQ({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:q2}),cJ("matcher"),cJ("observable"),mQ({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:N2}),mQ({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:q2}),cJ("metadataKey"),cJ("patternMatch"),cJ("replaceAll");var Y2=S2,Q2=QZ(Y2),K2=AH,X2=PQ,J2=UK,$2=GH,t3=K2("".charAt),e3=K2("".charCodeAt),n3=K2("".slice),i3=function(t){return function(e,n){var i,r,o=J2($2(e)),s=X2(n),a=o.length;return s<0||s>=a?t?"":void 0:(i=e3(o,s))<55296||i>56319||s+1===a||(r=e3(o,s+1))<56320||r>57343?t?t3(o,s):i:t?n3(o,s,s+2):r-56320+(i-55296<<10)+65536}},r3=(i3(!1),i3(!0)),o3=UK,s3=VJ,a3=r2,g3=o2,l3="String Iterator",A3=s3.set,c3=s3.getterFor(l3);a3(String,"String",(function(t){A3(this,{type:l3,string:o3(t),index:0})}),(function(){var t,e=c3(this),n=e.string,i=e.index;return i>=n.length?g3(void 0,!0):(t=r3(n,i),e.index+=t.length,g3(t,!1))}));var h3=nJ.f("iterator"),C3=h3,I3=QZ(C3);function d3(t){return d3="function"==typeof Q2&&"symbol"==typeof I3?function(t){return typeof t}:function(t){return t&&"function"==typeof Q2&&t.constructor===Q2&&t!==Q2.prototype?"symbol":typeof t},d3(t)}var u3=QZ(nJ.f("toPrimitive"));function f3(t){var e=function(t){if("object"!==d3(t)||null===t)return t;var e=t[u3];if(void 0!==e){var n=e.call(t,"string");if("object"!==d3(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===d3(e)?e:String(e)}function p3(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),TQ(t,f3(i.key),i)}}function v3(t,e,n){return e&&p3(t.prototype,e),n&&p3(t,n),TQ(t,"prototype",{writable:!1}),t}function m3(t,e,n){return(e=f3(e))in t?TQ(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y3=AH,b3=Eq,w3=YH,x3=Zq,E3=y0,k3=tH,S3=Function,T3=y3([].concat),O3=y3([].join),R3={},_3=k3?S3.bind:function(t){var e=b3(this),n=e.prototype,i=E3(arguments,1),r=function(){var n=T3(i,E3(arguments));return this instanceof r?function(t,e,n){if(!x3(R3,e)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";R3[e]=S3("C,a","return new C("+O3(i,",")+")")}return R3[e](t,n)}(e,n.length,n):e.apply(t,n)};return w3(n)&&(r.prototype=n),r},N3=_3;mQ({target:"Function",proto:!0,forced:Function.bind!==N3},{bind:N3});var D3=JZ,P3=QH,M3=function(t,e){var n=P3[t+"Prototype"],i=n&&n[e];if(i)return i;var r=D3[t],o=r&&r.prototype;return o&&o[e]},L3=M3("Function","bind"),j3=eq,B3=L3,F3=Function.prototype,z3=function(t){var e=t.bind;return t===F3||j3(F3,t)&&e===F3.bind?B3:e},V3=QZ(z3),G3=Eq,U3=Gq,W3=BH,Z3=jQ,H3=TypeError,q3=function(t){return function(e,n,i,r){G3(n);var o=U3(e),s=W3(o),a=Z3(o),g=t?a-1:0,l=t?-1:1;if(i<2)for(;;){if(g in s){r=s[g],g+=l;break}if(g+=l,t?g<0:a<=g)throw new H3("Reduce of empty array with no initial value")}for(;t?g>=0:a>g;g+=l)g in s&&(r=n(r,s[g],g,o));return r}},Y3={left:q3(!1),right:q3(!0)},Q3=$Z,K3=function(t,e){var n=[][t];return!!n&&Q3((function(){n.call(null,e||function(){return 1},1)}))},X3="process"===IH(JZ.process),J3=Y3.left;mQ({target:"Array",proto:!0,forced:!X3&&lq>79&&lq<83||!K3("reduce")},{reduce:function(t){var e=arguments.length;return J3(this,t,e,e>1?arguments[1]:void 0)}});var $3=M3("Array","reduce"),t5=eq,e5=$3,n5=Array.prototype,i5=QZ((function(t){var e=t.reduce;return t===n5||t5(n5,t)&&e===n5.reduce?e5:e})),r5=QJ.filter;mQ({target:"Array",proto:!0,forced:!kK("filter")},{filter:function(t){return r5(this,t,arguments.length>1?arguments[1]:void 0)}});var o5=M3("Array","filter"),s5=eq,a5=o5,g5=Array.prototype,l5=QZ((function(t){var e=t.filter;return t===g5||s5(g5,t)&&e===g5.filter?a5:e})),A5=QJ.map;mQ({target:"Array",proto:!0,forced:!kK("map")},{map:function(t){return A5(this,t,arguments.length>1?arguments[1]:void 0)}});var c5=M3("Array","map"),h5=eq,C5=c5,I5=Array.prototype,d5=QZ((function(t){var e=t.map;return t===I5||h5(I5,t)&&e===I5.map?C5:e})),u5=RQ,f5=jQ,p5=FQ,v5=GY,m5=function(t,e,n,i,r,o,s,a){for(var g,l,A=r,c=0,h=!!s&&v5(s,a);c<i;)c in n&&(g=h?h(n[c],c,e):n[c],o>0&&u5(g)?(l=f5(g),A=m5(t,e,g,l,A,o-1)-1):(p5(A+1),t[A]=g),A++),c++;return A},y5=m5,b5=Eq,w5=Gq,x5=jQ,E5=bK;mQ({target:"Array",proto:!0},{flatMap:function(t){var e,n=w5(this),i=x5(n);return b5(t),(e=E5(n,0)).length=y5(e,n,n,i,0,1,t,arguments.length>1?arguments[1]:void 0),e}}),M3("Array","flatMap"),Array.prototype;var k5=kH,S5=YY,T5=Tq,O5=function(t,e,n){var i,r;S5(t);try{if(!(i=T5(t,"return"))){if("throw"===e)throw n;return n}i=k5(i,t)}catch(t){r=!0,i=t}if("throw"===e)throw n;if(r)throw i;return S5(i),n},R5=YY,_5=O5,N5=s1,D5=oY("iterator"),P5=Array.prototype,M5=function(t){return void 0!==t&&(N5.Array===t||P5[D5]===t)},L5=JQ,j5=Tq,B5=FH,F5=s1,z5=oY("iterator"),V5=function(t){if(!B5(t))return j5(t,z5)||j5(t,"@@iterator")||F5[L5(t)]},G5=kH,U5=Eq,W5=YY,Z5=yq,H5=V5,q5=TypeError,Y5=function(t,e){var n=arguments.length<2?H5(t):e;if(U5(n))return W5(G5(n,t));throw new q5(Z5(t)+" is not iterable")},Q5=GY,K5=kH,X5=Gq,J5=function(t,e,n,i){try{return i?e(R5(n)[0],n[1]):e(n)}catch(e){_5(t,"throw",e)}},$5=M5,t8=uK,e8=jQ,n8=UQ,i8=Y5,r8=V5,o8=Array,s8=oY("iterator"),a8=!1;try{var g8=0,l8={next:function(){return{done:!!g8++}},return:function(){a8=!0}};l8[s8]=function(){return this},Array.from(l8,(function(){throw 2}))}catch(t){}var A8=function(t,e){try{if(!e&&!a8)return!1}catch(t){return!1}var n=!1;try{var i={};i[s8]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n};mQ({target:"Array",stat:!0,forced:!A8((function(t){Array.from(t)}))},{from:function(t){var e=X5(t),n=t8(this),i=arguments.length,r=i>1?arguments[1]:void 0,o=void 0!==r;o&&(r=Q5(r,i>2?arguments[2]:void 0));var s,a,g,l,A,c,h=r8(e),C=0;if(!h||this===o8&&$5(h))for(s=e8(e),a=n?new this(s):o8(s);s>C;C++)c=o?r(e[C],C):e[C],n8(a,C,c);else for(A=(l=i8(e,h)).next,a=n?new this:[];!(g=K5(A,l)).done;C++)c=o?J5(l,r,[g.value,C],!0):g.value,n8(a,C,c);return a.length=C,a}});var c8=QH.Array.from,h8=QZ(c8),C8=V5,I8=QZ(C8),d8=QZ(C8);mQ({target:"Array",stat:!0},{isArray:RQ});var u8=QH.Array.isArray,f8=QZ(u8),p8=wH,v8=RQ,m8=TypeError,y8=Object.getOwnPropertyDescriptor,b8=p8&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}()?function(t,e){if(v8(t)&&!y8(t,"length").writable)throw new m8("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},w8=Gq,x8=jQ,E8=b8,k8=FQ;mQ({target:"Array",proto:!0,arity:1,forced:$Z((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=w8(this),n=x8(e),i=arguments.length;k8(n+i);for(var r=0;r<i;r++)e[n]=arguments[r],n++;return E8(e,n),n}});var S8=M3("Array","push"),T8=eq,O8=S8,R8=Array.prototype,_8=function(t){var e=t.push;return t===R8||T8(R8,t)&&e===R8.push?O8:e},N8=QZ(_8),D8=mQ,P8=RQ,M8=uK,L8=YH,j8=YK,B8=jQ,F8=ZH,z8=UQ,V8=oY,G8=y0,U8=kK("slice"),W8=V8("species"),Z8=Array,H8=Math.max;D8({target:"Array",proto:!0,forced:!U8},{slice:function(t,e){var n,i,r,o=F8(this),s=B8(o),a=j8(t,s),g=j8(void 0===e?s:e,s);if(P8(o)&&(n=o.constructor,(M8(n)&&(n===Z8||P8(n.prototype))||L8(n)&&null===(n=n[W8]))&&(n=void 0),n===Z8||void 0===n))return G8(o,a,g);for(i=new(void 0===n?Z8:n)(H8(g-a,0)),r=0;a<g;a++,r++)a in o&&z8(i,r,o[a]);return i.length=r,i}});var q8=M3("Array","slice"),Y8=eq,Q8=q8,K8=Array.prototype,X8=function(t){var e=t.slice;return t===K8||Y8(K8,t)&&e===K8.slice?Q8:e},J8=X8,$8=QZ(J8),t4=QZ(c8);function e4(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n4(t,e){var n;if(t){if("string"==typeof t)return e4(t,e);var i=$8(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?t4(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e4(t,e):void 0}}function i4(t,e){return function(t){if(f8(t))return t}(t)||function(t,e){var n=null==t?null:void 0!==Q2&&I8(t)||t["@@iterator"];if(null!=n){var i,r,o,s,a=[],g=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;g=!1}else for(;!(g=(i=o.call(n)).done)&&(N8(a).call(a,i.value),a.length!==e);g=!0);}catch(t){l=!0,r=t}finally{try{if(!g&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw r}}return a}}(t,e)||n4(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r4(t){return function(t){if(f8(t))return e4(t)}(t)||function(t){if(void 0!==Q2&&null!=I8(t)||null!=t["@@iterator"])return t4(t)}(t)||n4(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o4=QZ(b2),s4=M3("Array","concat"),a4=eq,g4=s4,l4=Array.prototype,A4=QZ((function(t){var e=t.concat;return t===l4||a4(l4,t)&&e===l4.concat?g4:e})),c4=QZ(X8),h4=tq,C4=LX,I4=XX,d4=YY,u4=AH([].concat),f4=h4("Reflect","ownKeys")||function(t){var e=C4.f(d4(t)),n=I4.f;return n?u4(e,n(t)):e};mQ({target:"Reflect",stat:!0},{ownKeys:f4});var p4=QZ(QH.Reflect.ownKeys),v4=QZ(u8),m4=Gq,y4=AX;mQ({target:"Object",stat:!0,forced:$Z((function(){y4(1)}))},{keys:function(t){return y4(m4(t))}});var b4=QZ(QH.Object.keys),w4=QJ.forEach,x4=K3("forEach")?[].forEach:function(t){return w4(this,t,arguments.length>1?arguments[1]:void 0)};mQ({target:"Array",proto:!0,forced:[].forEach!==x4},{forEach:x4});var E4=M3("Array","forEach"),k4=JQ,S4=Zq,T4=eq,O4=E4,R4=Array.prototype,_4={DOMTokenList:!0,NodeList:!0},N4=function(t){var e=t.forEach;return t===R4||T4(R4,t)&&e===R4.forEach||S4(_4,k4(t))?O4:e},D4=QZ(N4),P4=mQ,M4=RQ,L4=AH([].reverse),j4=[1,2];P4({target:"Array",proto:!0,forced:String(j4)===String(j4.reverse())},{reverse:function(){return M4(this)&&(this.length=this.length),L4(this)}});var B4=M3("Array","reverse"),F4=eq,z4=B4,V4=Array.prototype,G4=function(t){var e=t.reverse;return t===V4||F4(V4,t)&&e===V4.reverse?z4:e},U4=QZ(G4),W4=yq,Z4=TypeError,H4=function(t,e){if(!delete t[e])throw new Z4("Cannot delete property "+W4(e)+" of "+W4(t))},q4=mQ,Y4=Gq,Q4=YK,K4=PQ,X4=jQ,J4=b8,$4=FQ,t9=bK,e9=UQ,n9=H4,i9=kK("splice"),r9=Math.max,o9=Math.min;q4({target:"Array",proto:!0,forced:!i9},{splice:function(t,e){var n,i,r,o,s,a,g=Y4(this),l=X4(g),A=Q4(t,l),c=arguments.length;for(0===c?n=i=0:1===c?(n=0,i=l-A):(n=c-2,i=o9(r9(K4(e),0),l-A)),$4(l+n-i),r=t9(g,i),o=0;o<i;o++)(s=A+o)in g&&e9(r,o,g[s]);if(r.length=i,n<i){for(o=A;o<l-i;o++)a=o+n,(s=o+i)in g?g[a]=g[s]:n9(g,a);for(o=l;o>l-i+n;o--)n9(g,o-1)}else if(n>i)for(o=l-i;o>A;o--)a=o+n-1,(s=o+i-1)in g?g[a]=g[s]:n9(g,a);for(o=0;o<n;o++)g[o+A]=arguments[o+2];return J4(g,l-i+n),r}});var s9=M3("Array","splice"),a9=eq,g9=s9,l9=Array.prototype,A9=QZ((function(t){var e=t.splice;return t===l9||a9(l9,t)&&e===l9.splice?g9:e})),c9=wH,h9=AH,C9=kH,I9=$Z,d9=AX,u9=XX,f9=SH,p9=Gq,v9=BH,m9=Object.assign,y9=Object.defineProperty,b9=h9([].concat),w9=!m9||I9((function(){if(c9&&1!==m9({b:1},m9(y9({},"a",{enumerable:!0,get:function(){y9(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!==m9({},t)[n]||d9(m9({},e)).join("")!==i}))?function(t,e){for(var n=p9(t),i=arguments.length,r=1,o=u9.f,s=f9.f;i>r;)for(var a,g=v9(arguments[r++]),l=o?b9(d9(g),o(g)):d9(g),A=l.length,c=0;A>c;)a=l[c++],c9&&!C9(s,g,a)||(n[a]=g[a]);return n}:m9;mQ({target:"Object",stat:!0,arity:2,forced:Object.assign!==w9},{assign:w9});var x9=QZ(QH.Object.assign),E9=Gq,k9=y1,S9=C1;mQ({target:"Object",stat:!0,forced:$Z((function(){k9(1)})),sham:!S9},{getPrototypeOf:function(t){return k9(E9(t))}});var T9=QH.Object.getPrototypeOf;mQ({target:"Object",stat:!0,sham:!wH},{create:MX});var O9=QH.Object,R9=function(t,e){return O9.create(t,e)},_9=QZ(R9),N9=QH,D9=oH;N9.JSON||(N9.JSON={stringify:JSON.stringify});var P9=QZ((function(t,e,n){return D9(N9.JSON.stringify,null,arguments)})),M9="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,L9=TypeError,j9=function(t,e){if(t<e)throw new L9("Not enough arguments");return t},B9=JZ,F9=oH,z9=yH,V9=M9,G9=nq,U9=y0,W9=j9,Z9=B9.Function,H9=/MSIE .\./.test(G9)||V9&&function(){var t=B9.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}(),q9=function(t,e){var n=e?2:1;return H9?function(i,r){var o=W9(arguments.length,1)>n,s=z9(i)?i:Z9(i),a=o?U9(arguments,n):[],g=o?function(){F9(s,this,a)}:s;return e?t(g,r):t(g)}:t},Y9=mQ,Q9=JZ,K9=q9(Q9.setInterval,!0);Y9({global:!0,bind:!0,forced:Q9.setInterval!==K9},{setInterval:K9});var X9=mQ,J9=JZ,$9=q9(J9.setTimeout,!0);X9({global:!0,bind:!0,forced:J9.setTimeout!==$9},{setTimeout:$9});var t6=QZ(QH.setTimeout),e6={exports:{}};!function(t){function e(t){if(t)return function(t){return Object.assign(t,e.prototype),t._callbacks=new Map,t}(t);this._callbacks=new Map}e.prototype.on=function(t,e){const n=this._callbacks.get(t)??[];return n.push(e),this._callbacks.set(t,n),this},e.prototype.once=function(t,e){const n=(...i)=>{this.off(t,n),e.apply(this,i)};return n.fn=e,this.on(t,n),this},e.prototype.off=function(t,e){if(void 0===t&&void 0===e)return this._callbacks.clear(),this;if(void 0===e)return this._callbacks.delete(t),this;const n=this._callbacks.get(t);if(n){for(const[t,i]of n.entries())if(i===e||i.fn===e){n.splice(t,1);break}0===n.length?this._callbacks.delete(t):this._callbacks.set(t,n)}return this},e.prototype.emit=function(t,...e){const n=this._callbacks.get(t);if(n){const t=[...n];for(const n of t)n.apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks.get(t)??[]},e.prototype.listenerCount=function(t){if(t)return this.listeners(t).length;let e=0;for(const t of this._callbacks.values())e+=t.length;return e},e.prototype.hasListeners=function(t){return this.listenerCount(t)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(e6);var n6=QZ(e6.exports);function i6(){return i6=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i6.apply(this,arguments)}function r6(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function o6(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var s6,a6="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign,g6=["","webkit","Moz","MS","ms","o"],l6="undefined"==typeof document?{style:{}}:document.createElement("div"),A6=Math.round,c6=Math.abs,h6=Date.now;function C6(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<g6.length;){if((i=(n=g6[o])?n+r:e)in t)return i;o++}}s6="undefined"==typeof window?{}:window;var I6=C6(l6.style,"touchAction"),d6=void 0!==I6,u6="compute",f6="auto",p6="manipulation",v6="none",m6="pan-x",y6="pan-y",b6=function(){if(!d6)return!1;var t={},e=s6.CSS&&s6.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){return t[n]=!e||s6.CSS.supports("touch-action",n)})),t}(),w6="ontouchstart"in s6,x6=void 0!==C6(s6,"PointerEvent"),E6=w6&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),k6="touch",S6="mouse",T6=["x","y"],O6=["clientX","clientY"];function R6(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function _6(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function N6(t,e){return t.indexOf(e)>-1}var D6=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===u6&&(t=this.compute()),d6&&this.manager.element.style&&b6[t]&&(this.manager.element.style[I6]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return R6(this.manager.recognizers,(function(e){_6(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(N6(t,v6))return v6;var e=N6(t,m6),n=N6(t,y6);return e&&n?v6:e||n?e?m6:y6:N6(t,p6)?p6:f6}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=N6(i,v6)&&!b6[v6],o=N6(i,y6)&&!b6[y6],s=N6(i,m6)&&!b6[m6];if(r){var a=1===t.pointers.length,g=t.distance<2,l=t.deltaTime<250;if(a&&g&&l)return}if(!s||!o)return r||o&&6&n||s&&24&n?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function P6(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function M6(t){var e=t.length;if(1===e)return{x:A6(t[0].clientX),y:A6(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:A6(n/e),y:A6(i/e)}}function L6(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:A6(t.pointers[n].clientX),clientY:A6(t.pointers[n].clientY)},n++;return{timeStamp:h6(),pointers:e,center:M6(e),deltaX:t.deltaX,deltaY:t.deltaY}}function j6(t,e,n){n||(n=T6);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function B6(t,e,n){n||(n=T6);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function F6(t,e){return t===e?1:c6(t)>=c6(e)?t<0?2:4:e<0?8:16}function z6(t,e,n){return{x:e/t||0,y:n/t||0}}function V6(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&e&&i-r==0,s=12&e&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=L6(e)),r>1&&!n.firstMultiple?n.firstMultiple=L6(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,g=e.center=M6(i);e.timeStamp=h6(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=B6(a,g),e.distance=j6(a,g),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=F6(e.deltaX,e.deltaY);var l,A,c=z6(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=c6(c.x)>c6(c.y)?c.x:c.y,e.scale=s?(l=s.pointers,j6((A=i)[0],A[1],O6)/j6(l[0],l[1],O6)):1,e.rotation=s?function(t,e){return B6(e[1],e[0],O6)+B6(t[1],t[0],O6)}(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(8!==e.eventType&&(a>25||void 0===s.velocity)){var g=e.deltaX-s.deltaX,l=e.deltaY-s.deltaY,A=z6(a,g,l);i=A.x,r=A.y,n=c6(A.x)>c6(A.y)?A.x:A.y,o=F6(g,l),t.lastInterval=e}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var h,C=t.element,I=e.srcEvent;P6(h=I.composedPath?I.composedPath()[0]:I.path?I.path[0]:I.target,C)&&(C=h),e.target=C}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function G6(t){return t.trim().split(/\s+/g)}function U6(t,e,n){R6(G6(e),(function(e){t.addEventListener(e,n,!1)}))}function W6(t,e,n){R6(G6(e),(function(e){t.removeEventListener(e,n,!1)}))}function Z6(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var H6=function(){function t(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){_6(t.options.enable,[t])&&n.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&U6(this.element,this.evEl,this.domHandler),this.evTarget&&U6(this.target,this.evTarget,this.domHandler),this.evWin&&U6(Z6(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&W6(this.element,this.evEl,this.domHandler),this.evTarget&&W6(this.target,this.evTarget,this.domHandler),this.evWin&&W6(Z6(this.element),this.evWin,this.domHandler)},t}();function q6(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}var Y6={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Q6={2:k6,3:"pen",4:S6,5:"kinect"},K6="pointerdown",X6="pointermove pointerup pointercancel";s6.MSPointerEvent&&!s6.PointerEvent&&(K6="MSPointerDown",X6="MSPointerMove MSPointerUp MSPointerCancel");var J6=function(t){function e(){var n,i=e.prototype;return i.evEl=K6,i.evWin=X6,(n=t.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return r6(e,t),e.prototype.handler=function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Y6[i],o=Q6[t.pointerType]||t.pointerType,s=o===k6,a=q6(e,t.pointerId,"pointerId");1&r&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):12&r&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))},e}(H6);function $6(t){return Array.prototype.slice.call(t,0)}function t7(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];q6(r,s)<0&&i.push(t[o]),r[o]=s,o++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}var e7={touchstart:1,touchmove:2,touchend:4,touchcancel:8},n7=function(t){function e(){var n;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(n=t.apply(this,arguments)||this).targetIds={},n}return r6(e,t),e.prototype.handler=function(t){var e=e7[t.type],n=i7.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:k6,srcEvent:t})},e}(H6);function i7(t,e){var n,i,r=$6(t.touches),o=this.targetIds;if(3&e&&1===r.length)return o[r[0].identifier]=!0,[r,r];var s=$6(t.changedTouches),a=[],g=this.target;if(i=r.filter((function(t){return P6(t.target,g)})),1===e)for(n=0;n<i.length;)o[i[n].identifier]=!0,n++;for(n=0;n<s.length;)o[s[n].identifier]&&a.push(s[n]),12&e&&delete o[s[n].identifier],n++;return a.length?[t7(i.concat(a),"identifier",!0),a]:void 0}var r7={mousedown:1,mousemove:2,mouseup:4},o7=function(t){function e(){var n,i=e.prototype;return i.evEl="mousedown",i.evWin="mousemove mouseup",(n=t.apply(this,arguments)||this).pressed=!1,n}return r6(e,t),e.prototype.handler=function(t){var e=r7[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:S6,srcEvent:t}))},e}(H6);function s7(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY},i=this.lastTouches;this.lastTouches.push(n),setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),2500)}}function a7(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,s7.call(this,e)):12&t&&s7.call(this,e)}function g7(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),s=Math.abs(n-r.y);if(o<=25&&s<=25)return!0}return!1}var l7=function(){return function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).handler=function(t,e,n){var r=n.pointerType===k6,o=n.pointerType===S6;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)a7.call(o6(o6(i)),e,n);else if(o&&g7.call(o6(o6(i)),n))return;i.callback(t,e,n)}},i.touch=new n7(i.manager,i.handler),i.mouse=new o7(i.manager,i.handler),i.primaryTouch=null,i.lastTouches=[],i}return r6(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(H6)}();function A7(t,e,n){return!!Array.isArray(t)&&(R6(t,n[e],n),!0)}var c7=32,h7=1;function C7(t,e){var n=e.manager;return n?n.get(t):t}function I7(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var d7=function(){function t(t){void 0===t&&(t={}),this.options=i6({enable:!0},t),this.id=h7++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return a6(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(A7(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=C7(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return A7(t,"dropRecognizeWith",this)||(t=C7(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(A7(t,"requireFailure",this))return this;var e=this.requireFail;return-1===q6(e,t=C7(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(A7(t,"dropRequireFailure",this))return this;t=C7(t,this);var e=q6(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+I7(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+I7(n))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=c7},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=a6({},t);if(!_6(this.options.enable,[this,e]))return this.reset(),void(this.state=c7);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),u7=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,i6({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}r6(e,t);var n=e.prototype;return n.getTouchAction=function(){return[p6]},n.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,r=t.distance<n.threshold,o=t.deltaTime<n.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&o&&i){if(4!==t.eventType)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<n.interval,a=!this.pCenter||j6(this.pCenter,t.center)<n.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0==this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),n.interval),2):8}return c7},n.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=c7}),this.options.interval),c7},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(d7),f7=function(t){function e(e){return void 0===e&&(e={}),t.call(this,i6({pointers:1},e))||this}r6(e,t);var n=e.prototype;return n.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},n.process=function(t){var e=this.state,n=t.eventType,i=6&e,r=this.attrTest(t);return i&&(8&n||!r)?16|e:i||r?4&n?8|e:2&e?4|e:2:c7},e}(d7);function p7(t){return 16===t?"down":8===t?"up":2===t?"left":4===t?"right":""}var v7=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,i6({event:"pan",threshold:10,pointers:1,direction:30},e))||this).pX=null,n.pY=null,n}r6(e,t);var n=e.prototype;return n.getTouchAction=function(){var t=this.options.direction,e=[];return 6&t&&e.push(y6),24&t&&e.push(m6),e},n.directionTest=function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(6&e.direction?(r=0===o?1:o<0?2:4,n=o!==this.pX,i=Math.abs(t.deltaX)):(r=0===s?1:s<0?8:16,n=s!==this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},n.attrTest=function(t){return f7.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},n.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var n=p7(e.direction);n&&(e.additionalEvent=this.options.event+n),t.prototype.emit.call(this,e)},e}(f7),m7=function(t){function e(e){return void 0===e&&(e={}),t.call(this,i6({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},e))||this}r6(e,t);var n=e.prototype;return n.getTouchAction=function(){return v7.prototype.getTouchAction.call(this)},n.attrTest=function(e){var n,i=this.options.direction;return 30&i?n=e.overallVelocity:6&i?n=e.overallVelocityX:24&i&&(n=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&c6(n)>this.options.velocity&&4&e.eventType},n.emit=function(t){var e=p7(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(f7),y7=function(t){function e(e){return void 0===e&&(e={}),t.call(this,i6({event:"pinch",threshold:0,pointers:2},e))||this}r6(e,t);var n=e.prototype;return n.getTouchAction=function(){return[v6]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},n.emit=function(e){if(1!==e.scale){var n=e.scale<1?"in":"out";e.additionalEvent=this.options.event+n}t.prototype.emit.call(this,e)},e}(f7),b7=function(t){function e(e){return void 0===e&&(e={}),t.call(this,i6({event:"rotate",threshold:0,pointers:2},e))||this}r6(e,t);var n=e.prototype;return n.getTouchAction=function(){return[v6]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(f7),w7=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,i6({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,n._input=null,n}r6(e,t);var n=e.prototype;return n.getTouchAction=function(){return[f6]},n.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,r=t.distance<n.threshold,o=t.deltaTime>n.time;if(this._input=t,!r||!i||12&t.eventType&&!o)this.reset();else if(1&t.eventType)this.reset(),this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),n.time);else if(4&t.eventType)return 8;return c7},n.reset=function(){clearTimeout(this._timer)},n.emit=function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=h6(),this.manager.emit(this.options.event,this._input)))},e}(d7),x7={domEvents:!1,touchAction:u6,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},E7=[[b7,{enable:!1}],[y7,{enable:!1},["rotate"]],[m7,{direction:6}],[v7,{direction:6},["swipe"]],[u7],[u7,{event:"doubletap",taps:2},["tap"]],[w7]];function k7(t,e){var n,i=t.element;i.style&&(R6(t.options.cssProps,(function(r,o){n=C6(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}var S7=function(){function t(t,e){var n=this;this.options=a6({},x7,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new(this.options.inputClass||(x6?J6:E6?n7:w6?l7:o7))(this,V6),this.touchAction=new D6(this,this.options.touchAction),k7(this,!0),R6(this.options.recognizers,(function(t){var e=n.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return a6(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(e.curRecognizer=null,r=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!==r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(e.curRecognizer=n,r=n),o++}},e.get=function(t){if(t instanceof d7)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event===t)return e[n];return null},e.add=function(t){if(A7(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(A7(t,"remove",this))return this;var e=this.get(t);if(t){var n=this.recognizers,i=q6(n,e);-1!==i&&(n.splice(i,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var n=this.handlers;return R6(G6(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var n=this.handlers;return R6(G6(t),(function(t){e?n[t]&&n[t].splice(q6(n[t],e),1):delete n[t]})),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},e.destroy=function(){this.element&&k7(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),T7={touchstart:1,touchmove:2,touchend:4,touchcancel:8},O7=function(t){function e(){var n,i=e.prototype;return i.evTarget="touchstart",i.evWin="touchstart touchmove touchend touchcancel",(n=t.apply(this,arguments)||this).started=!1,n}return r6(e,t),e.prototype.handler=function(t){var e=T7[t.type];if(1===e&&(this.started=!0),this.started){var n=R7.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:k6,srcEvent:t})}},e}(H6);function R7(t,e){var n=$6(t.touches),i=$6(t.changedTouches);return 12&e&&(n=t7(n.concat(i),"identifier",!0)),[n,i]}function _7(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,i,n),t.apply(this,arguments)}}var N7=_7((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&void 0===t[i[r]])&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),D7=_7((function(t,e){return N7(t,e,!0)}),"merge","Use `assign`.");function P7(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&a6(i,n)}function M7(t,e){return function(){return t.apply(e,arguments)}}var L7=function(){var t=function(t,e){return void 0===e&&(e={}),new S7(t,i6({recognizers:E7.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=30,t.DIRECTION_DOWN=16,t.DIRECTION_LEFT=2,t.DIRECTION_RIGHT=4,t.DIRECTION_UP=8,t.DIRECTION_HORIZONTAL=6,t.DIRECTION_VERTICAL=24,t.DIRECTION_NONE=1,t.DIRECTION_DOWN=16,t.INPUT_START=1,t.INPUT_MOVE=2,t.INPUT_END=4,t.INPUT_CANCEL=8,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=c7,t.Manager=S7,t.Input=H6,t.TouchAction=D6,t.TouchInput=n7,t.MouseInput=o7,t.PointerEventInput=J6,t.TouchMouseInput=l7,t.SingleTouchInput=O7,t.Recognizer=d7,t.AttrRecognizer=f7,t.Tap=u7,t.Pan=v7,t.Swipe=m7,t.Pinch=y7,t.Rotate=b7,t.Press=w7,t.on=U6,t.off=W6,t.each=R6,t.merge=D7,t.extend=N7,t.bindFn=M7,t.assign=a6,t.inherit=P7,t.bindFn=M7,t.prefixed=C6,t.toArray=$6,t.inArray=q6,t.uniqueArray=t7,t.splitStr=G6,t.boolOrFn=_6,t.hasParent=P6,t.addEventListeners=U6,t.removeEventListeners=W6,t.defaults=a6({},x7,{preset:E7}),t}(),j7=L7;function B7(t,e){var n=void 0!==o4&&d8(t)||t["@@iterator"];if(!n){if(v4(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return F7(t,e);var i=c4(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?h8(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?F7(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function F7(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var z7=o4("DELETE");function V7(){var t=G7.apply(void 0,arguments);return W7(t),t}function G7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length<2)return e[0];var i;if(e.length>2)return G7.apply(void 0,A4(i=[V7(e[0],e[1])]).call(i,r4(c4(e).call(e,2))));var r=e[0],o=e[1];if(r instanceof Date&&o instanceof Date)return r.setTime(o.getTime()),r;var s,a=B7(p4(o));try{for(a.s();!(s=a.n()).done;){var g=s.value;Object.prototype.propertyIsEnumerable.call(o,g)&&(o[g]===z7?delete r[g]:null===r[g]||null===o[g]||"object"!=typeof r[g]||"object"!=typeof o[g]||v4(r[g])||v4(o[g])?r[g]=U7(o[g]):r[g]=G7(r[g],o[g]))}}catch(t){a.e(t)}finally{a.f()}return r}function U7(t){return v4(t)?d5(t).call(t,(function(t){return U7(t)})):"object"==typeof t&&null!==t?t instanceof Date?new Date(t.getTime()):G7({},t):t}function W7(t){for(var e=0,n=b4(t);e<n.length;e++){var i=n[e];t[i]===z7?delete t[i]:"object"==typeof t[i]&&null!==t[i]&&W7(t[i])}}var Z7="undefined"!=typeof window?window.Hammer||j7:function(){return function(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:()=>({set:t})}}()};function H7(t){var e,n=this;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push((function(){n._dom.overlay.parentNode.removeChild(n._dom.overlay)}));var i=Z7(this._dom.overlay);i.on("tap",V3(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push((function(){i.destroy()}));var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];D4(r).call(r,(function(t){i.on(t,(function(t){t.srcEvent.stopPropagation()}))})),document&&document.body&&(this._onClick=function(e){(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(e.target,t)||n.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push((function(){document.body.removeEventListener("click",n._onClick)}))),this._escListener=function(t){("key"in t?"Escape"===t.key:27===t.keyCode)&&n.deactivate()}}n6(H7.prototype),H7.current=null,H7.prototype.destroy=function(){var t,e;this.deactivate();var n,i=B7(U4(t=A9(e=this._cleanupQueue).call(e,0)).call(t));try{for(i.s();!(n=i.n()).done;)(0,n.value)()}catch(t){i.e(t)}finally{i.f()}},H7.prototype.activate=function(){H7.current&&H7.current.deactivate(),H7.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},H7.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},H7.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var q7=uK,Y7=yq,Q7=TypeError,K7=function(t){if(q7(t))return t;throw new Q7(Y7(t)+" is not a constructor")},X7=mQ,J7=oH,$7=_3,ttt=K7,ett=YY,ntt=YH,itt=MX,rtt=$Z,ott=tq("Reflect","construct"),stt=Object.prototype,att=[].push,gtt=rtt((function(){function t(){}return!(ott((function(){}),[],t)instanceof t)})),ltt=!rtt((function(){ott((function(){}))})),Att=gtt||ltt;X7({target:"Reflect",stat:!0,forced:Att,sham:Att},{construct:function(t,e){ttt(t),ett(e);var n=arguments.length<3?t:ttt(arguments[2]);if(ltt&&!gtt)return ott(t,e,n);if(t===n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return J7(att,i,e),new(J7($7,t,i))}var r=n.prototype,o=itt(ntt(r)?r:stt),s=J7(t,o,e);return ntt(s)?s:o}});var ctt=QZ(QH.Reflect.construct),htt=QZ(QH.Object.getOwnPropertySymbols),Ctt={exports:{}},Itt=mQ,dtt=$Z,utt=ZH,ftt=bH.f,ptt=wH;Itt({target:"Object",stat:!0,forced:!ptt||dtt((function(){ftt(1)})),sham:!ptt},{getOwnPropertyDescriptor:function(t,e){return ftt(utt(t),e)}});var vtt=QH.Object,mtt=Ctt.exports=function(t,e){return vtt.getOwnPropertyDescriptor(t,e)};vtt.getOwnPropertyDescriptor.sham&&(mtt.sham=!0);var ytt=QZ(Ctt.exports),btt=f4,wtt=ZH,xtt=bH,Ett=UQ;mQ({target:"Object",stat:!0,sham:!wH},{getOwnPropertyDescriptors:function(t){for(var e,n,i=wtt(t),r=xtt.f,o=btt(i),s={},a=0;o.length>a;)void 0!==(n=r(i,e=o[a++]))&&Ett(s,e,n);return s}});var ktt=QZ(QH.Object.getOwnPropertyDescriptors),Stt={exports:{}},Ttt=mQ,Ott=wH,Rtt=WK.f;Ttt({target:"Object",stat:!0,forced:Object.defineProperties!==Rtt,sham:!Ott},{defineProperties:Rtt});var _tt=QH.Object,Ntt=Stt.exports=function(t,e){return _tt.defineProperties(t,e)};_tt.defineProperties.sham&&(Ntt.sham=!0);var Dtt=QZ(Stt.exports),Ptt=QZ(kQ);function Mtt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Ltt=R9,jtt=QZ(Ltt);mQ({target:"Object",stat:!0},{setPrototypeOf:W1});var Btt=QH.Object.setPrototypeOf,Ftt=QZ(Btt),ztt=QZ(z3);function Vtt(t,e){var n;return Vtt=Ftt?ztt(n=Ftt).call(n):function(t,e){return t.__proto__=e,t},Vtt(t,e)}var Gtt=T9,Utt=QZ(Gtt);function Wtt(t){var e;return Wtt=Ftt?ztt(e=Utt).call(e):function(t){return t.__proto__||Utt(t)},Wtt(t)}var Ztt={exports:{}},Htt={exports:{}};!function(t){var e=Y2,n=C3;function i(r){return t.exports=i="function"==typeof e&&"symbol"==typeof n?function(t){return typeof t}:function(t){return t&&"function"==typeof e&&t.constructor===e&&t!==e.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,i(r)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}(Htt);var qtt=Htt.exports,Ytt=N4,Qtt=Zq,Ktt=f4,Xtt=bH,Jtt=UY,$tt=YH,tet=gQ,eet=Error,net=AH("".replace),iet=String(new eet("zxcasd").stack),ret=/\n\s*at [^:]*:[^\n]*/,oet=ret.test(iet),set=DH,aet=!$Z((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",set(1,7)),7!==t.stack)})),get=gQ,Aet=aet,cet=Error.captureStackTrace,het=GY,Cet=kH,Iet=YY,det=yq,uet=M5,fet=jQ,pet=eq,vet=Y5,met=V5,yet=O5,bet=TypeError,wet=function(t,e){this.stopped=t,this.result=e},xet=wet.prototype,Eet=function(t,e,n){var i,r,o,s,a,g,l,A=n&&n.that,c=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_RECORD),C=!(!n||!n.IS_ITERATOR),I=!(!n||!n.INTERRUPTED),d=het(e,A),u=function(t){return i&&yet(i,"normal",t),new wet(!0,t)},f=function(t){return c?(Iet(t),I?d(t[0],t[1],u):d(t[0],t[1])):I?d(t,u):d(t)};if(h)i=t.iterator;else if(C)i=t;else{if(!(r=met(t)))throw new bet(det(t)+" is not iterable");if(uet(r)){for(o=0,s=fet(t);s>o;o++)if((a=f(t[o]))&&pet(xet,a))return a;return new wet(!1)}i=vet(t,r)}for(g=h?t.next:i.next;!(l=Cet(g,i)).done;){try{a=f(l.value)}catch(t){yet(i,"throw",t)}if("object"==typeof a&&a&&pet(xet,a))return a}return new wet(!1)},ket=UK,Tet=mQ,Oet=eq,Ret=y1,_et=W1,Net=MX,Det=gQ,Pet=DH,Met=function(t,e,n,i){Aet&&(cet?cet(t,e):get(t,"stack",function(t,e){if(oet&&"string"==typeof t&&!eet.prepareStackTrace)for(;e--;)t=net(t,ret,"");return t}(n,i)))},Let=Eet,jet=oY("toStringTag"),Bet=Error,Fet=[].push,zet=function(t,e){var n,i,r,o=Oet(Vet,this);_et?n=_et(new Bet,o?Ret(this):Vet):(n=o?this:Net(Vet),Det(n,jet,"Error")),void 0!==e&&Det(n,"message",function(t,e){return void 0===t?arguments.length<2?"":e:ket(t)}(e)),Met(n,zet,n.stack,1),arguments.length>2&&(i=n,$tt(r=arguments[2])&&"cause"in r&&tet(i,"cause",r.cause));var s=[];return Let(t,Fet,{that:s}),Det(n,"errors",s),n};_et?_et(zet,Bet):function(t,e,n){for(var i=Ktt(e),r=Jtt.f,o=Xtt.f,s=0;s<i.length;s++){var a=i[s];Qtt(t,a)||n&&Qtt(n,a)||r(t,a,o(e,a))}}(zet,Bet,{name:!0});var Vet=zet.prototype=Net(Bet.prototype,{constructor:Pet(1,zet),message:Pet(1,""),name:Pet(1,"AggregateError")});Tet({global:!0,constructor:!0,arity:2},{AggregateError:zet});var Get,Uet,Wet,Zet,Het=tq,qet=eJ,Yet=wH,Qet=oY("species"),Ket=function(t){var e=Het(t);Yet&&e&&!e[Qet]&&qet(e,Qet,{configurable:!0,get:function(){return this}})},Xet=eq,Jet=TypeError,$et=function(t,e){if(Xet(e,t))return t;throw new Jet("Incorrect invocation")},tnt=YY,ent=K7,nnt=FH,int=oY("species"),rnt=function(t,e){var n,i=tnt(t).constructor;return void 0===i||nnt(n=tnt(i)[int])?e:ent(n)},ont=/(?:ipad|iphone|ipod).*applewebkit/i.test(nq),snt=JZ,ant=oH,gnt=GY,lnt=yH,Ant=Zq,cnt=$Z,hnt=pX,Cnt=y0,Int=pY,dnt=j9,unt=ont,fnt=X3,pnt=snt.setImmediate,vnt=snt.clearImmediate,mnt=snt.process,ynt=snt.Dispatch,bnt=snt.Function,wnt=snt.MessageChannel,xnt=snt.String,Ent=0,knt={},Snt="onreadystatechange";cnt((function(){Get=snt.location}));var Tnt=function(t){if(Ant(knt,t)){var e=knt[t];delete knt[t],e()}},Ont=function(t){return function(){Tnt(t)}},Rnt=function(t){Tnt(t.data)},_nt=function(t){snt.postMessage(xnt(t),Get.protocol+"//"+Get.host)};pnt&&vnt||(pnt=function(t){dnt(arguments.length,1);var e=lnt(t)?t:bnt(t),n=Cnt(arguments,1);return knt[++Ent]=function(){ant(e,void 0,n)},Uet(Ent),Ent},vnt=function(t){delete knt[t]},fnt?Uet=function(t){mnt.nextTick(Ont(t))}:ynt&&ynt.now?Uet=function(t){ynt.now(Ont(t))}:wnt&&!unt?(Zet=(Wet=new wnt).port2,Wet.port1.onmessage=Rnt,Uet=gnt(Zet.postMessage,Zet)):snt.addEventListener&&lnt(snt.postMessage)&&!snt.importScripts&&Get&&"file:"!==Get.protocol&&!cnt(_nt)?(Uet=_nt,snt.addEventListener("message",Rnt,!1)):Uet=Snt in Int("script")?function(t){hnt.appendChild(Int("script"))[Snt]=function(){hnt.removeChild(this),Tnt(t)}}:function(t){setTimeout(Ont(t),0)});var Nnt={set:pnt,clear:vnt},Dnt=function(){this.head=null,this.tail=null};Dnt.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var Pnt,Mnt,Lnt,jnt,Bnt,Fnt=Dnt,znt=/ipad|iphone|ipod/i.test(nq)&&"undefined"!=typeof Pebble,Vnt=/web0s(?!.*chrome)/i.test(nq),Gnt=JZ,Unt=GY,Wnt=bH.f,Znt=Nnt.set,Hnt=Fnt,qnt=ont,Ynt=znt,Qnt=Vnt,Knt=X3,Xnt=Gnt.MutationObserver||Gnt.WebKitMutationObserver,Jnt=Gnt.document,$nt=Gnt.process,tit=Gnt.Promise,eit=Wnt(Gnt,"queueMicrotask"),nit=eit&&eit.value;if(!nit){var iit=new Hnt,rit=function(){var t,e;for(Knt&&(t=$nt.domain)&&t.exit();e=iit.get();)try{e()}catch(t){throw iit.head&&Pnt(),t}t&&t.enter()};qnt||Knt||Qnt||!Xnt||!Jnt?!Ynt&&tit&&tit.resolve?((jnt=tit.resolve(void 0)).constructor=tit,Bnt=Unt(jnt.then,jnt),Pnt=function(){Bnt(rit)}):Knt?Pnt=function(){$nt.nextTick(rit)}:(Znt=Unt(Znt,Gnt),Pnt=function(){Znt(rit)}):(Mnt=!0,Lnt=Jnt.createTextNode(""),new Xnt(rit).observe(Lnt,{characterData:!0}),Pnt=function(){Lnt.data=Mnt=!Mnt}),nit=function(t){iit.head||Pnt(),iit.add(t)}}var oit=nit,sit=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},ait=JZ.Promise,git="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,lit=!git&&!X3&&"object"==typeof window&&"object"==typeof document,Ait=JZ,cit=ait,hit=yH,Cit=BY,Iit=nK,dit=oY,uit=lit,fit=git,pit=lq,vit=cit&&cit.prototype,mit=dit("species"),yit=!1,bit=hit(Ait.PromiseRejectionEvent),wit=Cit("Promise",(function(){var t=Iit(cit),e=t!==String(cit);if(!e&&66===pit)return!0;if(!vit.catch||!vit.finally)return!0;if(!pit||pit<51||!/native code/.test(t)){var n=new cit((function(t){t(1)})),i=function(t){t((function(){}),(function(){}))};if((n.constructor={})[mit]=i,!(yit=n.then((function(){}))instanceof i))return!0}return!e&&(uit||fit)&&!bit})),xit={CONSTRUCTOR:wit,REJECTION_EVENT:bit,SUBCLASSING:yit},Eit={},kit=Eq,Sit=TypeError,Tit=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw new Sit("Bad Promise constructor");e=t,n=i})),this.resolve=kit(e),this.reject=kit(n)};Eit.f=function(t){return new Tit(t)};var Oit,Rit,_it=mQ,Nit=X3,Dit=JZ,Pit=kH,Mit=$X,Lit=EJ,jit=Ket,Bit=Eq,Fit=yH,zit=YH,Vit=$et,Git=rnt,Uit=Nnt.set,Wit=oit,Zit=sit,Hit=Fnt,qit=VJ,Yit=ait,Qit=Eit,Kit="Promise",Xit=xit.CONSTRUCTOR,Jit=xit.REJECTION_EVENT,$it=qit.getterFor(Kit),trt=qit.set,ert=Yit&&Yit.prototype,nrt=Yit,irt=ert,rrt=Dit.TypeError,ort=Dit.document,srt=Dit.process,art=Qit.f,grt=art,lrt=!!(ort&&ort.createEvent&&Dit.dispatchEvent),Art="unhandledrejection",crt=function(t){var e;return!(!zit(t)||!Fit(e=t.then))&&e},hrt=function(t,e){var n,i,r,o=e.value,s=1===e.state,a=s?t.ok:t.fail,g=t.resolve,l=t.reject,A=t.domain;try{a?(s||(2===e.rejection&&frt(e),e.rejection=1),!0===a?n=o:(A&&A.enter(),n=a(o),A&&(A.exit(),r=!0)),n===t.promise?l(new rrt("Promise-chain cycle")):(i=crt(n))?Pit(i,n,g,l):g(n)):l(o)}catch(t){A&&!r&&A.exit(),l(t)}},Crt=function(t,e){t.notified||(t.notified=!0,Wit((function(){for(var n,i=t.reactions;n=i.get();)hrt(n,t);t.notified=!1,e&&!t.rejection&&drt(t)})))},Irt=function(t,e,n){var i,r;lrt?((i=ort.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),Dit.dispatchEvent(i)):i={promise:e,reason:n},!Jit&&(r=Dit["on"+t])?r(i):t===Art&&function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}("Unhandled promise rejection",n)},drt=function(t){Pit(Uit,Dit,(function(){var e,n=t.facade,i=t.value;if(urt(t)&&(e=Zit((function(){Nit?srt.emit("unhandledRejection",i,n):Irt(Art,n,i)})),t.rejection=Nit||urt(t)?2:1,e.error))throw e.value}))},urt=function(t){return 1!==t.rejection&&!t.parent},frt=function(t){Pit(Uit,Dit,(function(){var e=t.facade;Nit?srt.emit("rejectionHandled",e):Irt("rejectionhandled",e,t.value)}))},prt=function(t,e,n){return function(i){t(e,i,n)}},vrt=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Crt(t,!0))},mrt=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw new rrt("Promise can't be resolved itself");var i=crt(e);i?Wit((function(){var n={done:!1};try{Pit(i,e,prt(mrt,n,t),prt(vrt,n,t))}catch(e){vrt(n,e,t)}})):(t.value=e,t.state=1,Crt(t,!1))}catch(e){vrt({done:!1},e,t)}}};Xit&&(irt=(nrt=function(t){Vit(this,irt),Bit(t),Pit(Oit,this);var e=$it(this);try{t(prt(mrt,e),prt(vrt,e))}catch(t){vrt(e,t)}}).prototype,(Oit=function(t){trt(this,{type:Kit,done:!1,notified:!1,parent:!1,reactions:new Hit,rejection:!1,state:0,value:void 0})}).prototype=Mit(irt,"then",(function(t,e){var n=$it(this),i=art(Git(this,nrt));return n.parent=!0,i.ok=!Fit(t)||t,i.fail=Fit(e)&&e,i.domain=Nit?srt.domain:void 0,0===n.state?n.reactions.add(i):Wit((function(){hrt(i,n)})),i.promise})),Rit=function(){var t=new Oit,e=$it(t);this.promise=t,this.resolve=prt(mrt,e),this.reject=prt(vrt,e)},Qit.f=art=function(t){return t===nrt||void 0===t?new Rit(t):grt(t)}),_it({global:!0,constructor:!0,wrap:!0,forced:Xit},{Promise:nrt}),Lit(nrt,Kit,!1,!0),jit(Kit);var yrt=ait,brt=xit.CONSTRUCTOR||!A8((function(t){yrt.all(t).then(void 0,(function(){}))})),wrt=kH,xrt=Eq,Ert=Eit,krt=sit,Srt=Eet;mQ({target:"Promise",stat:!0,forced:brt},{all:function(t){var e=this,n=Ert.f(e),i=n.resolve,r=n.reject,o=krt((function(){var n=xrt(e.resolve),o=[],s=0,a=1;Srt(t,(function(t){var g=s++,l=!1;a++,wrt(n,e,t).then((function(t){l||(l=!0,o[g]=t,--a||i(o))}),r)})),--a||i(o)}));return o.error&&r(o.value),n.promise}});var Trt=mQ,Ort=xit.CONSTRUCTOR;ait&&ait.prototype,Trt({target:"Promise",proto:!0,forced:Ort,real:!0},{catch:function(t){return this.then(void 0,t)}});var Rrt=kH,_rt=Eq,Nrt=Eit,Drt=sit,Prt=Eet;mQ({target:"Promise",stat:!0,forced:brt},{race:function(t){var e=this,n=Nrt.f(e),i=n.reject,r=Drt((function(){var r=_rt(e.resolve);Prt(t,(function(t){Rrt(r,e,t).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}});var Mrt=kH,Lrt=Eit;mQ({target:"Promise",stat:!0,forced:xit.CONSTRUCTOR},{reject:function(t){var e=Lrt.f(this);return Mrt(e.reject,void 0,t),e.promise}});var jrt=YY,Brt=YH,Frt=Eit,zrt=function(t,e){if(jrt(t),Brt(e)&&e.constructor===t)return e;var n=Frt.f(t);return(0,n.resolve)(e),n.promise},Vrt=mQ,Grt=ait,Urt=xit.CONSTRUCTOR,Wrt=zrt,Zrt=tq("Promise"),Hrt=!Urt;Vrt({target:"Promise",stat:!0,forced:!0},{resolve:function(t){return Wrt(Hrt&&this===Zrt?Grt:this,t)}});var qrt=kH,Yrt=Eq,Qrt=Eit,Krt=sit,Xrt=Eet;mQ({target:"Promise",stat:!0,forced:brt},{allSettled:function(t){var e=this,n=Qrt.f(e),i=n.resolve,r=n.reject,o=Krt((function(){var n=Yrt(e.resolve),r=[],o=0,s=1;Xrt(t,(function(t){var a=o++,g=!1;s++,qrt(n,e,t).then((function(t){g||(g=!0,r[a]={status:"fulfilled",value:t},--s||i(r))}),(function(t){g||(g=!0,r[a]={status:"rejected",reason:t},--s||i(r))}))})),--s||i(r)}));return o.error&&r(o.value),n.promise}});var Jrt=kH,$rt=Eq,tot=tq,eot=Eit,not=sit,iot=Eet,rot="No one promise resolved";mQ({target:"Promise",stat:!0,forced:brt},{any:function(t){var e=this,n=tot("AggregateError"),i=eot.f(e),r=i.resolve,o=i.reject,s=not((function(){var i=$rt(e.resolve),s=[],a=0,g=1,l=!1;iot(t,(function(t){var A=a++,c=!1;g++,Jrt(i,e,t).then((function(t){c||l||(l=!0,r(t))}),(function(t){c||l||(c=!0,s[A]=t,--g||o(new n(s,rot)))}))})),--g||o(new n(s,rot))}));return s.error&&o(s.value),i.promise}});var oot=mQ,sot=ait,aot=$Z,got=tq,lot=yH,Aot=rnt,cot=zrt,hot=sot&&sot.prototype;oot({target:"Promise",proto:!0,real:!0,forced:!!sot&&aot((function(){hot.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=Aot(this,got("Promise")),n=lot(t);return this.then(n?function(n){return cot(e,t()).then((function(){return n}))}:t,n?function(n){return cot(e,t()).then((function(){throw n}))}:t)}});var Cot=QH.Promise,Iot=Eit;mQ({target:"Promise",stat:!0},{withResolvers:function(){var t=Iot.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var dot=Cot,uot=Eit,fot=sit;mQ({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=uot.f(this),n=fot(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}});var pot=dot,vot=G4;!function(t){var e=qtt.default,n=SQ,i=Y2,r=Ltt,o=Gtt,s=Ytt,a=_8,g=Btt,l=pot,A=vot,c=J8;function h(){t.exports=h=function(){return I},t.exports.__esModule=!0,t.exports.default=t.exports;var C,I={},d=Object.prototype,u=d.hasOwnProperty,f=n||function(t,e,n){t[e]=n.value},p="function"==typeof i?i:{},v=p.iterator||"@@iterator",m=p.asyncIterator||"@@asyncIterator",y=p.toStringTag||"@@toStringTag";function b(t,e,i){return n(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{b({},"")}catch(C){b=function(t,e,n){return t[e]=n}}function w(t,e,n,i){var o=e&&e.prototype instanceof R?e:R,s=r(o.prototype),a=new G(i||[]);return f(s,"_invoke",{value:B(t,n,a)}),s}function x(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}I.wrap=w;var E="suspendedStart",k="suspendedYield",S="executing",T="completed",O={};function R(){}function _(){}function N(){}var D={};b(D,v,(function(){return this}));var P=o&&o(o(U([])));P&&P!==d&&u.call(P,v)&&(D=P);var M=N.prototype=R.prototype=r(D);function L(t){var e;s(e=["next","throw","return"]).call(e,(function(e){b(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,n){function i(r,o,s,a){var g=x(t[r],t,o);if("throw"!==g.type){var l=g.arg,A=l.value;return A&&"object"==e(A)&&u.call(A,"__await")?n.resolve(A.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):n.resolve(A).then((function(t){l.value=t,s(l)}),(function(t){return i("throw",t,s,a)}))}a(g.arg)}var r;f(this,"_invoke",{value:function(t,e){function o(){return new n((function(n,r){i(t,e,n,r)}))}return r=r?r.then(o,o):o()}})}function B(t,e,n){var i=E;return function(r,o){if(i===S)throw new Error("Generator is already running");if(i===T){if("throw"===r)throw o;return{value:C,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=F(s,n);if(a){if(a===O)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===E)throw i=T,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=S;var g=x(t,e,n);if("normal"===g.type){if(i=n.done?T:k,g.arg===O)continue;return{value:g.arg,done:n.done}}"throw"===g.type&&(i=T,n.method="throw",n.arg=g.arg)}}}function F(t,e){var n=e.method,i=t.iterator[n];if(i===C)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=C,F(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),O;var r=x(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,O;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=C),e.delegate=null,O):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,O)}function z(t){var e,n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),a(e=this.tryEntries).call(e,n)}function V(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function G(t){this.tryEntries=[{tryLoc:"root"}],s(t).call(t,z,this),this.reset(!0)}function U(t){if(t||""===t){var n=t[v];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(u.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=C,e.done=!0,e};return r.next=r}}throw new TypeError(e(t)+" is not iterable")}return _.prototype=N,f(M,"constructor",{value:N,configurable:!0}),f(N,"constructor",{value:_,configurable:!0}),_.displayName=b(N,y,"GeneratorFunction"),I.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},I.mark=function(t){return g?g(t,N):(t.__proto__=N,b(t,y,"GeneratorFunction")),t.prototype=r(M),t},I.awrap=function(t){return{__await:t}},L(j.prototype),b(j.prototype,m,(function(){return this})),I.AsyncIterator=j,I.async=function(t,e,n,i,r){void 0===r&&(r=l);var o=new j(w(t,e,n,i),r);return I.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},L(M),b(M,y,"Generator"),b(M,v,(function(){return this})),b(M,"toString",(function(){return"[object Generator]"})),I.keys=function(t){var e=Object(t),n=[];for(var i in e)a(n).call(n,i);return A(n).call(n),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},I.values=U,G.prototype={constructor:G,reset:function(t){var e;if(this.prev=0,this.next=0,this.sent=this._sent=C,this.done=!1,this.delegate=null,this.method="next",this.arg=C,s(e=this.tryEntries).call(e,V),!t)for(var n in this)"t"===n.charAt(0)&&u.call(this,n)&&!isNaN(+c(n).call(n,1))&&(this[n]=C)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return o.type="throw",o.arg=t,e.next=n,i&&(e.method="next",e.arg=C),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var s=u.call(r,"catchLoc"),a=u.call(r,"finallyLoc");if(s&&a){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&u.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,O):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),O},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),V(n),O}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;V(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:U(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=C),O}},I}t.exports=h,t.exports.__esModule=!0,t.exports.default=t.exports}(Ztt);var mot=(0,Ztt.exports)(),yot=mot;try{regeneratorRuntime=mot}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=mot:Function("r","regeneratorRuntime = r")(mot)}var bot=QZ(yot),wot={exports:{}},xot=$Z((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),Eot=$Z,kot=YH,Sot=IH,Tot=xot,Oot=Object.isExtensible,Rot=Eot((function(){Oot(1)}))||Tot?function(t){return!!kot(t)&&(!Tot||"ArrayBuffer"!==Sot(t))&&(!Oot||Oot(t))}:Oot,_ot=!$Z((function(){return Object.isExtensible(Object.preventExtensions({}))})),Not=mQ,Dot=AH,Pot=tX,Mot=YH,Lot=Zq,jot=UY.f,Bot=LX,Fot=FX,zot=Rot,Vot=_ot,Got=!1,Uot=Kq("meta"),Wot=0,Zot=function(t){jot(t,Uot,{value:{objectID:"O"+Wot++,weakData:{}}})},Hot=wot.exports={enable:function(){Hot.enable=function(){},Got=!0;var t=Bot.f,e=Dot([].splice),n={};n[Uot]=1,t(n).length&&(Bot.f=function(n){for(var i=t(n),r=0,o=i.length;r<o;r++)if(i[r]===Uot){e(i,r,1);break}return i},Not({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Fot.f}))},fastKey:function(t,e){if(!Mot(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!Lot(t,Uot)){if(!zot(t))return"F";if(!e)return"E";Zot(t)}return t[Uot].objectID},getWeakData:function(t,e){if(!Lot(t,Uot)){if(!zot(t))return!0;if(!e)return!1;Zot(t)}return t[Uot].weakData},onFreeze:function(t){return Vot&&Got&&zot(t)&&!Lot(t,Uot)&&Zot(t),t}};Pot[Uot]=!0;var qot=wot.exports,Yot=mQ,Qot=JZ,Kot=qot,Xot=$Z,Jot=gQ,$ot=Eet,tst=$et,est=yH,nst=YH,ist=FH,rst=EJ,ost=UY.f,sst=QJ.forEach,ast=wH,gst=VJ.set,lst=VJ.getterFor,Ast=function(t,e,n){var i,r=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),s=r?"set":"add",a=Qot[t],g=a&&a.prototype,l={};if(ast&&est(a)&&(o||g.forEach&&!Xot((function(){(new a).entries().next()})))){var A=(i=e((function(e,n){gst(tst(e,A),{type:t,collection:new a}),ist(n)||$ot(n,e[s],{that:e,AS_ENTRIES:r})}))).prototype,c=lst(t);sst(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"===t||"set"===t;!(t in g)||o&&"clear"===t||Jot(A,t,(function(n,i){var r=c(this).collection;if(!e&&o&&!nst(n))return"get"===t&&void 0;var s=r[t](0===n?0:n,i);return e?this:s}))})),o||ost(A,"size",{configurable:!0,get:function(){return c(this).collection.size}})}else i=n.getConstructor(e,t,r,s),Kot.enable();return rst(i,t,!1,!0),l[t]=i,Yot({global:!0,forced:!0},l),o||n.setStrong(i,t,r),i},cst=$X,hst=MX,Cst=eJ,Ist=function(t,e,n){for(var i in e)n&&n.unsafe&&t[i]?t[i]=e[i]:cst(t,i,e[i],n);return t},dst=GY,ust=$et,fst=FH,pst=Eet,vst=r2,mst=o2,yst=Ket,bst=wH,wst=qot.fastKey,xst=VJ.set,Est=VJ.getterFor,kst={getConstructor:function(t,e,n,i){var r=t((function(t,r){ust(t,o),xst(t,{type:e,index:hst(null),first:void 0,last:void 0,size:0}),bst||(t.size=0),fst(r)||pst(r,t[i],{that:t,AS_ENTRIES:n})})),o=r.prototype,s=Est(e),a=function(t,e,n){var i,r,o=s(t),a=g(t,e);return a?a.value=n:(o.last=a={index:r=wst(e,!0),key:e,value:n,previous:i=o.last,next:void 0,removed:!1},o.first||(o.first=a),i&&(i.next=a),bst?o.size++:t.size++,"F"!==r&&(o.index[r]=a)),t},g=function(t,e){var n,i=s(t),r=wst(e);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key===e)return n};return Ist(o,{clear:function(){for(var t=s(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,bst?t.size=0:this.size=0},delete:function(t){var e=this,n=s(e),i=g(e,t);if(i){var r=i.next,o=i.previous;delete n.index[i.index],i.removed=!0,o&&(o.next=r),r&&(r.previous=o),n.first===i&&(n.first=r),n.last===i&&(n.last=o),bst?n.size--:e.size--}return!!i},forEach:function(t){for(var e,n=s(this),i=dst(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(i(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!g(this,t)}}),Ist(o,n?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),bst&&Cst(o,"size",{configurable:!0,get:function(){return s(this).size}}),r},setStrong:function(t,e,n){var i=e+" Iterator",r=Est(e),o=Est(i);vst(t,e,(function(t,e){xst(this,{type:i,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?mst("keys"===e?n.key:"values"===e?n.value:[n.key,n.value],!1):(t.target=void 0,mst(void 0,!0))}),n?"entries":"values",!n,!0),yst(e)}};Ast("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),kst);var Sst=QZ(QH.Map),Tst=QJ.some;mQ({target:"Array",proto:!0,forced:!K3("some")},{some:function(t){return Tst(this,t,arguments.length>1?arguments[1]:void 0)}});var Ost=M3("Array","some"),Rst=eq,_st=Ost,Nst=Array.prototype,Dst=QZ((function(t){var e=t.some;return t===Nst||Rst(Nst,t)&&e===Nst.some?_st:e})),Pst=M3("Array","keys"),Mst=JQ,Lst=Zq,jst=eq,Bst=Pst,Fst=Array.prototype,zst={DOMTokenList:!0,NodeList:!0},Vst=QZ((function(t){var e=t.keys;return t===Fst||jst(Fst,t)&&e===Fst.keys||Lst(zst,Mst(t))?Bst:e})),Gst=ZX,Ust=Math.floor,Wst=function(t,e){var n=t.length,i=Ust(n/2);return n<8?Zst(t,e):Hst(t,Wst(Gst(t,0,i),e),Wst(Gst(t,i),e),e)},Zst=function(t,e){for(var n,i,r=t.length,o=1;o<r;){for(i=o,n=t[o];i&&e(t[i-1],n)>0;)t[i]=t[--i];i!==o++&&(t[i]=n)}return t},Hst=function(t,e,n,i){for(var r=e.length,o=n.length,s=0,a=0;s<r||a<o;)t[s+a]=s<r&&a<o?i(e[s],n[a])<=0?e[s++]:n[a++]:s<r?e[s++]:n[a++];return t},qst=Wst,Yst=nq.match(/firefox\/(\d+)/i),Qst=!!Yst&&+Yst[1],Kst=/MSIE|Trident/.test(nq),Xst=nq.match(/AppleWebKit\/(\d+)\./),Jst=!!Xst&&+Xst[1],$st=mQ,tat=AH,eat=Eq,nat=Gq,iat=jQ,rat=H4,oat=UK,sat=$Z,aat=qst,gat=K3,lat=Qst,Aat=Kst,cat=lq,hat=Jst,Cat=[],Iat=tat(Cat.sort),dat=tat(Cat.push),uat=sat((function(){Cat.sort(void 0)})),fat=sat((function(){Cat.sort(null)})),pat=gat("sort"),vat=!sat((function(){if(cat)return cat<70;if(!(lat&&lat>3)){if(Aat)return!0;if(hat)return hat<603;var t,e,n,i,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)Cat.push({k:e+i,v:n})}for(Cat.sort((function(t,e){return e.v-t.v})),i=0;i<Cat.length;i++)e=Cat[i].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}}));$st({target:"Array",proto:!0,forced:uat||!fat||!pat||!vat},{sort:function(t){void 0!==t&&eat(t);var e=nat(this);if(vat)return void 0===t?Iat(e):Iat(e,t);var n,i,r=[],o=iat(e);for(i=0;i<o;i++)i in e&&dat(r,e[i]);for(aat(r,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:oat(e)>oat(n)?1:-1}}(t)),n=iat(r),i=0;i<n;)e[i]=r[i++];for(;i<o;)rat(e,i++);return e}});var mat=M3("Array","sort"),yat=eq,bat=mat,wat=Array.prototype,xat=QZ((function(t){var e=t.sort;return t===wat||yat(wat,t)&&e===wat.sort?bat:e})),Eat=M3("Array","values"),kat=JQ,Sat=Zq,Tat=eq,Oat=Eat,Rat=Array.prototype,_at={DOMTokenList:!0,NodeList:!0},Nat=QZ((function(t){var e=t.values;return t===Rat||Tat(Rat,t)&&e===Rat.values||Sat(_at,kat(t))?Oat:e})),Dat=QZ(h3),Pat=M3("Array","entries"),Mat=JQ,Lat=Zq,jat=eq,Bat=Pat,Fat=Array.prototype,zat={DOMTokenList:!0,NodeList:!0},Vat=QZ((function(t){var e=t.entries;return t===Fat||jat(Fat,t)&&e===Fat.entries||Lat(zat,Mat(t))?Bat:e}));let Gat;const Uat=new Uint8Array(16);function Wat(){if(!Gat&&(Gat="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Gat))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Gat(Uat)}const Zat=[];for(let t=0;t<256;++t)Zat.push((t+256).toString(16).slice(1));var Hat={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function qat(t,e,n){if(Hat.randomUUID&&!e&&!t)return Hat.randomUUID();const i=(t=t||{}).random||(t.rng||Wat)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=i[t];return e}return function(t,e=0){return Zat[t[e+0]]+Zat[t[e+1]]+Zat[t[e+2]]+Zat[t[e+3]]+"-"+Zat[t[e+4]]+Zat[t[e+5]]+"-"+Zat[t[e+6]]+Zat[t[e+7]]+"-"+Zat[t[e+8]]+Zat[t[e+9]]+"-"+Zat[t[e+10]]+Zat[t[e+11]]+Zat[t[e+12]]+Zat[t[e+13]]+Zat[t[e+14]]+Zat[t[e+15]]}(i)}function Yat(t){return"string"==typeof t||"number"==typeof t}var Qat=function(){function t(e){qZ(this,t),m3(this,"_queue",[]),m3(this,"_timeout",null),m3(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}return v3(t,[{key:"setOptions",value:function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,n=0;n<e.length;n++){var i=e[n];i.original?t[i.name]=i.original:delete t[i.name]}this._extended=null}}},{key:"replace",value:function(t,e){var n=this,i=t[e];if(!i)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];n.queue({args:e,fn:i,context:this})}}},{key:"queue",value:function(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var t=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=t6((function(){t.flush()}),this.delay))}},{key:"flush",value:function(){var t,e;D4(t=A9(e=this._queue).call(e,0)).call(t,(function(t){t.fn.apply(t.context||t.fn,t.args||[])}))}}],[{key:"extend",value:function(e,n){var i=new t(n);if(void 0!==e.flush)throw new Error("Target object already has a property flush");e.flush=function(){i.flush()};var r=[{name:"flush",original:void 0}];if(n&&n.replace)for(var o=0;o<n.replace.length;o++){var s=n.replace[o];r.push({name:s,original:e[s]}),i.replace(e,s)}return i._extended={object:e,methods:r},i}}]),t}(),Kat=function(){function t(){qZ(this,t),m3(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),m3(this,"subscribe",t.prototype.on),m3(this,"unsubscribe",t.prototype.off)}return v3(t,[{key:"_trigger",value:function(t,e,n){var i,r;if("*"===t)throw new Error("Cannot trigger event *");D4(i=A4(r=[]).call(r,r4(this._subscribers[t]),r4(this._subscribers["*"]))).call(i,(function(i){i(t,e,null!=n?n:null)}))}},{key:"on",value:function(t,e){"function"==typeof e&&this._subscribers[t].push(e)}},{key:"off",value:function(t,e){var n;this._subscribers[t]=l5(n=this._subscribers[t]).call(n,(function(t){return t!==e}))}}]),t}();Ast("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),kst);var Xat=QZ(QH.Set),Jat=QZ(Y5);function $at(t,e){var n=void 0!==o4&&d8(t)||t["@@iterator"];if(!n){if(v4(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return tgt(t,e);var i=c4(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?h8(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?tgt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function tgt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var egt=function(t){function e(t){qZ(this,e),this._pairs=t}return v3(e,[{key:t,value:bot.mark((function t(){var e,n,i,r,o;return bot.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=$at(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=i4(n.value,2),r=i[0],o=i[1],t.next=7,[r,o];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"entries",value:bot.mark((function t(){var e,n,i,r,o;return bot.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=$at(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=i4(n.value,2),r=i[0],o=i[1],t.next=7,[r,o];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"keys",value:bot.mark((function t(){var e,n,i,r;return bot.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=$at(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=i4(n.value,1),r=i[0],t.next=7,r;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"values",value:bot.mark((function t(){var e,n,i,r;return bot.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=$at(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=i4(n.value,2),r=i[1],t.next=7,r;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"toIdArray",value:function(){var t;return d5(t=r4(this._pairs)).call(t,(function(t){return t[0]}))}},{key:"toItemArray",value:function(){var t;return d5(t=r4(this._pairs)).call(t,(function(t){return t[1]}))}},{key:"toEntryArray",value:function(){return r4(this._pairs)}},{key:"toObjectMap",value:function(){var t,e=_9(null),n=$at(this._pairs);try{for(n.s();!(t=n.n()).done;){var i=i4(t.value,2),r=i[0],o=i[1];e[r]=o}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"toMap",value:function(){return new Sst(this._pairs)}},{key:"toIdSet",value:function(){return new Xat(this.toIdArray())}},{key:"toItemSet",value:function(){return new Xat(this.toItemArray())}},{key:"cache",value:function(){return new e(r4(this._pairs))}},{key:"distinct",value:function(t){var e,n=new Xat,i=$at(this._pairs);try{for(i.s();!(e=i.n()).done;){var r=i4(e.value,2),o=r[0],s=r[1];n.add(t(s,o))}}catch(t){i.e(t)}finally{i.f()}return n}},{key:"filter",value:function(t){var n=this._pairs;return new e({[Dat]:()=>bot.mark((function e(){var i,r,o,s,a;return bot.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=$at(n),e.prev=1,i.s();case 3:if((r=i.n()).done){e.next=10;break}if(o=i4(r.value,2),s=o[0],a=o[1],!t(a,s)){e.next=8;break}return e.next=8,[s,a];case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),i.e(e.t0);case 15:return e.prev=15,i.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,12,15,18]])}))()})}},{key:"forEach",value:function(t){var e,n=$at(this._pairs);try{for(n.s();!(e=n.n()).done;){var i=i4(e.value,2),r=i[0];t(i[1],r)}}catch(t){n.e(t)}finally{n.f()}}},{key:"map",value:function(t){var n=this._pairs;return new e({[Dat]:()=>bot.mark((function e(){var i,r,o,s,a;return bot.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=$at(n),e.prev=1,i.s();case 3:if((r=i.n()).done){e.next=9;break}return o=i4(r.value,2),s=o[0],a=o[1],e.next=7,[s,t(a,s)];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),i.e(e.t0);case 14:return e.prev=14,i.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))()})}},{key:"max",value:function(t){var e=Jat(this._pairs),n=e.next();if(n.done)return null;for(var i=n.value[1],r=t(n.value[1],n.value[0]);!(n=e.next()).done;){var o=i4(n.value,2),s=o[0],a=o[1],g=t(a,s);g>r&&(r=g,i=a)}return i}},{key:"min",value:function(t){var e=Jat(this._pairs),n=e.next();if(n.done)return null;for(var i=n.value[1],r=t(n.value[1],n.value[0]);!(n=e.next()).done;){var o=i4(n.value,2),s=o[0],a=o[1],g=t(a,s);g<r&&(r=g,i=a)}return i}},{key:"reduce",value:function(t,e){var n,i=$at(this._pairs);try{for(i.s();!(n=i.n()).done;){var r=i4(n.value,2),o=r[0];e=t(e,r[1],o)}}catch(t){i.e(t)}finally{i.f()}return e}},{key:"sort",value:function(t){var n=this;return new e({[Dat]:function(){var e;return Jat(xat(e=r4(n._pairs)).call(e,(function(e,n){var i=i4(e,2),r=i[0],o=i[1],s=i4(n,2),a=s[0],g=s[1];return t(o,g,r,a)})))}})}}]),e}(Dat);function ngt(t,e){var n=b4(t);if(htt){var i=htt(t);e&&(i=l5(i).call(i,(function(e){return ytt(t,e).enumerable}))),n.push.apply(n,i)}return n}function igt(t){for(var e=1;e<arguments.length;e++){var n,i,r=null!=arguments[e]?arguments[e]:{};e%2?D4(n=ngt(Object(r),!0)).call(n,(function(e){m3(t,e,r[e])})):ktt?Dtt(t,ktt(r)):D4(i=ngt(Object(r))).call(i,(function(e){Ptt(t,e,ytt(r,e))}))}return t}function rgt(t,e){var n=void 0!==o4&&d8(t)||t["@@iterator"];if(!n){if(v4(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return ogt(t,e);var i=c4(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?h8(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ogt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function ogt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function sgt(t){var e=function(){if("undefined"==typeof Reflect||!ctt)return!1;if(ctt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ctt(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Wtt(t);if(e){var r=Wtt(this).constructor;n=ctt(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===d3(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Mtt(t)}(this,n)}}var agt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=jtt(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),TQ(t,"prototype",{writable:!1}),e&&Vtt(t,e)}(n,t);var e=sgt(n);function n(t,i){var r;return qZ(this,n),m3(Mtt(r=e.call(this)),"_queue",null),t&&!v4(t)&&(i=t,t=[]),r._options=i||{},r._data=new Sst,r.length=0,r._idProp=r._options.fieldId||"id",t&&t.length&&r.add(t),r.setOptions(i),r}return v3(n,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Qat.extend(this,{replace:["add","update","remove"]})),t.queue&&"object"==typeof t.queue&&this._queue.setOptions(t.queue)))}},{key:"add",value:function(t,e){var n,i=this,r=[];if(v4(t)){var o=d5(t).call(t,(function(t){return t[i._idProp]}));if(Dst(o).call(o,(function(t){return i._data.has(t)})))throw new Error("A duplicate id was found in the parameter array.");for(var s=0,a=t.length;s<a;s++)n=this._addItem(t[s]),r.push(n)}else{if(!t||"object"!=typeof t)throw new Error("Unknown dataType");n=this._addItem(t),r.push(n)}return r.length&&this._trigger("add",{items:r},e),r}},{key:"update",value:function(t,e){var n=this,i=[],r=[],o=[],s=[],a=this._idProp,g=function(t){var e=t[a];if(null!=e&&n._data.has(e)){var g=t,l=x9({},n._data.get(e)),A=n._updateItem(g);r.push(A),s.push(g),o.push(l)}else{var c=n._addItem(t);i.push(c)}};if(v4(t))for(var l=0,A=t.length;l<A;l++)t[l]&&"object"==typeof t[l]?g(t[l]):console.warn("Ignoring input item, which is not an object at index "+l);else{if(!t||"object"!=typeof t)throw new Error("Unknown dataType");g(t)}if(i.length&&this._trigger("add",{items:i},e),r.length){var c={items:r,oldData:o,data:s};this._trigger("update",c,e)}return A4(i).call(i,r)}},{key:"updateOnly",value:function(t,e){var n,i=this;v4(t)||(t=[t]);var r=d5(n=d5(t).call(t,(function(t){var e=i._data.get(t[i._idProp]);if(null==e)throw new Error("Updating non-existent items is not allowed.");return{oldData:e,update:t}}))).call(n,(function(t){var e=t.oldData,n=t.update,r=e[i._idProp],o=function(t){for(var e,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return V7.apply(void 0,A4(e=[{},t]).call(e,i))}(e,n);return i._data.set(r,o),{id:r,oldData:e,updatedData:o}}));if(r.length){var o={items:d5(r).call(r,(function(t){return t.id})),oldData:d5(r).call(r,(function(t){return t.oldData})),data:d5(r).call(r,(function(t){return t.updatedData}))};return this._trigger("update",o,e),o.items}return[]}},{key:"get",value:function(t,e){var n=void 0,i=void 0,r=void 0;Yat(t)?(n=t,r=e):v4(t)?(i=t,r=e):r=t;var o,s=r&&"Object"===r.returnType?"Object":"Array",a=r&&l5(r),g=[],l=void 0,A=void 0,c=void 0;if(null!=n)(l=this._data.get(n))&&a&&!a(l)&&(l=void 0);else if(null!=i)for(var h=0,C=i.length;h<C;h++)null==(l=this._data.get(i[h]))||a&&!a(l)||g.push(l);else for(var I,d=0,u=(A=r4(Vst(I=this._data).call(I))).length;d<u;d++)c=A[d],null==(l=this._data.get(c))||a&&!a(l)||g.push(l);if(r&&r.order&&null==n&&this._sort(g,r.order),r&&r.fields){var f=r.fields;if(null!=n&&null!=l)l=this._filterFields(l,f);else for(var p=0,v=g.length;p<v;p++)g[p]=this._filterFields(g[p],f)}if("Object"==s){for(var m={},y=0,b=g.length;y<b;y++){var w=g[y];m[w[this._idProp]]=w}return m}return null!=n?null!==(o=l)&&void 0!==o?o:null:g}},{key:"getIds",value:function(t){var e=this._data,n=t&&l5(t),i=t&&t.order,r=r4(Vst(e).call(e)),o=[];if(n)if(i){for(var s=[],a=0,g=r.length;a<g;a++){var l=r[a],A=this._data.get(l);null!=A&&n(A)&&s.push(A)}this._sort(s,i);for(var c=0,h=s.length;c<h;c++)o.push(s[c][this._idProp])}else for(var C=0,I=r.length;C<I;C++){var d=r[C],u=this._data.get(d);null!=u&&n(u)&&o.push(u[this._idProp])}else if(i){for(var f=[],p=0,v=r.length;p<v;p++){var m=r[p];f.push(e.get(m))}this._sort(f,i);for(var y=0,b=f.length;y<b;y++)o.push(f[y][this._idProp])}else for(var w=0,x=r.length;w<x;w++){var E=r[w],k=e.get(E);null!=k&&o.push(k[this._idProp])}return o}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(t,e){var n=e&&l5(e),i=this._data,r=r4(Vst(i).call(i));if(e&&e.order)for(var o=this.get(e),s=0,a=o.length;s<a;s++){var g=o[s];t(g,g[this._idProp])}else for(var l=0,A=r.length;l<A;l++){var c=r[l],h=this._data.get(c);null==h||n&&!n(h)||t(h,c)}}},{key:"map",value:function(t,e){for(var n=e&&l5(e),i=[],r=this._data,o=r4(Vst(r).call(r)),s=0,a=o.length;s<a;s++){var g=o[s],l=this._data.get(g);null==l||n&&!n(l)||i.push(t(l,g))}return e&&e.order&&this._sort(i,e.order),i}},{key:"_filterFields",value:function(t,e){var n;return t?i5(n=v4(e)?e:b4(e)).call(n,(function(e,n){return e[n]=t[n],e}),{}):t}},{key:"_sort",value:function(t,e){if("string"==typeof e){var n=e;xat(t).call(t,(function(t,e){var i=t[n],r=e[n];return i>r?1:i<r?-1:0}))}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");xat(t).call(t,e)}}},{key:"remove",value:function(t,e){for(var n=[],i=[],r=v4(t)?t:[t],o=0,s=r.length;o<s;o++){var a=this._remove(r[o]);if(a){var g=a[this._idProp];null!=g&&(n.push(g),i.push(a))}}return n.length&&this._trigger("remove",{items:n,oldData:i},e),n}},{key:"_remove",value:function(t){var e;if(Yat(t)?e=t:t&&"object"==typeof t&&(e=t[this._idProp]),null!=e&&this._data.has(e)){var n=this._data.get(e)||null;return this._data.delete(e),--this.length,n}return null}},{key:"clear",value:function(t){for(var e,n=r4(Vst(e=this._data).call(e)),i=[],r=0,o=n.length;r<o;r++)i.push(this._data.get(n[r]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},t),n}},{key:"max",value:function(t){var e,n,i=null,r=null,o=rgt(Nat(e=this._data).call(e));try{for(o.s();!(n=o.n()).done;){var s=n.value,a=s[t];"number"==typeof a&&(null==r||a>r)&&(i=s,r=a)}}catch(t){o.e(t)}finally{o.f()}return i||null}},{key:"min",value:function(t){var e,n,i=null,r=null,o=rgt(Nat(e=this._data).call(e));try{for(o.s();!(n=o.n()).done;){var s=n.value,a=s[t];"number"==typeof a&&(null==r||a<r)&&(i=s,r=a)}}catch(t){o.e(t)}finally{o.f()}return i||null}},{key:"distinct",value:function(t){for(var e=this._data,n=r4(Vst(e).call(e)),i=[],r=0,o=0,s=n.length;o<s;o++){for(var a=n[o],g=e.get(a)[t],l=!1,A=0;A<r;A++)if(i[A]==g){l=!0;break}l||void 0===g||(i[r]=g,r++)}return i}},{key:"_addItem",value:function(t){var e=function(t,e){return null==t[e]&&(t[e]=qat()),t}(t,this._idProp),n=e[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,e),++this.length,n}},{key:"_updateItem",value:function(t){var e=t[this._idProp];if(null==e)throw new Error("Cannot update item: item has no id (item: "+P9(t)+")");var n=this._data.get(e);if(!n)throw new Error("Cannot update item: no item with id "+e+" found");return this._data.set(e,igt(igt({},n),t)),e}},{key:"stream",value:function(t){if(t){var e=this._data;return new egt({[Dat]:()=>bot.mark((function n(){var i,r,o,s;return bot.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=rgt(t),n.prev=1,i.s();case 3:if((r=i.n()).done){n.next=11;break}if(o=r.value,null==(s=e.get(o))){n.next=9;break}return n.next=9,[o,s];case 9:n.next=3;break;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),i.e(n.t0);case 16:return n.prev=16,i.f(),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[1,13,16,19]])}))()})}var n;return new egt({[Dat]:V3(n=Vat(this._data)).call(n,this._data)})}}]),n}(Kat);class ggt{constructor(t,e){this.container=t,this.logger=e,this.parser=new _h(e),this.network=null,this.nodes=new agt([]),this.edges=new agt([]),this.nodeSelectCallbacks=[],this.options={defaultPrefixes:["rdf","rdfs","owl"],labelMaxLength:20,hidden:!0,freeze:!1},this.colors={subject:{background:"#97B0F8",border:"#4466cc",highlight:{background:"#b3c6fa",border:"#5577dd"}},object:{background:"#D5DDF6",border:"#97B0F8",highlight:{background:"#e8edfb",border:"#b3c6fa"}},literal:{background:"#fff6a5",border:"#ffcc00",highlight:{background:"#fffbc2",border:"#ffdd33"}},class:{background:"#ffb366",border:"#ff8000",highlight:{background:"#ffc28a",border:"#ff9933"}},property:{background:"#ffff99",border:"#e6e600",highlight:{background:"#ffffb3",border:"#ffff33"}},cluster:{background:"#ffce99",border:"#ff9c33",highlight:{background:"#ffe6cc",border:"#ffb566"}}},this.clusterIndex=0,this.clusters=[],this.clusterLevel=0,this.prefixes={},this.triples=[],Vh.on(Gh,(t=>{this.updateGraph(t)}))}initialize(){const t={nodes:this.nodes,edges:this.edges},e={layout:{randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize",shakeTowards:"leaves"}},physics:{enabled:!this.options.freeze,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09,avoidOverlap:0},maxVelocity:50,minVelocity:.1,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:100,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},edges:{smooth:{type:"continuous"},font:{size:12,face:"Arial",background:"rgba(255, 255, 255, 0.8)",strokeWidth:0},color:{color:"#0077aa",highlight:"#0099cc"},width:1.5,selectionWidth:2.5},nodes:{shape:"ellipse",size:10,font:{size:12,face:"Arial",strokeWidth:0},borderWidth:1.5,shadow:{enabled:!1}},groups:{subject:{shape:"ellipse",color:this.colors.subject},object:{shape:"ellipse",color:this.colors.object},literal:{shape:"box",borderRadius:8,color:this.colors.literal},class:{shape:"box",borderRadius:8,color:this.colors.class},property:{shape:"box",borderRadius:8,color:this.colors.property}}};this.network=new HZ(this.container,t,e),setTimeout((()=>{this.network.fit({animation:{duration:1e3,easingFunction:"easeOutQuint"},scale:.75})}),300),this.network.on("click",this._handleNetworkClick.bind(this)),this.logger.debug("Graph visualizer initialized")}async updateGraph(t){try{const{triples:e,prefixes:n}=await this.parser.parseTriples(t),i=Object.entries(n).map((([t,e])=>[t,vl.namedNode(e)]));this.prefixMap=new pA(i,{factory:vl}),this.prefixes={...n},this._inferPrefixes(e),this.triples=e,this.clusterIndex=0,this.clusters=[],this.clusterLevel=0,this._createVisualization(),this.options.hidden&&this._toggleHideDefaults()}catch(t){this.logger.error("Failed to update graph",t)}}_inferPrefixes(t){const e=new Map;for(const n of t)this._countNamespace(n.subject,e),this._countNamespace(n.predicate,e),this._countNamespace(n.object,e);if(!this.prefixes.ex&&!this.prefixes.example){const t="http://example.org/";[...e.keys()].some((t=>t.includes("example.org")))&&(this.prefixes.ex=t)}const n=[...e.entries()].filter((([t,e])=>e>=2&&!this._hasPrefix(t))).sort(((t,e)=>e[1]-t[1]));for(let t=0;t<n.length;t++){const e=n[t][0];if(e.includes("example.org"))this.prefixes.ex=e;else if(e.includes("schema.org"))this.prefixes.schema=e;else{const t=/\/\/([^./]+)/.exec(e)||/\/([^./]+)/.exec(e);if(t){const n=t[1].toLowerCase();this.prefixes[n]||(this.prefixes[n]=e)}}}}_countNamespace(t,e){if(!t||Nh.isLiteral(t))return;const n=t.value||t;if("string"!=typeof n)return;const i=Nh.splitNamespace(n);i.namespace&&e.set(i.namespace,(e.get(i.namespace)||0)+1)}_hasPrefix(t){return Object.values(this.prefixes).some((e=>e===t))}_createVisualization(){this.nodes.clear(),this.edges.clear();const t=new Set,e=new Set,n="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",i=["http://www.w3.org/1999/02/22-rdf-syntax-ns#Property","http://www.w3.org/2000/01/rdf-schema#Property","http://www.w3.org/2002/07/owl#ObjectProperty","http://www.w3.org/2002/07/owl#DatatypeProperty"],r=["http://www.w3.org/2000/01/rdf-schema#Class","http://www.w3.org/2002/07/owl#Class"];for(const o of this.triples){const s=o.subject,a=o.predicate,g=o.object;a.value===n&&(i.includes(g.value)?e.add(s.value):r.includes(g.value)&&t.add(s.value)),a.value!==n&&e.add(a.value)}for(const n of this.triples){const i=n.subject,r=n.predicate,o=n.object;if(!this.nodes.get(i.value)){let n;n=Nh.isLiteral(i)?"literal":t.has(i.value)?"class":e.has(i.value)?"property":"subject",this.nodes.add(this._createNode(i.value,n))}if(!this.nodes.get(o.value)){let n;n=Nh.isLiteral(o)?"literal":t.has(o.value)?"class":e.has(o.value)?"property":"object",this.nodes.add(this._createNode(o.value,n))}this._createEdge(i.value,r.value,o.value)}this.triples.length>500&&this._makeClusters(),this.triples.length>1e3&&this._makeClusters()}_createNode(t,e){let n,i=t;if(t&&"object"==typeof t&&t.value&&(t=t.value),Nh.isLiteral(t))n="string"==typeof t&&t.startsWith('"')&&t.endsWith('"')?t.substring(1,t.length-1):t,n.length>this.options.labelMaxLength&&(n=n.substring(0,this.options.labelMaxLength-3)+"...");else{let e="string"==typeof t?vl.namedNode(t):t;const i=this.prefixMap.shrink(e);if(i&&i.value&&i.value.includes(":")&&!i.value.includes("://"))n=i.value;else{const t=e.value||e,i=t.lastIndexOf("#"),r=t.lastIndexOf("/"),o=Math.max(i,r);n=t.substring(o+1)}n.length>this.options.labelMaxLength&&(n=n.substring(0,this.options.labelMaxLength-3)+"...")}const r={id:i,label:n,title:t};return"literal"===e?(r.shape="box",r.borderRadius=8,r.font={color:"#a31515",background:"#fff"},r.widthConstraint={minimum:50,maximum:200},r.color=this.colors.literal):"property"===e?(r.shape="ellipse",r.color=this.colors.property):"class"===e?(r.shape="ellipse",r.color=this.colors.class):"subject"===e?(r.shape="ellipse",r.color=this.colors.subject):"object"===e&&(r.shape="ellipse",r.color=this.colors.object),r}_createEdge(t,e,n){let i="",r=e;if(e&&"object"==typeof e&&e.value&&(r=e.value),"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===r)i="a";else{let t="string"==typeof r?vl.namedNode(r):r;const e=this.prefixMap.shrink(t);if(e&&e.value&&e.value.includes(":")&&!e.value.includes("://"))i=e.value;else{const e=t.value||t,n=e.lastIndexOf("#"),r=e.lastIndexOf("/"),o=Math.max(n,r);i=e.substring(o+1)}}this.edges.add({from:t,to:n,label:i,title:r,type:"predicate",arrows:"to",predicateUri:r,font:{size:10,align:"middle",face:"sans-serif",background:"rgba(255, 255, 255, 0.8)"},color:{color:"#0077aa",highlight:"#0099cc",hover:"#0088bb"},smooth:{type:"continuous",roundness:.2}})}_handleNetworkClick(t){if(1===t.nodes.length){const e=t.nodes[0];if(this.network.isCluster(e)){this.network.openCluster(e);const t=this.clusters.findIndex((t=>t.id===e));-1!==t&&this.clusters.splice(t,1)}else this._notifyNodeSelection(e)}else this._notifyNodeSelection(null)}_notifyNodeSelection(t){this.nodeSelectCallbacks.forEach((e=>e(t)))}_makeClusters(){this.clusterLevel++;const t={processProperties:(t,e)=>{this.clusterIndex++;let n=0;for(const t of e)n+=t.childrenCount||1;let i=null;for(const t of e){const e=this.network.getConnectedNodes(t.id);if(1===e.length&&(i=this.nodes.get(e[0])||this.clusters.find((t=>t.id===e[0])),i))break}const r=`cluster:${this.clusterIndex}`,o=i?`${this._getClusterLabel(i)}\n(${n} nodes)`:`Cluster ${this.clusterIndex}\n(${n} nodes)`;return t.childrenCount=n,t.size=4*n+15,t.label=o,t.id=r,t.mass=.5*n,t.color=this.colors.cluster,this.clusters.push({id:r,label:o,clusterLevel:this.clusterLevel}),t},clusterNodeProperties:{borderWidth:2,shape:"dot",color:this.colors.cluster,font:{size:12,face:"Arial",multi:"html",bold:!0}}};this.network.clusterOutliers(t),this.clusters.length>0&&(this.clusterLevel=this.clusters[this.clusters.length-1].clusterLevel)}_getClusterLabel(t){const e=null!=t.title?t.title:t.label;if(!e)return"Cluster";const n=e.indexOf("\n");return-1!==n?e.substring(0,n):e}_openClusters(){let t=!1;const e=[];for(const n of this.clusters)n.clusterLevel>=this.clusterLevel?(this.network.openCluster(n.id),t=!0):e.push(n);this.clusters=e,t?this.clusterLevel--:this.clusterLevel>0&&(this.clusterLevel--,this._openClusters())}_toggleHideDefaults(){const t=this.clusterLevel;for(;this.clusterLevel>0;)this._openClusters();this.nodes.forEach((t=>{const e=Nh.shrinkUri(t.id,this.prefixes).split(":")[0];this.options.defaultPrefixes.includes(e)&&(t.hidden=this.options.hidden,this.network.getConnectedEdges(t.id).forEach((t=>{const e=this.edges.get(t);e&&(e.hidden=this.options.hidden,this.edges.update(e))})),this.nodes.update(t))})),this.network.body.emitter.emit("_dataChanged"),this.clusterLevel=0;for(let e=0;e<t;e++)this._makeClusters()}toggleFreeze(){this.options.freeze=!this.options.freeze,this.network.stopSimulation(),this.network.physics.options.enabled=!this.options.freeze,this.network.startSimulation()}toggleHideDefaults(){this.options.hidden=!this.options.hidden,this._toggleHideDefaults()}makeClusters(){this._makeClusters()}openClusters(){this._openClusters()}onNodeSelect(t){this.nodeSelectCallbacks.push(t)}offNodeSelect(t){const e=this.nodeSelectCallbacks.indexOf(t);-1!==e&&this.nodeSelectCallbacks.splice(e,1)}getNodes(){return this.nodes.get()}getEdges(){return this.edges}resizeAndFit(){this.network&&(this.network.redraw(),this.network.fit({animation:{duration:500,easingFunction:"easeOutQuint"},scale:.75}))}setNodeSize(t){if(!this.network||!this.nodes)return;this.nodeSize=t;const e=this.nodes.get(),n=[];for(const i of e){const e={...i};e.size=t,"box"!==i.shape&&"box"!==i.shape||(e.width=2.5*t,e.height=1.5*t),n.push(e)}return n.length>0&&(this.nodes.update(n),setTimeout((()=>{this.network.redraw()}),50)),!0}}class lgt{constructor(t,e){let n,i;switch(this.type=t,this.description=e,this.time=Date.now(),this.count=1,t){case"error":n="alert-danger",i="Error";break;case"warning":n="alert-warning",i="Warning";break;case"info":n="alert-info",i="Info";break;case"success":n="alert-success",i="Success"}this.element=document.createElement("div"),this.element.className=`alert ${n}`,this.element.setAttribute("role","alert"),this.element.innerHTML=`<strong>${i}:</strong> ${e}`}}class Agt{constructor(t){this.container=document.getElementById(t),this.container?(this.messageQueue=[],setInterval((()=>this.updateMessageQueue()),2500)):console.error("Logger container not found")}updateMessageQueue(){if(this.messageQueue.length>0&&Date.now()-this.messageQueue[0].time>=1e4){const t=this.messageQueue.shift();t.element.style.opacity="0",t.element.style.transition="opacity 0.5s",setTimeout((()=>{t.element.remove()}),500),this.messageQueue.length>=3&&(this.messageQueue[2].element.style.display="block")}}logConsole(t,e,n){n?console.log(`${t}: ${e}`,n):console.log(`${t}: ${e}`)}logDocument(t,e){const n=this.messageQueue.length,i=this.messageQueue[n-1];if(0===n||i.type!==t||i.description!==e){const i=new lgt(t,e);this.container.appendChild(i.element),this.messageQueue.push(i),n>=3&&(i.element.style.display="none")}else if(i.count++,i.time=Date.now(),2===i.count){const t=document.createElement("span");t.className="badge",t.textContent="2",i.element.appendChild(t)}else{const t=i.element.querySelector(".badge");t&&(t.textContent=i.count)}}error(t,e){this.logConsole("ERROR",t,e),this.logDocument("error",t)}warning(t,e){this.logConsole("Warning",t,e),this.logDocument("warning",t)}info(t,e){this.logConsole("Info",t,e),this.logDocument("info",t)}success(t,e){this.logConsole("Success",t,e),this.logDocument("success",t)}debug(t,e){this.logConsole("Debug",t,e)}}class cgt{constructor(t){this.logger=t}async executeQuery(t,e){if(this.logger.info(`Executing query on endpoint: ${e}`),this.logger.debug(`Query:\n${t}`),!e)return this.logger.error("Endpoint URL is missing."),Promise.reject(new Error("SPARQL endpoint URL is required."));if(!t||""===t.trim())return this.logger.error("SPARQL query is empty."),Promise.reject(new Error("SPARQL query cannot be empty."));const n=this._detectQueryType(t),i="CONSTRUCT"===n||"DESCRIBE"===n?"text/turtle, application/rdf+xml, application/n-triples, text/n3, application/trig, application/rdf+json, application/sparql-results+json":"application/sparql-results+json";try{const r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:i},body:`query=${encodeURIComponent(t)}`});if(!r.ok){let t=`HTTP error ${r.status}`;try{t+=` - ${await r.text()}`}catch(t){}throw this.logger.error(`Failed to execute SPARQL query: ${t}`),new Error(`Failed to execute SPARQL query: ${t}`)}const o=r.headers.get("content-type")||"";if(this.logger.info(`Response content-type: "${o}"`),this.logger.info(`Query type detected: ${n}`),this.logger.info(`Accept header sent: ${i}`),this._isRdfContentType(o)){const t=await r.text();return this.logger.info(`SPARQL CONSTRUCT/DESCRIBE query executed successfully - routing RDF (${o}) to editor/graph`),this.logger.debug("RDF content:",t),Vh.emit(Gh,t),{type:"rdf",content:t,contentType:o,message:`CONSTRUCT/DESCRIBE results (${o}) loaded into turtle editor and graph visualization`}}{const t=await r.json();return this.logger.info("SPARQL query executed successfully."),this.logger.debug("Results:",t),t}}catch(t){throw this.logger.error("Error during SPARQL query execution:",t),t}}_detectQueryType(t){const e=t.trim().toUpperCase();return e.startsWith("SELECT")?"SELECT":e.startsWith("ASK")?"ASK":e.startsWith("CONSTRUCT")?"CONSTRUCT":e.startsWith("DESCRIBE")?"DESCRIBE":e.startsWith("INSERT")?"INSERT":e.startsWith("DELETE")?"DELETE":"SELECT"}_isRdfContentType(t){const e=t.toLowerCase();return["text/turtle","application/turtle","application/rdf+xml","application/n-triples","text/n3","application/trig","application/rdf+json","text/plain"].some((t=>e.includes(t)))}}class hgt{constructor(t){this.logger=t,this.storageKey="sparqlClips",this.clips=[],this.loadClips()}loadClips(){try{const t=localStorage.getItem(this.storageKey);t?(this.clips=JSON.parse(t),this.logger?.info(`Loaded ${this.clips.length} SPARQL clips from localStorage`),this.ensureDefaultClips()):(this.clips=this.getDefaultClips(),this.saveClips(),this.logger?.info(`Initialized with ${this.clips.length} default SPARQL clips`))}catch(t){this.logger?.error("Failed to load SPARQL clips from localStorage:",t.message),this.clips=[]}}saveClips(){try{localStorage.setItem(this.storageKey,JSON.stringify(this.clips)),this.logger?.info(`Saved ${this.clips.length} SPARQL clips to localStorage`)}catch(t){throw this.logger?.error("Failed to save SPARQL clips to localStorage:",t.message),new Error("Failed to save clips to storage")}}getDefaultClips(){const t=Date.now();return[{id:"default_wikidata_countries",name:"Wikidata: Countries by Population",query:'# Get countries with their populations (top 20)\n# Wikidata SPARQL query - works with https://query.wikidata.org/sparql\n\nSELECT ?country ?countryLabel ?population ?populationStatement WHERE {\n  ?country wdt:P31 wd:Q3624078 .  # sovereign state\n  ?country p:P1082 ?populationStatement .\n  ?populationStatement ps:P1082 ?population .\n  \n  SERVICE wikibase:label { bd:serviceParam wikibase:language "en" }\n}\nORDER BY DESC(?population)\nLIMIT 20',timestamp:t-1e3,created:new Date(t-1e3).toISOString()},{id:"default_wikidata_simple",name:"Wikidata: Simple Example Query",query:'# Simple query to get 10 items with labels\n# Wikidata SPARQL query - works with https://query.wikidata.org/sparql\n\nSELECT ?item ?itemLabel WHERE {\n  ?item wdt:P31 wd:Q5 .  # humans\n  ?item wdt:P106 wd:Q82955 .  # politicians\n  \n  SERVICE wikibase:label { bd:serviceParam wikibase:language "en" }\n}\nLIMIT 10',timestamp:t-2e3,created:new Date(t-2e3).toISOString()},{id:"default_basic_select",name:"Basic SELECT Query Template",query:"# Basic SPARQL SELECT query template\n# Replace the example data with your own RDF data\n\nPREFIX ex: <http://example.org/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT ?subject ?predicate ?object WHERE {\n  ?subject ?predicate ?object .\n}\nLIMIT 100",timestamp:t-3e3,created:new Date(t-3e3).toISOString()},{id:"default_wikidata_construct",name:"Wikidata: Countries RDF Graph (CONSTRUCT)",query:"# CONSTRUCT query to create RDF graph of countries with population data\n# Returns turtle/RDF format - will be loaded into turtle editor and visualization\n# Wikidata SPARQL query - works with https://query.wikidata.org/sparql\n\nPREFIX ex: <http://example.org/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nCONSTRUCT {\n  ?country rdf:type ex:Country ;\n           ex:population ?population ;\n           ex:hasPopulationStatement ?populationStatement ;\n           ex:wikidataId ?country .\n  \n  ?populationStatement rdf:type ex:PopulationStatement ;\n                      ex:value ?population .\n}\nWHERE {\n  ?country wdt:P31 wd:Q3624078 .  # sovereign state\n  ?country p:P1082 ?populationStatement .\n  ?populationStatement ps:P1082 ?population .\n  \n  FILTER(?population > 1000000)  # Countries with >1M population\n}\nORDER BY DESC(?population)\nLIMIT 20",timestamp:t-4e3,created:new Date(t-4e3).toISOString()}]}ensureDefaultClips(){const t=this.getDefaultClips();let e=0;for(const n of t){const t=this.clips.some((t=>t.id===n.id||t.name===n.name));t||(this.clips.push(n),e++)}e>0&&(this.saveClips(),this.logger?.info(`Added ${e} missing default SPARQL clips`))}saveClip(t,e){if(!t||""===t.trim())throw new Error("Clip name cannot be empty");if(!e||""===e.trim())throw new Error("SPARQL query cannot be empty");const n=t.trim();if(this.clips.some((t=>t.name===n)))throw new Error("A clip with this name already exists");const i={id:this.generateId(),name:n,query:e.trim(),timestamp:Date.now(),created:(new Date).toISOString()};return this.clips.push(i),this.saveClips(),this.logger?.info(`Saved SPARQL clip: ${n}`),i}getAllClips(){return[...this.clips].sort(((t,e)=>e.timestamp-t.timestamp))}getClip(t){return this.clips.find((e=>e.id===t))||null}deleteClip(t){const e=this.clips.findIndex((e=>e.id===t));if(-1===e)return!1;const n=this.clips[e];return this.clips.splice(e,1),this.saveClips(),this.logger?.info(`Deleted SPARQL clip: ${n.name}`),!0}updateClip(t,e,n){const i=this.getClip(t);if(!i)return null;if(!e||""===e.trim())throw new Error("Clip name cannot be empty");if(!n||""===n.trim())throw new Error("SPARQL query cannot be empty");const r=e.trim();if(this.clips.some((e=>e.name===r&&e.id!==t)))throw new Error("A clip with this name already exists");return i.name=r,i.query=n.trim(),i.timestamp=Date.now(),i.modified=(new Date).toISOString(),this.saveClips(),this.logger?.info(`Updated SPARQL clip: ${r}`),i}clearAllClips(){this.clips=[],this.saveClips(),this.logger?.info("Cleared all SPARQL clips")}generateId(){return"clip_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}getClipsCount(){return this.clips.length}exportClips(){return JSON.stringify(this.clips,null,2)}importClips(t,e=!1){try{const n=JSON.parse(t);if(!Array.isArray(n))throw new Error("Invalid clips format: expected array");for(const t of n)if(!t.name||!t.query)throw new Error("Invalid clip structure: name and query are required");if(e)this.clips=n;else for(const t of n)this.clips.some((e=>e.name===t.name))||this.clips.push({...t,id:this.generateId(),timestamp:Date.now()});this.saveClips(),this.logger?.info(`Imported ${n.length} SPARQL clips`)}catch(t){throw this.logger?.error("Failed to import SPARQL clips:",t.message),new Error("Failed to import clips: "+t.message)}}}class Cgt{constructor(t){this.editor=t.editor,this.visualizer=t.visualizer,this.logger=t.logger,this.sparqlService=t.sparqlService,this.settingsManager=t.settingsManager,this.sparqlEditor=t.sparqlEditor,this.sparqlClipsManager=new hgt(this.logger),this.state={syntaxCheck:"pending",isSplitView:!0},this._initializeUI()}_initializeUI(){this.elements={syntaxCheck:document.getElementById("syntax-check"),syntaxWorking:document.getElementById("syntax-check-working"),syntaxPending:document.getElementById("syntax-check-pending"),syntaxPassed:document.getElementById("syntax-check-passed"),syntaxFailed:document.getElementById("syntax-check-failed"),syntaxOff:document.getElementById("syntax-check-off"),splitButton:document.getElementById("split-button"),hideNodesCheckbox:document.getElementById("hide-nodes"),freezeCheckbox:document.getElementById("freeze"),clusterButton:document.getElementById("cluster"),declusterButton:document.getElementById("decluster"),networkPopup:document.getElementById("network-popUp"),popupLabel:document.getElementById("label"),savePopupButton:document.getElementById("saveButton"),cancelPopupButton:document.getElementById("cancelButton"),dialog:document.getElementById("dialog"),dialogYesButton:document.getElementById("dialog-yes"),dialogNoButton:document.getElementById("dialog-no"),dialogCancelButton:document.getElementById("dialog-cancel"),sparqlStoreDialog:document.getElementById("sparql-store-dialog"),sparqlClipName:document.getElementById("sparql-clip-name"),sparqlStoreSave:document.getElementById("sparql-store-save"),sparqlStoreCancel:document.getElementById("sparql-store-cancel"),sparqlClipsDialog:document.getElementById("sparql-clips-dialog"),sparqlClipsList:document.getElementById("sparql-clips-list"),sparqlClipsClose:document.getElementById("sparql-clips-close"),sparqlEndpointQuickSelect:document.getElementById("sparql-endpoint-quick-select"),sparqlEndpointAdd:document.getElementById("sparql-endpoint-add"),sparqlEndpointManage:document.getElementById("sparql-endpoint-manage"),sparqlEndpointAddDialog:document.getElementById("sparql-endpoint-add-dialog"),sparqlEndpointQuickUrl:document.getElementById("sparql-endpoint-quick-url"),sparqlEndpointQuickSave:document.getElementById("sparql-endpoint-quick-save"),sparqlEndpointQuickCancel:document.getElementById("sparql-endpoint-quick-cancel"),runSparqlQueryButton:document.getElementById("run-sparql-query"),storeSparqlQueryButton:document.getElementById("store-sparql-query"),clipsSparqlQueryButton:document.getElementById("clips-sparql-query"),loadFileInput:document.getElementById("load-file"),loadFileButton:document.getElementById("load-file-btn"),saveFileButton:document.getElementById("save-file-btn"),turtleEditor:document.getElementById("input-contents"),sparqlEditor:document.getElementById("sparql-contents"),turtleTab:document.getElementById("tab-turtle"),sparqlTab:document.getElementById("tab-sparql"),graphContainer:document.getElementById("graph-container"),sparqlResultsContainer:document.getElementById("sparql-results-container"),sparqlResultsTableWrapper:document.getElementById("sparql-results-table-wrapper")},this._setupEventListeners(),this._setupFileHandling(),this.activeEditor="turtle",this._setupActiveEditorTracking(),this._initializeEndpointSelector(),this.logger.debug("UI Manager initialized"),this.settingsManager||this.logger.error("SettingsManager not provided to UIManager. SPARQL execution might fail.")}_setupFileHandling(){this.elements.loadFileInput.addEventListener("change",(t=>{const e=t.target.files[0];if(!e)return;const n=new FileReader;n.onload=t=>{const n=t.target.result,i=e.name.split(".").pop().toLowerCase();try{if(["ttl","turtle"].includes(i))this.editor.setValue(n),document.getElementById("tab-turtle").click(),this.logger.info(`Loaded Turtle file: ${e.name}`);else{if(!["rq","sparql"].includes(i))throw new Error("Unsupported file type");this.sparqlEditor.setValue(n),document.getElementById("tab-sparql").click(),this.logger.info(`Loaded SPARQL file: ${e.name}`)}}catch(t){this.logger.error(`Error loading file: ${t.message}`),this._showMessage(`Error loading file: ${t.message}`,"error")}},n.onerror=()=>{this.logger.error("Error reading file"),this._showMessage("Error reading file","error")},n.readAsText(e),t.target.value=""})),this.elements.loadFileButton.addEventListener("click",(()=>{this.elements.loadFileInput.click()})),this.elements.saveFileButton.addEventListener("click",(()=>this._handleSaveFile()))}_setupActiveEditorTracking(){this._updateActiveEditor(),this.elements.turtleTab.addEventListener("click",(()=>{this.activeEditor="turtle"})),this.elements.sparqlTab.addEventListener("click",(()=>{this.activeEditor="sparql"})),this.elements.turtleEditor.addEventListener("focus",(()=>{this.activeEditor="turtle"})),this.elements.sparqlEditor.addEventListener("focus",(()=>{this.activeEditor="sparql"}))}_updateActiveEditor(){document.activeElement===this.elements.turtleEditor?this.activeEditor="turtle":document.activeElement===this.elements.sparqlEditor?this.activeEditor="sparql":this.elements.turtleTab.classList.contains("active")?this.activeEditor="turtle":this.elements.sparqlTab.classList.contains("active")&&(this.activeEditor="sparql")}_handleSaveFile(){let t,e,n;if(this._updateActiveEditor(),"turtle"===this.activeEditor)t=this.editor.getValue(),e="ttl",n="Turtle";else{if("sparql"!==this.activeEditor)return void this._showMessage("No active editor found","error");t=this.sparqlEditor.getValue(),e="rq",n="SPARQL"}if(!t.trim())return void this._showMessage(`${n} editor is empty`,"warning");const i=new Blob([t],{type:"text/plain"}),r=URL.createObjectURL(i),o=document.createElement("a");o.href=r,o.download=`untitled.${e}`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r),this._showMessage(`${n} file saved successfully`,"success")}_showMessage(t,e="info"){const n=document.getElementById("message-queue"),i=document.createElement("div");i.className=`message ${e}`,i.textContent=t,n.appendChild(i),setTimeout((()=>{i.classList.add("fade-out"),setTimeout((()=>i.remove()),500)}),5e3)}_setupEventListeners(){this.elements.splitButton.addEventListener("click",this._handleSplitView.bind(this)),this.elements.hideNodesCheckbox.addEventListener("change",this._handleHideNodes.bind(this)),this.elements.freezeCheckbox.addEventListener("change",this._handleFreeze.bind(this)),this.elements.clusterButton.addEventListener("click",this._handleCluster.bind(this)),this.elements.declusterButton.addEventListener("click",this._handleDecluster.bind(this)),document.addEventListener("syntax-check-state-change",(t=>{this._handleSyntaxCheckStateChange(t.detail.state,t.detail.error)})),this.elements.savePopupButton.addEventListener("click",this._handleSavePopup.bind(this)),this.elements.cancelPopupButton.addEventListener("click",this._handleCancelPopup.bind(this)),this.elements.dialogYesButton.addEventListener("click",(()=>this._handleDialogResponse(!0))),this.elements.dialogNoButton.addEventListener("click",(()=>this._handleDialogResponse(!1))),this.elements.dialogCancelButton.addEventListener("click",(()=>this._handleDialogCancel())),this.elements.runSparqlQueryButton?this.elements.runSparqlQueryButton.addEventListener("click",this._handleRunSparqlQuery.bind(this)):this.logger.warn("Run SPARQL Query button not found during listener setup."),this.elements.storeSparqlQueryButton?this.elements.storeSparqlQueryButton.addEventListener("click",this._handleStoreSparqlQuery.bind(this)):this.logger.warn("Store SPARQL Query button not found during listener setup."),this.elements.clipsSparqlQueryButton?this.elements.clipsSparqlQueryButton.addEventListener("click",this._handleClipsSparqlQuery.bind(this)):this.logger.warn("Clips SPARQL Query button not found during listener setup."),this.elements.sparqlStoreSave&&this.elements.sparqlStoreSave.addEventListener("click",this._handleSparqlStoreSave.bind(this)),this.elements.sparqlStoreCancel&&this.elements.sparqlStoreCancel.addEventListener("click",this._handleSparqlStoreCancel.bind(this)),this.elements.sparqlClipsClose&&this.elements.sparqlClipsClose.addEventListener("click",this._handleSparqlClipsClose.bind(this)),this.elements.sparqlEndpointQuickSelect&&this.elements.sparqlEndpointQuickSelect.addEventListener("change",this._handleEndpointQuickSelect.bind(this)),this.elements.sparqlEndpointAdd&&this.elements.sparqlEndpointAdd.addEventListener("click",this._handleEndpointQuickAdd.bind(this)),this.elements.sparqlEndpointManage&&this.elements.sparqlEndpointManage.addEventListener("click",this._handleEndpointManage.bind(this)),this.elements.sparqlEndpointQuickSave&&this.elements.sparqlEndpointQuickSave.addEventListener("click",this._handleEndpointQuickSave.bind(this)),this.elements.sparqlEndpointQuickCancel&&this.elements.sparqlEndpointQuickCancel.addEventListener("click",this._handleEndpointQuickCancel.bind(this))}_handleSplitView(){this.state.isSplitView=!this.state.isSplitView,document.querySelector(".split-container");const t=document.getElementById("editor-container"),e=document.getElementById("graph-container"),n=document.getElementById("divider");if(this.state.isSplitView)t.style.display="block",e.style.display="block",n.style.display="block",t.style.width="50%",this.elements.splitButton.textContent="Toggle View";else{const i="none"!==t.style.display;t.style.display=i?"none":"block",e.style.display=i?"block":"none",n.style.display="none","block"===t.style.display&&(t.style.width="100%"),this.elements.splitButton.textContent=i?"Show Editor":"Show Graph"}window.dispatchEvent(new Event("resize"))}_handleHideNodes(){const t=this.elements.hideNodesCheckbox.checked;this.visualizer.options.hidden=t,this.visualizer.toggleHideDefaults()}_handleFreeze(){const t=this.elements.freezeCheckbox.checked;this.visualizer.options.freeze=t,this.visualizer.toggleFreeze()}_handleCluster(){this.visualizer.makeClusters()}_handleDecluster(){this.visualizer.openClusters()}_displaySparqlResults(t){if(this.elements.sparqlResultsContainer&&this.elements.sparqlResultsTableWrapper&&this.elements.graphContainer){if(this.elements.sparqlResultsTableWrapper.innerHTML="",t&&"turtle"===t.type){this.logger.debug("Displaying turtle results from CONSTRUCT/DESCRIBE query");const e=document.createElement("div");e.className="turtle-results";const n=document.createElement("div");n.className="turtle-message",n.textContent=t.message||"Results loaded into turtle editor and graph visualization";const i=document.createElement("div");i.className="turtle-content";const r=document.createElement("pre"),o=document.createElement("code");return o.textContent=t.content||"",o.className="turtle-code",r.appendChild(o),i.appendChild(r),e.appendChild(n),e.appendChild(i),this.elements.sparqlResultsTableWrapper.appendChild(e),this.elements.graphContainer.style.display="none",this.elements.sparqlResultsContainer.style.display="",void setTimeout((()=>{this.elements.sparqlResultsContainer.style.display="none",this.elements.graphContainer.style.display="",this.logger.info("Switched back to graph view to show CONSTRUCT results")}),3e3)}if(t&&t.results&&t.results.bindings&&0!==t.results.bindings.length){const e=document.createElement("table"),n=document.createElement("thead"),i=document.createElement("tbody"),r=document.createElement("tr");t.head.vars.forEach((t=>{const e=document.createElement("th");e.textContent=t,r.appendChild(e)})),n.appendChild(r),e.appendChild(n),t.results.bindings.forEach((e=>{const n=document.createElement("tr");t.head.vars.forEach((t=>{const i=document.createElement("td"),r=e[t];if(r){if(i.textContent=r.value,"uri"===r.type){const t=document.createElement("a");t.href=r.value,t.textContent=r.value,t.target="_blank",i.innerHTML="",i.appendChild(t)}}else i.textContent="";n.appendChild(i)})),i.appendChild(n)})),e.appendChild(i),this.elements.sparqlResultsTableWrapper.appendChild(e)}else{const t=document.createElement("p");t.textContent="No results found for the query.",this.elements.sparqlResultsTableWrapper.appendChild(t)}this.elements.graphContainer.style.display="none",this.elements.sparqlResultsContainer.style.display=""}else this.logger.error("SPARQL results view elements not found.")}_handleSyntaxCheckStateChange(t,e){if(t!==this.state.syntaxCheck){if(this.elements[`syntax${this._capitalize(this.state.syntaxCheck)}`].style.display="none",this.state.syntaxCheck=t,"failed"===t&&e){const t=this.elements.syntaxFailed.querySelector(".status");e.startsWith("Syntax error:")?t.textContent=` ${e}`:t.textContent=` Syntax error: ${e}`}this.elements[`syntax${this._capitalize(t)}`].style.display="block"}}_handleSavePopup(){if(this.popupCallback){const t=this.elements.popupLabel.value;this.popupCallback(t),this.popupCallback=null}this.elements.networkPopup.style.display="none"}_handleCancelPopup(){this.popupCallback&&(this.popupCallback(null),this.popupCallback=null),this.elements.networkPopup.style.display="none"}_handleDialogResponse(t){this.dialogCallback&&(this.dialogCallback(t),this.dialogCallback=null),this.elements.dialog.style.display="none"}_handleDialogCancel(){this.dialogCallback&&(this.dialogCallback(null),this.dialogCallback=null),this.elements.dialog.style.display="none"}showPopup(t,e="",n){this.elements.networkPopup.style.display="block",this.elements.popupLabel.value=e;const i=document.getElementById("operation");i&&(i.textContent=t),this.popupCallback=n}showConfirmationDialog(t,e){this.elements.dialog.style.display="block";const n=this.elements.dialog.querySelector("p");n&&(n.textContent=t),this.dialogCallback=e}showMessage(t,e="info",n=3e3){const i=document.getElementById("message-queue");if(!i)return this.logger.warn("Message queue element not found."),void console.log(`Message (${e}): ${t}`);const r=document.createElement("div");r.className=`message ${e}`,r.textContent=t,i.appendChild(r),setTimeout((()=>{r.style.opacity="0",setTimeout((()=>{r.parentNode===i&&i.removeChild(r)}),500)}),n)}_handleRunSparqlQuery(){const t=this.sparqlEditor?this.sparqlEditor.getValue():"";if(!this.settingsManager)return this.logger.error("SettingsManager is not available in UIManager."),void this.showMessage("Configuration error: SettingsManager not found.","error");const e=this.settingsManager.getActiveSparqlEndpoint();return e?t&&""!==t.trim()?(this.logger.info(`Running SPARQL query on endpoint: ${e}`),this.logger.debug(`Query:\n${t}`),this.showMessage(`Executing query on ${e}...`,"info"),void(this.sparqlService&&"function"==typeof this.sparqlService.executeQuery?this.sparqlService.executeQuery(t,e).then((t=>{this.logger.info("SPARQL query executed successfully. Displaying results."),this._displaySparqlResults(t)})).catch((t=>{this.logger.error("SPARQL query execution failed:",t.message),this.elements.sparqlResultsTableWrapper&&(this.elements.sparqlResultsTableWrapper.innerHTML="<p>Error executing query. See console for details.</p>"),this.elements.graphContainer&&this.elements.sparqlResultsContainer&&(this.elements.graphContainer.style.display="none",this.elements.sparqlResultsContainer.style.display=""),this.showMessage(`Query failed: ${t.message||"Unknown error"}`,"error")})):(this.logger.error("SparqlService is not available in UIManager or executeQuery is not a function."),this.showMessage("SPARQL execution service not configured or unavailable.","error")))):(this.logger.warn("SPARQL query is empty."),void this.showMessage("SPARQL query is empty.","warning")):(this.logger.warn("No active SPARQL endpoint selected. Please select one in Settings."),void this.showMessage("No active SPARQL endpoint. Select one in Settings.","warning"))}_handleStoreSparqlQuery(){const t=this.sparqlEditor?this.sparqlEditor.getValue():"";if(!t||""===t.trim())return this.logger.warn("SPARQL query is empty - cannot store."),void this.showMessage("SPARQL query is empty. Please enter a query to store.","warning");this.elements.sparqlClipName.value="",this.elements.sparqlStoreDialog.style.display="flex",this.elements.sparqlClipName.focus()}_handleSparqlStoreSave(){const t=this.elements.sparqlClipName.value.trim(),e=this.sparqlEditor?this.sparqlEditor.getValue():"";if(t)try{this.sparqlClipsManager.saveClip(t,e),this.elements.sparqlStoreDialog.style.display="none",this.showMessage(`SPARQL clip "${t}" saved successfully.`,"success"),this.logger.info(`SPARQL clip saved: ${t}`)}catch(t){this.logger.error("Error saving SPARQL clip:",t.message),this.showMessage(t.message,"error")}else this.showMessage("Please enter a name for the clip.","warning")}_handleSparqlStoreCancel(){this.elements.sparqlStoreDialog.style.display="none",this.elements.sparqlClipName.value=""}_handleClipsSparqlQuery(){this._showClipsDialog()}_showClipsDialog(){const t=this.sparqlClipsManager.getAllClips(),e=this.elements.sparqlClipsList;e.innerHTML="",0===t.length?e.innerHTML='<div class="sparql-clips-empty">No SPARQL clips saved yet.</div>':t.forEach((t=>{const n=this._createClipElement(t);e.appendChild(n)})),this.elements.sparqlClipsDialog.style.display="flex"}_createClipElement(t){const e=document.createElement("div");e.className="sparql-clip-item";const n=t.query.length>60?t.query.substring(0,60)+"...":t.query;e.innerHTML=`\n      <div class="sparql-clip-info">\n        <div class="sparql-clip-name">${this._escapeHtml(t.name)}</div>\n        <div class="sparql-clip-preview">${this._escapeHtml(n)}</div>\n      </div>\n      <div class="sparql-clip-actions">\n        <button class="btn btn-primary btn-sm" data-action="load" data-clip-id="${t.id}">Load</button>\n        <button class="btn btn-danger btn-sm" data-action="delete" data-clip-id="${t.id}">Delete</button>\n      </div>\n    `;const i=e.querySelector('[data-action="load"]'),r=e.querySelector('[data-action="delete"]');return i.addEventListener("click",(()=>this._loadClip(t.id))),r.addEventListener("click",(()=>this._deleteClip(t.id))),e}_loadClip(t){const e=this.sparqlClipsManager.getClip(t);e&&this.sparqlEditor?(this.sparqlEditor.setValue(e.query),this.elements.sparqlClipsDialog.style.display="none",this.showMessage(`Loaded SPARQL clip: ${e.name}`,"success"),this.logger.info(`SPARQL clip loaded: ${e.name}`)):(this.showMessage("Error loading clip.","error"),this.logger.error("Failed to load SPARQL clip:",t))}_deleteClip(t){const e=this.sparqlClipsManager.getClip(t);e&&confirm(`Are you sure you want to delete the clip "${e.name}"?`)&&(this.sparqlClipsManager.deleteClip(t)?(this._showClipsDialog(),this.showMessage(`Deleted SPARQL clip: ${e.name}`,"success"),this.logger.info(`SPARQL clip deleted: ${e.name}`)):this.showMessage("Error deleting clip.","error"))}_handleSparqlClipsClose(){this.elements.sparqlClipsDialog.style.display="none"}_escapeHtml(t){const e=document.createElement("div");return e.textContent=t,e.innerHTML}_initializeEndpointSelector(){this.settingsManager?(this._populateEndpointSelector(),Vh.on(Uh,(()=>{this._populateEndpointSelector()}))):this.logger.warn("SettingsManager not available for endpoint selector initialization")}_populateEndpointSelector(){if(!this.elements.sparqlEndpointQuickSelect||!this.settingsManager)return;const t=this.settingsManager.sparqlEndpoints||[],e=this.settingsManager.getActiveSparqlEndpoint(),n=this.elements.sparqlEndpointQuickSelect;if(n.innerHTML="",0===t.length){const t=document.createElement("option");t.value="",t.textContent="No endpoints configured",t.disabled=!0,n.appendChild(t)}else t.forEach((t=>{const i=document.createElement("option");i.value=t,i.textContent=this._truncateUrl(t,50),i.title=t,t===e&&(i.selected=!0),n.appendChild(i)}))}_truncateUrl(t,e){return t.length<=e?t:t.substring(0,e-3)+"..."}_handleEndpointQuickSelect(){if(!this.settingsManager)return;const t=this.elements.sparqlEndpointQuickSelect.value;t&&(this.settingsManager.setActiveSparqlEndpoint(t),this.showMessage(`Active endpoint changed to: ${this._truncateUrl(t,40)}`,"info"),this.logger.info(`Active SPARQL endpoint changed to: ${t}`))}_handleEndpointQuickAdd(){this.elements.sparqlEndpointQuickUrl.value="",this.elements.sparqlEndpointAddDialog.style.display="flex",this.elements.sparqlEndpointQuickUrl.focus()}_handleEndpointManage(){const t=document.getElementById("tab-settings");t?(t.click(),this.showMessage("Switched to Settings for endpoint management","info")):(this.logger.error("Settings tab not found"),this.showMessage("Settings tab not available","error"))}_handleEndpointQuickSave(){const t=this.elements.sparqlEndpointQuickUrl.value.trim();if(t)if(this.settingsManager)try{new URL(t);const e=this.settingsManager.sparqlEndpoints||[];if(e.includes(t))return void this.showMessage("Endpoint already exists","warning");e.push(t),this.settingsManager.sparqlEndpoints=e,this.settingsManager.saveSparqlEndpoints(),1===e.length&&this.settingsManager.updateActiveSparqlEndpoint(t),this._populateEndpointSelector(),this.elements.sparqlEndpointAddDialog.style.display="none",this.showMessage(`Endpoint added: ${this._truncateUrl(t,40)}`,"success"),this.logger.info(`SPARQL endpoint added: ${t}`),Vh.emit(Uh,{endpoints:this.settingsManager.sparqlEndpoints,activeEndpoint:this.settingsManager.getActiveSparqlEndpoint()})}catch(e){this.showMessage("Invalid URL format","error"),this.logger.error("Invalid endpoint URL:",t)}else this.showMessage("Settings manager not available","error");else this.showMessage("Please enter an endpoint URL","warning")}_handleEndpointQuickCancel(){this.elements.sparqlEndpointAddDialog.style.display="none",this.elements.sparqlEndpointQuickUrl.value=""}_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}}class Igt{constructor(t){this.container=t.container,this.leftPane=t.leftPane,this.rightPane=t.rightPane,this.divider=t.divider,this.isResizing=!1,this.startX=0,this.startLeftWidth=0,this.minLeftWidth=200,this.minRightWidth=200,this._initializeEvents()}_initializeEvents(){this.divider.addEventListener("mousedown",this._onMouseDown.bind(this)),document.addEventListener("mousemove",this._onMouseMove.bind(this)),document.addEventListener("mouseup",this._onMouseUp.bind(this)),this.divider.addEventListener("touchstart",this._onTouchStart.bind(this)),document.addEventListener("touchmove",this._onTouchMove.bind(this)),document.addEventListener("touchend",this._onTouchEnd.bind(this)),window.addEventListener("resize",this._onWindowResize.bind(this)),this._setInitialSizes()}_setInitialSizes(){const t=this.container.clientWidth,e=Math.max(.5*t,this.minLeftWidth);this.leftPane.style.width=`${e}px`}_onMouseDown(t){t.preventDefault(),this.isResizing=!0,this.startX=t.clientX,this.startLeftWidth=this.leftPane.getBoundingClientRect().width,this.container.classList.add("resizing")}_onMouseMove(t){if(!this.isResizing)return;const e=this.container.getBoundingClientRect().width,n=t.clientX-this.startX;let i=this.startLeftWidth+n;i=Math.max(this.minLeftWidth,i),i=Math.min(e-this.minRightWidth,i),this.leftPane.style.width=`${i}px`,window.dispatchEvent(new Event("resize"))}_onMouseUp(){this.isResizing=!1,this.container.classList.remove("resizing"),window.dispatchEvent(new Event("resize"))}_onTouchStart(t){1===t.touches.length&&(t.preventDefault(),this.isResizing=!0,this.startX=t.touches[0].clientX,this.startLeftWidth=this.leftPane.getBoundingClientRect().width,this.container.classList.add("resizing"))}_onTouchMove(t){if(!this.isResizing||1!==t.touches.length)return;const e=this.container.getBoundingClientRect().width,n=t.touches[0].clientX-this.startX;let i=this.startLeftWidth+n;i=Math.max(this.minLeftWidth,i),i=Math.min(e-this.minRightWidth,i),this.leftPane.style.width=`${i}px`,window.dispatchEvent(new Event("resize"))}_onTouchEnd(){this.isResizing=!1,this.container.classList.remove("resizing"),window.dispatchEvent(new Event("resize"))}_onWindowResize(){const t=this.container.clientWidth;let e=this.leftPane.getBoundingClientRect().width;e+this.minRightWidth>t&&(e=t-this.minRightWidth,this.leftPane.style.width=`${e}px`)}setSplitPosition(t){if(t<0||t>100)throw new Error("Percentage must be between 0 and 100");const e=this.container.clientWidth,n=e*t/100,i=Math.max(this.minLeftWidth,Math.min(e-this.minRightWidth,n));this.leftPane.style.width=`${i}px`,window.dispatchEvent(new Event("resize"))}setView(t){const e=this.container.clientWidth;switch(t){case"editor":this.leftPane.style.width=`${e}px`,this.rightPane.style.display="none",this.divider.style.display="none";break;case"graph":this.leftPane.style.display="none",this.rightPane.style.display="block",this.divider.style.display="none";break;default:this.leftPane.style.display="block",this.rightPane.style.display="block",this.divider.style.display="block",this.setSplitPosition(50)}window.dispatchEvent(new Event("resize"))}}class dgt{constructor(t){this.visualizer=t.visualizer,this.editor=t.editor,this.sparqlEditor=t.sparqlEditor,this.logger=t.logger,this.controls={nodeSize:document.getElementById("node-size"),edgeWidth:document.getElementById("edge-width"),physicsEnabled:document.getElementById("physics-enabled"),fontSize:document.getElementById("font-size"),autoComplete:document.getElementById("auto-complete"),sparqlEndpointUrl:document.getElementById("sparql-endpoint-url"),addSparqlEndpointBtn:document.getElementById("add-sparql-endpoint"),sparqlEndpointSelect:document.getElementById("sparql-endpoint-select"),removeSparqlEndpointBtn:document.getElementById("remove-sparql-endpoint")},this.sparqlEndpoints=[],this.activeSparqlEndpoint=null,this.localStorageKeys={endpoints:"sparqlEndpoints",activeEndpoint:"activeSparqlEndpoint"},this.initializeListeners(),this.loadSparqlEndpoints()}initializeListeners(){this.controls.nodeSize&&this.controls.nodeSize.addEventListener("input",this.updateNodeSize.bind(this)),this.controls.edgeWidth&&this.controls.edgeWidth.addEventListener("input",this.updateEdgeWidth.bind(this)),this.controls.physicsEnabled&&this.controls.physicsEnabled.addEventListener("change",this.togglePhysics.bind(this)),this.controls.fontSize&&this.controls.fontSize.addEventListener("change",this.updateFontSize.bind(this)),this.controls.autoComplete&&this.controls.autoComplete.addEventListener("change",this.toggleAutoComplete.bind(this)),this.logger.debug("Settings manager initialized"),this.controls.addSparqlEndpointBtn&&this.controls.addSparqlEndpointBtn.addEventListener("click",this.addSparqlEndpoint.bind(this)),this.controls.removeSparqlEndpointBtn&&this.controls.removeSparqlEndpointBtn.addEventListener("click",this.removeSparqlEndpoint.bind(this)),this.controls.sparqlEndpointSelect&&this.controls.sparqlEndpointSelect.addEventListener("change",this.updateActiveSparqlEndpoint.bind(this))}updateNodeSize(){if(!this.visualizer)return;const t=parseInt(this.controls.nodeSize.value,10),e=document.getElementById("node-size-value");e&&(e.textContent=t),this.visualizer.setNodeSize?this.visualizer.setNodeSize(t)?this.logger.debug(`Node size updated to ${t}`):this.logger.warn(`Failed to update node size to ${t}`):this.logger.warn("The visualizer does not support setNodeSize method")}updateEdgeWidth(){if(!this.visualizer||!this.visualizer.network)return;const t=parseInt(this.controls.edgeWidth.value,10),e={edges:{width:t}};if(this.visualizer.network.setOptions(e),this.visualizer.edges){const e=this.visualizer.edges.getIds().map((e=>({id:e,width:t})));e.length>0&&this.visualizer.edges.update(e)}this.logger.debug(`Edge width updated to ${t}`)}togglePhysics(){if(!this.visualizer||!this.visualizer.network)return;const t=this.controls.physicsEnabled.checked,e={physics:{enabled:t}};this.visualizer.network.setOptions(e),this.logger.debug("Physics "+(t?"enabled":"disabled"))}updateFontSize(){if(!this.editor||!this.sparqlEditor)return;const t=this.controls.fontSize.value,e=document.getElementById("turtle-editor-pane"),n=document.getElementById("sparql-editor-pane");e&&e.querySelectorAll(".cm-content").forEach((e=>{e.style.fontSize=`${t}px`})),n&&n.querySelectorAll(".cm-content").forEach((e=>{e.style.fontSize=`${t}px`})),this.logger.debug(`Font size updated to ${t}px`)}toggleAutoComplete(){const t=this.controls.autoComplete.checked;this.logger.debug("Auto-complete "+(t?"enabled":"disabled")),t?this.logger.info("Auto-complete feature enabled"):this.logger.info("Auto-complete feature disabled")}applyAllSettings(){this.updateNodeSize(),this.updateEdgeWidth(),this.togglePhysics(),this.updateFontSize(),this.toggleAutoComplete()}loadSparqlEndpoints(){const t=localStorage.getItem(this.localStorageKeys.endpoints),e=localStorage.getItem(this.localStorageKeys.activeEndpoint);t?this.sparqlEndpoints=JSON.parse(t):(this.sparqlEndpoints=this.getDefaultEndpoints(),this.saveSparqlEndpoints(),this.logger.debug(`Initialized with ${this.sparqlEndpoints.length} default SPARQL endpoints`)),this.activeSparqlEndpoint=e||(this.sparqlEndpoints.length>0?this.sparqlEndpoints[0]:null),!e&&this.activeSparqlEndpoint&&this.saveActiveSparqlEndpoint(),this.populateSparqlEndpointSelect(),this.logger.debug("SPARQL endpoints loaded from localStorage")}getDefaultEndpoints(){return["https://query.wikidata.org/sparql","https://dbpedia.org/sparql"]}saveSparqlEndpoints(){localStorage.setItem(this.localStorageKeys.endpoints,JSON.stringify(this.sparqlEndpoints)),this.logger.debug("SPARQL endpoints saved to localStorage")}saveActiveSparqlEndpoint(){this.activeSparqlEndpoint?(localStorage.setItem(this.localStorageKeys.activeEndpoint,this.activeSparqlEndpoint),this.logger.debug(`Active SPARQL endpoint saved: ${this.activeSparqlEndpoint}`)):(localStorage.removeItem(this.localStorageKeys.activeEndpoint),this.logger.debug("Active SPARQL endpoint cleared from localStorage"))}populateSparqlEndpointSelect(){if(this.controls.sparqlEndpointSelect){if(this.controls.sparqlEndpointSelect.innerHTML="",0===this.sparqlEndpoints.length){const t=document.createElement("option");t.textContent="No endpoints configured",t.disabled=!0,this.controls.sparqlEndpointSelect.appendChild(t)}else this.sparqlEndpoints.forEach((t=>{const e=document.createElement("option");e.value=t,e.textContent=t,t===this.activeSparqlEndpoint&&(e.selected=!0),this.controls.sparqlEndpointSelect.appendChild(e)}));this.sparqlEndpoints.length>0&&!this.activeSparqlEndpoint&&this.controls.sparqlEndpointSelect.value?this.activeSparqlEndpoint=this.controls.sparqlEndpointSelect.value:0===this.sparqlEndpoints.length&&(this.activeSparqlEndpoint=null),this.saveActiveSparqlEndpoint()}}addSparqlEndpoint(){if(!this.controls.sparqlEndpointUrl)return;const t=this.controls.sparqlEndpointUrl.value.trim();if(t){try{new URL(t)}catch(e){return void this.logger.warn(`Invalid SPARQL endpoint URL: ${t}`)}this.sparqlEndpoints.includes(t)?this.logger.info(`SPARQL endpoint already exists: ${t}`):(this.sparqlEndpoints.push(t),this.activeSparqlEndpoint||(this.activeSparqlEndpoint=t),this.saveSparqlEndpoints(),this.populateSparqlEndpointSelect(),this.controls.sparqlEndpointUrl.value="",this.logger.info(`SPARQL endpoint added: ${t}`),Vh.emit(Uh,{endpoints:this.sparqlEndpoints,activeEndpoint:this.activeSparqlEndpoint}))}else this.logger.warn("SPARQL endpoint URL is empty.")}removeSparqlEndpoint(){if(!this.controls.sparqlEndpointSelect||0===this.sparqlEndpoints.length)return;const t=this.controls.sparqlEndpointSelect.value;t&&this.sparqlEndpoints.includes(t)?(this.sparqlEndpoints=this.sparqlEndpoints.filter((e=>e!==t)),this.logger.info(`SPARQL endpoint removed: ${t}`),this.activeSparqlEndpoint===t&&(this.activeSparqlEndpoint=this.sparqlEndpoints.length>0?this.sparqlEndpoints[0]:null),this.saveSparqlEndpoints(),this.populateSparqlEndpointSelect(),Vh.emit(Uh,{endpoints:this.sparqlEndpoints,activeEndpoint:this.activeSparqlEndpoint})):this.logger.warn("No valid endpoint selected for removal.")}updateActiveSparqlEndpoint(){if(!this.controls.sparqlEndpointSelect)return;const t=this.controls.sparqlEndpointSelect.value;this.sparqlEndpoints.includes(t)?(this.activeSparqlEndpoint=t,this.logger.info(`Active SPARQL endpoint updated: ${this.activeSparqlEndpoint}`)):0===this.sparqlEndpoints.length&&(this.activeSparqlEndpoint=null,this.logger.info("Active SPARQL endpoint cleared as no endpoints are available.")),this.saveActiveSparqlEndpoint(),Vh.emit(Uh,{endpoints:this.sparqlEndpoints,activeEndpoint:this.activeSparqlEndpoint})}setActiveSparqlEndpoint(t){return t&&this.sparqlEndpoints.includes(t)?(this.activeSparqlEndpoint=t,this.saveActiveSparqlEndpoint(),this.logger.info(`Active SPARQL endpoint set to: ${this.activeSparqlEndpoint}`),this.controls.sparqlEndpointSelect&&(this.controls.sparqlEndpointSelect.value=t),Vh.emit(Uh,{endpoints:this.sparqlEndpoints,activeEndpoint:this.activeSparqlEndpoint}),!0):(this.logger.warn(`Invalid endpoint: ${t}`),!1)}getActiveSparqlEndpoint(){return this.activeSparqlEndpoint}}var ugt=n(5072),fgt=n.n(ugt),pgt=n(7825),vgt=n.n(pgt),mgt=n(7659),ygt=n.n(mgt),bgt=n(5056),wgt=n.n(bgt),xgt=n(540),Egt=n.n(xgt),kgt=n(1113),Sgt=n.n(kgt),Tgt=n(2944),Ogt={};Ogt.styleTagTransform=Sgt(),Ogt.setAttributes=wgt(),Ogt.insert=ygt().bind(null,"head"),Ogt.domAPI=vgt(),Ogt.insertStyleElement=Egt(),fgt()(Tgt.A,Ogt),Tgt.A&&Tgt.A.locals&&Tgt.A.locals;var Rgt=n(3660),_gt={};_gt.styleTagTransform=Sgt(),_gt.setAttributes=wgt(),_gt.insert=ygt().bind(null,"head"),_gt.domAPI=vgt(),_gt.insertStyleElement=Egt(),fgt()(Rgt.A,_gt),Rgt.A&&Rgt.A.locals&&Rgt.A.locals;var Ngt=n(8579),Dgt={};Dgt.styleTagTransform=Sgt(),Dgt.setAttributes=wgt(),Dgt.insert=ygt().bind(null,"head"),Dgt.domAPI=vgt(),Dgt.insertStyleElement=Egt(),fgt()(Ngt.A,Dgt),Ngt.A&&Ngt.A.locals&&Ngt.A.locals;const Pgt='@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix owl: <http://www.w3.org/2002/07/owl#> .\n@prefix ex: <http://example.org/> .\n\n# Define classes\nex:Person a rdfs:Class ;\n  rdfs:label "Person" ;\n  rdfs:comment "A human being" .\n\n# Define properties\nex:name a rdf:Property ;\n  rdfs:domain ex:Person ;\n  rdfs:range rdfs:Literal ;\n  rdfs:label "name" ;\n  rdfs:comment "The name of a person" .\n\nex:age a rdf:Property ;\n  rdfs:domain ex:Person ;\n  rdfs:range rdfs:Literal ;\n  rdfs:label "age" ;\n  rdfs:comment "The age of a person in years" .\n\nex:knows a rdf:Property ;\n  rdfs:domain ex:Person ;\n  rdfs:range ex:Person ;\n  rdfs:label "knows" ;\n  rdfs:comment "Indicates that a person knows another person" .\n\n# Define instances\nex:john a ex:Person ;\n  ex:name "John Doe" ;\n  ex:age "30" ;\n  ex:knows ex:jane .\n\nex:jane a ex:Person ;\n  ex:name "Jane Smith" ;\n  ex:age "28" ;\n  ex:knows ex:john .\n';document.addEventListener("DOMContentLoaded",(()=>{if(console.log("Initializing Atuin..."),!document.getElementById("message-queue"))return void console.error("Message queue element not found");const t=new Agt("message-queue"),e=new cgt(t),n=document.getElementById("input-contents"),i=document.getElementById("sparql-contents"),r=document.getElementById("turtle-editor-pane"),o=document.getElementById("sparql-editor-pane"),s=document.getElementById("tab-turtle"),a=document.getElementById("tab-sparql"),g=document.getElementById("graph-container"),l=document.getElementById("view-pane"),A=document.getElementById("settings-pane"),c=document.getElementById("tab-view"),h=document.getElementById("tab-settings"),C=document.getElementById("right-panel");if(!(n&&i&&r&&o&&s&&a&&g&&l&&A&&c&&h&&C))return void console.error("Required DOM elements not found");console.log("Initializing editor...");const I=new Wh(n,t);I.initialize(),console.log("Initializing SPARQL editor...");const d=new qh(i,t);function u(t){"turtle"===t?(s.classList.add("active"),a.classList.remove("active"),r.style.display="",o.style.display="none",s.style.borderBottom="2px solid #0074D9",a.style.borderBottom="none"):(s.classList.remove("active"),a.classList.add("active"),r.style.display="none",o.style.display="",s.style.borderBottom="none",a.style.borderBottom="2px solid #0074D9")}function f(t){"view"===t?(c.classList.add("active"),h.classList.remove("active"),l.style.display="",A.style.display="none",c.style.borderBottom="2px solid #0074D9",h.style.borderBottom="none"):(c.classList.remove("active"),h.classList.add("active"),l.style.display="none",A.style.display="",c.style.borderBottom="none",h.style.borderBottom="2px solid #0074D9")}d.initialize(),s.addEventListener("click",(()=>u("turtle"))),a.addEventListener("click",(()=>u("sparql"))),c.addEventListener("click",(()=>{f("view"),setTimeout((()=>{p.resizeAndFit()}),50)})),h.addEventListener("click",(()=>f("settings"))),window.addEventListener("resize",(()=>{c.classList.contains("active")&&p.resizeAndFit()})),u("turtle"),f("view"),I.setValue(Pgt),d.setValue("PREFIX ex: <http://example.org/>\nSELECT ?person ?name ?age WHERE {\n  ?person a ex:Person ;\n          ex:name ?name ;\n          ex:age ?age .\n  FILTER(?age > 25)\n}\nORDER BY ?name\n"),console.log("Initializing graph visualizer...");const p=new ggt(g,t);p.initialize(),I.onChange((t=>{console.log("Editor content changed, updating graph..."),p.updateGraph(t)})),console.log("Initializing settings manager...");const v=new dgt({visualizer:p,editor:I,sparqlEditor:d,logger:t});setTimeout((()=>{v.applyAllSettings()}),500),p.onNodeSelect((t=>{console.log("Node selected, highlighting in editor:",t),I.highlightNode(t)})),new Cgt({editor:I,sparqlEditor:d,visualizer:p,logger:t,settingsManager:v,sparqlService:e}),new Igt({container:document.querySelector(".split-container"),leftPane:document.getElementById("editor-container"),rightPane:document.getElementById("right-panel"),divider:document.getElementById("divider")});const m=document.createElement("style");m.textContent="\n    .cm-highlight {\n      background-color: rgba(144, 238, 144, 0.4);\n      border-radius: 2px;\n    }\n    .cm-highlight-scrollbar {\n      background-color: rgba(50, 205, 50, 0.7);\n    }\n  ",document.head.appendChild(m),console.log("Setting sample content..."),I.setValue(Pgt),document.addEventListener("keydown",(t=>{t.ctrlKey&&t.altKey&&"s"===t.key&&(document.getElementById("split-button").click(),t.preventDefault())})),t.info("Atuin initialized successfully")}))})()})();